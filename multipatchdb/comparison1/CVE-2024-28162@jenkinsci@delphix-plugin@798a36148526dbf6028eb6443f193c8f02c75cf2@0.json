{
  "cve_id": "CVE-2024-28162",
  "cve_desc": "In Jenkins Delphix Plugin 3.0.1 through 3.1.0 (both inclusive) a global option for administrators to enable or disable SSL/TLS certificate validation for Data Control Tower (DCT) connections fails to take effect until Jenkins is restarted when switching from disabled validation to enabled validation.",
  "repo": "jenkinsci/delphix-plugin",
  "patch_hash": "798a36148526dbf6028eb6443f193c8f02c75cf2",
  "patch_info": {
    "commit_hash": "798a36148526dbf6028eb6443f193c8f02c75cf2",
    "repo": "jenkinsci/delphix-plugin",
    "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/798a36148526dbf6028eb6443f193c8f02c75cf2",
    "files": [
      "src/main/java/io/jenkins/plugins/constant/Constant.java",
      "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
      "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
      "src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly",
      "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
      "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
      "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
      "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
    ],
    "message": "Merge pull request #37 from jenkinsci/security_fix_and-_test\n\nSecurity fix and testcase",
    "before_after_code_files": [
      "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java",
      "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
      "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
      "src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly||src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly",
      "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
      "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
      "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
      "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
    ]
  },
  "patch_diff": {
    "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java": [
      "File: src/main/java/io/jenkins/plugins/constant/Constant.java -> src/main/java/io/jenkins/plugins/constant/Constant.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "6:     public static final String UNIQUE_FILE_NAME = \"delphix-VDB-\";",
      "7:     public static final String PROPERTIES = \".properties\";",
      "8:     public static final String FILE_NAME = \"delphix-VDB\";",
      "10:     public static final String CLIENT_NAME = \"Jenkins\";",
      "11:     public static final String CLIENT_NAME_HEADER = \"x-dct-client-name\";",
      "12:     public static final long WAIT_TIME = 20000;",
      "",
      "[Removed Lines]",
      "9:     public static final String USER_AGENT = \"Jenkins-3.1.0\";",
      "",
      "[Added Lines]",
      "9:     public static final String USER_AGENT = \"Jenkins-3.1.1\";",
      "",
      "---------------"
    ],
    "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java": [
      "File: src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java -> src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "13:     }",
      "15:     private String dctUrl;",
      "18:     public DelphixGlobalConfiguration() {",
      "19:         load();",
      "",
      "[Removed Lines]",
      "16:     private boolean sslCheck;",
      "",
      "[Added Lines]",
      "16:     private boolean disableSsl;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "29:         save();",
      "30:     }",
      "34:     }",
      "36:     @DataBoundSetter",
      "39:         save();",
      "40:     }",
      "41: }",
      "",
      "[Removed Lines]",
      "32:     public boolean getSslCheck() {",
      "33:         return sslCheck;",
      "37:     public void setSslCheck(boolean sslCertificate) {",
      "38:         this.sslCheck = sslCertificate;",
      "",
      "[Added Lines]",
      "32:     public boolean getDisableSsl() {",
      "33:         return disableSsl;",
      "37:     public void setDisableSsl(boolean disableSsl) {",
      "38:         this.disableSsl = disableSsl;",
      "",
      "---------------"
    ],
    "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java": [
      "File: src/main/java/io/jenkins/plugins/util/DctSdkUtil.java -> src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "38:             return;",
      "39:         }",
      "40:         this.defaultClient = Configuration.getDefaultApiClient();",
      "44:         this.defaultClient.setConnectTimeout(Constant.TIMEOUT);",
      "45:         this.defaultClient.setReadTimeout(Constant.TIMEOUT);",
      "46:         this.defaultClient.setWriteTimeout(Constant.TIMEOUT);",
      "",
      "[Removed Lines]",
      "41:         if (DelphixGlobalConfiguration.get().getSslCheck()) {",
      "42:             this.defaultClient.setVerifyingSsl(false);",
      "43:         }",
      "",
      "[Added Lines]",
      "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().getDisableSsl());",
      "",
      "---------------"
    ],
    "src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly||src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly": [
      "File: src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly -> src/main/resources/io/jenkins/plugins/delphix/DelphixGlobalConfiguration/config.jelly",
      "--- Hunk 1 ---",
      "[Context before]",
      "5:       <f:textbox />",
      "6:     </f:entry>",
      "9:         <f:checkbox default=\"false\" />",
      "10:     </f:entry>",
      "11:   </f:section>",
      "",
      "[Removed Lines]",
      "8:     <f:entry title=\"Disable SSL Certificate Validation\" field=\"sslCheck\" help=\"/plugin/delphix/help-sslCheck.html\">",
      "",
      "[Added Lines]",
      "8:     <f:entry title=\"Disable SSL Certificate Validation\" field=\"disableSsl\" help=\"/plugin/delphix/help-sslCheck.html\">",
      "",
      "---------------"
    ],
    "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java": [
      "File: src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java -> src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java": [
      "File: src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java -> src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1: package io.jenkins.plugins.delphix;",
      "3: import com.cloudbees.plugins.credentials.CredentialsProvider;",
      "4: import com.cloudbees.plugins.credentials.CredentialsScope;",
      "5: import com.cloudbees.plugins.credentials.domains.Domain;",
      "6: import hudson.model.FreeStyleBuild;",
      "7: import hudson.model.FreeStyleProject;",
      "8: import hudson.util.Secret;",
      "9: import hudson.model.Result;",
      "10: import jenkins.model.GlobalConfiguration;",
      "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
      "12: import org.junit.Rule;",
      "13: import org.junit.Test;",
      "14: import org.jvnet.hudson.test.JenkinsRule;",
      "16: public class GlobalConfigurationTest {",
      "18:   @Rule",
      "19:   public JenkinsRule jenkins = new JenkinsRule();",
      "21:   @Test",
      "22:   public void GlobalConfigSSLDisable() throws Exception {",
      "23:     DelphixGlobalConfiguration globalConfig1 =",
      "24:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
      "25:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
      "26:     globalConfig1.setDisableSsl(true); //disable ssl",
      "27:     globalConfig1.save();",
      "29:     StringCredentialsImpl c =",
      "30:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
      "31:             Secret.fromString(\"api key\"));",
      "32:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
      "34:     FreeStyleProject project = jenkins.createFreeStyleProject();",
      "35:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
      "36:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
      "37:     builder.setCredentialId(\"test123\");",
      "38:     builder.setAutoSelectRepository(true);",
      "39:     project.getBuildersList().add(builder);",
      "41:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
      "42:     System.out.println(b1.toString());",
      "43:     jenkins.assertLogContains(\"<head><title>404 Not Found</title></head>\", b1);",
      "44:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
      "45:   }",
      "48:   @Test",
      "49:   public void GlobalConfigDefault() throws Exception {",
      "50:     DelphixGlobalConfiguration globalConfig1 =",
      "51:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
      "52:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
      "53:     globalConfig1.save();",
      "55:     StringCredentialsImpl c =",
      "56:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
      "57:             Secret.fromString(\"api key\"));",
      "58:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
      "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
      "61:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
      "62:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
      "63:     builder.setCredentialId(\"test123\");",
      "64:     builder.setAutoSelectRepository(true);",
      "65:     project.getBuildersList().add(builder);",
      "67:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
      "68:     System.out.println(b1.toString());",
      "69:     jenkins.assertLogContains(\"javax.net.ssl.SSLHandshakeException:\", b1);",
      "70:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
      "71:   }",
      "72: }",
      "",
      "---------------"
    ],
    "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java": [
      "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java"
    ],
    "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java": [
      "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "28359afaba294719422bbf4757fd78e33a4eff8d",
      "candidate_info": {
        "commit_hash": "28359afaba294719422bbf4757fd78e33a4eff8d",
        "repo": "jenkinsci/delphix-plugin",
        "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/28359afaba294719422bbf4757fd78e33a4eff8d",
        "files": [
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ],
        "message": "Added testcases",
        "before_after_code_files": [
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/jenkinsci/delphix-plugin/pull/37"
        ],
        "olp_code_files": {
          "patch": [
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ],
          "candidate": [
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ]
        }
      },
      "candidate_diff": {
        "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java -> src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "3: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "4: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "5: import com.cloudbees.plugins.credentials.domains.Domain;",
          "6: import hudson.model.FreeStyleBuild;",
          "7: import hudson.model.FreeStyleProject;",
          "8: import hudson.util.Secret;",
          "9: import hudson.model.Result;",
          "10: import jenkins.model.GlobalConfiguration;",
          "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "12: import org.junit.Rule;",
          "13: import org.junit.Test;",
          "14: import org.jvnet.hudson.test.JenkinsRule;",
          "16: public class GlobalConfigurationTest {",
          "18:   @Rule",
          "19:   public JenkinsRule jenkins = new JenkinsRule();",
          "21:   @Test",
          "22:   public void GlobalConfigSSLDisable() throws Exception {",
          "23:     DelphixGlobalConfiguration globalConfig1 =",
          "24:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "25:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "26:     globalConfig1.setSslCheck(true); //disable ssl",
          "27:     globalConfig1.save();",
          "29:     StringCredentialsImpl c =",
          "30:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "31:             Secret.fromString(\"api key\"));",
          "32:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "34:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "35:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "36:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "37:     builder.setCredentialId(\"test123\");",
          "38:     builder.setAutoSelectRepository(true);",
          "39:     project.getBuildersList().add(builder);",
          "41:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
          "42:     System.out.println(b1.toString());",
          "43:     jenkins.assertLogContains(\"<head><title>404 Not Found</title></head>\", b1);",
          "44:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "45:   }",
          "48:   @Test",
          "49:   public void GlobalConfigDefault() throws Exception {",
          "50:     DelphixGlobalConfiguration globalConfig1 =",
          "51:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "52:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "53:     globalConfig1.save();",
          "55:     StringCredentialsImpl c =",
          "56:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "57:             Secret.fromString(\"api key\"));",
          "58:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "61:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "62:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "63:     builder.setCredentialId(\"test123\");",
          "64:     builder.setAutoSelectRepository(true);",
          "65:     project.getBuildersList().add(builder);",
          "67:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
          "68:     System.out.println(b1.toString());",
          "69:     jenkins.assertLogContains(\"javax.net.ssl.SSLHandshakeException:\", b1);",
          "70:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "71:   }",
          "72: }",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "4: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "5: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "6: import com.cloudbees.plugins.credentials.domains.Domain;",
          "7: import hudson.model.FreeStyleBuild;",
          "8: import hudson.model.FreeStyleProject;",
          "9: import hudson.util.Secret;",
          "10: import jenkins.model.GlobalConfiguration;",
          "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "12: import org.junit.*;",
          "13: import org.jvnet.hudson.test.JenkinsRule;",
          "15: public class ProvisionVDBFromBookmarkTest {",
          "17:   @Rule",
          "18:   public JenkinsRule jenkins = new JenkinsRule();",
          "20:   @Before",
          "21:   public void init() throws Exception {",
          "22:     DelphixGlobalConfiguration globalConfig1 =",
          "23:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "24:     globalConfig1.setDctUrl(\"https://ubuntu-2-uv49-qar-125346-27a4593a.dlpxdc.co\");",
          "25:     globalConfig1.setSslCheck(true);",
          "28:     globalConfig1.save();",
          "30:     StringCredentialsImpl c =",
          "31:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "32:             Secret.fromString(",
          "33:                 \"apk 1.jTElhpXIao7pTNzVCYdkj1HpGXriTBlYbPha1Di8HjvMF6nESA1crkGlljowDs7y\"));",
          "34:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "35:   }",
          "37:   @Test",
          "38:   public void testProvisionWithPolling() throws Exception {",
          "39:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "40:     ProvisionVDBFromBookmark builder =",
          "41:         new ProvisionVDBFromBookmark(\"5057a92229644028bee9206f4f32965c\");",
          "43:     builder.setCredentialId(\"test123\");",
          "44:     builder.setAutoSelectRepository(true);",
          "45:     builder.setName(\"vdb_test_1\");",
          "46:     String jsonString =",
          "47:         \"{\\\"appdata_source_params\\\": {\\\"mountLocation\\\": \\\"/dlpx_mnt\\\", \\\"postgresPort\\\": 5435}}\";",
          "48:     builder.setJsonParam(jsonString);",
          "49:     project.getBuildersList().add(builder);",
          "50:     FreeStyleBuild build = jenkins.buildAndAssertSuccess(project);",
          "51:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build);",
          "52:   }",
          "54:   @After",
          "55:   public void destroy() throws Exception {",
          "56:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "57:     DeleteVDB builder1 = new DeleteVDB();",
          "58:     builder1.setName(\"vdb_test_1\");",
          "59:     builder1.setCredentialId(\"test123\");",
          "60:     project.getBuildersList().add(builder1);",
          "61:     FreeStyleBuild build1 = jenkins.buildAndAssertSuccess(project);",
          "62:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build1);",
          "64:   }",
          "65: }",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "4: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "5: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "6: import com.cloudbees.plugins.credentials.domains.Domain;",
          "7: import hudson.model.FreeStyleBuild;",
          "8: import hudson.model.FreeStyleProject;",
          "10: import hudson.util.Secret;",
          "11: import jenkins.model.GlobalConfiguration;",
          "12: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "13: import org.junit.After;",
          "14: import org.junit.Before;",
          "15: import org.junit.Rule;",
          "16: import org.junit.Test;",
          "17: import org.jvnet.hudson.test.JenkinsRule;",
          "20: public class ProvisionVDBFromSnapshotTest {",
          "21:   @Rule",
          "22:   public JenkinsRule jenkins = new JenkinsRule();",
          "24:   @Before",
          "25:   public void init() throws Exception {",
          "26:     DelphixGlobalConfiguration globalConfig1 =",
          "27:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "28:     globalConfig1.setDctUrl(\"https://ubuntu-2-uv49-qar-125346-27a4593a.dlpxdc.co\");",
          "29:     globalConfig1.setSslCheck(true);",
          "32:     globalConfig1.save();",
          "34:     StringCredentialsImpl c =",
          "35:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "36:             Secret.fromString(",
          "37:                 \"apk 1.jTElhpXIao7pTNzVCYdkj1HpGXriTBlYbPha1Di8HjvMF6nESA1crkGlljowDs7y\"));",
          "38:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "39:   }",
          "41:   @Test",
          "42:   public void testProvisionWithPolling() throws Exception {",
          "43:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "44:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "45:     builder.setSourceDataId(\"jks\");",
          "46:     builder.setCredentialId(\"test123\");",
          "47:     builder.setName(\"test\");",
          "48:     builder.setAutoSelectRepository(true);",
          "49:     String jsonString =",
          "50:         \"{\\\"appdata_source_params\\\": {\\\"mountLocation\\\": \\\"/dlpx_mnt\\\", \\\"postgresPort\\\": 5435}}\";",
          "51:     builder.setJsonParam(jsonString);",
          "52:     project.getBuildersList().add(builder);",
          "53:     FreeStyleBuild build = jenkins.buildAndAssertSuccess(project);",
          "54:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build);",
          "56:   }",
          "58:   @After",
          "59:   public void destroy() throws Exception {",
          "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "61:     DeleteVDB builder1 = new DeleteVDB();",
          "62:     builder1.setName(\"test\");",
          "63:     builder1.setCredentialId(\"test123\");",
          "64:     project.getBuildersList().add(builder1);",
          "65:     FreeStyleBuild build1 = jenkins.buildAndAssertSuccess(project);",
          "66:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build1);",
          "68:   }",
          "69: }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "1dbc447602f1c07962e776687cf51fcbbd3345c0",
      "candidate_info": {
        "commit_hash": "1dbc447602f1c07962e776687cf51fcbbd3345c0",
        "repo": "jenkinsci/delphix-plugin",
        "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/1dbc447602f1c07962e776687cf51fcbbd3345c0",
        "files": [
          "src/main/java/io/jenkins/plugins/constant/Constant.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java"
        ],
        "message": "fix for security issue",
        "before_after_code_files": [
          "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/jenkinsci/delphix-plugin/pull/37"
        ],
        "olp_code_files": {
          "patch": [
            "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java"
          ],
          "candidate": [
            "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java"
          ]
        }
      },
      "candidate_diff": {
        "src/main/java/io/jenkins/plugins/constant/Constant.java||src/main/java/io/jenkins/plugins/constant/Constant.java": [
          "File: src/main/java/io/jenkins/plugins/constant/Constant.java -> src/main/java/io/jenkins/plugins/constant/Constant.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "6:     public static final String UNIQUE_FILE_NAME = \"delphix-VDB-\";",
          "7:     public static final String PROPERTIES = \".properties\";",
          "8:     public static final String FILE_NAME = \"delphix-VDB\";",
          "10:     public static final String CLIENT_NAME = \"Jenkins\";",
          "11:     public static final String CLIENT_NAME_HEADER = \"x-dct-client-name\";",
          "12:     public static final long WAIT_TIME = 20000;",
          "",
          "[Removed Lines]",
          "9:     public static final String USER_AGENT = \"Jenkins-3.1.0\";",
          "",
          "[Added Lines]",
          "9:     public static final String USER_AGENT = \"Jenkins-3.1.1\";",
          "",
          "---------------"
        ],
        "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java": [
          "File: src/main/java/io/jenkins/plugins/util/DctSdkUtil.java -> src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "38:             return;",
          "39:         }",
          "40:         this.defaultClient = Configuration.getDefaultApiClient();",
          "44:         this.defaultClient.setConnectTimeout(Constant.TIMEOUT);",
          "45:         this.defaultClient.setReadTimeout(Constant.TIMEOUT);",
          "46:         this.defaultClient.setWriteTimeout(Constant.TIMEOUT);",
          "",
          "[Removed Lines]",
          "41:         if (DelphixGlobalConfiguration.get().getSslCheck()) {",
          "42:             this.defaultClient.setVerifyingSsl(false);",
          "43:         }",
          "",
          "[Added Lines]",
          "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().getSslCheck());",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "951223f08d59b4f335ab003b1e49c2f3ea6b1f42",
      "candidate_info": {
        "commit_hash": "951223f08d59b4f335ab003b1e49c2f3ea6b1f42",
        "repo": "jenkinsci/delphix-plugin",
        "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/951223f08d59b4f335ab003b1e49c2f3ea6b1f42",
        "files": [
          "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ],
        "message": "commented testcases",
        "before_after_code_files": [
          "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/jenkinsci/delphix-plugin/pull/37"
        ],
        "olp_code_files": {
          "patch": [
            "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ],
          "candidate": [
            "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ]
        }
      },
      "candidate_diff": {
        "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java -> src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "21:         public void init() throws Exception {",
          "22:                 DelphixGlobalConfiguration globalConfig1 =",
          "23:                                 GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "27:                 globalConfig1.save();",
          "29:                 StringCredentialsImpl c = new StringCredentialsImpl(CredentialsScope.USER,",
          "30:                                 \"test123\", \"description\", Secret.fromString(",
          "32:                 CredentialsProvider.lookupStores(jenkins).iterator().next()",
          "33:                                 .addCredentials(Domain.global(), c);",
          "34:         }",
          "",
          "[Removed Lines]",
          "24:                 globalConfig1.setDctUrl(\"https://dct6.dlpxdc.co/v3\");",
          "31:                                                 \"apk 1.YKhbbGsoA2LUoaIpZ8nxPQsOQbQ5BBWAdB7AhWZISkGjeB6JsyiImpRP0EtKG86y\"));",
          "",
          "[Added Lines]",
          "24:                 globalConfig1.setDctUrl(\"HOST\");",
          "31:                                                 \"KEY\"));",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java -> src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "3: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "4: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "5: import com.cloudbees.plugins.credentials.domains.Domain;",
          "6: import hudson.model.FreeStyleBuild;",
          "7: import hudson.model.FreeStyleProject;",
          "8: import hudson.util.Secret;",
          "9: import hudson.model.Result;",
          "10: import jenkins.model.GlobalConfiguration;",
          "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "12: import org.junit.Rule;",
          "13: import org.junit.Test;",
          "14: import org.jvnet.hudson.test.JenkinsRule;",
          "16: public class GlobalConfigurationTest {",
          "18:   @Rule",
          "19:   public JenkinsRule jenkins = new JenkinsRule();",
          "21:   @Test",
          "22:   public void GlobalConfigSSLDisable() throws Exception {",
          "23:     DelphixGlobalConfiguration globalConfig1 =",
          "24:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "25:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "26:     globalConfig1.setSslCheck(true); //disable ssl",
          "27:     globalConfig1.save();",
          "29:     StringCredentialsImpl c =",
          "30:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "31:             Secret.fromString(\"api key\"));",
          "32:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "34:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "35:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "36:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "37:     builder.setCredentialId(\"test123\");",
          "38:     builder.setAutoSelectRepository(true);",
          "39:     project.getBuildersList().add(builder);",
          "41:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
          "42:     System.out.println(b1.toString());",
          "43:     jenkins.assertLogContains(\"<head><title>404 Not Found</title></head>\", b1);",
          "44:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "45:   }",
          "48:   @Test",
          "49:   public void GlobalConfigDefault() throws Exception {",
          "50:     DelphixGlobalConfiguration globalConfig1 =",
          "51:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "52:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "53:     globalConfig1.save();",
          "55:     StringCredentialsImpl c =",
          "56:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "57:             Secret.fromString(\"api key\"));",
          "58:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "61:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "62:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "63:     builder.setCredentialId(\"test123\");",
          "64:     builder.setAutoSelectRepository(true);",
          "65:     project.getBuildersList().add(builder);",
          "67:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
          "68:     System.out.println(b1.toString());",
          "69:     jenkins.assertLogContains(\"javax.net.ssl.SSLHandshakeException:\", b1);",
          "70:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "71:   }",
          "72: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "4: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "5: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "6: import com.cloudbees.plugins.credentials.domains.Domain;",
          "7: import hudson.model.FreeStyleBuild;",
          "8: import hudson.model.FreeStyleProject;",
          "9: import hudson.util.Secret;",
          "10: import jenkins.model.GlobalConfiguration;",
          "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "12: import org.junit.*;",
          "13: import org.jvnet.hudson.test.JenkinsRule;",
          "15: public class ProvisionVDBFromBookmarkTest {",
          "17:   @Rule",
          "18:   public JenkinsRule jenkins = new JenkinsRule();",
          "20:   @Before",
          "21:   public void init() throws Exception {",
          "22:     DelphixGlobalConfiguration globalConfig1 =",
          "23:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "24:     globalConfig1.setDctUrl(\"https://ubuntu-2-uv49-qar-125346-27a4593a.dlpxdc.co\");",
          "25:     globalConfig1.setSslCheck(true);",
          "28:     globalConfig1.save();",
          "30:     StringCredentialsImpl c =",
          "31:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "32:             Secret.fromString(",
          "33:                 \"apk 1.jTElhpXIao7pTNzVCYdkj1HpGXriTBlYbPha1Di8HjvMF6nESA1crkGlljowDs7y\"));",
          "34:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "35:   }",
          "37:   @Test",
          "38:   public void testProvisionWithPolling() throws Exception {",
          "39:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "40:     ProvisionVDBFromBookmark builder =",
          "41:         new ProvisionVDBFromBookmark(\"5057a92229644028bee9206f4f32965c\");",
          "43:     builder.setCredentialId(\"test123\");",
          "44:     builder.setAutoSelectRepository(true);",
          "45:     builder.setName(\"vdb_test_1\");",
          "46:     String jsonString =",
          "47:         \"{\\\"appdata_source_params\\\": {\\\"mountLocation\\\": \\\"/dlpx_mnt\\\", \\\"postgresPort\\\": 5435}}\";",
          "48:     builder.setJsonParam(jsonString);",
          "49:     project.getBuildersList().add(builder);",
          "50:     FreeStyleBuild build = jenkins.buildAndAssertSuccess(project);",
          "51:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build);",
          "52:   }",
          "54:   @After",
          "55:   public void destroy() throws Exception {",
          "56:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "57:     DeleteVDB builder1 = new DeleteVDB();",
          "58:     builder1.setName(\"vdb_test_1\");",
          "59:     builder1.setCredentialId(\"test123\");",
          "60:     project.getBuildersList().add(builder1);",
          "61:     FreeStyleBuild build1 = jenkins.buildAndAssertSuccess(project);",
          "62:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build1);",
          "64:   }",
          "65: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "4: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "5: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "6: import com.cloudbees.plugins.credentials.domains.Domain;",
          "7: import hudson.model.FreeStyleBuild;",
          "8: import hudson.model.FreeStyleProject;",
          "10: import hudson.util.Secret;",
          "11: import jenkins.model.GlobalConfiguration;",
          "12: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "13: import org.junit.After;",
          "14: import org.junit.Before;",
          "15: import org.junit.Rule;",
          "16: import org.junit.Test;",
          "17: import org.jvnet.hudson.test.JenkinsRule;",
          "20: public class ProvisionVDBFromSnapshotTest {",
          "21:   @Rule",
          "22:   public JenkinsRule jenkins = new JenkinsRule();",
          "24:   @Before",
          "25:   public void init() throws Exception {",
          "26:     DelphixGlobalConfiguration globalConfig1 =",
          "27:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "28:     globalConfig1.setDctUrl(\"https://ubuntu-2-uv49-qar-125346-27a4593a.dlpxdc.co\");",
          "29:     globalConfig1.setSslCheck(true);",
          "32:     globalConfig1.save();",
          "34:     StringCredentialsImpl c =",
          "35:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "36:             Secret.fromString(",
          "37:                 \"apk 1.jTElhpXIao7pTNzVCYdkj1HpGXriTBlYbPha1Di8HjvMF6nESA1crkGlljowDs7y\"));",
          "38:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "39:   }",
          "41:   @Test",
          "42:   public void testProvisionWithPolling() throws Exception {",
          "43:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "44:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "45:     builder.setSourceDataId(\"jks\");",
          "46:     builder.setCredentialId(\"test123\");",
          "47:     builder.setName(\"test\");",
          "48:     builder.setAutoSelectRepository(true);",
          "49:     String jsonString =",
          "50:         \"{\\\"appdata_source_params\\\": {\\\"mountLocation\\\": \\\"/dlpx_mnt\\\", \\\"postgresPort\\\": 5435}}\";",
          "51:     builder.setJsonParam(jsonString);",
          "52:     project.getBuildersList().add(builder);",
          "53:     FreeStyleBuild build = jenkins.buildAndAssertSuccess(project);",
          "54:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build);",
          "56:   }",
          "58:   @After",
          "59:   public void destroy() throws Exception {",
          "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "61:     DeleteVDB builder1 = new DeleteVDB();",
          "62:     builder1.setName(\"test\");",
          "63:     builder1.setCredentialId(\"test123\");",
          "64:     project.getBuildersList().add(builder1);",
          "65:     FreeStyleBuild build1 = jenkins.buildAndAssertSuccess(project);",
          "66:     jenkins.assertLogContains(\"Current Job Status: COMPLETED\", build1);",
          "68:   }",
          "69: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "aa2ab9b71ca9e549df748313b33fae061ed8a9e6",
      "candidate_info": {
        "commit_hash": "aa2ab9b71ca9e549df748313b33fae061ed8a9e6",
        "repo": "jenkinsci/delphix-plugin",
        "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/aa2ab9b71ca9e549df748313b33fae061ed8a9e6",
        "files": [
          "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ],
        "message": "updated ssl check variable name",
        "before_after_code_files": [
          "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
          "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/jenkinsci/delphix-plugin/pull/37"
        ],
        "olp_code_files": {
          "patch": [
            "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
            "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ],
          "candidate": [
            "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
            "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java",
            "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
          ]
        }
      },
      "candidate_diff": {
        "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java": [
          "File: src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java -> src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "29:         save();",
          "30:     }",
          "33:         return sslCheck;",
          "34:     }",
          "",
          "[Removed Lines]",
          "32:     public boolean getSslCheck() {",
          "",
          "[Added Lines]",
          "32:     public boolean isSslDisabled() {",
          "",
          "---------------"
        ],
        "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java": [
          "File: src/main/java/io/jenkins/plugins/util/DctSdkUtil.java -> src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "38:             return;",
          "39:         }",
          "40:         this.defaultClient = Configuration.getDefaultApiClient();",
          "42:         this.defaultClient.setConnectTimeout(Constant.TIMEOUT);",
          "43:         this.defaultClient.setReadTimeout(Constant.TIMEOUT);",
          "44:         this.defaultClient.setWriteTimeout(Constant.TIMEOUT);",
          "",
          "[Removed Lines]",
          "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().getSslCheck());",
          "",
          "[Added Lines]",
          "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().isSslDisabled());",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java||src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java -> src/test/java/io/jenkins/plugins/delphix/DeleteVDBTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java -> src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package io.jenkins.plugins.delphix;",
          "3: import com.cloudbees.plugins.credentials.CredentialsProvider;",
          "4: import com.cloudbees.plugins.credentials.CredentialsScope;",
          "5: import com.cloudbees.plugins.credentials.domains.Domain;",
          "6: import hudson.model.FreeStyleBuild;",
          "7: import hudson.model.FreeStyleProject;",
          "8: import hudson.util.Secret;",
          "9: import hudson.model.Result;",
          "10: import jenkins.model.GlobalConfiguration;",
          "11: import org.jenkinsci.plugins.plaincredentials.impl.StringCredentialsImpl;",
          "12: import org.junit.Rule;",
          "13: import org.junit.Test;",
          "14: import org.jvnet.hudson.test.JenkinsRule;",
          "16: public class GlobalConfigurationTest {",
          "18:   @Rule",
          "19:   public JenkinsRule jenkins = new JenkinsRule();",
          "21:   @Test",
          "22:   public void GlobalConfigSSLDisable() throws Exception {",
          "23:     DelphixGlobalConfiguration globalConfig1 =",
          "24:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "25:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "26:     globalConfig1.setSslCheck(true); //disable ssl",
          "27:     globalConfig1.save();",
          "29:     StringCredentialsImpl c =",
          "30:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "31:             Secret.fromString(\"api key\"));",
          "32:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "34:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "35:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "36:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "37:     builder.setCredentialId(\"test123\");",
          "38:     builder.setAutoSelectRepository(true);",
          "39:     project.getBuildersList().add(builder);",
          "41:     FreeStyleBuild b1 = project.scheduleBuild2(0).get();",
          "42:     System.out.println(b1.toString());",
          "43:     jenkins.assertLogContains(\"<head><title>404 Not Found</title></head>\", b1);",
          "44:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "45:   }",
          "48:   @Test",
          "49:   public void GlobalConfigDefault() throws Exception {",
          "50:     DelphixGlobalConfiguration globalConfig1 =",
          "51:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "52:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "53:     globalConfig1.save();",
          "55:     StringCredentialsImpl c =",
          "56:         new StringCredentialsImpl(CredentialsScope.USER, \"test123\", \"description\",",
          "57:             Secret.fromString(\"api key\"));",
          "58:     CredentialsProvider.lookupStores(jenkins).iterator().next().addCredentials(Domain.global(), c);",
          "60:     FreeStyleProject project = jenkins.createFreeStyleProject();",
          "61:     ProvisionVDBFromSnapshot builder = new ProvisionVDBFromSnapshot();",
          "62:     builder.setSourceDataId(\"4-ORACLE_DB_CONTAINER-6\");",
          "63:     builder.setCredentialId(\"test123\");",
          "64:     builder.setAutoSelectRepository(true);",
          "65:     project.getBuildersList().add(builder);",
          "68:     System.out.println(b1.toString());",
          "69:     jenkins.assertLogContains(\"javax.net.ssl.SSLHandshakeException:\", b1);",
          "70:     jenkins.assertBuildStatus(Result.FAILURE, b1);",
          "71:   }",
          "72: }",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromBookmarkTest.java"
        ],
        "src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java||src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java -> src/test/java/io/jenkins/plugins/delphix/ProvisionVDBFromSnapshotTest.java"
        ]
      }
    },
    {
      "candidate_hash": "30912d4219d5eea5e1f42274edf603539809f5de",
      "candidate_info": {
        "commit_hash": "30912d4219d5eea5e1f42274edf603539809f5de",
        "repo": "jenkinsci/delphix-plugin",
        "commit_url": "https://github.com/jenkinsci/delphix-plugin/commit/30912d4219d5eea5e1f42274edf603539809f5de",
        "files": [
          "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java"
        ],
        "message": "rename datamember for sslcheck",
        "before_after_code_files": [
          "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/jenkinsci/delphix-plugin/pull/37"
        ],
        "olp_code_files": {
          "patch": [
            "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java"
          ],
          "candidate": [
            "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
            "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
            "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java"
          ]
        }
      },
      "candidate_diff": {
        "src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java||src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java": [
          "File: src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java -> src/main/java/io/jenkins/plugins/delphix/DelphixGlobalConfiguration.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "29:         save();",
          "30:     }",
          "33:         return disableSsl;",
          "34:     }",
          "",
          "[Removed Lines]",
          "32:     public boolean isSslDisabled() {",
          "",
          "[Added Lines]",
          "32:     public boolean getDisableSsl() {",
          "",
          "---------------"
        ],
        "src/main/java/io/jenkins/plugins/util/DctSdkUtil.java||src/main/java/io/jenkins/plugins/util/DctSdkUtil.java": [
          "File: src/main/java/io/jenkins/plugins/util/DctSdkUtil.java -> src/main/java/io/jenkins/plugins/util/DctSdkUtil.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "38:             return;",
          "39:         }",
          "40:         this.defaultClient = Configuration.getDefaultApiClient();",
          "42:         this.defaultClient.setConnectTimeout(Constant.TIMEOUT);",
          "43:         this.defaultClient.setReadTimeout(Constant.TIMEOUT);",
          "44:         this.defaultClient.setWriteTimeout(Constant.TIMEOUT);",
          "",
          "[Removed Lines]",
          "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().isSslDisabled());",
          "",
          "[Added Lines]",
          "41:         this.defaultClient.setVerifyingSsl(!DelphixGlobalConfiguration.get().getDisableSsl());",
          "",
          "---------------"
        ],
        "src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java||src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java": [
          "File: src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java -> src/test/java/io/jenkins/plugins/delphix/GlobalConfigurationTest.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:     DelphixGlobalConfiguration globalConfig1 =",
          "24:         GlobalConfiguration.all().get(DelphixGlobalConfiguration.class);",
          "25:     globalConfig1.setDctUrl(\"https://self-signed.badssl.com\");",
          "27:     globalConfig1.save();",
          "29:     StringCredentialsImpl c =",
          "",
          "[Removed Lines]",
          "26:     globalConfig1.setSslCheck(true); //disable ssl",
          "",
          "[Added Lines]",
          "26:     globalConfig1.setDisableSsl(true); //disable ssl",
          "",
          "---------------"
        ]
      }
    }
  ]
}