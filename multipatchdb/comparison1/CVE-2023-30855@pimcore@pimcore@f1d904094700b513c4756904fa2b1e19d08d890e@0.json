{
  "cve_id": "CVE-2023-30855",
  "cve_desc": "Pimcore is an open source data and experience management platform. Versions of Pimcore prior to 10.5.18 are vulnerable to path traversal. The impact of this path traversal and arbitrary extension is limited to creation of arbitrary files and appending data to existing files. When combined with the SQL Injection, the exported data `RESTRICTED DIFFUSION 9 / 9` can be controlled and a webshell can be uploaded. Attackers can use that to execute arbitrary PHP code on the server with the permissions of the webserver. Users may upgrade to version 10.5.18 to receive a patch or, as a workaround, apply the patch manually.",
  "repo": "pimcore/pimcore",
  "patch_hash": "f1d904094700b513c4756904fa2b1e19d08d890e",
  "patch_info": {
    "commit_hash": "f1d904094700b513c4756904fa2b1e19d08d890e",
    "repo": "pimcore/pimcore",
    "commit_url": "https://github.com/pimcore/pimcore/commit/f1d904094700b513c4756904fa2b1e19d08d890e",
    "files": [
      "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
      "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
      "lib/Security/SecurityHelper.php"
    ],
    "message": "[Security] XSS in Classification Store of Data Objects module (#14933)\n\n* Fix: xss in CS\n\n* Fix: implement feedback",
    "before_after_code_files": [
      "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
      "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
      "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
      "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php"
    ]
  },
  "patch_diff": {
    "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php": [
      "File: bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php -> bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
      "--- Hunk 1 ---",
      "[Context before]",
      "24: use Pimcore\\Model\\Translation;",
      "25: use Pimcore\\Model\\Translation\\Listing;",
      "26: use Pimcore\\Model\\User;",
      "27: use Pimcore\\Tool\\Admin;",
      "28: use Symfony\\Component\\HttpFoundation\\JsonResponse;",
      "29: use Symfony\\Component\\HttpFoundation\\Request;",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "27: use Pimcore\\Security\\SecurityHelper;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "128:     public function createGroupAction(Request $request): JsonResponse",
      "129:     {",
      "131:         $storeId = $request->get('storeId');",
      "132:         $config = Classificationstore\\GroupConfig::getByName($name, $storeId);",
      "",
      "[Removed Lines]",
      "130:         $name = $request->get('name');",
      "",
      "[Added Lines]",
      "131:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "155:     public function createStoreAction(Request $request): JsonResponse",
      "156:     {",
      "159:         $config = Classificationstore\\StoreConfig::getByName($name);",
      "",
      "[Removed Lines]",
      "157:         $name = $request->get('name');",
      "",
      "[Added Lines]",
      "158:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "181:     public function createCollectionAction(Request $request): JsonResponse",
      "182:     {",
      "184:         $storeId = $request->get('storeId');",
      "185:         $config = Classificationstore\\CollectionConfig::getByName($name, $storeId);",
      "",
      "[Removed Lines]",
      "183:         $name = $request->get('name');",
      "",
      "[Added Lines]",
      "184:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
      "",
      "---------------"
    ],
    "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js": [
      "File: bundles/AdminBundle/Resources/public/js/pimcore/helpers.js -> bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
      "--- Hunk 1 ---",
      "[Context before]",
      "3279:     return true;",
      "3280: };",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "3282: pimcore.helpers.getStringWithoutControlChars = function (text) {",
      "3283:     return text.replace(/[<>\"'`!?/\\\\%$(){};,:|=]/gi, '');",
      "3284: };",
      "",
      "---------------"
    ],
    "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js": [
      "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
      "--- Hunk 1 ---",
      "[Context before]",
      "141:                         var colId = data.data.colId;",
      "142:                         var groupId = data.data.groupId;",
      "145:                             if (btn == 'yes') {",
      "146:                                 Ext.Ajax.request({",
      "147:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollectionrelation'),",
      "",
      "[Removed Lines]",
      "144:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection_relation'), data.data.groupName), function(btn) {",
      "",
      "[Added Lines]",
      "144:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection_relation'), pimcore.helpers.getStringWithoutControlChars(data.data.groupName)), function(btn) {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "315:                         this.relationsGrid.hide();",
      "316:                         this.relationsPanel.disable();",
      "319:                             if (btn == 'yes') {",
      "320:                                 Ext.Ajax.request({",
      "321:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollection'),",
      "",
      "[Removed Lines]",
      "318:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection'), data.data.name), function(btn) {",
      "",
      "[Added Lines]",
      "318:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "410:     },",
      "412:     addFieldComplete: function (button, value, object) {",
      "415:         if (button == \"ok\" && value.length > 1) {",
      "416:             Ext.Ajax.request({",
      "417:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_createcollection'),",
      "",
      "[Removed Lines]",
      "414:         value = value.trim();",
      "",
      "[Added Lines]",
      "413:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
      "",
      "---------------"
    ],
    "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js": [
      "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
      "--- Hunk 1 ---",
      "[Context before]",
      "148:                         var keyId = data.data.keyId;",
      "149:                         var groupId = data.data.groupId;",
      "152:                             if (btn == 'yes') {",
      "153:                                 Ext.Ajax.request({",
      "154:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleterelation'),",
      "",
      "[Removed Lines]",
      "151:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_relation'), data.data.keyName), function(btn) {",
      "",
      "[Added Lines]",
      "151:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_relation'), pimcore.helpers.getStringWithoutControlChars(data.data.keyName)), function(btn) {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "319:                         var data = grid.getStore().getAt(rowIndex);",
      "320:                         var id = data.data.id;",
      "323:                             if (btn == 'yes') {",
      "",
      "[Removed Lines]",
      "322:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_group'), data.data.name), function(btn) {",
      "",
      "[Added Lines]",
      "322:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_group'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "419:     },",
      "421:     addFieldComplete: function (button, value, object) {",
      "424:         if (button == \"ok\" && value.length > 1) {",
      "425:             Ext.Ajax.request({",
      "426:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_creategroup'),",
      "",
      "[Removed Lines]",
      "423:         value = value.trim();",
      "",
      "[Added Lines]",
      "422:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
      "",
      "---------------"
    ],
    "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js": [
      "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
      "--- Hunk 1 ---",
      "[Context before]",
      "198:                         var data = grid.getStore().getAt(rowIndex);",
      "199:                         var id = data.data.id;",
      "202:                             if (btn == 'yes') {",
      "203:                                 Ext.Ajax.request({",
      "204:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleteproperty'),",
      "",
      "[Removed Lines]",
      "201:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_property'), data.data.name), function(btn) {",
      "",
      "[Added Lines]",
      "201:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_property'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "327:     },",
      "329:     addFieldComplete: function (button, value, object) {",
      "332:         if (button == \"ok\" && value.length > 1) {",
      "333:             Ext.Ajax.request({",
      "334:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_addproperty'),",
      "",
      "[Removed Lines]",
      "331:         value = value.trim();",
      "",
      "[Added Lines]",
      "330:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
      "",
      "---------------"
    ],
    "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php": [
      "File: lib/Security/SecurityHelper.php -> lib/Security/SecurityHelper.php",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1: <?php",
      "16: namespace Pimcore\\Security;",
      "18: class SecurityHelper",
      "19: {",
      "20:     public static function getStringWithoutControlChars(string $text): string",
      "21:     {",
      "22:         return preg_replace('[\\\\\\\\<>\"\\'`!?/%$(){};,:|=]','', $text);",
      "23:     }",
      "24: }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "07a2c95be524c7e20105cef58c5767d4ebb06091",
      "candidate_info": {
        "commit_hash": "07a2c95be524c7e20105cef58c5767d4ebb06091",
        "repo": "pimcore/pimcore",
        "commit_url": "https://github.com/pimcore/pimcore/commit/07a2c95be524c7e20105cef58c5767d4ebb06091",
        "files": [
          "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
          "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "lib/Security/SecurityHelper.php",
          "models/Staticroute.php"
        ],
        "message": "[Security] Fix xss in static routes panel (#14947)\n\n* added new helper function to htmlEncode textFields, fixed xss issue in static routes panel\n\n* added `htmlspecialchars` to model\n\n* fixed double encode issue\n\n* fixed double encode problem in BE\n\n* changed type of `htmlspecialchars`, added `htmlspecialchars` to `setMethods`\n\n* improved `htmlSpecialChars`\n\n* changed SecurityHelper method name to `convertHtmlSpecialChars`\n\n* added htmlEncode to `deleteConfirm` msgbox",
        "before_after_code_files": [
          "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
          "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php",
          "models/Staticroute.php||models/Staticroute.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
            "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
            "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php"
          ],
          "candidate": [
            "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
            "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
            "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php"
          ]
        }
      },
      "candidate_diff": {
        "bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php||bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php": [
          "File: bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php -> bundles/AdminBundle/Controller/Admin/DataObject/ClassificationstoreController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "129:     public function createGroupAction(Request $request): JsonResponse",
          "130:     {",
          "132:         $storeId = $request->get('storeId');",
          "133:         $config = Classificationstore\\GroupConfig::getByName($name, $storeId);",
          "",
          "[Removed Lines]",
          "131:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
          "",
          "[Added Lines]",
          "131:         $name = SecurityHelper::convertHtmlSpecialChars($request->get('name'));",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "156:     public function createStoreAction(Request $request): JsonResponse",
          "157:     {",
          "160:         $config = Classificationstore\\StoreConfig::getByName($name);",
          "",
          "[Removed Lines]",
          "158:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
          "",
          "[Added Lines]",
          "158:         $name = SecurityHelper::convertHtmlSpecialChars($request->get('name'));",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "182:     public function createCollectionAction(Request $request): JsonResponse",
          "183:     {",
          "185:         $storeId = $request->get('storeId');",
          "186:         $config = Classificationstore\\CollectionConfig::getByName($name, $storeId);",
          "",
          "[Removed Lines]",
          "184:         $name = SecurityHelper::getStringWithoutControlChars($request->get('name'));",
          "",
          "[Added Lines]",
          "184:         $name = SecurityHelper::convertHtmlSpecialChars($request->get('name'));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/helpers.js -> bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "22:     return slug.replace(/[^a-z0-9-_+/]/gi, '');",
          "23: };",
          "25: pimcore.helpers.registerKeyBindings = function (bindEl, ExtJS) {",
          "27:     if (!ExtJS) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "25: pimcore.helpers.htmlEncodeTextField = function (textField) {",
          "26:     if(textField.getValue()) {",
          "27:         textField.suspendEvent('change');",
          "28:         const decodedValue = Ext.util.Format.htmlDecode(textField.getValue());",
          "29:         textField.setValue(",
          "30:             Ext.util.Format.htmlEncode(decodedValue)",
          "31:         );",
          "32:         textField.resumeEvent('change');",
          "33:     }",
          "34: };",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "97:         var typesColumns = [",
          "98:             {text:t(\"name\"), flex:50, sortable:true, dataIndex:'name',",
          "100:             {text:t(\"pattern\"), flex:100, sortable:true, dataIndex:'pattern',",
          "102:             {text:t(\"reverse\"), flex:100, sortable:true, dataIndex:'reverse',",
          "104:             {text:t(\"controller\"), flex:200, sortable:false, dataIndex:'controller',",
          "105:                 editor:new Ext.form.ComboBox({",
          "106:                     store:new Ext.data.JsonStore({",
          "",
          "[Removed Lines]",
          "99:                 editor:new Ext.form.TextField({})},",
          "101:                 editor:new Ext.form.TextField({})},",
          "103:                 editor:new Ext.form.TextField({})},",
          "",
          "[Added Lines]",
          "99:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}})},",
          "101:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}})},",
          "103:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}})},",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "127:                     valueField:'name',",
          "128:                     listConfig: {",
          "129:                         maxWidth: 400",
          "130:                     }",
          "131:                 })},",
          "132:             {text:t(\"variables\"), flex:50, sortable:false, dataIndex:'variables',",
          "134:             {text:t(\"defaults\"), flex:50, sortable:false, dataIndex:'defaults',",
          "136:             {text:t(\"site_ids\"), flex:100, sortable:true, dataIndex:\"siteId\",",
          "138:                 tooltip: t(\"site_ids_tooltip\")",
          "139:             },",
          "140:             {text:t(\"priority\"), flex:50, sortable:true, dataIndex:'priority', editor:new Ext.form.ComboBox({",
          "",
          "[Removed Lines]",
          "133:                 editor:new Ext.form.TextField({})},",
          "135:                 editor:new Ext.form.TextField({})},",
          "137:                 editor:new Ext.form.TextField({}),",
          "",
          "[Added Lines]",
          "130:                     },",
          "131:                     listeners: {",
          "132:                         'change': pimcore.helpers.htmlEncodeTextField",
          "136:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}})},",
          "138:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}})},",
          "140:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}}),",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "143:                 triggerAction:\"all\"",
          "144:             })},",
          "145:             {text:t(\"methods\"), flex:50, sortable:false, dataIndex:'methods',",
          "147:             },",
          "148:             {text: t(\"creationDate\"), sortable: true, dataIndex: 'creationDate', editable: false,",
          "149:                 hidden: true,",
          "",
          "[Removed Lines]",
          "146:                 editor:new Ext.form.TextField({}),",
          "",
          "[Added Lines]",
          "149:                 editor:new Ext.form.TextField({listeners: {'change': pimcore.helpers.htmlEncodeTextField}}),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "186:                             return;",
          "187:                         }",
          "192:                     }.bind(this)",
          "193:                 }]",
          "194:             }",
          "",
          "[Removed Lines]",
          "189:                         pimcore.helpers.deleteConfirm(t('staticroute'), data.data.name, function () {",
          "190:                             grid.getStore().removeAt(rowIndex);",
          "191:                         }.bind(this));",
          "",
          "[Added Lines]",
          "192:                         const decodedName = Ext.util.Format.htmlDecode(data.data.name);",
          "194:                         pimcore.helpers.deleteConfirm(",
          "195:                             t('staticroute'),",
          "196:                             Ext.util.Format.htmlEncode(decodedName),",
          "197:                             function () {",
          "198:                                 grid.getStore().removeAt(rowIndex);",
          "199:                             }.bind(this)",
          "200:                         );",
          "",
          "---------------"
        ],
        "lib/Security/SecurityHelper.php||lib/Security/SecurityHelper.php": [
          "File: lib/Security/SecurityHelper.php -> lib/Security/SecurityHelper.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "18: class SecurityHelper",
          "19: {",
          "21:     {",
          "23:     }",
          "24: }",
          "",
          "[Removed Lines]",
          "20:     public static function getStringWithoutControlChars(string $text): string",
          "22:         return preg_replace('[\\\\\\\\<>\"\\'`!?/%$(){};,:|=]', '', $text);",
          "",
          "[Added Lines]",
          "20:     public static function convertHtmlSpecialChars(?string $text): ?string",
          "22:         if(is_string($text)){",
          "23:             return htmlspecialchars($text, ENT_QUOTES | ENT_SUBSTITUTE, 'UTF-8', false);",
          "24:         }",
          "26:         return null;",
          "",
          "---------------"
        ],
        "models/Staticroute.php||models/Staticroute.php": [
          "File: models/Staticroute.php -> models/Staticroute.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "18: use Pimcore\\Event\\FrontendEvents;",
          "19: use Pimcore\\Model\\Exception\\NotFoundException;",
          "20: use Symfony\\Component\\EventDispatcher\\GenericEvent;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "20: use Pimcore\\Security\\SecurityHelper;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "293:     public function setPattern($pattern)",
          "294:     {",
          "297:         return $this;",
          "298:     }",
          "",
          "[Removed Lines]",
          "295:         $this->pattern = $pattern;",
          "",
          "[Added Lines]",
          "296:         $this->pattern = SecurityHelper::convertHtmlSpecialChars($pattern);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "305:     public function setController($controller)",
          "306:     {",
          "309:         return $this;",
          "310:     }",
          "",
          "[Removed Lines]",
          "307:         $this->controller = $controller;",
          "",
          "[Added Lines]",
          "308:         $this->controller = SecurityHelper::convertHtmlSpecialChars($controller);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "317:     public function setVariables($variables)",
          "318:     {",
          "321:         return $this;",
          "322:     }",
          "",
          "[Removed Lines]",
          "319:         $this->variables = $variables;",
          "",
          "[Added Lines]",
          "320:         $this->variables = SecurityHelper::convertHtmlSpecialChars($variables);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "329:     public function setDefaults($defaults)",
          "330:     {",
          "333:         return $this;",
          "334:     }",
          "",
          "[Removed Lines]",
          "331:         $this->defaults = $defaults;",
          "",
          "[Added Lines]",
          "332:         $this->defaults = SecurityHelper::convertHtmlSpecialChars($defaults);",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "361:     public function setName($name)",
          "362:     {",
          "365:         return $this;",
          "366:     }",
          "",
          "[Removed Lines]",
          "363:         $this->name = $name;",
          "",
          "[Added Lines]",
          "364:         $this->name = SecurityHelper::convertHtmlSpecialChars($name);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "381:     public function setReverse($reverse)",
          "382:     {",
          "385:         return $this;",
          "386:     }",
          "",
          "[Removed Lines]",
          "383:         $this->reverse = $reverse;",
          "",
          "[Added Lines]",
          "384:         $this->reverse = SecurityHelper::convertHtmlSpecialChars($reverse);",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "611:     {",
          "612:         if (is_string($methods)) {",
          "613:             $methods = strlen($methods) ? explode(',', $methods) : [];",
          "615:         }",
          "617:         $this->methods = $methods;",
          "",
          "[Removed Lines]",
          "614:             $methods = array_map('trim', $methods);",
          "",
          "[Added Lines]",
          "615:             foreach($methods as $key => $method) {",
          "616:                 $methods[$key] = SecurityHelper::convertHtmlSpecialChars(trim($method));",
          "617:             }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "3b50ac000f34a9af8336024066b0d2c2116581dc",
      "candidate_info": {
        "commit_hash": "3b50ac000f34a9af8336024066b0d2c2116581dc",
        "repo": "pimcore/pimcore",
        "commit_url": "https://github.com/pimcore/pimcore/commit/3b50ac000f34a9af8336024066b0d2c2116581dc",
        "files": [
          "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
        ],
        "message": "Fix: remove getStringWithoutControlChars (#14964)",
        "before_after_code_files": [
          "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
          ],
          "candidate": [
            "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
          ]
        }
      },
      "candidate_diff": {
        "bundles/AdminBundle/Resources/public/js/pimcore/helpers.js||bundles/AdminBundle/Resources/public/js/pimcore/helpers.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/helpers.js -> bundles/AdminBundle/Resources/public/js/pimcore/helpers.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "3290:     return true;",
          "3291: };",
          "",
          "[Removed Lines]",
          "3293: pimcore.helpers.getStringWithoutControlChars = function (text) {",
          "3294:     return text.replace(/[<>\"'`!?/\\\\%$(){};,:|=]/gi, '');",
          "3295: };",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "141:                         var colId = data.data.colId;",
          "142:                         var groupId = data.data.groupId;",
          "145:                             if (btn == 'yes') {",
          "146:                                 Ext.Ajax.request({",
          "147:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollectionrelation'),",
          "",
          "[Removed Lines]",
          "144:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection_relation'), pimcore.helpers.getStringWithoutControlChars(data.data.groupName)), function(btn) {",
          "",
          "[Added Lines]",
          "144:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection_relation'), Ext.util.Format.htmlEncode(data.data.groupName)), function(btn) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "315:                         this.relationsGrid.hide();",
          "316:                         this.relationsPanel.disable();",
          "319:                             if (btn == 'yes') {",
          "320:                                 Ext.Ajax.request({",
          "321:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollection'),",
          "",
          "[Removed Lines]",
          "318:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
          "",
          "[Added Lines]",
          "318:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection'), Ext.util.Format.htmlEncode(data.data.name)), function(btn) {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "410:     },",
          "412:     addFieldComplete: function (button, value, object) {",
          "414:         if (button == \"ok\" && value.length > 1) {",
          "415:             Ext.Ajax.request({",
          "416:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_createcollection'),",
          "",
          "[Removed Lines]",
          "413:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
          "",
          "[Added Lines]",
          "413:         value = Ext.util.Format.htmlEncode(value).trim();",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "148:                         var keyId = data.data.keyId;",
          "149:                         var groupId = data.data.groupId;",
          "152:                             if (btn == 'yes') {",
          "153:                                 Ext.Ajax.request({",
          "154:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleterelation'),",
          "",
          "[Removed Lines]",
          "151:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_relation'), pimcore.helpers.getStringWithoutControlChars(data.data.keyName)), function(btn) {",
          "",
          "[Added Lines]",
          "151:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_relation'), Ext.util.Format.htmlEncode(data.data.keyName)), function(btn) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "319:                         var data = grid.getStore().getAt(rowIndex);",
          "320:                         var id = data.data.id;",
          "323:                             if (btn == 'yes') {",
          "",
          "[Removed Lines]",
          "322:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_group'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
          "",
          "[Added Lines]",
          "322:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_group'), Ext.util.Format.htmlEncode(data.data.name)), function(btn) {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "419:     },",
          "421:     addFieldComplete: function (button, value, object) {",
          "423:         if (button == \"ok\" && value.length > 1) {",
          "424:             Ext.Ajax.request({",
          "425:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_creategroup'),",
          "",
          "[Removed Lines]",
          "422:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
          "",
          "[Added Lines]",
          "422:         value = Ext.util.Format.htmlEncode(value).trim();",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "198:                         var data = grid.getStore().getAt(rowIndex);",
          "199:                         var id = data.data.id;",
          "202:                             if (btn == 'yes') {",
          "203:                                 Ext.Ajax.request({",
          "204:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleteproperty'),",
          "",
          "[Removed Lines]",
          "201:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_property'), pimcore.helpers.getStringWithoutControlChars(data.data.name)), function(btn) {",
          "",
          "[Added Lines]",
          "201:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_property'), Ext.util.Format.htmlEncode(data.data.name)), function(btn) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "327:     },",
          "329:     addFieldComplete: function (button, value, object) {",
          "331:         if (button == \"ok\" && value.length > 1) {",
          "332:             Ext.Ajax.request({",
          "333:                 url: Routing.generate('pimcore_admin_dataobject_classificationstore_addproperty'),",
          "",
          "[Removed Lines]",
          "330:         value = pimcore.helpers.getStringWithoutControlChars(value).trim();",
          "",
          "[Added Lines]",
          "330:         value = Ext.util.Format.htmlEncode(value).trim();",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "784741900996d90f6274d20137b6dbc0dba0c039",
      "candidate_info": {
        "commit_hash": "784741900996d90f6274d20137b6dbc0dba0c039",
        "repo": "pimcore/pimcore",
        "commit_url": "https://github.com/pimcore/pimcore/commit/784741900996d90f6274d20137b6dbc0dba0c039",
        "files": [
          "bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/class.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js",
          "bundles/CoreBundle/Resources/translations/en.json"
        ],
        "message": "[TASK] improve delete message for tags/fieldcollections/objectbricks/\u2026 (#12102)\n\n* [TASK] improve delete message for tags/fieldcollections/objectbricks/users and add confirmdialog to thumbnails/customreports\n\nPartly resolves: #6259\n\n* [TASK] add confirm dialogs to classificationstore delete operations (key/relation/collection/group)\n\nRelates: #6259\n\n* [TASK] add confirm dialogs videothumbnail delete operation\n\nRelates: #6259\n\n* [TASK] add confirm dialogs to targeting delete operations\n\nRelates: #6259\n\n* [TASK] improve message of delete pimcore admin user\n\nRelates: #6259\n\n* [TASK] add confirm dialog to static route delete operation\n\nRelates: #6259\n\n* [TASK] refactor confirm delete message\n\nRelates: #6259\n\n* [TASK] Use translations for type in delete confirmation\n\nRelates: #6259\n\n* [TASK] Change icon of delete objectbrick to make it consistent with delete class and delete fieldcollection\n\nRelates: #6259\n\n* [BUGFIX] fix objectbrick menu\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\n* Update bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>\n\nCo-authored-by: aryaantony92 <97134765+aryaantony92@users.noreply.github.com>",
        "before_after_code_files": [
          "bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js||bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/class.js||bundles/AdminBundle/Resources/public/js/pimcore/object/class.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js||bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js||bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js||bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js",
          "bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
          ],
          "candidate": [
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
            "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js"
          ]
        }
      },
      "candidate_diff": {
        "bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js||bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js -> bundles/AdminBundle/Resources/public/js/pimcore/element/tag/tree.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "251:                 text: t('delete'),",
          "252:                 iconCls: \"pimcore_icon_delete\",",
          "253:                 handler: function (tree, record) {",
          "255:                         if (btn == 'yes') {",
          "256:                             Ext.Ajax.request({",
          "257:                                 url: Routing.generate('pimcore_admin_tags_delete'),",
          "",
          "[Removed Lines]",
          "254:                     Ext.Msg.confirm(t('delete'), t('delete_message'), function (btn) {",
          "",
          "[Added Lines]",
          "254:                     Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('tag'), record.data.text), function (btn) {",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/class.js||bundles/AdminBundle/Resources/public/js/pimcore/object/class.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/class.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/class.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "333:     deleteClass: function (tree, record) {",
          "336:             if (btn == 'yes') {",
          "337:                 Ext.Ajax.request({",
          "338:                     url: Routing.generate('pimcore_admin_dataobject_class_delete'),",
          "",
          "[Removed Lines]",
          "335:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_class_message'), record.data.text), function (btn) {",
          "",
          "[Added Lines]",
          "335:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('class'), record.data.text), function (btn) {",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/collectionsPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "141:                         var colId = data.data.colId;",
          "142:                         var groupId = data.data.groupId;",
          "154:                     }.bind(this)",
          "155:                 }",
          "156:             ]",
          "",
          "[Removed Lines]",
          "144:                         Ext.Ajax.request({",
          "145:                             url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollectionrelation'),",
          "146:                             method: 'DELETE',",
          "147:                             params: {",
          "148:                                 colId: colId,",
          "149:                                 groupId: groupId",
          "150:                             },",
          "151:                             success: function (response) {",
          "152:                                 this.relationsStore.reload();",
          "153:                             }.bind(this)});",
          "",
          "[Added Lines]",
          "144:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection_relation'), data.data.groupName), function(btn) {",
          "145:                             if (btn == 'yes') {",
          "146:                                 Ext.Ajax.request({",
          "147:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollectionrelation'),",
          "148:                                     method: 'DELETE',",
          "149:                                     params: {",
          "150:                                         colId: colId,",
          "151:                                         groupId: groupId",
          "152:                                     },",
          "153:                                     success: function (response) {",
          "154:                                         this.relationsStore.reload();",
          "155:                                     }.bind(this)});",
          "156:                             }",
          "157:                         }.bind(this));",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "311:                         this.relationsGrid.hide();",
          "312:                         this.relationsPanel.disable();",
          "323:                     }.bind(this)",
          "324:                 }",
          "325:             ]",
          "",
          "[Removed Lines]",
          "314:                         Ext.Ajax.request({",
          "315:                             url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollection'),",
          "316:                             method: 'DELETE',",
          "317:                             params: {",
          "318:                                 id: id",
          "319:                             },",
          "320:                             success: function (response) {",
          "321:                                 this.collectionsStore.reload();",
          "322:                             }.bind(this)});",
          "",
          "[Added Lines]",
          "318:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_collection'), data.data.name), function(btn) {",
          "319:                             if (btn == 'yes') {",
          "320:                                 Ext.Ajax.request({",
          "321:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletecollection'),",
          "322:                                     method: 'DELETE',",
          "323:                                     params: {",
          "324:                                         id: id",
          "325:                                     },",
          "326:                                     success: function (response) {",
          "327:                                         this.collectionsStore.reload();",
          "328:                                     }.bind(this)});",
          "329:                             }",
          "330:                         }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/groupsPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "145:                         var keyId = data.data.keyId;",
          "146:                         var groupId = data.data.groupId;",
          "158:                     }.bind(this)",
          "159:                 }",
          "160:             ]",
          "",
          "[Removed Lines]",
          "148:                         Ext.Ajax.request({",
          "149:                             url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleterelation'),",
          "150:                             method: 'DELETE',",
          "151:                             params: {",
          "152:                                 keyId: keyId,",
          "153:                                 groupId: groupId",
          "154:                             },",
          "155:                             success: function (response) {",
          "156:                                 this.relationsStore.reload();",
          "157:                             }.bind(this)});",
          "",
          "[Added Lines]",
          "148:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_relation'), data.data.keyName), function(btn) {",
          "149:                             if (btn == 'yes') {",
          "150:                                 Ext.Ajax.request({",
          "151:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleterelation'),",
          "152:                                     method: 'DELETE',",
          "153:                                     params: {",
          "154:                                         keyId: keyId,",
          "155:                                         groupId: groupId",
          "156:                                     },",
          "157:                                     success: function (response) {",
          "158:                                         this.relationsStore.reload();",
          "159:                                     }.bind(this)});",
          "160:                             }",
          "161:                         }.bind(this));",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "316:                         this.relationsGrid.hide();",
          "317:                         this.relationsPanel.disable();",
          "328:                     }.bind(this)",
          "329:                 }",
          "330:             ]",
          "",
          "[Removed Lines]",
          "319:                         Ext.Ajax.request({",
          "320:                             url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletegroup'),",
          "321:                             method: 'DELETE',",
          "322:                             params: {",
          "323:                                 id: id",
          "324:                             },",
          "325:                             success: function (response) {",
          "326:                                 this.groupsStore.reload();",
          "327:                             }.bind(this)});",
          "",
          "[Added Lines]",
          "323:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_group'), data.data.name), function(btn) {",
          "324:                             if (btn == 'yes') {",
          "325:                                 Ext.Ajax.request({",
          "326:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deletegroup'),",
          "327:                                     method: 'DELETE',",
          "328:                                     params: {",
          "329:                                         id: id",
          "330:                                     },",
          "331:                                     success: function (response) {",
          "332:                                         this.groupsStore.reload();",
          "333:                                     }.bind(this)});",
          "334:                             }",
          "335:                         }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js||bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/classificationstore/propertiesPanel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "198:                         var data = grid.getStore().getAt(rowIndex);",
          "199:                         var id = data.data.id;",
          "210:                     }.bind(this)",
          "211:                 }",
          "212:             ]",
          "",
          "[Removed Lines]",
          "201:                         Ext.Ajax.request({",
          "202:                             url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleteproperty'),",
          "203:                             method: 'DELETE',",
          "204:                             params: {",
          "205:                                 id: id",
          "206:                             },",
          "207:                             success: function (response) {",
          "208:                                 this.store.reload();",
          "209:                             }.bind(this)});",
          "",
          "[Added Lines]",
          "201:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('classificationstore_property'), data.data.name), function(btn) {",
          "202:                             if (btn == 'yes') {",
          "203:                                 Ext.Ajax.request({",
          "204:                                     url: Routing.generate('pimcore_admin_dataobject_classificationstore_deleteproperty'),",
          "205:                                     method: 'DELETE',",
          "206:                                     params: {",
          "207:                                         id: id",
          "208:                                     },",
          "209:                                     success: function (response) {",
          "210:                                         this.store.reload();",
          "211:                                     }.bind(this)});",
          "212:                             }",
          "213:                         }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js||bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/fieldcollection.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "175:         var menu = new Ext.menu.Menu();",
          "176:         menu.add(new Ext.menu.Item({",
          "177:             text: t('delete'),",
          "179:             handler: this.deleteField.bind(this, tree, record)",
          "180:         }));",
          "",
          "[Removed Lines]",
          "178:             iconCls: \"pimcore_icon_delete\",",
          "",
          "[Added Lines]",
          "178:             iconCls: \"pimcore_icon_fieldcollection pimcore_icon_overlay_delete\",",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "224:     deleteField: function (tree, record) {",
          "228:                 Ext.Ajax.request({",
          "229:                     url: Routing.generate('pimcore_admin_dataobject_class_fieldcollectiondelete'),",
          "230:                     method: 'DELETE',",
          "",
          "[Removed Lines]",
          "226:         Ext.Msg.confirm(t('delete'), t('delete_message'), function(btn){",
          "227:             if (btn == 'yes'){",
          "",
          "[Added Lines]",
          "226:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('field_collection'), record.data.text), function(btn) {",
          "227:             if (btn == 'yes') {",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js||bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/helpers/customLayoutEditor.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "932:         var id = this.layoutChangeCombo.getValue();",
          "934:         Ext.Msg.confirm(t('delete'), t('delete_message'), function(btn){",
          "936:                 Ext.Ajax.request({",
          "937:                     url: Routing.generate('pimcore_admin_dataobject_class_deletecustomlayout'),",
          "938:                     method: 'DELETE',",
          "",
          "[Removed Lines]",
          "935:             if (btn == 'yes'){",
          "",
          "[Added Lines]",
          "935:             if (btn == 'yes') {",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js||bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js -> bundles/AdminBundle/Resources/public/js/pimcore/object/objectbrick.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "138:     },",
          "141:     addField: function () {",
          "142:         Ext.MessageBox.prompt(' ', t('enter_the_name_of_the_new_item'),",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "140:     onTreeNodeContextmenu: function (tree, record, item, index, e, eOpts) {",
          "141:         if (!record.isLeaf()) {",
          "142:             return;",
          "143:         }",
          "145:         e.stopEvent();",
          "146:         tree.select();",
          "148:         var menu = new Ext.menu.Menu();",
          "149:         menu.add(new Ext.menu.Item({",
          "150:             text: t('delete'),",
          "151:             iconCls: \"pimcore_icon_objectbricks pimcore_icon_overlay_delete\",",
          "152:             handler: this.deleteField.bind(this, tree, record)",
          "153:         }));",
          "155:         menu.showAt(e.pageX, e.pageY);",
          "156:     },",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "180:     deleteField: function (tree, record) {",
          "184:                 Ext.Ajax.request({",
          "185:                     url: Routing.generate('pimcore_admin_dataobject_class_objectbrickdelete'),",
          "186:                     method: 'DELETE',",
          "",
          "[Removed Lines]",
          "182:         Ext.Msg.confirm(t('delete'), t('delete_message'), function(btn){",
          "183:             if (btn == 'yes'){",
          "",
          "[Added Lines]",
          "199:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('objectbrick'), record.data.text), function(btn) {",
          "200:             if (btn == 'yes') {",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js -> bundles/AdminBundle/Resources/public/js/pimcore/report/custom/panel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "206:     },",
          "208:     deleteField: function (tree, record) {",
          "219:     },",
          "",
          "[Removed Lines]",
          "209:         Ext.Ajax.request({",
          "210:             url: Routing.generate('pimcore_admin_reports_customreport_delete'),",
          "211:             method: 'DELETE',",
          "212:             params: {",
          "213:                 name: record.data.id",
          "214:             }",
          "215:         });",
          "217:         this.getEditPanel().removeAll();",
          "218:         record.remove();",
          "",
          "[Added Lines]",
          "209:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('portlet_customreport'), record.data.text), function (btn) {",
          "210:             if (btn == 'yes') {",
          "211:                 Ext.Ajax.request({",
          "212:                     url: Routing.generate('pimcore_admin_reports_customreport_delete'),",
          "213:                     method: 'DELETE',",
          "214:                     params: {",
          "215:                         name: record.data.id",
          "216:                     }",
          "217:                 });",
          "219:                 this.getEditPanel().removeAll();",
          "220:                 record.remove();",
          "221:             }",
          "222:         }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/gdpr/dataproviders/pimcoreUsers.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "107:                             var data = grid.getStore().getAt(rowIndex);",
          "109:                             Ext.MessageBox.show({",
          "112:                                 buttons: Ext.Msg.YESNO ,",
          "113:                                 icon: Ext.MessageBox.QUESTION,",
          "114:                                 fn: function (button) {",
          "",
          "[Removed Lines]",
          "110:                                 title:t('delete'),",
          "111:                                 msg: t(\"are_you_sure\"),",
          "",
          "[Added Lines]",
          "110:                                 title: t('delete'),",
          "111:                                 msg: sprintf(t('delete_message_advanced'), t('user'), data.data.text),",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/staticroutes.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "185:                         if (!data.data.writeable) {",
          "186:                             return;",
          "187:                         }",
          "189:                     }.bind(this)",
          "190:                 }]",
          "191:             }",
          "",
          "[Removed Lines]",
          "188:                         grid.getStore().removeAt(rowIndex);",
          "",
          "[Added Lines]",
          "188:                         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('staticroute'), data.data.name), function (btn) {",
          "189:                             if (btn == 'yes') {",
          "190:                                 grid.getStore().removeAt(rowIndex);",
          "191:                             }",
          "192:                         }.bind(this))",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/rules/panel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "194:     deleteTarget: function (tree, record) {",
          "205:     },",
          "207:     onTreeNodeContextmenu: function (tree, record, item, index, e, eOpts ) {",
          "",
          "[Removed Lines]",
          "195:         Ext.Ajax.request({",
          "196:             url: Routing.generate('pimcore_admin_targeting_ruledelete'),",
          "197:             method: 'DELETE',",
          "198:             params: {",
          "199:                 id: record.data.id",
          "200:             },",
          "201:             success: function () {",
          "202:                 this.tree.getStore().load();",
          "203:             }.bind(this)",
          "204:         });",
          "",
          "[Added Lines]",
          "195:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('global_targeting_rule'), record.data.text), function (btn) {",
          "196:             if (btn == 'yes') {",
          "197:                 Ext.Ajax.request({",
          "198:                     url: Routing.generate('pimcore_admin_targeting_ruledelete'),",
          "199:                     method: 'DELETE',",
          "200:                     params: {",
          "201:                         id: record.data.id",
          "202:                     },",
          "203:                     success: function () {",
          "204:                         this.tree.getStore().load();",
          "205:                     }.bind(this)",
          "206:                 });",
          "207:             }",
          "208:        }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/targeting/targetGroups/panel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "161:     },",
          "163:     deleteTargetGroup: function (tree, record) {",
          "176:     },",
          "178:     openTargetGroup: function (node) {",
          "",
          "[Removed Lines]",
          "164:         Ext.Ajax.request({",
          "165:             url: Routing.generate('pimcore_admin_targeting_targetgroupdelete'),",
          "166:             method: 'DELETE',",
          "167:             params: {",
          "168:                 id: record.data.id",
          "169:             },",
          "170:             success: function () {",
          "171:                 this.tree.getStore().load();",
          "173:                 pimcore.globalmanager.get(\"target_group_store\").reload();",
          "174:             }.bind(this)",
          "175:         });",
          "",
          "[Added Lines]",
          "164:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('target_group'), record.data.text), function (btn) {",
          "165:             if (btn == 'yes') {",
          "166:                 Ext.Ajax.request({",
          "167:                     url: Routing.generate('pimcore_admin_targeting_targetgroupdelete'),",
          "168:                     method: 'DELETE',",
          "169:                     params: {",
          "170:                         id: record.data.id",
          "171:                     },",
          "172:                     success: function () {",
          "173:                         this.tree.getStore().load();",
          "175:                         pimcore.globalmanager.get(\"target_group_store\").reload();",
          "176:                     }.bind(this)",
          "177:                 });",
          "178:             }",
          "179:       }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/thumbnail/panel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "233:     },",
          "235:     deleteField: function (tree, record) {",
          "246:     }",
          "247: });",
          "",
          "[Removed Lines]",
          "236:         Ext.Ajax.request({",
          "237:             url: Routing.generate('pimcore_admin_settings_thumbnaildelete'),",
          "238:             method: 'DELETE',",
          "239:             params: {",
          "240:                 name: record.data.id",
          "241:             }",
          "242:         });",
          "244:         this.getEditPanel().removeAll();",
          "245:         record.remove();",
          "",
          "[Added Lines]",
          "236:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('thumbnail'), record.data.text), function (btn) {",
          "237:             if (btn == 'yes') {",
          "238:                 Ext.Ajax.request({",
          "239:                     url: Routing.generate('pimcore_admin_settings_thumbnaildelete'),",
          "240:                     method: 'DELETE',",
          "241:                     params: {",
          "242:                         name: record.data.id",
          "243:                     }",
          "244:                 });",
          "246:                 this.getEditPanel().removeAll();",
          "247:                 record.remove();",
          "248:             }",
          "249:         }.bind(this));",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/user/panels/abstract.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "50:         Ext.MessageBox.show({",
          "51:             title:t('delete'),",
          "53:             buttons: Ext.Msg.OKCANCEL ,",
          "54:             icon: record.hasChildNodes() ? Ext.MessageBox.WARNING : Ext.MessageBox.QUESTION,",
          "55:             fn: function (button) {",
          "",
          "[Removed Lines]",
          "52:             msg: record.hasChildNodes() ? t(\"are_you_sure_recursive\") : t(\"are_you_sure\"),",
          "",
          "[Added Lines]",
          "52:             msg: record.hasChildNodes() ? t(\"are_you_sure_recursive\") : sprintf(t(\"delete_message_advanced\"), t('user'), record.data.text),",
          "",
          "---------------"
        ],
        "bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js||bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js": [
          "File: bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js -> bundles/AdminBundle/Resources/public/js/pimcore/settings/videothumbnail/panel.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "228:     },",
          "230:     deleteField: function (tree, record) {",
          "241:     }",
          "242: });",
          "",
          "[Removed Lines]",
          "231:         Ext.Ajax.request({",
          "232:             url: Routing.generate('pimcore_admin_settings_videothumbnaildelete'),",
          "233:             method: 'DELETE',",
          "234:             params: {",
          "235:                 name: record.data.id",
          "236:             }",
          "237:         });",
          "239:         this.getEditPanel().removeAll();",
          "240:         record.remove();",
          "",
          "[Added Lines]",
          "231:         Ext.Msg.confirm(t('delete'), sprintf(t('delete_message_advanced'), t('thumbnail'), record.data.text), function (btn) {",
          "232:             if (btn == 'yes') {",
          "233:                 Ext.Ajax.request({",
          "234:                     url: Routing.generate('pimcore_admin_settings_videothumbnaildelete'),",
          "235:                     method: 'DELETE',",
          "236:                     params: {",
          "237:                         name: record.data.id",
          "238:                     }",
          "239:                 });",
          "241:                 this.getEditPanel().removeAll();",
          "242:                 record.remove();",
          "243:             }",
          "244:         }.bind(this));",
          "",
          "---------------"
        ]
      }
    }
  ]
}