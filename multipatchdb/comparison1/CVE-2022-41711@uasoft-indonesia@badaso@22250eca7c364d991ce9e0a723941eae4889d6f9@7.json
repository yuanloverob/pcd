{
  "cve_id": "CVE-2022-41711",
  "cve_desc": "Badaso version 2.6.0 allows an unauthenticated remote attacker to execute arbitrary code remotely on the server. This is possible because the application does not properly validate the data uploaded by users.",
  "repo": "uasoft-indonesia/badaso",
  "patch_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
  "patch_info": {
    "commit_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
    "repo": "uasoft-indonesia/badaso",
    "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/22250eca7c364d991ce9e0a723941eae4889d6f9",
    "files": [
      "src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue"
    ],
    "message": "Merge pull request #807 from uasoft-indonesia/bugfix/v2/filter-mimeType\n\nBugfix[v2] add filter mimeType",
    "before_after_code_files": [
      "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue"
    ]
  },
  "patch_diff": {
    "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue": [
      "File: src/resources/js/components/BadasoUploadFile.vue -> src/resources/js/components/BadasoUploadFile.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "336:           });",
      "337:           return;",
      "338:         }",
      "340:         this.uploadFile(files[0]);",
      "341:       }",
      "342:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "339:         if (!this.availableMimetypes.file.validMime.includes(files[0].type)) {",
      "340:           this.$vs.notify({",
      "341:             title: this.$t(\"alert.danger\"),",
      "342:             text: \"File type not allowed\",",
      "343:             color: \"danger\",",
      "344:           });",
      "345:           return;",
      "346:         }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadFileMultiple.vue -> src/resources/js/components/BadasoUploadFileMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "367:             });",
      "368:             return;",
      "369:           }",
      "371:           this.uploadFile(file);",
      "372:         }",
      "373:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "370:           if (!this.availableMimetypes.file.validMime.includes(file.type)) {",
      "371:             this.$vs.notify({",
      "372:               title: this.$t(\"alert.danger\"),",
      "373:               text: \"File type not allowed\",",
      "374:               color: \"danger\",",
      "375:             });",
      "376:             return;",
      "377:           }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue": [
      "File: src/resources/js/components/BadasoUploadImage.vue -> src/resources/js/components/BadasoUploadImage.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "380:           });",
      "381:           return;",
      "382:         }",
      "384:         this.uploadImage(files[0]);",
      "385:       }",
      "386:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "383:         if (!this.availableMimetypes.image.validMime.includes(files[0].type)){",
      "384:           this.$vs.notify({",
      "385:             title: this.$t(\"alert.danger\"),",
      "386:             text: \"File type not allowed\",",
      "387:             color: \"danger\",",
      "388:           });",
      "389:           return;",
      "390:         }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "421:     uploadImage(file) {",
      "422:       const files = new FormData();",
      "423:       files.append(\"upload\", file);",
      "425:       files.append(\"working_dir\", this.getActiveFolder);",
      "426:       this.$api.badasoFile",
      "427:         .uploadUsingLfm(files)",
      "",
      "[Removed Lines]",
      "424:       files.append(\"type\", \"image\");",
      "",
      "[Added Lines]",
      "431:       files.append(\"type\", file.type);",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadImageMultiple.vue -> src/resources/js/components/BadasoUploadImageMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "395:             });",
      "396:             return;",
      "397:           }",
      "399:           this.uploadImage(file);",
      "400:         }",
      "401:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398:           if (!this.availableMimetypes.image.validMime.includes(file.type)) {",
      "399:             this.$vs.notify({",
      "400:               title: this.$t(\"alert.danger\"),",
      "401:               text: \"File type not allowed\",",
      "402:               color: \"danger\",",
      "403:             });",
      "404:             return;",
      "405:           }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "bcf15ded7204d051e43f0b8bac13dbbe82ebae8a",
      "candidate_info": {
        "commit_hash": "bcf15ded7204d051e43f0b8bac13dbbe82ebae8a",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/bcf15ded7204d051e43f0b8bac13dbbe82ebae8a",
        "files": [
          ".gitpod.yml",
          "src/Swagger/swagger_models/upload-file.php"
        ],
        "message": "update gitpod.xml",
        "before_after_code_files": [
          "src/Swagger/swagger_models/upload-file.php||src/Swagger/swagger_models/upload-file.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Swagger/swagger_models/upload-file.php||src/Swagger/swagger_models/upload-file.php": [
          "File: src/Swagger/swagger_models/upload-file.php -> src/Swagger/swagger_models/upload-file.php"
        ]
      }
    },
    {
      "candidate_hash": "f23a33e188bb0323f5f74bacdea9660d35c74853",
      "candidate_info": {
        "commit_hash": "f23a33e188bb0323f5f74bacdea9660d35c74853",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/f23a33e188bb0323f5f74bacdea9660d35c74853",
        "files": [
          "src/Config/lfm.php",
          "src/resources/js/assets/scss/layout/_sidebar.scss",
          "src/resources/js/components/BadasoSidebarGroup.vue",
          "src/resources/js/lang/modules/en.js",
          "src/resources/js/lang/modules/id.js",
          "src/resources/js/layout/admin/sidebar/SideBar.vue",
          "src/resources/js/pages/image-manager/browse.vue"
        ],
        "message": "tap space menu item",
        "before_after_code_files": [
          "src/Config/lfm.php||src/Config/lfm.php",
          "src/resources/js/assets/scss/layout/_sidebar.scss||src/resources/js/assets/scss/layout/_sidebar.scss",
          "src/resources/js/components/BadasoSidebarGroup.vue||src/resources/js/components/BadasoSidebarGroup.vue",
          "src/resources/js/lang/modules/en.js||src/resources/js/lang/modules/en.js",
          "src/resources/js/lang/modules/id.js||src/resources/js/lang/modules/id.js",
          "src/resources/js/layout/admin/sidebar/SideBar.vue||src/resources/js/layout/admin/sidebar/SideBar.vue",
          "src/resources/js/pages/image-manager/browse.vue||src/resources/js/pages/image-manager/browse.vue"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Config/lfm.php||src/Config/lfm.php": [
          "File: src/Config/lfm.php -> src/Config/lfm.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "53:             'startup_view' => 'list',",
          "54:             'max_size' => 50000, // size in KB",
          "55:             'valid_mime' => [",
          "62:                 'application/pdf',",
          "63:                 'text/plain',",
          "64:             ],",
          "",
          "[Removed Lines]",
          "56:                 'image/jpeg',",
          "57:                 'image/jpg',",
          "58:                 'image/pjpeg',",
          "59:                 'image/png',",
          "60:                 'image/gif',",
          "61:                 'image/svg+xml',",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/resources/js/assets/scss/layout/_sidebar.scss||src/resources/js/assets/scss/layout/_sidebar.scss": [
          "File: src/resources/js/assets/scss/layout/_sidebar.scss -> src/resources/js/assets/scss/layout/_sidebar.scss",
          "--- Hunk 1 ---",
          "[Context before]",
          "59:   .vs-sidebar-group {",
          "60:     &.vs-sidebar-group-open {",
          "61:       & > ul {",
          "63:       }",
          "64:     }",
          "65:   }",
          "",
          "[Removed Lines]",
          "62:         padding-left: 0 !important;",
          "",
          "[Added Lines]",
          "62:         padding-left: 10 !important;",
          "",
          "---------------"
        ],
        "src/resources/js/components/BadasoSidebarGroup.vue||src/resources/js/components/BadasoSidebarGroup.vue": [
          "File: src/resources/js/components/BadasoSidebarGroup.vue -> src/resources/js/components/BadasoSidebarGroup.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: <template>",
          "7:         <div>",
          "8:           <span class=\"badaso-sidebar-group__text\">{{ title }}</span>",
          "9:           <span class=\"badaso-sidebar-group__text\">{{ subTitle }}</span>",
          "10:         </div>",
          "11:       </h4>",
          "12:       <h4 @click=\"clickGroup\" v-else class=\"badaso-sidebar-group__item-group\">",
          "14:         <div>",
          "15:           <span class=\"badaso-sidebar-group__text\">{{ title }}</span>",
          "16:           <span class=\"badaso-sidebar-group__text\">{{ subTitle }}</span>",
          "",
          "[Removed Lines]",
          "2:   <div :class=\"{'vs-sidebar-group-open' : openItems}\" class=\"vs-sidebar-group\" @mouseover=\"mouseover\" @mouseout=\"mouseout\">",
          "3:     <div class=\"badaso-sidebar-group__container\">",
          "4:       <vs-icon class=\"badaso-sidebar-group__icon--user\" v-if=\"icon\" :icon-pack=\"iconPack\" :icon=\"icon\" />",
          "5:       <h4 @click=\"clickGroup\" v-if=\"icon\" class=\"hide-in-minisidebar badaso-sidebar-group__item-group\">",
          "6:         <vs-icon class=\"badaso-sidebar-group__icon--arrow\" icon=\"keyboard_arrow_down\" />",
          "13:         <vs-icon  class=\"badaso-sidebar-group__icon--arrow\" icon=\"keyboard_arrow_down\" />",
          "",
          "[Added Lines]",
          "2:   <div",
          "3:     :class=\"{ 'vs-sidebar-group-open': openItems }\"",
          "4:     class=\"vs-sidebar-group\"",
          "5:     @mouseover=\"mouseover\"",
          "6:     @mouseout=\"mouseout\"",
          "7:   >",
          "8:     <div",
          "9:       :style=\"`${parentMenu && 'margin-top:10px'}`\"",
          "10:       class=\"badaso-sidebar-group__container\"",
          "11:     >",
          "12:       <vs-icon",
          "13:         class=\"badaso-sidebar-group__icon--user\"",
          "14:         v-if=\"icon\"",
          "15:         :icon-pack=\"iconPack\"",
          "16:         :icon=\"icon\"",
          "17:       />",
          "18:       <h4",
          "19:         @click=\"clickGroup\"",
          "20:         v-if=\"icon\"",
          "21:         class=\"hide-in-minisidebar badaso-sidebar-group__item-group\"",
          "22:       >",
          "23:         <vs-icon",
          "24:           class=\"badaso-sidebar-group__icon--arrow\"",
          "25:           icon=\"keyboard_arrow_down\"",
          "26:         />",
          "33:         <vs-icon",
          "34:           class=\"badaso-sidebar-group__icon--arrow\"",
          "35:           icon=\"keyboard_arrow_down\"",
          "36:         />",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "18:       </h4>",
          "19:       <span class=\"vs-sidebar--tooltip\">{{ title }}</span>",
          "20:     </div>",
          "25:       <slot></slot>",
          "26:     </ul>",
          "27:   </div>",
          "28: </template>",
          "29: <script>",
          "30: export default {",
          "32:   props: {",
          "34:       default: null,",
          "36:     },",
          "37:     iconPack: {",
          "40:     },",
          "41:     collapsed: {",
          "42:       default: false,",
          "44:     },",
          "45:     title: {",
          "46:       default: null,",
          "48:     },",
          "49:     subTitle: {",
          "50:       default: null,",
          "52:     },",
          "53:     openHover: {",
          "54:       default: false,",
          "56:     },",
          "57:     open: {",
          "58:       default: false,",
          "61:   },",
          "62:   data: () => ({",
          "65:   }),",
          "67:     styleItems() {",
          "68:       return {",
          "69:         maxHeight: this.maxHeight,",
          "72:   },",
          "73:   watch: {",
          "78:   },",
          "83:     }",
          "84:   },",
          "88:     },",
          "91:     },",
          "92:     clickGroup() {",
          "97:           setTimeout(() => {",
          "100:         } else {",
          "102:           setTimeout(() => {",
          "105:         }",
          "106:       }",
          "107:     },",
          "108:     mouseover() {",
          "112:       }",
          "113:     },",
          "114:     mouseout() {",
          "118:       }",
          "",
          "[Removed Lines]",
          "21:     <ul",
          "22:       ref=\"items\"",
          "23:       :style=\"styleItems\"",
          "24:       class=\"vs-sidebar--group-items\">",
          "31:   name:'BadasoSidebarGroup',",
          "33:       icon: {",
          "35:       type: String",
          "38:       default: 'material-icons',",
          "39:       type: String",
          "43:       type: Boolean",
          "47:       type: String",
          "51:       type: String",
          "55:       type: Boolean",
          "59:       type: Boolean",
          "60:     }",
          "63:     maxHeight: '0px',",
          "64:     openItems: false",
          "66:   computed:{",
          "70:     }",
          "71:     }",
          "74:     maxHeight () {",
          "75:       this.openItems = this.maxHeight != '0px'",
          "77:     }",
          "79:   mounted () {",
          "80:     this.openItems = this.open",
          "81:     if(this.open) {",
          "82:       this.maxHeight = 'none'",
          "85:   methods:{",
          "86:     getActive () {",
          "87:       return this.$parent.getActive()",
          "89:     setIndexActive (index) {",
          "90:       this.$parent.setIndexActive(index)",
          "93:       if(!this.openHover) {",
          "94:         let scrollHeight = this.$refs.items.scrollHeight",
          "95:         if(this.maxHeight == '0px') {",
          "96:           this.maxHeight = `${scrollHeight}px`",
          "98:             this.maxHeight = 'none'",
          "99:           },300)",
          "101:           this.maxHeight = `${scrollHeight}px`",
          "103:             this.maxHeight = `${0}px`",
          "104:           }, 50)",
          "109:       if(this.openHover) {",
          "110:         let scrollHeight = this.$refs.items.scrollHeight",
          "111:         this.maxHeight = `${scrollHeight}px`",
          "115:       if(this.openHover) {",
          "116:         let scrollHeight = 0",
          "117:         this.maxHeight = `${scrollHeight}px`",
          "119:     }",
          "120:   }",
          "121: }",
          "122: </script>",
          "",
          "[Added Lines]",
          "44:     <vs-divider v-if=\"parentMenu\" style=\"margin-top:10px;\" />",
          "45:     <ul ref=\"items\" :style=\"styleItems\" class=\"vs-sidebar--group-items\">",
          "52:   name: \"BadasoSidebarGroup\",",
          "54:     icon: {",
          "56:       type: String,",
          "59:       default: \"material-icons\",",
          "60:       type: String,",
          "64:       type: Boolean,",
          "68:       type: String,",
          "72:       type: String,",
          "76:       type: Boolean,",
          "80:       type: Boolean,",
          "81:     },",
          "82:     parentMenu: {",
          "83:       default: false,",
          "84:       type: Boolean,",
          "85:     },",
          "88:     maxHeight: \"0px\",",
          "89:     openItems: false,",
          "91:   computed: {",
          "95:       };",
          "96:     },",
          "99:     maxHeight() {",
          "100:       this.openItems = this.maxHeight != \"0px\";",
          "101:     },",
          "103:   mounted() {",
          "104:     this.openItems = this.open;",
          "105:     if (this.open) {",
          "106:       this.maxHeight = \"none\";",
          "109:   methods: {",
          "110:     getActive() {",
          "111:       return this.$parent.getActive();",
          "113:     setIndexActive(index) {",
          "114:       this.$parent.setIndexActive(index);",
          "117:       if (!this.openHover) {",
          "118:         let scrollHeight = this.$refs.items.scrollHeight;",
          "119:         if (this.maxHeight == \"0px\") {",
          "120:           this.maxHeight = `${scrollHeight}px`;",
          "122:             this.maxHeight = \"none\";",
          "123:           }, 300);",
          "125:           this.maxHeight = `${scrollHeight}px`;",
          "127:             this.maxHeight = `${0}px`;",
          "128:           }, 50);",
          "133:       if (this.openHover) {",
          "134:         let scrollHeight = this.$refs.items.scrollHeight;",
          "135:         this.maxHeight = `${scrollHeight}px`;",
          "139:       if (this.openHover) {",
          "140:         let scrollHeight = 0;",
          "141:         this.maxHeight = `${scrollHeight}px`;",
          "144:   },",
          "145: };",
          "146: </script>",
          "",
          "---------------"
        ],
        "src/resources/js/lang/modules/en.js||src/resources/js/lang/modules/en.js": [
          "File: src/resources/js/lang/modules/en.js -> src/resources/js/lang/modules/en.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "143:   action: {",
          "144:     bulkDelete: \"Bulk Delete\",",
          "145:     bulkRestore: \"Bulk Restore\",",
          "147:     add: \"Add\",",
          "148:     edit: \"Edit\",",
          "149:     delete: {",
          "",
          "[Removed Lines]",
          "146:     showTrash : 'Show Trash',",
          "",
          "[Added Lines]",
          "146:     showTrash: \"Show Trash\",",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "257:       switchDataNormal: \"Show Normal Data\",",
          "258:     },",
          "259:     help: {",
          "266:     },",
          "267:     warning: {",
          "268:       notAllowed: \"You're not allowed to browse CRUD.\",",
          "",
          "[Removed Lines]",
          "260:       generatePermissions: \"Will generate permission for the CRUD created. The generated permissions is: browse_{table_name}, read_{table_name}, edit_{table_name}, add_{table_name}, delete_{table_name} and maintenance_{table_name}.\",",
          "261:       serverSide: \"Set the pagination on browse to server side or client side. If you have small data, just turn this to Off, vice versa.\",",
          "262:       createSoftDelete: \"Switch this to On if you want feature like recycle bin. You can recover the deleted data. Will create soft delete if the table is supported.\",",
          "263:       activeEventNotificationTitle: \"This will show notification on right sidebar if the below action event is set. Please configure firebase push notification before using this feature.\",",
          "264:       modelName: \"Fill this input if you want to override the CRUD Model. For example: App\\\\Models\\\\User.\",",
          "265:       controllerName: \"Fill this input if you want to override the CRUD Controller. For example: App\\\\Http\\\\Controller\\\\HomeController. You can override one of the following methods: browse, all, read, edit, add, delete, restore, deleteMultiple, restoreMultiple, sort or setMaintenanceState.\",",
          "",
          "[Added Lines]",
          "260:       generatePermissions:",
          "261:         \"Will generate permission for the CRUD created. The generated permissions is: browse_{table_name}, read_{table_name}, edit_{table_name}, add_{table_name}, delete_{table_name} and maintenance_{table_name}.\",",
          "262:       serverSide:",
          "263:         \"Set the pagination on browse to server side or client side. If you have small data, just turn this to Off, vice versa.\",",
          "264:       createSoftDelete:",
          "265:         \"Switch this to On if you want feature like recycle bin. You can recover the deleted data. Will create soft delete if the table is supported.\",",
          "266:       activeEventNotificationTitle:",
          "267:         \"This will show notification on right sidebar if the below action event is set. Please configure firebase push notification before using this feature.\",",
          "268:       modelName:",
          "269:         \"Fill this input if you want to override the CRUD Model. For example: App\\\\Models\\\\User.\",",
          "270:       controllerName:",
          "271:         \"Fill this input if you want to override the CRUD Controller. For example: App\\\\Http\\\\Controller\\\\HomeController. You can override one of the following methods: browse, all, read, edit, add, delete, restore, deleteMultiple, restoreMultiple, sort or setMaintenanceState.\",",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "283:       title: {",
          "284:         table: \"Add CRUD for {tableName}\",",
          "285:         field: \"Add CRUD Fields for {tableName}\",",
          "287:       },",
          "288:       field: {",
          "289:         tableName: {",
          "",
          "[Removed Lines]",
          "286:         advance: \"Advanced Setting\"",
          "",
          "[Added Lines]",
          "292:         advance: \"Advanced Setting\",",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "380:       title: {",
          "381:         table: \"Edit CRUD for {tableName}\",",
          "382:         field: \"Edit CRUD Fields for {tableName}\",",
          "384:       },",
          "385:       field: {",
          "386:         tableName: {",
          "",
          "[Removed Lines]",
          "383:         advance: \"Advanced Setting\"",
          "",
          "[Added Lines]",
          "389:         advance: \"Advanced Setting\",",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "492:   menu: {",
          "493:     title: \"Menu\",",
          "497:     },",
          "498:     warning: {",
          "499:       notAllowedToBrowse: \"You're not allowed to browse Menu\",",
          "",
          "[Removed Lines]",
          "494:     options:{",
          "495:         showHeader : \"Show Header Menu\",",
          "496:         expand : \"Expand\",",
          "",
          "[Added Lines]",
          "500:     options: {",
          "501:       showHeader: \"Show Header Menu\",",
          "502:       expand: \"Expand\",",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "501:       notAllowedToEdit: \"You're not allowed to edit Menu\",",
          "502:     },",
          "503:     help: {",
          "505:     },",
          "506:     header: {",
          "507:       key: \"Key\",",
          "",
          "[Removed Lines]",
          "504:       key: \"You can set this key to be default menu in .env file. Also, you can register new menu on .env by input value.\"",
          "",
          "[Added Lines]",
          "510:       key:",
          "511:         \"You can set this key to be default menu in .env file. Also, you can register new menu on .env by input value.\",",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "623:       descriptionBody: \"Pages\",",
          "624:     },",
          "625:     help: {",
          "627:     },",
          "628:     add: {",
          "629:       title: \"Add User\",",
          "",
          "[Removed Lines]",
          "626:       emailVerified: \"Switch this to on to automatically verified the email of created user\"",
          "",
          "[Added Lines]",
          "633:       emailVerified:",
          "634:         \"Switch this to on to automatically verified the email of created user\",",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "808:       notAllowedToRead: \"You're not allowed to read Permission\",",
          "809:     },",
          "810:     help: {",
          "813:     },",
          "814:     header: {",
          "815:       key: \"Key\",",
          "",
          "[Removed Lines]",
          "811:       alwaysAllow: \"After the permission is created, it will assign to every role that created after the permission\",",
          "812:       isPublic: \"Permissions will be publicly available\"",
          "",
          "[Added Lines]",
          "819:       alwaysAllow:",
          "820:         \"After the permission is created, it will assign to every role that created after the permission\",",
          "821:       isPublic: \"Permissions will be publicly available\",",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "1074:       invalid: \"Image is not valid\",",
          "1075:     },",
          "1076:   },",
          "1077:   firebase: {",
          "1078:     title: \"Firebase\",",
          "1079:     feature: \"Feature\",",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1086:   imageManager: {",
          "1087:     title: \"Image Manager\",",
          "1088:     warning: {",
          "1089:       notAllowedToBrowse: \"You're not allowed to browse image manager\",",
          "1090:     },",
          "1091:   },",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1124:   },",
          "1125:   softDelete: {",
          "1126:     crudGenerator: {",
          "1128:     },",
          "1129:   },",
          "1130: };",
          "",
          "[Removed Lines]",
          "1127:       restore : \"Restore\",",
          "",
          "[Added Lines]",
          "1142:       restore: \"Restore\",",
          "",
          "---------------"
        ],
        "src/resources/js/lang/modules/id.js||src/resources/js/lang/modules/id.js": [
          "File: src/resources/js/lang/modules/id.js -> src/resources/js/lang/modules/id.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "1076:       invalid: \"Gambar tidak valid\",",
          "1077:     },",
          "1078:   },",
          "1079:   firebase: {",
          "1080:     title: \"Firebase\",",
          "1081:     feature: \"Fitur\",",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1079:   imageManager: {",
          "1080:     title: \"Pengolahan Image\",",
          "1081:     warning: {",
          "1082:       notAllowedToBrowse: \"Anda tidak diizinkan untuk mengakses gambar manager.\",",
          "1083:     },",
          "1084:   },",
          "",
          "---------------"
        ],
        "src/resources/js/layout/admin/sidebar/SideBar.vue||src/resources/js/layout/admin/sidebar/SideBar.vue": [
          "File: src/resources/js/layout/admin/sidebar/SideBar.vue -> src/resources/js/layout/admin/sidebar/SideBar.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "64:               v-if=\"menu.children && menu.children.length > 0\"",
          "65:               :title=\"menu.title\"",
          "66:               open",
          "67:               :icon=\"menu.iconClass\"",
          "68:               :key=\"index\"",
          "69:             >",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "67:               parentMenu",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "123:         <div :key=\"indexMenu\" v-else>",
          "124:           <template v-for=\"(menu, index) in displayMenu.menuItems\">",
          "125:             <badaso-sidebar-group",
          "126:               v-if=\"menu.children && menu.children.length > 0\"",
          "127:               :title=\"menu.title\"",
          "128:               open",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "127:               parentMenu",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "300:       this.$i18n.locale = item.key;",
          "301:       this.$store.commit(\"badaso/SET_LOCALE\", item);",
          "302:     },",
          "303:   },",
          "304:   watch: {",
          "305:     adminPanelHeaderColor: {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "305:     getTemplate() {",
          "306:       let template = \"\";",
          "307:       template += `<h1>Hello World</h1>`;",
          "308:       return template;",
          "309:     },",
          "",
          "---------------"
        ],
        "src/resources/js/pages/image-manager/browse.vue||src/resources/js/pages/image-manager/browse.vue": [
          "File: src/resources/js/pages/image-manager/browse.vue -> src/resources/js/pages/image-manager/browse.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "7:       <vs-col vs-lg=\"12\">",
          "8:         <vs-card>",
          "9:           <div slot=\"header\">",
          "11:           </div>",
          "12:           <iframe",
          "13:             v-if=\"isShow\"",
          "",
          "[Removed Lines]",
          "10:             <h3>{{ $t(\"fileManager.title\") }}</h3>",
          "",
          "[Added Lines]",
          "10:             <h3>{{ $t(\"imageManager.title\") }}</h3>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "25:         <vs-card>",
          "26:           <vs-row>",
          "27:             <vs-col vs-lg=\"12\">",
          "29:             </vs-col>",
          "30:           </vs-row>",
          "31:         </vs-card>",
          "",
          "[Removed Lines]",
          "28:               <h3>{{ $t(\"fileManager.warning.notAllowedToBrowse\") }}</h3>",
          "",
          "[Added Lines]",
          "28:               <h3>{{ $t(\"imageManager.warning.notAllowedToBrowse\") }}</h3>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "0564616465ee844b923ed2cb8a05521f51d16f28",
      "candidate_info": {
        "commit_hash": "0564616465ee844b923ed2cb8a05521f51d16f28",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/0564616465ee844b923ed2cb8a05521f51d16f28",
        "files": [
          "src/Controllers/Controller.php",
          "src/resources/js/pages/crud-generated/edit.vue"
        ],
        "message": "bugfix v2 component textarea",
        "before_after_code_files": [
          "src/Controllers/Controller.php||src/Controllers/Controller.php",
          "src/resources/js/pages/crud-generated/edit.vue||src/resources/js/pages/crud-generated/edit.vue"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/Controller.php||src/Controllers/Controller.php": [
          "File: src/Controllers/Controller.php -> src/Controllers/Controller.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "369:                             }",
          "370:                         }",
          "371:                     }",
          "373:                 }",
          "374:             }",
          "375:             DB::table($data_type->name)->where('id', $id)->update($new_data);",
          "",
          "[Removed Lines]",
          "372:                     $new_data[$key] = $this->getContentByType($data_type, $data_row, $value);",
          "",
          "[Added Lines]",
          "372:                     $new_data[$key] = $this->getContentByType($data_type, $data_row, $value) != null ?  $this->getContentByType($data_type, $data_row, $value) : '';",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/edit.vue||src/resources/js/pages/crud-generated/edit.vue": [
          "File: src/resources/js/pages/crud-generated/edit.vue -> src/resources/js/pages/crud-generated/edit.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "408:       const dataRows = {};",
          "409:       for (const row of this.dataType.dataRows) {",
          "411:           dataRows[row.field] = row.value;",
          "412:         }",
          "413:       }",
          "",
          "[Removed Lines]",
          "410:         if (row && row.value) {",
          "",
          "[Added Lines]",
          "410:         if (row && row.value || row && row.type == 'textarea') {",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "3cb69ce604dac93c4b2eddca0a2b86c3648907c8",
      "candidate_info": {
        "commit_hash": "3cb69ce604dac93c4b2eddca0a2b86c3648907c8",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/3cb69ce604dac93c4b2eddca0a2b86c3648907c8",
        "files": [
          "src/Controllers/BadasoMaintenanceController.php",
          "tests/Feature/BadasoApiMenuItemTest.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Controllers/BadasoMaintenanceController.php||src/Controllers/BadasoMaintenanceController.php",
          "tests/Feature/BadasoApiMenuItemTest.php||tests/Feature/BadasoApiMenuItemTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoMaintenanceController.php||src/Controllers/BadasoMaintenanceController.php": [
          "File: src/Controllers/BadasoMaintenanceController.php -> src/Controllers/BadasoMaintenanceController.php"
        ],
        "tests/Feature/BadasoApiMenuItemTest.php||tests/Feature/BadasoApiMenuItemTest.php": [
          "File: tests/Feature/BadasoApiMenuItemTest.php -> tests/Feature/BadasoApiMenuItemTest.php"
        ]
      }
    },
    {
      "candidate_hash": "cc7b0bd6379411447086747446d6bafbc3e9c15a",
      "candidate_info": {
        "commit_hash": "cc7b0bd6379411447086747446d6bafbc3e9c15a",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/cc7b0bd6379411447086747446d6bafbc3e9c15a",
        "files": [
          "src/Helpers/GetData.php"
        ],
        "message": "update helpers for permission",
        "before_after_code_files": [
          "src/Helpers/GetData.php||src/Helpers/GetData.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Helpers/GetData.php||src/Helpers/GetData.php": [
          "File: src/Helpers/GetData.php -> src/Helpers/GetData.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "8: use Uasoft\\Badaso\\Models\\DataType;",
          "9: use Uasoft\\Badaso\\Models\\Permission;",
          "10: use Uasoft\\Badaso\\Models\\User;",
          "12: class GetData",
          "13: {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "11: use Uasoft\\Badaso\\Models\\UserRole;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "45:         if ($is_public !== 1) {",
          "46:             $user_roles = auth()->user()->roles;",
          "47:         } else {",
          "53:         }",
          "55:         $is_field = in_array($field_identify_related_user, array_merge($fields, $fields_data_identifier));",
          "",
          "[Removed Lines]",
          "48:             $user_roles = User::with('roles')->get();",
          "49:         }",
          "51:         foreach ($user_roles as $key => $user_role) {",
          "52:             $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "",
          "[Added Lines]",
          "48:             foreach ($user_roles as $key => $user_role) {",
          "49:                 $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "50:             }",
          "52:             $all_user_roles = UserRole::with(['user', 'role'])->get();",
          "53:             $users = json_decode($all_user_roles);",
          "54:             foreach ($users as $key => $user) {",
          "55:                 $user_roles[] = $user->role;",
          "56:                 foreach ($user_roles as $key => $user_role) {",
          "57:                     $is_roles = isset($user_role->name, $roles_can_see_all_data);",
          "58:                 }",
          "59:             }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "141:         if ($is_public !== 1) {",
          "142:             $user_roles = auth()->user()->roles;",
          "143:         } else {",
          "149:         }",
          "151:         $is_field = in_array($field_identify_related_user, array_merge($fields, $fields_data_identifier));",
          "",
          "[Removed Lines]",
          "144:             $user_roles = User::with('roles')->get();",
          "145:         }",
          "147:         foreach ($user_roles as $key => $user_role) {",
          "148:             $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "",
          "[Added Lines]",
          "150:             foreach ($user_roles as $key => $user_role) {",
          "151:                 $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "152:             }",
          "154:             $all_user_roles = UserRole::with(['user', 'role'])->get();",
          "155:             $users = json_decode($all_user_roles);",
          "156:             foreach ($users as $key => $user) {",
          "157:                 $user_roles[] = $user->role;",
          "158:                 foreach ($user_roles as $key => $user_role) {",
          "159:                     $is_roles = isset($user_role->name, $roles_can_see_all_data);",
          "160:                 }",
          "161:             }",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "267:         if ($is_public !== 1) {",
          "268:             $user_roles = auth()->user()->roles;",
          "269:         } else {",
          "275:         }",
          "277:         foreach ($data_rows as $key => $data_row) {",
          "",
          "[Removed Lines]",
          "270:             $user_roles = User::with('roles')->get();",
          "271:         }",
          "273:         foreach ($user_roles as $key => $user_role) {",
          "274:             $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "",
          "[Added Lines]",
          "282:             foreach ($user_roles as $key => $user_role) {",
          "283:                 $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "284:             }",
          "286:             $all_user_roles = UserRole::with(['user', 'role'])->get();",
          "287:             $users = json_decode($all_user_roles);",
          "288:             foreach ($users as $key => $user) {",
          "289:                 $user_roles[] = $user->role;",
          "290:                 foreach ($user_roles as $key => $user_role) {",
          "291:                     $is_roles = isset($user_role->name, $roles_can_see_all_data);",
          "292:                 }",
          "293:             }",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "366:         if ($is_public !== 1) {",
          "367:             $user_roles = auth()->user()->roles;",
          "368:         } else {",
          "374:         }",
          "376:         foreach ($data_rows as $key => $data_row) {",
          "",
          "[Removed Lines]",
          "369:             $user_roles = User::with('roles')->get();",
          "370:         }",
          "372:         foreach ($user_roles as $key => $user_role) {",
          "373:             $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "",
          "[Added Lines]",
          "387:             foreach ($user_roles as $key => $user_role) {",
          "388:                 $is_roles = in_array($user_role->name, $roles_can_see_all_data);",
          "389:             }",
          "391:             $all_user_roles = UserRole::with(['user','role'])->get();",
          "392:             $users = json_decode($all_user_roles);",
          "393:             foreach ($users as $key => $user) {",
          "394:                 $user_roles[] = $user->role;",
          "395:                 foreach ($user_roles as $key => $user_role) {",
          "396:                     $is_roles = isset($user_role->name, $roles_can_see_all_data);",
          "397:                 }",
          "398:             }",
          "",
          "---------------"
        ]
      }
    }
  ]
}