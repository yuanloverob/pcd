{
  "cve_id": "CVE-2022-41711",
  "cve_desc": "Badaso version 2.6.0 allows an unauthenticated remote attacker to execute arbitrary code remotely on the server. This is possible because the application does not properly validate the data uploaded by users.",
  "repo": "uasoft-indonesia/badaso",
  "patch_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
  "patch_info": {
    "commit_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
    "repo": "uasoft-indonesia/badaso",
    "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/22250eca7c364d991ce9e0a723941eae4889d6f9",
    "files": [
      "src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue"
    ],
    "message": "Merge pull request #807 from uasoft-indonesia/bugfix/v2/filter-mimeType\n\nBugfix[v2] add filter mimeType",
    "before_after_code_files": [
      "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue"
    ]
  },
  "patch_diff": {
    "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue": [
      "File: src/resources/js/components/BadasoUploadFile.vue -> src/resources/js/components/BadasoUploadFile.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "336:           });",
      "337:           return;",
      "338:         }",
      "340:         this.uploadFile(files[0]);",
      "341:       }",
      "342:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "339:         if (!this.availableMimetypes.file.validMime.includes(files[0].type)) {",
      "340:           this.$vs.notify({",
      "341:             title: this.$t(\"alert.danger\"),",
      "342:             text: \"File type not allowed\",",
      "343:             color: \"danger\",",
      "344:           });",
      "345:           return;",
      "346:         }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadFileMultiple.vue -> src/resources/js/components/BadasoUploadFileMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "367:             });",
      "368:             return;",
      "369:           }",
      "371:           this.uploadFile(file);",
      "372:         }",
      "373:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "370:           if (!this.availableMimetypes.file.validMime.includes(file.type)) {",
      "371:             this.$vs.notify({",
      "372:               title: this.$t(\"alert.danger\"),",
      "373:               text: \"File type not allowed\",",
      "374:               color: \"danger\",",
      "375:             });",
      "376:             return;",
      "377:           }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue": [
      "File: src/resources/js/components/BadasoUploadImage.vue -> src/resources/js/components/BadasoUploadImage.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "380:           });",
      "381:           return;",
      "382:         }",
      "384:         this.uploadImage(files[0]);",
      "385:       }",
      "386:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "383:         if (!this.availableMimetypes.image.validMime.includes(files[0].type)){",
      "384:           this.$vs.notify({",
      "385:             title: this.$t(\"alert.danger\"),",
      "386:             text: \"File type not allowed\",",
      "387:             color: \"danger\",",
      "388:           });",
      "389:           return;",
      "390:         }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "421:     uploadImage(file) {",
      "422:       const files = new FormData();",
      "423:       files.append(\"upload\", file);",
      "425:       files.append(\"working_dir\", this.getActiveFolder);",
      "426:       this.$api.badasoFile",
      "427:         .uploadUsingLfm(files)",
      "",
      "[Removed Lines]",
      "424:       files.append(\"type\", \"image\");",
      "",
      "[Added Lines]",
      "431:       files.append(\"type\", file.type);",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadImageMultiple.vue -> src/resources/js/components/BadasoUploadImageMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "395:             });",
      "396:             return;",
      "397:           }",
      "399:           this.uploadImage(file);",
      "400:         }",
      "401:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398:           if (!this.availableMimetypes.image.validMime.includes(file.type)) {",
      "399:             this.$vs.notify({",
      "400:               title: this.$t(\"alert.danger\"),",
      "401:               text: \"File type not allowed\",",
      "402:               color: \"danger\",",
      "403:             });",
      "404:             return;",
      "405:           }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "eb68ee4ff58677b17d1b1057f44e2f59655d4cbf",
      "candidate_info": {
        "commit_hash": "eb68ee4ff58677b17d1b1057f44e2f59655d4cbf",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/eb68ee4ff58677b17d1b1057f44e2f59655d4cbf",
        "files": [
          "src/Controllers/BadasoMenuController.php",
          "src/resources/js/layout/admin/sidebar/SideBar.vue",
          "src/resources/js/store/modules/badaso.js"
        ],
        "message": "update menu",
        "before_after_code_files": [
          "src/Controllers/BadasoMenuController.php||src/Controllers/BadasoMenuController.php",
          "src/resources/js/layout/admin/sidebar/SideBar.vue||src/resources/js/layout/admin/sidebar/SideBar.vue",
          "src/resources/js/store/modules/badaso.js||src/resources/js/store/modules/badaso.js"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoMenuController.php||src/Controllers/BadasoMenuController.php": [
          "File: src/Controllers/BadasoMenuController.php -> src/Controllers/BadasoMenuController.php"
        ],
        "src/resources/js/layout/admin/sidebar/SideBar.vue||src/resources/js/layout/admin/sidebar/SideBar.vue": [
          "File: src/resources/js/layout/admin/sidebar/SideBar.vue -> src/resources/js/layout/admin/sidebar/SideBar.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "69:               :key=\"index\"",
          "70:             >",
          "71:               <template v-for=\"(childMenu, indexChildMenu) in menu.children\">",
          "80:                 >",
          "94:               </template>",
          "95:             </badaso-sidebar-group>",
          "96:             <div v-else :key=\"index\">",
          "",
          "[Removed Lines]",
          "72:                 <badaso-sidebar-item",
          "73:                   v-if=\"$helper.isValidHttpUrl(childMenu.url)\"",
          "74:                   :icon=\"childMenu.iconClass ? childMenu.iconClass : 'remove'\"",
          "75:                   :href=\"menu.url\"",
          "76:                   :key=\"`menu-${index}-${indexChildMenu}`\"",
          "77:                   :index=\"`${index}.${indexChildMenu}`\"",
          "78:                   :style=\"`color: ${childMenu.color}`\"",
          "79:                   :target=\"menu.target\"",
          "81:                   <span class=\"hide-in-minisidebar\">{{ childMenu.title }}</span>",
          "82:                 </badaso-sidebar-item>",
          "83:                 <badaso-sidebar-item",
          "84:                   v-else",
          "85:                   :icon=\"childMenu.iconClass ? childMenu.iconClass : 'remove'\"",
          "86:                   :to=\"childMenu.url\"",
          "87:                   :key=\"`menu-${index}-${indexChildMenu}`\"",
          "88:                   :index=\"`${index}.${indexChildMenu}`\"",
          "89:                   :style=\"`color: ${childMenu.color}`\"",
          "90:                   :target=\"menu.target\"",
          "91:                 >",
          "92:                   <span class=\"hide-in-minisidebar\">{{ childMenu.title }}</span>",
          "93:                 </badaso-sidebar-item>",
          "",
          "[Added Lines]",
          "72:                 <badaso-sidebar-group",
          "73:                   v-if=\"childMenu.children && childMenu.children.length > 0\"",
          "74:                   :title=\"childMenu.title\"",
          "75:                   open",
          "76:                   parentMenu",
          "77:                   :icon=\"childMenu.iconClass\"",
          "78:                   :key=\"indexChildMenu\"",
          "80:                   <template",
          "81:                     v-for=\"(subChildMenu, subIndexChildMenu) in childMenu.children\"",
          "82:                   >",
          "83:                     <badaso-sidebar-item",
          "84:                       v-if=\"$helper.isValidHttpUrl(childMenu.url)\"",
          "85:                       :icon=\"",
          "86:                         childMenu.iconClass ? childMenu.iconClass : 'remove'",
          "87:                       \"",
          "88:                       :href=\"subChildMenu.url\"",
          "89:                       :key=\"`subChildMenu-${indexChildMenu}-${subIndexChildMenu}`\"",
          "90:                       :index=\"`${index}.${indexChildMenu}`\"",
          "91:                       :style=\"`color: ${childMenu.color}`\"",
          "92:                       :target=\"subChildMenu.target\"",
          "93:                     >",
          "94:                       <span class=\"hide-in-minisidebar\">{{",
          "95:                         subChildMenu.title",
          "96:                       }}</span>",
          "97:                     </badaso-sidebar-item>",
          "98:                     <badaso-sidebar-item",
          "99:                       v-else",
          "100:                       :icon=\"",
          "101:                         subChildMenu.iconClass ? subChildMenu.iconClass : 'remove'",
          "102:                       \"",
          "103:                       :to=\"subChildMenu.url\"",
          "104:                       :key=\"`subChildMenu-${indexChildMenu}-${subIndexChildMenu}`\"",
          "105:                       :index=\"`${index}.${indexsubChildMenu}`\"",
          "106:                       :style=\"`color: ${subChildMenu.color}`\"",
          "107:                       :target=\"menu.target\"",
          "108:                     >",
          "109:                       <span class=\"hide-in-minisidebar\">{{",
          "110:                         subChildMenu.title",
          "111:                       }}</span>",
          "112:                     </badaso-sidebar-item>",
          "113:                   </template>",
          "114:                 </badaso-sidebar-group>",
          "115:                 <div v-else :key=\"indexChildMenu\">",
          "116:                   <badaso-sidebar-item",
          "117:                     v-if=\"$helper.isValidHttpUrl(childMenu.url)\"",
          "118:                     :icon=\"childMenu.iconClass ? childMenu.iconClass : 'remove'\"",
          "119:                     :href=\"menu.url\"",
          "120:                     :key=\"`menu-${index}-${indexChildMenu}`\"",
          "121:                     :index=\"`${index}.${indexChildMenu}`\"",
          "122:                     :style=\"`color: ${childMenu.color}`\"",
          "123:                     :target=\"menu.target\"",
          "124:                   >",
          "125:                     <span class=\"hide-in-minisidebar\">{{",
          "126:                       childMenu.title",
          "127:                     }}</span>",
          "128:                   </badaso-sidebar-item>",
          "129:                   <badaso-sidebar-item",
          "130:                     v-else",
          "131:                     :icon=\"childMenu.iconClass ? childMenu.iconClass : 'remove'\"",
          "132:                     :to=\"childMenu.url\"",
          "133:                     :key=\"`menu-${index}-${indexChildMenu}`\"",
          "134:                     :index=\"`${index}.${indexChildMenu}`\"",
          "135:                     :style=\"`color: ${childMenu.color}`\"",
          "136:                     :target=\"menu.target\"",
          "137:                   >",
          "138:                     <span class=\"hide-in-minisidebar\">{{",
          "139:                       childMenu.title",
          "140:                     }}</span>",
          "141:                   </badaso-sidebar-item>",
          "142:                 </div>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "193: export default {",
          "194:   name: \"SideBar\",",
          "195:   components: {},",
          "196:   props: {",
          "197:     parent: {",
          "198:       type: String,",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "245:   render(createElement) {",
          "246:     return createElement(\"custom-button\", {",
          "247:       attrs: {",
          "248:         type: \"submit\",",
          "249:       },",
          "250:       props: {",
          "251:         text: this.buttonText,",
          "252:       },",
          "253:     });",
          "254:   },",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "302:       this.$i18n.locale = item.key;",
          "303:       this.$store.commit(\"badaso/SET_LOCALE\", item);",
          "304:     },",
          "310:   },",
          "311:   watch: {",
          "312:     adminPanelHeaderColor: {",
          "",
          "[Removed Lines]",
          "305:     getTemplate() {",
          "306:       let template = \"\";",
          "307:       template += `<h1>Hello World</h1>`;",
          "308:       return template;",
          "309:     },",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/resources/js/store/modules/badaso.js||src/resources/js/store/modules/badaso.js": [
          "File: src/resources/js/store/modules/badaso.js -> src/resources/js/store/modules/badaso.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "15:     groupList: [],",
          "16:     config: {},",
          "17:     user: {",
          "19:     },",
          "20:     locale: lang.languages,",
          "21:     selectedLocale: {",
          "",
          "[Removed Lines]",
          "18:       avatar: 'photos/shares/default-user.png'",
          "",
          "[Added Lines]",
          "18:       avatar: \"photos/shares/default-user.png\",",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "33:     availableMimetypes: {",
          "34:       file: {},",
          "35:       image: {},",
          "37:   },",
          "38:   mutations: {",
          "",
          "[Removed Lines]",
          "36:     }",
          "",
          "[Added Lines]",
          "36:     },",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "47:       const prefix = process.env.MIX_ADMIN_PANEL_ROUTE_PREFIX",
          "48:         ? process.env.MIX_ADMIN_PANEL_ROUTE_PREFIX",
          "49:         : \"badaso-dashboard\";",
          "50:       api.badasoMenu",
          "51:         .browseItemByKeys({})",
          "52:         .then((res) => {",
          "53:           let { data } = res;",
          "54:           state.menu = data.map((menu) => {",
          "65:             return menu;",
          "66:           });",
          "67:         })",
          "",
          "[Removed Lines]",
          "55:             menu.menuItems.map((menuItem) => {",
          "56:               menuItem.url = \"/\" + prefix + menuItem.url;",
          "57:               if (menuItem.children) {",
          "58:                 menuItem.children = menuItem.children.map((menuChildren) => {",
          "59:                   menuChildren.url = \"/\" + prefix + menuChildren.url;",
          "60:                   return menuChildren;",
          "61:                 });",
          "62:               }",
          "63:               return menuItem;",
          "64:             });",
          "",
          "[Added Lines]",
          "52:       const menuItemAddPrefix = (arrayMenuChild, callbackMenuItemAddPrefix) => {",
          "53:         arrayMenuChild = arrayMenuChild.map((menuItem) => {",
          "54:           menuItem.url = \"/\" + prefix + menuItem.url;",
          "56:           if (menuItem.children) {",
          "57:             menuItem.children = callbackMenuItemAddPrefix(",
          "58:               menuItem.children,",
          "59:               callbackMenuItemAddPrefix",
          "60:             );",
          "61:           }",
          "63:           return menuItem;",
          "64:         });",
          "66:         return arrayMenuChild;",
          "67:       };",
          "75:             menu.menuItems = menuItemAddPrefix(",
          "76:               menu.menuItems,",
          "77:               menuItemAddPrefix",
          "78:             );",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "149:       window.location.reload();",
          "150:     },",
          "151:     FETCH_FILE_CONFIGURATION(state) {",
          "160:     },",
          "161:     SET_GLOBAL_STATE(state, { key, value }) {",
          "162:       state[key] = value;",
          "",
          "[Removed Lines]",
          "152:       api.badasoFile.browseConfiguration()",
          "153:       .then(res => {",
          "154:         state.availableMimetypes.image = res.data.image;",
          "155:         state.availableMimetypes.file = res.data.file;",
          "156:       })",
          "157:       .catch(err => {",
          "158:         console.error(err);",
          "159:       })",
          "",
          "[Added Lines]",
          "167:       api.badasoFile",
          "168:         .browseConfiguration()",
          "169:         .then((res) => {",
          "170:           state.availableMimetypes.image = res.data.image;",
          "171:           state.availableMimetypes.file = res.data.file;",
          "172:         })",
          "173:         .catch((err) => {",
          "174:           console.error(err);",
          "175:         });",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "fc6dd7083d0606dda40000ef298b0bae4f72e397",
      "candidate_info": {
        "commit_hash": "fc6dd7083d0606dda40000ef298b0bae4f72e397",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/fc6dd7083d0606dda40000ef298b0bae4f72e397",
        "files": [
          "src/Controllers/BadasoAuthController.php",
          "src/Models/User.php",
          "src/resources/js/pages/auth/verify.vue",
          "src/resources/lang/en/validation.php",
          "src/resources/lang/id/validation.php"
        ],
        "message": "bugfix [v2] add time wait for verification token",
        "before_after_code_files": [
          "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php",
          "src/Models/User.php||src/Models/User.php",
          "src/resources/js/pages/auth/verify.vue||src/resources/js/pages/auth/verify.vue",
          "src/resources/lang/en/validation.php||src/resources/lang/en/validation.php",
          "src/resources/lang/id/validation.php||src/resources/lang/id/validation.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php": [
          "File: src/Controllers/BadasoAuthController.php -> src/Controllers/BadasoAuthController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "175:                 'username' => 'required|string|max:255|alpha_num',",
          "176:                 'phone'    => 'required|numeric|min:6',",
          "177:                 'email'    => 'required|string|email|max:255|unique:Uasoft\\Badaso\\Models\\User',",
          "179:             ]);",
          "181:             $user = User::create([",
          "182:                 'name'     => $request->get('name'),",
          "183:                 'username' => $request->get('username'),",
          "",
          "[Removed Lines]",
          "178:                 'password' => 'required|string|min:6|confirmed',",
          "",
          "[Added Lines]",
          "178:                 'password' => 'required|string|min:6|confirmed'",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "213:                 return $this->createNewToken($token, auth()->user());",
          "214:             } else {",
          "215:                 $token = rand(111111, 999999);",
          "216:                 $token_lifetime = env('VERIFICATION_TOKEN_LIFETIME', 5);",
          "217:                 $expired_token = date('Y-m-d H:i:s', strtotime(\"+$token_lifetime minutes\", strtotime(date('Y-m-d H:i:s'))));",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "215:                 User::where('email', $request->get('email'))->update([",
          "216:                     'last_sent_token_at' => date('Y-m-d H:i:s')",
          "217:                 ]);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "466:             $request->validate([",
          "467:                 'email' => 'required|string|email|max:255',",
          "468:             ]);",
          "470:             $user = User::where('email', $request->email)->first();",
          "471:             $user_verification = UserVerification::where('user_id', $user->id)",
          "472:                 ->first();",
          "474:             if (! $user_verification) {",
          "475:                 throw new SingleException(__('badaso::validation.verification.verification_not_found'));",
          "476:             }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "474:             $time_wait_to_resend_token = Configuration::where('key', 'timeWaitEmailVerify')->first();",
          "475:             $date_now = date('Y-m-d H:i:s');",
          "476:             $time_out_token = date('Y-m-d H:i:s', strtotime($user->last_sent_token_at . ' +  '. $time_wait_to_resend_token->value .' second'));",
          "480:             if ($date_now < $time_out_token) {",
          "481:                 throw new SingleException(__('badaso::validation.verification.time_wait_loading'));",
          "482:             }",
          "484:             User::where('email', $request->get('email'))->update([",
          "485:                 'last_sent_token_at' => date('Y-m-d H:i:s')",
          "486:             ]);",
          "",
          "---------------"
        ],
        "src/Models/User.php||src/Models/User.php": [
          "File: src/Models/User.php -> src/Models/User.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "40:         'password',",
          "41:         'avatar',",
          "42:         'additional_info',",
          "43:     ];",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "43:         'last_sent_token_at',",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "60:     protected $casts = [",
          "61:         'email_verified_at' => 'datetime',",
          "62:     ];",
          "64:     protected static $logAttributes = [",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "63:         'last_sent_token_at' => 'datetime',",
          "",
          "---------------"
        ],
        "src/resources/js/pages/auth/verify.vue||src/resources/js/pages/auth/verify.vue": [
          "File: src/resources/js/pages/auth/verify.vue -> src/resources/js/pages/auth/verify.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "81:       message: \"\",",
          "82:     },",
          "83:     retry: false,",
          "85:   }),",
          "86:   mounted() {",
          "87:     this.email = this.$route.query.email;",
          "89:   },",
          "90:   methods: {",
          "91:     startCounter() {",
          "92:       if (this.timeWait > 0) {",
          "93:         setTimeout(() => {",
          "",
          "[Removed Lines]",
          "84:     timeWait: 60,",
          "88:     this.startCounter();",
          "",
          "[Added Lines]",
          "84:     timeWait: 0,",
          "88:     this.getConfigurationList();",
          "91:     getConfigurationList(){",
          "92:       this.$api.badasoConfiguration",
          "93:         .fetch({",
          "94:           key : \"timeWaitEmailVerify\"",
          "95:         })",
          "96:         .then((response) => {",
          "97:           this.timeWait = response.data.configuration[0].value",
          "98:           this.startCounter();",
          "99:         })",
          "100:         .catch((error) => {",
          "101:           this.$closeLoader();",
          "102:           this.$vs.notify({",
          "103:             title: this.$t(\"alert.danger\"),",
          "104:             text: error.message,",
          "105:             color: \"danger\",",
          "106:           });",
          "107:         });",
          "108:     },",
          "",
          "---------------"
        ],
        "src/resources/lang/en/validation.php||src/resources/lang/en/validation.php": [
          "File: src/resources/lang/en/validation.php -> src/resources/lang/en/validation.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "24:         'email_sended'               => 'An verification mail has been send to your email',",
          "25:         'invalid_verification_token' => 'Invalid verification token',",
          "26:         'verification_not_found'     => 'Verification not found',",
          "27:     ],",
          "28:     'database' => [",
          "29:         'table_already_exists'      => 'Table :table already exists.',",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "27:         'time_wait_loading'          => 'Wait until loaded finish',",
          "",
          "---------------"
        ],
        "src/resources/lang/id/validation.php||src/resources/lang/id/validation.php": [
          "File: src/resources/lang/id/validation.php -> src/resources/lang/id/validation.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:         'email_sended'               => 'Email verifikasi telah dikirim ke alamat email yang dimasukkan',",
          "24:         'invalid_verification_token' => 'Token verifikasi tidak valid',",
          "25:         'verification_not_found'     => 'Verifikasi tidak ditemukan',",
          "26:     ],",
          "27:     'database' => [",
          "28:         'table_already_exists'      => 'Tabel :table sudah ada.',",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "26:         'time_wait_loading'          => 'Tunggu sampai loading selesai',",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "a5ce2b5f94a9300193d12eed64768504229f02ef",
      "candidate_info": {
        "commit_hash": "a5ce2b5f94a9300193d12eed64768504229f02ef",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/a5ce2b5f94a9300193d12eed64768504229f02ef",
        "files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ],
        "message": "update",
        "before_after_code_files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php": [
          "File: src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php -> src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "14:     public function up()",
          "15:     {",
          "18:                 $table->integer('order')->change();",
          "19:             }",
          "20:         });",
          "",
          "[Removed Lines]",
          "16:         Schema::table('menus', function (Blueprint $table) {",
          "17:             if (!Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "",
          "[Added Lines]",
          "16:         Schema::table(config('badaso.database.prefix') . 'menus', function (Blueprint $table) {",
          "17:             if (Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28:     public function down()",
          "29:     {",
          "32:                 $table->integer('order')->change();",
          "33:             }",
          "34:         });",
          "",
          "[Removed Lines]",
          "30:         Schema::table('menus', function (Blueprint $table) {",
          "31:             if (!Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "",
          "[Added Lines]",
          "30:         Schema::table(config('badaso.database.prefix') . 'menus', function (Blueprint $table) {",
          "31:             if (Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "f17c8eb59a1084c9cf0fdf0ea2c787cb8f52cbff",
      "candidate_info": {
        "commit_hash": "f17c8eb59a1084c9cf0fdf0ea2c787cb8f52cbff",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/f17c8eb59a1084c9cf0fdf0ea2c787cb8f52cbff",
        "files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ],
        "message": "Update 2022_03_08_090850_change_order_integer_data_type_in_menus_table.php",
        "before_after_code_files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php": [
          "File: src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php -> src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "14:     public function up()",
          "15:     {",
          "16:         Schema::table('menus', function (Blueprint $table) {",
          "18:                 $table->integer('order')->change();",
          "19:             }",
          "20:         });",
          "",
          "[Removed Lines]",
          "17:             if (! Schema::hasColumn(config('badaso.database.prefix').'menus', 'order')) {",
          "",
          "[Added Lines]",
          "17:             if ( Schema::hasColumn(config('badaso.database.prefix').'menus', 'order')) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28:     public function down()",
          "29:     {",
          "30:         Schema::table('menus', function (Blueprint $table) {",
          "32:                 $table->integer('order')->change();",
          "33:             }",
          "34:         });",
          "",
          "[Removed Lines]",
          "31:             if (! Schema::hasColumn(config('badaso.database.prefix').'menus', 'order')) {",
          "",
          "[Added Lines]",
          "31:             if ( Schema::hasColumn(config('badaso.database.prefix').'menus', 'order')) {",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "70c5f6d2e376150567556beff863d22d3d993a4a",
      "candidate_info": {
        "commit_hash": "70c5f6d2e376150567556beff863d22d3d993a4a",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/70c5f6d2e376150567556beff863d22d3d993a4a",
        "files": [
          "src/Controllers/BadasoBaseController.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Controllers/BadasoBaseController.php||src/Controllers/BadasoBaseController.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoBaseController.php||src/Controllers/BadasoBaseController.php": [
          "File: src/Controllers/BadasoBaseController.php -> src/Controllers/BadasoBaseController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: use Exception;",
          "6: use Illuminate\\Http\\Request;",
          "7: use Illuminate\\Support\\Facades\\DB;",
          "9: use Uasoft\\Badaso\\Helpers\\ApiResponse;",
          "10: use Uasoft\\Badaso\\Helpers\\Firebase\\FCMNotification;",
          "11: use Uasoft\\Badaso\\Helpers\\GetData;",
          "",
          "[Removed Lines]",
          "8: use Uasoft\\Badaso\\Database\\Schema\\SchemaManager;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "85:             $request->validate([",
          "86:                 'data' => [",
          "87:                     'required',",
          "89:                         $slug = $this->getSlug($request);",
          "90:                         $data_type = $this->getDataType($slug);",
          "91:                         $table_entity = DB::table($data_type->name)->where('id', $request->data['id'])->first();",
          "93:                             $fail(__('badaso::validation.crud.id_not_exist'));",
          "94:                         }",
          "96:                 ],",
          "97:             ]);",
          "",
          "[Removed Lines]",
          "88:                     function($attribute, $value, $fail) use ($request) {",
          "92:                         if(is_null($table_entity)){",
          "95:                     }",
          "",
          "[Added Lines]",
          "87:                     function ($attribute, $value, $fail) use ($request) {",
          "91:                         if (is_null($table_entity)) {",
          "94:                     },",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "175:                 'slug' => 'required',",
          "176:                 'data' => [",
          "177:                     'required',",
          "179:                         $slug = $this->getSlug($request);",
          "180:                         $data_type = $this->getDataType($slug);",
          "181:                         $table_entity = DB::table($data_type->name)->where('id', $request->data[0]['value'])->first();",
          "184:                             $fail(__('badaso::validation.crud.id_not_exist'));",
          "185:                         }",
          "187:                 ],",
          "188:                 'data.*.field' => ['required'],",
          "189:                 'data.*.value' => ['required'],",
          "",
          "[Removed Lines]",
          "178:                     function($attribute, $value, $fail) use ($request) {",
          "183:                         if(is_null($table_entity)){",
          "186:                     }",
          "",
          "[Added Lines]",
          "177:                     function ($attribute, $value, $fail) use ($request) {",
          "182:                         if (is_null($table_entity)) {",
          "185:                     },",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "260:                 'slug' => 'required',",
          "261:                 'data' => [",
          "262:                     'required',",
          "264:                         $slug = $this->getSlug($request);",
          "265:                         $data_type = $this->getDataType($slug);",
          "",
          "[Removed Lines]",
          "263:                     function($attribute, $value, $fail) use ($request) {",
          "",
          "[Added Lines]",
          "262:                     function ($attribute, $value, $fail) use ($request) {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "269:                         $id_list = explode(',', $ids);",
          "270:                         foreach ($id_list as $id) {",
          "271:                             $table_entity = DB::table($data_type->name)->where('id', $id)->first();",
          "275:                         }",
          "277:                 ],",
          "278:                 'data.*.field' => ['required'],",
          "279:                 'data.*.value' => ['required'],",
          "",
          "[Removed Lines]",
          "272:                             if(is_null($table_entity)){",
          "273:                                     $fail(__('badaso::validation.crud.id_not_exist'));",
          "274:                                 }",
          "276:                     }",
          "",
          "[Added Lines]",
          "271:                             if (is_null($table_entity)) {",
          "272:                                 $fail(__('badaso::validation.crud.id_not_exist'));",
          "273:                             }",
          "275:                     },",
          "",
          "---------------"
        ]
      }
    }
  ]
}