{
  "cve_id": "CVE-2022-24722",
  "cve_desc": "VIewComponent is a framework for building view components in Ruby on Rails. Versions prior to 2.31.2 and 2.49.1 contain a cross-site scripting vulnerability that has the potential to impact anyone using translations with the view_component gem. Data received via user input and passed as an interpolation argument to the `translate` method is not properly sanitized before display. Versions 2.31.2 and 2.49.1 have been released and fully mitigate the vulnerability. As a workaround, avoid passing user input to the `translate` function, or sanitize the inputs before passing them.",
  "repo": "github/view_component",
  "patch_hash": "3f82a6e62578ff6f361aba24a1feb2caccf83ff9",
  "patch_info": {
    "commit_hash": "3f82a6e62578ff6f361aba24a1feb2caccf83ff9",
    "repo": "github/view_component",
    "commit_url": "https://github.com/github/view_component/commit/3f82a6e62578ff6f361aba24a1feb2caccf83ff9",
    "files": [
      "Gemfile.lock",
      "docs/CHANGELOG.md",
      "lib/view_component/translatable.rb",
      "test/sandbox/app/components/translatable_component.yml",
      "test/view_component/translatable_test.rb"
    ],
    "message": "Fix XSS vulnerability when using HTML-safe translations and interpolation arguments (#1295)",
    "before_after_code_files": [
      "Gemfile.lock||Gemfile.lock",
      "lib/view_component/translatable.rb||lib/view_component/translatable.rb",
      "test/view_component/translatable_test.rb||test/view_component/translatable_test.rb"
    ]
  },
  "patch_diff": {
    "Gemfile.lock||Gemfile.lock": [
      "File: Gemfile.lock -> Gemfile.lock",
      "--- Hunk 1 ---",
      "[Context before]",
      "1: PATH",
      "2:   remote: .",
      "3:   specs:",
      "5:       activesupport (>= 5.0.0, < 8.0)",
      "6:       method_source (~> 1.0)",
      "8: GEM",
      "9:   remote: https://rubygems.org/",
      "10:   specs:",
      "14:       nio4r (~> 2.0)",
      "15:       websocket-driver (>= 0.6.1)",
      "22:       mail (>= 2.7.1)",
      "23:       net-imap",
      "24:       net-pop",
      "25:       net-smtp",
      "31:       mail (~> 2.5, >= 2.5.4)",
      "32:       net-imap",
      "33:       net-pop",
      "34:       net-smtp",
      "35:       rails-dom-testing (~> 2.0)",
      "39:       rack (~> 2.0, >= 2.2.0)",
      "40:       rack-test (>= 0.6.3)",
      "41:       rails-dom-testing (~> 2.0)",
      "42:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
      "48:       globalid (>= 0.6.0)",
      "49:       nokogiri (>= 1.8.5)",
      "52:       builder (~> 3.1)",
      "53:       erubi (~> 1.4)",
      "54:       rails-dom-testing (~> 2.0)",
      "55:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
      "58:       globalid (>= 0.3.6)",
      "69:       marcel (~> 1.0)",
      "70:       mini_mime (>= 1.1.0)",
      "72:       concurrent-ruby (~> 1.0, >= 1.0.2)",
      "73:       i18n (>= 1.6, < 2)",
      "74:       minitest (>= 5.1)",
      "",
      "[Removed Lines]",
      "4:     view_component (2.48.0)",
      "11:     actioncable (7.0.1)",
      "12:       actionpack (= 7.0.1)",
      "13:       activesupport (= 7.0.1)",
      "16:     actionmailbox (7.0.1)",
      "17:       actionpack (= 7.0.1)",
      "18:       activejob (= 7.0.1)",
      "19:       activerecord (= 7.0.1)",
      "20:       activestorage (= 7.0.1)",
      "21:       activesupport (= 7.0.1)",
      "26:     actionmailer (7.0.1)",
      "27:       actionpack (= 7.0.1)",
      "28:       actionview (= 7.0.1)",
      "29:       activejob (= 7.0.1)",
      "30:       activesupport (= 7.0.1)",
      "36:     actionpack (7.0.1)",
      "37:       actionview (= 7.0.1)",
      "38:       activesupport (= 7.0.1)",
      "43:     actiontext (7.0.1)",
      "44:       actionpack (= 7.0.1)",
      "45:       activerecord (= 7.0.1)",
      "46:       activestorage (= 7.0.1)",
      "47:       activesupport (= 7.0.1)",
      "50:     actionview (7.0.1)",
      "51:       activesupport (= 7.0.1)",
      "56:     activejob (7.0.1)",
      "57:       activesupport (= 7.0.1)",
      "59:     activemodel (7.0.1)",
      "60:       activesupport (= 7.0.1)",
      "61:     activerecord (7.0.1)",
      "62:       activemodel (= 7.0.1)",
      "63:       activesupport (= 7.0.1)",
      "64:     activestorage (7.0.1)",
      "65:       actionpack (= 7.0.1)",
      "66:       activejob (= 7.0.1)",
      "67:       activerecord (= 7.0.1)",
      "68:       activesupport (= 7.0.1)",
      "71:     activesupport (7.0.1)",
      "",
      "[Added Lines]",
      "4:     view_component (2.49.0)",
      "11:     actioncable (7.0.2)",
      "12:       actionpack (= 7.0.2)",
      "13:       activesupport (= 7.0.2)",
      "16:     actionmailbox (7.0.2)",
      "17:       actionpack (= 7.0.2)",
      "18:       activejob (= 7.0.2)",
      "19:       activerecord (= 7.0.2)",
      "20:       activestorage (= 7.0.2)",
      "21:       activesupport (= 7.0.2)",
      "26:     actionmailer (7.0.2)",
      "27:       actionpack (= 7.0.2)",
      "28:       actionview (= 7.0.2)",
      "29:       activejob (= 7.0.2)",
      "30:       activesupport (= 7.0.2)",
      "36:     actionpack (7.0.2)",
      "37:       actionview (= 7.0.2)",
      "38:       activesupport (= 7.0.2)",
      "43:     actiontext (7.0.2)",
      "44:       actionpack (= 7.0.2)",
      "45:       activerecord (= 7.0.2)",
      "46:       activestorage (= 7.0.2)",
      "47:       activesupport (= 7.0.2)",
      "50:     actionview (7.0.2)",
      "51:       activesupport (= 7.0.2)",
      "56:     activejob (7.0.2)",
      "57:       activesupport (= 7.0.2)",
      "59:     activemodel (7.0.2)",
      "60:       activesupport (= 7.0.2)",
      "61:     activerecord (7.0.2)",
      "62:       activemodel (= 7.0.2)",
      "63:       activesupport (= 7.0.2)",
      "64:     activestorage (7.0.2)",
      "65:       actionpack (= 7.0.2)",
      "66:       activejob (= 7.0.2)",
      "67:       activerecord (= 7.0.2)",
      "68:       activesupport (= 7.0.2)",
      "71:     activesupport (7.0.2)",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "120:       temple (>= 0.8.0)",
      "121:       tilt",
      "122:     html_tokenizer (0.0.7)",
      "124:       concurrent-ruby (~> 1.0)",
      "125:     io-wait (0.2.1)",
      "126:     jbuilder (2.11.5)",
      "127:       actionview (>= 5.0.0)",
      "128:       activesupport (>= 5.0.0)",
      "130:       crass (~> 1.0.2)",
      "131:       nokogiri (>= 1.5.9)",
      "132:     mail (2.7.1)",
      "",
      "[Removed Lines]",
      "123:     i18n (1.8.11)",
      "129:     loofah (2.13.0)",
      "",
      "[Added Lines]",
      "123:     i18n (1.10.0)",
      "129:     loofah (2.14.0)",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "135:     matrix (0.4.2)",
      "136:     method_source (1.0.0)",
      "137:     mini_mime (1.1.2)",
      "139:     minitest (5.6.0)",
      "140:     net-imap (0.2.3)",
      "141:       digest",
      "",
      "[Removed Lines]",
      "138:     mini_portile2 (2.7.1)",
      "",
      "[Added Lines]",
      "138:     mini_portile2 (2.8.0)",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "153:       net-protocol",
      "154:       timeout",
      "155:     nio4r (2.5.8)",
      "158:       racc (~> 1.4)",
      "159:     parallel (1.21.0)",
      "161:       ast (~> 2.4.1)",
      "162:     pry (0.14.1)",
      "163:       coderay (~> 1.1)",
      "",
      "[Removed Lines]",
      "156:     nokogiri (1.13.1)",
      "157:       mini_portile2 (~> 2.7.0)",
      "160:     parser (3.1.0.0)",
      "",
      "[Added Lines]",
      "156:     nokogiri (1.13.3)",
      "157:       mini_portile2 (~> 2.8.0)",
      "160:     parser (3.1.1.0)",
      "",
      "---------------",
      "--- Hunk 5 ---",
      "[Context before]",
      "167:     rack (2.2.3)",
      "168:     rack-test (1.1.0)",
      "169:       rack (>= 1.0, < 3)",
      "182:       bundler (>= 1.15.0)",
      "184:     rails-dom-testing (2.0.3)",
      "185:       activesupport (>= 4.2.0)",
      "186:       nokogiri (>= 1.6)",
      "187:     rails-html-sanitizer (1.4.2)",
      "188:       loofah (~> 2.3)",
      "192:       method_source",
      "193:       rake (>= 12.2)",
      "194:       thor (~> 1.0)",
      "195:       zeitwerk (~> 2.5)",
      "196:     rainbow (3.1.1)",
      "197:     rake (13.0.6)",
      "199:     rexml (3.2.5)",
      "200:     rubocop (1.13.0)",
      "201:       parallel (~> 1.10)",
      "",
      "[Removed Lines]",
      "170:     rails (7.0.1)",
      "171:       actioncable (= 7.0.1)",
      "172:       actionmailbox (= 7.0.1)",
      "173:       actionmailer (= 7.0.1)",
      "174:       actionpack (= 7.0.1)",
      "175:       actiontext (= 7.0.1)",
      "176:       actionview (= 7.0.1)",
      "177:       activejob (= 7.0.1)",
      "178:       activemodel (= 7.0.1)",
      "179:       activerecord (= 7.0.1)",
      "180:       activestorage (= 7.0.1)",
      "181:       activesupport (= 7.0.1)",
      "183:       railties (= 7.0.1)",
      "189:     railties (7.0.1)",
      "190:       actionpack (= 7.0.1)",
      "191:       activesupport (= 7.0.1)",
      "198:     regexp_parser (2.2.0)",
      "",
      "[Added Lines]",
      "170:     rails (7.0.2)",
      "171:       actioncable (= 7.0.2)",
      "172:       actionmailbox (= 7.0.2)",
      "173:       actionmailer (= 7.0.2)",
      "174:       actionpack (= 7.0.2)",
      "175:       actiontext (= 7.0.2)",
      "176:       actionview (= 7.0.2)",
      "177:       activejob (= 7.0.2)",
      "178:       activemodel (= 7.0.2)",
      "179:       activerecord (= 7.0.2)",
      "180:       activestorage (= 7.0.2)",
      "181:       activesupport (= 7.0.2)",
      "183:       railties (= 7.0.2)",
      "189:     railties (7.0.2)",
      "190:       actionpack (= 7.0.2)",
      "191:       activesupport (= 7.0.2)",
      "198:     regexp_parser (2.2.1)",
      "",
      "---------------",
      "--- Hunk 6 ---",
      "[Context before]",
      "206:       rubocop-ast (>= 1.2.0, < 2.0)",
      "207:       ruby-progressbar (~> 1.7)",
      "208:       unicode-display_width (>= 1.4.0, < 3.0)",
      "211:     rubocop-github (0.16.2)",
      "212:       rubocop (<= 1.13.0)",
      "213:       rubocop-performance (<= 1.11.0)",
      "",
      "[Removed Lines]",
      "209:     rubocop-ast (1.15.1)",
      "210:       parser (>= 3.0.1.1)",
      "",
      "[Added Lines]",
      "209:     rubocop-ast (1.16.0)",
      "210:       parser (>= 3.1.1.0)",
      "",
      "---------------",
      "--- Hunk 7 ---",
      "[Context before]",
      "232:       temple (>= 0.7.6, < 0.9)",
      "233:       tilt (>= 2.0.6, < 2.1)",
      "234:     smart_properties (1.17.0)",
      "236:       concurrent-ruby (~> 1.0)",
      "237:       rack (> 1, < 3)",
      "238:     sprockets-rails (3.2.2)",
      "",
      "[Removed Lines]",
      "235:     sprockets (4.0.2)",
      "",
      "[Added Lines]",
      "235:     sprockets (4.0.3)",
      "",
      "---------------",
      "--- Hunk 8 ---",
      "[Context before]",
      "259:       webrick (~> 1.7.0)",
      "260:     yard-activesupport-concern (0.0.1)",
      "261:       yard (>= 0.8)",
      "264: PLATFORMS",
      "265:   ruby",
      "",
      "[Removed Lines]",
      "262:     zeitwerk (2.5.3)",
      "",
      "[Added Lines]",
      "262:     zeitwerk (2.5.4)",
      "",
      "---------------",
      "--- Hunk 9 ---",
      "[Context before]",
      "274:   haml (~> 5)",
      "275:   jbuilder (~> 2)",
      "276:   minitest (= 5.6.0)",
      "280:   pry (~> 0.13)",
      "282:   rake (~> 13.0)",
      "283:   rubocop-github (~> 0.16.1)",
      "284:   simplecov (~> 0.18.0)",
      "",
      "[Removed Lines]",
      "277:   net-imap",
      "278:   net-pop",
      "279:   net-smtp",
      "281:   rails (~> 7.0.0)",
      "",
      "[Added Lines]",
      "278:   rails (= 7.0.2)",
      "",
      "---------------"
    ],
    "lib/view_component/translatable.rb||lib/view_component/translatable.rb": [
      "File: lib/view_component/translatable.rb -> lib/view_component/translatable.rb",
      "--- Hunk 1 ---",
      "[Context before]",
      "1: # frozen_string_literal: true",
      "3: require \"set\"",
      "4: require \"i18n\"",
      "5: require \"action_view/helpers/translation_helper\"",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "3: require \"erb\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "70:       key = key&.to_s unless key.is_a?(String)",
      "71:       key = \"#{i18n_scope}#{key}\" if key.start_with?(\".\")",
      "73:       if key.start_with?(i18n_scope + \".\")",
      "74:         translated =",
      "75:           catch(:exception) do",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "74:       if HTML_SAFE_TRANSLATION_KEY.match?(key)",
      "75:         html_escape_translation_options!(options)",
      "76:       end",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "107:         translation.html_safe # rubocop:disable Rails/OutputSafety",
      "108:       end",
      "109:     end",
      "110:   end",
      "111: end",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "116:     private",
      "118:     def html_escape_translation_options!(options)",
      "119:       options.each do |name, value|",
      "120:         unless i18n_option?(name) || (name == :count && value.is_a?(Numeric))",
      "121:           options[name] = ERB::Util.html_escape(value.to_s)",
      "122:         end",
      "123:       end",
      "124:     end",
      "126:     def i18n_option?(name)",
      "127:       (@i18n_option_names ||= I18n::RESERVED_KEYS.to_set).include?(name)",
      "128:     end",
      "",
      "---------------"
    ],
    "test/view_component/translatable_test.rb||test/view_component/translatable_test.rb": [
      "File: test/view_component/translatable_test.rb -> test/view_component/translatable_test.rb",
      "--- Hunk 1 ---",
      "[Context before]",
      "58:     assert_predicate translate(\".hello_html\"), :html_safe?",
      "59:   end",
      "61:   def test_translate_uses_the_helper_when_no_sidecar_file_is_provided",
      "62:     # The cache needs to be kept clean for TranslatableComponent, otherwise it will rely on the",
      "63:     # already created i18n_backend.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "61:   def test_translate_with_html_suffix_escapes_interpolated_arguments",
      "62:     translation = translate(\".interpolated_html\", horse_count: \"<script type='text/javascript'>alert('foo');</script>\")",
      "63:     assert_equal(",
      "64:       \"There are &lt;script type=&#39;text/javascript&#39;&gt;alert(&#39;foo&#39;);&lt;/script&gt; horses in the \"\\",
      "65:         \"<strong>barn</strong>!\",",
      "66:       translation",
      "67:     )",
      "68:   end",
      "70:   def test_translate_with_html_suffix_does_not_double_escape",
      "71:     translation = translate(\".interpolated_html\", horse_count: \"> 4\")",
      "72:     assert_equal(",
      "73:       \"There are &gt; 4 horses in the <strong>barn</strong>!\",",
      "74:       translation",
      "75:     )",
      "76:   end",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "f4fdae705e3764f4fe85bc8f49a4a5031dc51dd8",
      "candidate_info": {
        "commit_hash": "f4fdae705e3764f4fe85bc8f49a4a5031dc51dd8",
        "repo": "github/view_component",
        "commit_url": "https://github.com/github/view_component/commit/f4fdae705e3764f4fe85bc8f49a4a5031dc51dd8",
        "files": [
          "Gemfile",
          "Gemfile.lock",
          "docs/CHANGELOG.md",
          "lib/view_component/polymorphic_slots.rb",
          "lib/view_component/slotable_v2.rb",
          "test/sandbox/test/rendering_test.rb",
          "test/sandbox/test/translatable_test.rb"
        ],
        "message": "Pin CI to non-broken rails main (#1429)\n\n* Pin CI to non-broken rails main\n\nhttps://github.com/rails/rails/pull/45614 broke\nour Global Output Buffer\n\n* I don't know why standard failed here but :shrug:\n\n* add changelog",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock",
          "lib/view_component/polymorphic_slots.rb||lib/view_component/polymorphic_slots.rb",
          "lib/view_component/slotable_v2.rb||lib/view_component/slotable_v2.rb",
          "test/sandbox/test/rendering_test.rb||test/sandbox/test/rendering_test.rb",
          "test/sandbox/test/translatable_test.rb||test/sandbox/test/translatable_test.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "Gemfile.lock||Gemfile.lock"
          ],
          "candidate": [
            "Gemfile.lock||Gemfile.lock"
          ]
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "10:   specs:",
          "14:       nio4r (~> 2.0)",
          "15:       websocket-driver (>= 0.6.1)",
          "22:       mail (>= 2.7.1)",
          "23:       net-imap",
          "24:       net-pop",
          "25:       net-smtp",
          "31:       mail (~> 2.5, >= 2.5.4)",
          "32:       net-imap",
          "33:       net-pop",
          "34:       net-smtp",
          "35:       rails-dom-testing (~> 2.0)",
          "39:       rack (~> 2.0, >= 2.2.0)",
          "40:       rack-test (>= 0.6.3)",
          "41:       rails-dom-testing (~> 2.0)",
          "42:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "48:       globalid (>= 0.6.0)",
          "49:       nokogiri (>= 1.8.5)",
          "52:       builder (~> 3.1)",
          "53:       erubi (~> 1.4)",
          "54:       rails-dom-testing (~> 2.0)",
          "55:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "58:       globalid (>= 0.3.6)",
          "69:       marcel (~> 1.0)",
          "70:       mini_mime (>= 1.1.0)",
          "72:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "73:       i18n (>= 1.6, < 2)",
          "74:       minitest (>= 5.1)",
          "75:       tzinfo (~> 2.0)",
          "76:     addressable (2.8.0)",
          "77:       public_suffix (>= 2.0.2, < 5.0)",
          "78:     ansi (1.5.0)",
          "",
          "[Removed Lines]",
          "1: PATH",
          "2:   remote: .",
          "3:   specs:",
          "4:     view_component (2.61.0)",
          "5:       activesupport (>= 5.0.0, < 8.0)",
          "6:       method_source (~> 1.0)",
          "8: GEM",
          "9:   remote: https://rubygems.org/",
          "11:     actioncable (7.0.3)",
          "12:       actionpack (= 7.0.3)",
          "13:       activesupport (= 7.0.3)",
          "16:     actionmailbox (7.0.3)",
          "17:       actionpack (= 7.0.3)",
          "18:       activejob (= 7.0.3)",
          "19:       activerecord (= 7.0.3)",
          "20:       activestorage (= 7.0.3)",
          "21:       activesupport (= 7.0.3)",
          "26:     actionmailer (7.0.3)",
          "27:       actionpack (= 7.0.3)",
          "28:       actionview (= 7.0.3)",
          "29:       activejob (= 7.0.3)",
          "30:       activesupport (= 7.0.3)",
          "36:     actionpack (7.0.3)",
          "37:       actionview (= 7.0.3)",
          "38:       activesupport (= 7.0.3)",
          "43:     actiontext (7.0.3)",
          "44:       actionpack (= 7.0.3)",
          "45:       activerecord (= 7.0.3)",
          "46:       activestorage (= 7.0.3)",
          "47:       activesupport (= 7.0.3)",
          "50:     actionview (7.0.3)",
          "51:       activesupport (= 7.0.3)",
          "56:     activejob (7.0.3)",
          "57:       activesupport (= 7.0.3)",
          "59:     activemodel (7.0.3)",
          "60:       activesupport (= 7.0.3)",
          "61:     activerecord (7.0.3)",
          "62:       activemodel (= 7.0.3)",
          "63:       activesupport (= 7.0.3)",
          "64:     activestorage (7.0.3)",
          "65:       actionpack (= 7.0.3)",
          "66:       activejob (= 7.0.3)",
          "67:       activerecord (= 7.0.3)",
          "68:       activesupport (= 7.0.3)",
          "71:     activesupport (7.0.3)",
          "",
          "[Added Lines]",
          "1: GIT",
          "2:   remote: https://github.com/rails/rails",
          "3:   revision: 71c59c69f40cef908d0a97ef4b4c5496778559e5",
          "4:   ref: 71c59c69f40cef908d0a97ef4b4c5496778559e5",
          "6:     actioncable (7.1.0.alpha)",
          "7:       actionpack (= 7.1.0.alpha)",
          "8:       activesupport (= 7.1.0.alpha)",
          "11:       zeitwerk (~> 2.6)",
          "12:     actionmailbox (7.1.0.alpha)",
          "13:       actionpack (= 7.1.0.alpha)",
          "14:       activejob (= 7.1.0.alpha)",
          "15:       activerecord (= 7.1.0.alpha)",
          "16:       activestorage (= 7.1.0.alpha)",
          "17:       activesupport (= 7.1.0.alpha)",
          "22:     actionmailer (7.1.0.alpha)",
          "23:       actionpack (= 7.1.0.alpha)",
          "24:       actionview (= 7.1.0.alpha)",
          "25:       activejob (= 7.1.0.alpha)",
          "26:       activesupport (= 7.1.0.alpha)",
          "32:     actionpack (7.1.0.alpha)",
          "33:       actionview (= 7.1.0.alpha)",
          "34:       activesupport (= 7.1.0.alpha)",
          "39:     actiontext (7.1.0.alpha)",
          "40:       actionpack (= 7.1.0.alpha)",
          "41:       activerecord (= 7.1.0.alpha)",
          "42:       activestorage (= 7.1.0.alpha)",
          "43:       activesupport (= 7.1.0.alpha)",
          "46:     actionview (7.1.0.alpha)",
          "47:       activesupport (= 7.1.0.alpha)",
          "52:     activejob (7.1.0.alpha)",
          "53:       activesupport (= 7.1.0.alpha)",
          "55:     activemodel (7.1.0.alpha)",
          "56:       activesupport (= 7.1.0.alpha)",
          "57:     activerecord (7.1.0.alpha)",
          "58:       activemodel (= 7.1.0.alpha)",
          "59:       activesupport (= 7.1.0.alpha)",
          "60:     activestorage (7.1.0.alpha)",
          "61:       actionpack (= 7.1.0.alpha)",
          "62:       activejob (= 7.1.0.alpha)",
          "63:       activerecord (= 7.1.0.alpha)",
          "64:       activesupport (= 7.1.0.alpha)",
          "67:     activesupport (7.1.0.alpha)",
          "69:       connection_pool (>= 2.2.5)",
          "73:     rails (7.1.0.alpha)",
          "74:       actioncable (= 7.1.0.alpha)",
          "75:       actionmailbox (= 7.1.0.alpha)",
          "76:       actionmailer (= 7.1.0.alpha)",
          "77:       actionpack (= 7.1.0.alpha)",
          "78:       actiontext (= 7.1.0.alpha)",
          "79:       actionview (= 7.1.0.alpha)",
          "80:       activejob (= 7.1.0.alpha)",
          "81:       activemodel (= 7.1.0.alpha)",
          "82:       activerecord (= 7.1.0.alpha)",
          "83:       activestorage (= 7.1.0.alpha)",
          "84:       activesupport (= 7.1.0.alpha)",
          "85:       bundler (>= 1.15.0)",
          "86:       railties (= 7.1.0.alpha)",
          "87:     railties (7.1.0.alpha)",
          "88:       actionpack (= 7.1.0.alpha)",
          "89:       activesupport (= 7.1.0.alpha)",
          "90:       method_source",
          "91:       rake (>= 12.2)",
          "92:       thor (~> 1.0)",
          "93:       zeitwerk (~> 2.6)",
          "95: PATH",
          "96:   remote: .",
          "97:   specs:",
          "98:     view_component (2.61.0)",
          "99:       activesupport (>= 5.0.0, < 8.0)",
          "100:       method_source (~> 1.0)",
          "102: GEM",
          "103:   remote: https://rubygems.org/",
          "104:   specs:",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "102:       xpath (~> 3.2)",
          "103:     coderay (1.1.3)",
          "104:     concurrent-ruby (1.1.10)",
          "105:     crass (1.0.6)",
          "106:     diff-lcs (1.5.0)",
          "107:     digest (3.1.0)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "134:     connection_pool (2.2.5)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "121:       temple (>= 0.8.0)",
          "122:       tilt",
          "123:     html_tokenizer (0.0.7)",
          "125:       concurrent-ruby (~> 1.0)",
          "126:     jbuilder (2.11.5)",
          "127:       actionview (>= 5.0.0)",
          "128:       activesupport (>= 5.0.0)",
          "129:     loofah (2.18.0)",
          "130:       crass (~> 1.0.2)",
          "131:       nokogiri (>= 1.5.9)",
          "",
          "[Removed Lines]",
          "124:     i18n (1.10.0)",
          "",
          "[Added Lines]",
          "154:     i18n (1.12.0)",
          "159:     json (2.6.2)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "135:     matrix (0.4.2)",
          "136:     method_source (1.0.0)",
          "137:     mini_mime (1.1.2)",
          "139:     minitest (5.6.0)",
          "140:     net-imap (0.2.3)",
          "141:       digest",
          "",
          "[Removed Lines]",
          "138:     mini_portile2 (2.4.0)",
          "",
          "[Added Lines]",
          "169:     mini_portile2 (2.8.0)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "152:       net-protocol",
          "153:       timeout",
          "154:     nio4r (2.5.8)",
          "157:     parallel (1.22.1)",
          "158:     parser (3.1.2.0)",
          "159:       ast (~> 2.4.1)",
          "",
          "[Removed Lines]",
          "155:     nokogiri (1.10.10)",
          "156:       mini_portile2 (~> 2.4.0)",
          "",
          "[Added Lines]",
          "186:     nokogiri (1.13.7)",
          "187:       mini_portile2 (~> 2.8.0)",
          "188:       racc (~> 1.4)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "161:       coderay (~> 1.1)",
          "162:       method_source (~> 1.0)",
          "163:     public_suffix (4.0.7)",
          "181:     rails-dom-testing (2.0.3)",
          "182:       activesupport (>= 4.2.0)",
          "183:       nokogiri (>= 1.6)",
          "184:     rails-html-sanitizer (1.4.3)",
          "185:       loofah (~> 2.3)",
          "193:     rainbow (3.1.1)",
          "194:     rake (13.0.6)",
          "196:     rexml (3.2.5)",
          "197:     rspec-core (3.11.0)",
          "198:       rspec-support (~> 3.11.0)",
          "",
          "[Removed Lines]",
          "164:     rack (2.2.3.1)",
          "165:     rack-test (1.1.0)",
          "166:       rack (>= 1.0, < 3)",
          "167:     rails (7.0.3)",
          "168:       actioncable (= 7.0.3)",
          "169:       actionmailbox (= 7.0.3)",
          "170:       actionmailer (= 7.0.3)",
          "171:       actionpack (= 7.0.3)",
          "172:       actiontext (= 7.0.3)",
          "173:       actionview (= 7.0.3)",
          "174:       activejob (= 7.0.3)",
          "175:       activemodel (= 7.0.3)",
          "176:       activerecord (= 7.0.3)",
          "177:       activestorage (= 7.0.3)",
          "178:       activesupport (= 7.0.3)",
          "179:       bundler (>= 1.15.0)",
          "180:       railties (= 7.0.3)",
          "186:     railties (7.0.3)",
          "187:       actionpack (= 7.0.3)",
          "188:       activesupport (= 7.0.3)",
          "189:       method_source",
          "190:       rake (>= 12.2)",
          "191:       thor (~> 1.0)",
          "192:       zeitwerk (~> 2.5)",
          "195:     regexp_parser (2.4.0)",
          "",
          "[Added Lines]",
          "196:     racc (1.6.0)",
          "197:     rack (2.2.4)",
          "198:     rack-test (2.0.2)",
          "199:       rack (>= 1.3)",
          "207:     regexp_parser (2.5.0)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "211:       rspec-mocks (~> 3.10)",
          "212:       rspec-support (~> 3.10)",
          "213:     rspec-support (3.11.0)",
          "215:       parallel (~> 1.10)",
          "217:       rainbow (>= 2.2.2, < 4.0)",
          "218:       regexp_parser (>= 1.8, < 3.0)",
          "221:       ruby-progressbar (~> 1.7)",
          "222:       unicode-display_width (>= 1.4.0, < 3.0)",
          "224:       parser (>= 3.1.1.0)",
          "226:       rubocop (>= 1.7.0, < 2.0)",
          "227:       rubocop-ast (>= 0.4.0)",
          "228:     ruby-progressbar (1.11.0)",
          "",
          "[Removed Lines]",
          "214:     rubocop (1.13.0)",
          "216:       parser (>= 3.0.0.0)",
          "219:       rexml",
          "220:       rubocop-ast (>= 1.2.0, < 2.0)",
          "223:     rubocop-ast (1.17.0)",
          "225:     rubocop-performance (1.11.1)",
          "",
          "[Added Lines]",
          "226:     rubocop (1.31.2)",
          "227:       json (~> 2.3)",
          "229:       parser (>= 3.1.0.0)",
          "232:       rexml (>= 3.2.5, < 4.0)",
          "233:       rubocop-ast (>= 1.18.0, < 2.0)",
          "236:     rubocop-ast (1.19.1)",
          "238:     rubocop-performance (1.14.3)",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "238:       temple (>= 0.7.6, < 0.9)",
          "239:       tilt (>= 2.0.6, < 2.1)",
          "240:     smart_properties (1.17.0)",
          "242:       concurrent-ruby (~> 1.0)",
          "243:       rack (> 1, < 3)",
          "244:     sprockets-rails (3.2.2)",
          "245:       actionpack (>= 4.0)",
          "246:       activesupport (>= 4.0)",
          "247:       sprockets (>= 3.0.0)",
          "252:     temple (0.8.2)",
          "253:     terminal-table (3.0.2)",
          "254:       unicode-display_width (>= 1.1.1, < 3)",
          "255:     thor (1.2.1)",
          "256:     tilt (2.0.10)",
          "259:       concurrent-ruby (~> 1.0)",
          "261:     webrick (1.7.0)",
          "262:     websocket-driver (0.7.5)",
          "263:       websocket-extensions (>= 0.1.0)",
          "264:     websocket-extensions (0.1.5)",
          "265:     xpath (3.2.0)",
          "266:       nokogiri (~> 1.8)",
          "268:       webrick (~> 1.7.0)",
          "269:     yard-activesupport-concern (0.0.1)",
          "270:       yard (>= 0.8)",
          "273: PLATFORMS",
          "274:   ruby",
          "",
          "[Removed Lines]",
          "241:     sprockets (4.0.3)",
          "248:     standard (1.1.0)",
          "249:       rubocop (= 1.13.0)",
          "250:       rubocop-performance (= 1.11.1)",
          "251:     strscan (3.0.2)",
          "257:     timeout (0.2.0)",
          "258:     tzinfo (2.0.4)",
          "260:     unicode-display_width (2.1.0)",
          "267:     yard (0.9.27)",
          "271:     zeitwerk (2.5.4)",
          "",
          "[Added Lines]",
          "254:     sprockets (4.1.1)",
          "261:     standard (1.13.0)",
          "262:       rubocop (= 1.31.2)",
          "263:       rubocop-performance (= 1.14.3)",
          "264:     strscan (3.0.3)",
          "270:     timeout (0.3.0)",
          "271:     tzinfo (2.0.5)",
          "273:     unicode-display_width (2.2.0)",
          "280:     yard (0.9.28)",
          "284:     zeitwerk (2.6.0)",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "284:   jbuilder (~> 2)",
          "285:   minitest (= 5.6.0)",
          "286:   pry (~> 0.13)",
          "288:   rake (~> 13.0)",
          "289:   rspec-rails (~> 5)",
          "290:   simplecov (~> 0.18.0)",
          "",
          "[Removed Lines]",
          "287:   rails (~> 7.0.0)",
          "",
          "[Added Lines]",
          "300:   rails!",
          "",
          "---------------"
        ],
        "lib/view_component/polymorphic_slots.rb||lib/view_component/polymorphic_slots.rb": [
          "File: lib/view_component/polymorphic_slots.rb -> lib/view_component/polymorphic_slots.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "10:         location = Kernel.caller_locations(1, 1)[0]",
          "12:         warn(",
          "14:           \"and can be removed from #{location.path}:#{location.lineno}\"",
          "15:         )",
          "16:         # :nocov:",
          "",
          "[Removed Lines]",
          "13:           \"warning: ViewComponent::PolymorphicSlots is now included in ViewComponent::Base by default \"\\",
          "",
          "[Added Lines]",
          "13:           \"warning: ViewComponent::PolymorphicSlots is now included in ViewComponent::Base by default \" \\",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "59:           define_method(setter_name) do |*args, &block|",
          "60:             ViewComponent::Deprecation.warn(",
          "62:               \"ViewComponent v3.0.0.\\n\\nUse `with_#{setter_name}` instead.\"",
          "63:             )",
          "",
          "[Removed Lines]",
          "61:               \"polymorphic slot setters like `#{setter_name}` are deprecated and will be removed in\"\\",
          "",
          "[Added Lines]",
          "61:               \"polymorphic slot setters like `#{setter_name}` are deprecated and will be removed in\" \\",
          "",
          "---------------"
        ],
        "lib/view_component/slotable_v2.rb||lib/view_component/slotable_v2.rb": [
          "File: lib/view_component/slotable_v2.rb -> lib/view_component/slotable_v2.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "266:       def raise_if_slot_ends_with_question_mark(slot_name)",
          "267:         if slot_name.to_s.ends_with?(\"?\")",
          "268:           raise ArgumentError.new(",
          "271:             \"methods ending in `?`.\\n\\n\" \\",
          "272:             \"To fix this issue, choose a different name.\"",
          "273:           )",
          "",
          "[Removed Lines]",
          "269:             \"#{self} declares a slot named #{slot_name}, which ends with a question mark.\\n\\n\"\\",
          "270:             \"This is not allowed because the ViewComponent framework already provides predicate \"\\",
          "",
          "[Added Lines]",
          "269:             \"#{self} declares a slot named #{slot_name}, which ends with a question mark.\\n\\n\" \\",
          "270:             \"This is not allowed because the ViewComponent framework already provides predicate \" \\",
          "",
          "---------------"
        ],
        "test/sandbox/test/rendering_test.rb||test/sandbox/test/rendering_test.rb": [
          "File: test/sandbox/test/rendering_test.rb -> test/sandbox/test/rendering_test.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "759:     end",
          "761:     assert_match(",
          "763:       \"which is required in order to render it as a collection.\\n\\n\" \\",
          "764:       \"To fix this issue, update the initializer to accept `name`.\\n\\n\" \\",
          "765:       \"See https://viewcomponent.org/guide/collections.html for more information on rendering collections.\",",
          "",
          "[Removed Lines]",
          "762:       \"The initializer for MissingCollectionParameterWithActiveModelComponent doesn't accept the parameter `name`, \"\\",
          "",
          "[Added Lines]",
          "762:       \"The initializer for MissingCollectionParameterWithActiveModelComponent doesn't accept the parameter `name`, \" \\",
          "",
          "---------------"
        ],
        "test/sandbox/test/translatable_test.rb||test/sandbox/test/translatable_test.rb": [
          "File: test/sandbox/test/translatable_test.rb -> test/sandbox/test/translatable_test.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "61:   def test_translate_with_html_suffix_escapes_interpolated_arguments",
          "62:     translation = translate(\".interpolated_html\", horse_count: \"<script type='text/javascript'>alert('foo');</script>\")",
          "63:     assert_equal(",
          "65:         \"<strong>barn</strong>!\",",
          "66:       translation",
          "67:     )",
          "",
          "[Removed Lines]",
          "64:       \"There are &lt;script type=&#39;text/javascript&#39;&gt;alert(&#39;foo&#39;);&lt;/script&gt; horses in the \"\\",
          "",
          "[Added Lines]",
          "64:       \"There are &lt;script type=&#39;text/javascript&#39;&gt;alert(&#39;foo&#39;);&lt;/script&gt; horses in the \" \\",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "b294ab5228e6e5f243e6da37f0d7981673e45dc6",
      "candidate_info": {
        "commit_hash": "b294ab5228e6e5f243e6da37f0d7981673e45dc6",
        "repo": "github/view_component",
        "commit_url": "https://github.com/github/view_component/commit/b294ab5228e6e5f243e6da37f0d7981673e45dc6",
        "files": [
          "Gemfile.lock"
        ],
        "message": "Bump nokogiri from 1.11.2 to 1.11.5\n\nBumps [nokogiri](https://github.com/sparklemotion/nokogiri) from 1.11.2 to 1.11.5.\n- [Release notes](https://github.com/sparklemotion/nokogiri/releases)\n- [Changelog](https://github.com/sparklemotion/nokogiri/blob/main/CHANGELOG.md)\n- [Commits](https://github.com/sparklemotion/nokogiri/compare/v1.11.2...v1.11.5)\n\nSigned-off-by: dependabot[bot] <support@github.com>",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "Gemfile.lock||Gemfile.lock"
          ],
          "candidate": [
            "Gemfile.lock||Gemfile.lock"
          ]
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "139:     marcel (1.0.0)",
          "140:     method_source (1.0.0)",
          "141:     mini_mime (1.0.3)",
          "143:     minitest (5.6.0)",
          "144:     nio4r (2.5.7)",
          "146:       mini_portile2 (~> 2.5.0)",
          "147:       racc (~> 1.4)",
          "148:     parallel (1.20.1)",
          "",
          "[Removed Lines]",
          "142:     mini_portile2 (2.5.0)",
          "145:     nokogiri (1.11.2)",
          "",
          "[Added Lines]",
          "142:     mini_portile2 (2.5.1)",
          "145:     nokogiri (1.11.5)",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "65f4ecb1a912c3cb9f92aeace93955db326be5fc",
      "candidate_info": {
        "commit_hash": "65f4ecb1a912c3cb9f92aeace93955db326be5fc",
        "repo": "github/view_component",
        "commit_url": "https://github.com/github/view_component/commit/65f4ecb1a912c3cb9f92aeace93955db326be5fc",
        "files": [
          "Gemfile.lock",
          "docs/CHANGELOG.md",
          "view_component.gemspec"
        ],
        "message": "Fix CI (#1097)\n\n* Fix broken tests\n\nCurrently the test suite is broken due to us not having an explicit\ndependency on `sprockets-rails` since rails@main no longer includes it\nas a default Rails gem.\n\nThis updates the development dependencies to include `sprockets-rails`\nto fix the test suite.\n\n* Lint + changelog",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock",
          "view_component.gemspec||view_component.gemspec"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "Gemfile.lock||Gemfile.lock"
          ],
          "candidate": [
            "Gemfile.lock||Gemfile.lock"
          ]
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: GIT",
          "2:   remote: https://github.com/rails/rails",
          "4:   ref: main",
          "5:   specs:",
          "9:       nio4r (~> 2.0)",
          "10:       websocket-driver (>= 0.6.1)",
          "17:       mail (>= 2.7.1)",
          "23:       mail (~> 2.5, >= 2.5.4)",
          "24:       rails-dom-testing (~> 2.0)",
          "28:       rack (~> 2.0, >= 2.2.0)",
          "29:       rack-test (>= 0.6.3)",
          "30:       rails-dom-testing (~> 2.0)",
          "31:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "37:       nokogiri (>= 1.8.5)",
          "40:       builder (~> 3.1)",
          "41:       erubi (~> 1.4)",
          "42:       rails-dom-testing (~> 2.0)",
          "43:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "46:       globalid (>= 0.3.6)",
          "58:       mini_mime (>= 1.1.0)",
          "60:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "61:       i18n (>= 1.6, < 2)",
          "62:       minitest (>= 5.1)",
          "63:       tzinfo (~> 2.0)",
          "77:       bundler (>= 1.15.0)",
          "83:       method_source",
          "85:       thor (~> 1.0)",
          "87: PATH",
          "88:   remote: .",
          "",
          "[Removed Lines]",
          "3:   revision: 9a2c639a0c24c12490a8f9ef324395a36949e15c",
          "6:     actioncable (7.0.0.alpha)",
          "7:       actionpack (= 7.0.0.alpha)",
          "8:       activesupport (= 7.0.0.alpha)",
          "11:     actionmailbox (7.0.0.alpha)",
          "12:       actionpack (= 7.0.0.alpha)",
          "13:       activejob (= 7.0.0.alpha)",
          "14:       activerecord (= 7.0.0.alpha)",
          "15:       activestorage (= 7.0.0.alpha)",
          "16:       activesupport (= 7.0.0.alpha)",
          "18:     actionmailer (7.0.0.alpha)",
          "19:       actionpack (= 7.0.0.alpha)",
          "20:       actionview (= 7.0.0.alpha)",
          "21:       activejob (= 7.0.0.alpha)",
          "22:       activesupport (= 7.0.0.alpha)",
          "25:     actionpack (7.0.0.alpha)",
          "26:       actionview (= 7.0.0.alpha)",
          "27:       activesupport (= 7.0.0.alpha)",
          "32:     actiontext (7.0.0.alpha)",
          "33:       actionpack (= 7.0.0.alpha)",
          "34:       activerecord (= 7.0.0.alpha)",
          "35:       activestorage (= 7.0.0.alpha)",
          "36:       activesupport (= 7.0.0.alpha)",
          "38:     actionview (7.0.0.alpha)",
          "39:       activesupport (= 7.0.0.alpha)",
          "44:     activejob (7.0.0.alpha)",
          "45:       activesupport (= 7.0.0.alpha)",
          "47:     activemodel (7.0.0.alpha)",
          "48:       activesupport (= 7.0.0.alpha)",
          "49:     activerecord (7.0.0.alpha)",
          "50:       activemodel (= 7.0.0.alpha)",
          "51:       activesupport (= 7.0.0.alpha)",
          "52:     activestorage (7.0.0.alpha)",
          "53:       actionpack (= 7.0.0.alpha)",
          "54:       activejob (= 7.0.0.alpha)",
          "55:       activerecord (= 7.0.0.alpha)",
          "56:       activesupport (= 7.0.0.alpha)",
          "57:       marcel (~> 1.0.0)",
          "59:     activesupport (7.0.0.alpha)",
          "64:       zeitwerk (~> 2.3)",
          "65:     rails (7.0.0.alpha)",
          "66:       actioncable (= 7.0.0.alpha)",
          "67:       actionmailbox (= 7.0.0.alpha)",
          "68:       actionmailer (= 7.0.0.alpha)",
          "69:       actionpack (= 7.0.0.alpha)",
          "70:       actiontext (= 7.0.0.alpha)",
          "71:       actionview (= 7.0.0.alpha)",
          "72:       activejob (= 7.0.0.alpha)",
          "73:       activemodel (= 7.0.0.alpha)",
          "74:       activerecord (= 7.0.0.alpha)",
          "75:       activestorage (= 7.0.0.alpha)",
          "76:       activesupport (= 7.0.0.alpha)",
          "78:       railties (= 7.0.0.alpha)",
          "79:       sprockets-rails (>= 2.0.0)",
          "80:     railties (7.0.0.alpha)",
          "81:       actionpack (= 7.0.0.alpha)",
          "82:       activesupport (= 7.0.0.alpha)",
          "84:       rake (>= 0.13)",
          "",
          "[Added Lines]",
          "3:   revision: eb1f7cca3bdb3c4e3350e15d8d060ec6a205aa88",
          "6:     actioncable (7.0.0.alpha2)",
          "7:       actionpack (= 7.0.0.alpha2)",
          "8:       activesupport (= 7.0.0.alpha2)",
          "11:     actionmailbox (7.0.0.alpha2)",
          "12:       actionpack (= 7.0.0.alpha2)",
          "13:       activejob (= 7.0.0.alpha2)",
          "14:       activerecord (= 7.0.0.alpha2)",
          "15:       activestorage (= 7.0.0.alpha2)",
          "16:       activesupport (= 7.0.0.alpha2)",
          "18:     actionmailer (7.0.0.alpha2)",
          "19:       actionpack (= 7.0.0.alpha2)",
          "20:       actionview (= 7.0.0.alpha2)",
          "21:       activejob (= 7.0.0.alpha2)",
          "22:       activesupport (= 7.0.0.alpha2)",
          "25:     actionpack (7.0.0.alpha2)",
          "26:       actionview (= 7.0.0.alpha2)",
          "27:       activesupport (= 7.0.0.alpha2)",
          "32:     actiontext (7.0.0.alpha2)",
          "33:       actionpack (= 7.0.0.alpha2)",
          "34:       activerecord (= 7.0.0.alpha2)",
          "35:       activestorage (= 7.0.0.alpha2)",
          "36:       activesupport (= 7.0.0.alpha2)",
          "38:     actionview (7.0.0.alpha2)",
          "39:       activesupport (= 7.0.0.alpha2)",
          "44:     activejob (7.0.0.alpha2)",
          "45:       activesupport (= 7.0.0.alpha2)",
          "47:     activemodel (7.0.0.alpha2)",
          "48:       activesupport (= 7.0.0.alpha2)",
          "49:     activerecord (7.0.0.alpha2)",
          "50:       activemodel (= 7.0.0.alpha2)",
          "51:       activesupport (= 7.0.0.alpha2)",
          "52:     activestorage (7.0.0.alpha2)",
          "53:       actionpack (= 7.0.0.alpha2)",
          "54:       activejob (= 7.0.0.alpha2)",
          "55:       activerecord (= 7.0.0.alpha2)",
          "56:       activesupport (= 7.0.0.alpha2)",
          "57:       marcel (~> 1.0)",
          "59:     activesupport (7.0.0.alpha2)",
          "64:     rails (7.0.0.alpha2)",
          "65:       actioncable (= 7.0.0.alpha2)",
          "66:       actionmailbox (= 7.0.0.alpha2)",
          "67:       actionmailer (= 7.0.0.alpha2)",
          "68:       actionpack (= 7.0.0.alpha2)",
          "69:       actiontext (= 7.0.0.alpha2)",
          "70:       actionview (= 7.0.0.alpha2)",
          "71:       activejob (= 7.0.0.alpha2)",
          "72:       activemodel (= 7.0.0.alpha2)",
          "73:       activerecord (= 7.0.0.alpha2)",
          "74:       activestorage (= 7.0.0.alpha2)",
          "75:       activesupport (= 7.0.0.alpha2)",
          "77:       railties (= 7.0.0.alpha2)",
          "78:     railties (7.0.0.alpha2)",
          "79:       actionpack (= 7.0.0.alpha2)",
          "80:       activesupport (= 7.0.0.alpha2)",
          "82:       rake (>= 12.2)",
          "84:       zeitwerk (~> 2.5.0.beta5)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "129:       rubocop",
          "130:       smart_properties",
          "131:     erubi (1.10.0)",
          "134:     haml (5.2.1)",
          "135:       temple (>= 0.8.0)",
          "136:       tilt",
          "",
          "[Removed Lines]",
          "132:     globalid (0.4.2)",
          "133:       activesupport (>= 4.2.0)",
          "",
          "[Added Lines]",
          "131:     globalid (0.5.2)",
          "132:       activesupport (>= 5.0)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "139:       concurrent-ruby (~> 1.0)",
          "140:     jbuilder (2.11.2)",
          "141:       activesupport (>= 5.0.0)",
          "143:       crass (~> 1.0.2)",
          "144:       nokogiri (>= 1.5.9)",
          "145:     mail (2.7.1)",
          "146:       mini_mime (>= 0.1.1)",
          "148:     method_source (1.0.0)",
          "151:     minitest (5.6.0)",
          "155:       racc (~> 1.4)",
          "156:     parallel (1.20.1)",
          "157:     parser (3.0.0.0)",
          "",
          "[Removed Lines]",
          "142:     loofah (2.10.0)",
          "147:     marcel (1.0.1)",
          "149:     mini_mime (1.1.0)",
          "150:     mini_portile2 (2.5.3)",
          "152:     nio4r (2.5.7)",
          "153:     nokogiri (1.11.7)",
          "154:       mini_portile2 (~> 2.5.0)",
          "",
          "[Added Lines]",
          "141:     loofah (2.12.0)",
          "146:     marcel (1.0.2)",
          "148:     mini_mime (1.1.2)",
          "149:     mini_portile2 (2.6.1)",
          "151:     nio4r (2.5.8)",
          "152:     nokogiri (1.12.5)",
          "153:       mini_portile2 (~> 2.6.1)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "167:     rails-dom-testing (2.0.3)",
          "168:       activesupport (>= 4.2.0)",
          "169:       nokogiri (>= 1.6)",
          "171:       loofah (~> 2.3)",
          "172:     rainbow (3.0.0)",
          "174:     regexp_parser (1.8.2)",
          "175:     rexml (3.2.5)",
          "176:     rubocop (1.6.1)",
          "",
          "[Removed Lines]",
          "170:     rails-html-sanitizer (1.3.0)",
          "173:     rake (13.0.3)",
          "",
          "[Added Lines]",
          "169:     rails-html-sanitizer (1.4.2)",
          "172:     rake (13.0.6)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "222:     tzinfo (2.0.4)",
          "223:       concurrent-ruby (~> 1.0)",
          "224:     unicode-display_width (1.6.1)",
          "226:       websocket-extensions (>= 0.1.0)",
          "227:     websocket-extensions (0.1.5)",
          "228:     xpath (3.2.0)",
          "",
          "[Removed Lines]",
          "225:     websocket-driver (0.7.4)",
          "",
          "[Added Lines]",
          "224:     websocket-driver (0.7.5)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "230:     yard (0.9.26)",
          "231:     yard-activesupport-concern (0.0.1)",
          "232:       yard (>= 0.8)",
          "235: PLATFORMS",
          "236:   ruby",
          "",
          "[Removed Lines]",
          "233:     zeitwerk (2.4.2)",
          "",
          "[Added Lines]",
          "232:     zeitwerk (2.5.0.beta5)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "251:   simplecov (~> 0.18.0)",
          "252:   simplecov-console (~> 0.7.2)",
          "253:   slim (~> 4.0)",
          "254:   view_component!",
          "255:   yard (~> 0.9.25)",
          "256:   yard-activesupport-concern",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "253:   sprockets-rails (~> 3.2.2)",
          "",
          "---------------"
        ],
        "view_component.gemspec||view_component.gemspec": [
          "File: view_component.gemspec -> view_component.gemspec",
          "--- Hunk 1 ---",
          "[Context before]",
          "44:   spec.add_development_dependency \"simplecov\", \"~> 0.18.0\"",
          "45:   spec.add_development_dependency \"simplecov-console\", \"~> 0.7.2\"",
          "46:   spec.add_development_dependency \"slim\", \"~> 4.0\"",
          "47:   spec.add_development_dependency \"yard\", \"~> 0.9.25\"",
          "48:   spec.add_development_dependency \"yard-activesupport-concern\"",
          "49: end",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "47:   spec.add_development_dependency \"sprockets-rails\", \"~> 3.2.2\"",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "5d8413c3b86d1594852375cb09d6dff2fadc8c64",
      "candidate_info": {
        "commit_hash": "5d8413c3b86d1594852375cb09d6dff2fadc8c64",
        "repo": "github/view_component",
        "commit_url": "https://github.com/github/view_component/commit/5d8413c3b86d1594852375cb09d6dff2fadc8c64",
        "files": [
          ".github/workflows/ci.yml",
          ".github/workflows/lint.yml",
          "Appraisals",
          "Gemfile",
          "Gemfile.lock",
          "docs/CHANGELOG.md",
          "gemfiles/rails_6.1.gemfile",
          "lib/view_component/instrumentation.rb"
        ],
        "message": "Add Ruby 3.1 and Rails 7.0 to CI (#1254)\n\nIn addition to the straightforward changes required for the CI configuration, there are a few other changes included in this PR.\n\nThe first change was the Gemfile.lock in the base of the repo.  I updated it to be Rails 7.0.1 as opposed to 7.0.0.alpha.2.  This required including a few explicit RAILS_VERSION environment variables for certain steps in CI and linting.\n\nTwo additional items required to get the specs to green were changes to some argument handling and module prepending.\n\nTo disambiguate with keyword arguments, it was necessary to add an explicit hash in the lib/view_component/instrumentation.rb implementation of render_in.\n\nThe second issue, which was a bit more subtle, has to do with the change to how module prepending works IF the module is already in the ancestor chain.  This is discussed here - https://rubyreferences.github.io/rubychanges/3.1.html#moduleprepend-behavior-change .\n\nBecause of initializer code in lib/view_component/engine.rb, the ViewComponent::Instrumentation module is prepended to ViewComponent::Base on engine load.  But the prepend call is made for a second time when ViewComponent::Instrumentation is explicitly included.  In Ruby 3.0 and earlier this second call is a no-op, but in Ruby 3.1 it adds a second ViewComponent::Instrumentation to the ancestor chain, resulting in a duplicate invocation of the notification.\n\nMy sense is that there's no reason for the self.included call in ViewComponent::Instrumentation (and in fact, no reason for a component to explicitly include ViewComponent::Instrumentation at all), but given my limited familiarity with the internals of the library I simply restored the Ruby 3.0 and earlier behavior for this case.",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock",
          "gemfiles/rails_6.1.gemfile||gemfiles/rails_6.1.gemfile",
          "lib/view_component/instrumentation.rb||lib/view_component/instrumentation.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "Gemfile.lock||Gemfile.lock"
          ],
          "candidate": [
            "Gemfile.lock||Gemfile.lock"
          ]
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "5:   specs:",
          "9:       nio4r (~> 2.0)",
          "10:       websocket-driver (>= 0.6.1)",
          "17:       mail (>= 2.7.1)",
          "23:       mail (~> 2.5, >= 2.5.4)",
          "24:       rails-dom-testing (~> 2.0)",
          "28:       rack (~> 2.0, >= 2.2.0)",
          "29:       rack-test (>= 0.6.3)",
          "30:       rails-dom-testing (~> 2.0)",
          "31:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "37:       nokogiri (>= 1.8.5)",
          "40:       builder (~> 3.1)",
          "41:       erubi (~> 1.4)",
          "42:       rails-dom-testing (~> 2.0)",
          "43:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "46:       globalid (>= 0.3.6)",
          "57:       marcel (~> 1.0)",
          "58:       mini_mime (>= 1.1.0)",
          "60:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "61:       i18n (>= 1.6, < 2)",
          "62:       minitest (>= 5.1)",
          "63:       tzinfo (~> 2.0)",
          "96:     addressable (2.8.0)",
          "97:       public_suffix (>= 2.0.2, < 5.0)",
          "98:     ansi (1.5.0)",
          "",
          "[Removed Lines]",
          "1: GIT",
          "2:   remote: https://github.com/rails/rails",
          "3:   revision: eb1f7cca3bdb3c4e3350e15d8d060ec6a205aa88",
          "4:   ref: main",
          "6:     actioncable (7.0.0.alpha2)",
          "7:       actionpack (= 7.0.0.alpha2)",
          "8:       activesupport (= 7.0.0.alpha2)",
          "11:     actionmailbox (7.0.0.alpha2)",
          "12:       actionpack (= 7.0.0.alpha2)",
          "13:       activejob (= 7.0.0.alpha2)",
          "14:       activerecord (= 7.0.0.alpha2)",
          "15:       activestorage (= 7.0.0.alpha2)",
          "16:       activesupport (= 7.0.0.alpha2)",
          "18:     actionmailer (7.0.0.alpha2)",
          "19:       actionpack (= 7.0.0.alpha2)",
          "20:       actionview (= 7.0.0.alpha2)",
          "21:       activejob (= 7.0.0.alpha2)",
          "22:       activesupport (= 7.0.0.alpha2)",
          "25:     actionpack (7.0.0.alpha2)",
          "26:       actionview (= 7.0.0.alpha2)",
          "27:       activesupport (= 7.0.0.alpha2)",
          "32:     actiontext (7.0.0.alpha2)",
          "33:       actionpack (= 7.0.0.alpha2)",
          "34:       activerecord (= 7.0.0.alpha2)",
          "35:       activestorage (= 7.0.0.alpha2)",
          "36:       activesupport (= 7.0.0.alpha2)",
          "38:     actionview (7.0.0.alpha2)",
          "39:       activesupport (= 7.0.0.alpha2)",
          "44:     activejob (7.0.0.alpha2)",
          "45:       activesupport (= 7.0.0.alpha2)",
          "47:     activemodel (7.0.0.alpha2)",
          "48:       activesupport (= 7.0.0.alpha2)",
          "49:     activerecord (7.0.0.alpha2)",
          "50:       activemodel (= 7.0.0.alpha2)",
          "51:       activesupport (= 7.0.0.alpha2)",
          "52:     activestorage (7.0.0.alpha2)",
          "53:       actionpack (= 7.0.0.alpha2)",
          "54:       activejob (= 7.0.0.alpha2)",
          "55:       activerecord (= 7.0.0.alpha2)",
          "56:       activesupport (= 7.0.0.alpha2)",
          "59:     activesupport (7.0.0.alpha2)",
          "64:     rails (7.0.0.alpha2)",
          "65:       actioncable (= 7.0.0.alpha2)",
          "66:       actionmailbox (= 7.0.0.alpha2)",
          "67:       actionmailer (= 7.0.0.alpha2)",
          "68:       actionpack (= 7.0.0.alpha2)",
          "69:       actiontext (= 7.0.0.alpha2)",
          "70:       actionview (= 7.0.0.alpha2)",
          "71:       activejob (= 7.0.0.alpha2)",
          "72:       activemodel (= 7.0.0.alpha2)",
          "73:       activerecord (= 7.0.0.alpha2)",
          "74:       activestorage (= 7.0.0.alpha2)",
          "75:       activesupport (= 7.0.0.alpha2)",
          "76:       bundler (>= 1.15.0)",
          "77:       railties (= 7.0.0.alpha2)",
          "78:     railties (7.0.0.alpha2)",
          "79:       actionpack (= 7.0.0.alpha2)",
          "80:       activesupport (= 7.0.0.alpha2)",
          "81:       method_source",
          "82:       rake (>= 12.2)",
          "83:       thor (~> 1.0)",
          "84:       zeitwerk (~> 2.5.0.beta5)",
          "86: PATH",
          "87:   remote: .",
          "88:   specs:",
          "89:     view_component (2.48.0)",
          "90:       activesupport (>= 5.0.0, < 8.0)",
          "91:       method_source (~> 1.0)",
          "93: GEM",
          "94:   remote: https://rubygems.org/",
          "95:   specs:",
          "",
          "[Added Lines]",
          "1: PATH",
          "2:   remote: .",
          "3:   specs:",
          "4:     view_component (2.48.0)",
          "5:       activesupport (>= 5.0.0, < 8.0)",
          "6:       method_source (~> 1.0)",
          "8: GEM",
          "9:   remote: https://rubygems.org/",
          "11:     actioncable (7.0.1)",
          "12:       actionpack (= 7.0.1)",
          "13:       activesupport (= 7.0.1)",
          "16:     actionmailbox (7.0.1)",
          "17:       actionpack (= 7.0.1)",
          "18:       activejob (= 7.0.1)",
          "19:       activerecord (= 7.0.1)",
          "20:       activestorage (= 7.0.1)",
          "21:       activesupport (= 7.0.1)",
          "23:       net-imap",
          "24:       net-pop",
          "25:       net-smtp",
          "26:     actionmailer (7.0.1)",
          "27:       actionpack (= 7.0.1)",
          "28:       actionview (= 7.0.1)",
          "29:       activejob (= 7.0.1)",
          "30:       activesupport (= 7.0.1)",
          "32:       net-imap",
          "33:       net-pop",
          "34:       net-smtp",
          "36:     actionpack (7.0.1)",
          "37:       actionview (= 7.0.1)",
          "38:       activesupport (= 7.0.1)",
          "43:     actiontext (7.0.1)",
          "44:       actionpack (= 7.0.1)",
          "45:       activerecord (= 7.0.1)",
          "46:       activestorage (= 7.0.1)",
          "47:       activesupport (= 7.0.1)",
          "48:       globalid (>= 0.6.0)",
          "50:     actionview (7.0.1)",
          "51:       activesupport (= 7.0.1)",
          "56:     activejob (7.0.1)",
          "57:       activesupport (= 7.0.1)",
          "59:     activemodel (7.0.1)",
          "60:       activesupport (= 7.0.1)",
          "61:     activerecord (7.0.1)",
          "62:       activemodel (= 7.0.1)",
          "63:       activesupport (= 7.0.1)",
          "64:     activestorage (7.0.1)",
          "65:       actionpack (= 7.0.1)",
          "66:       activejob (= 7.0.1)",
          "67:       activerecord (= 7.0.1)",
          "68:       activesupport (= 7.0.1)",
          "71:     activesupport (7.0.1)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "100:       bundler",
          "101:       rake",
          "102:       thor (>= 0.14.0)",
          "104:     benchmark-ips (2.8.4)",
          "106:       actionview (>= 4.0)",
          "107:       activesupport (>= 4.0)",
          "108:       ast (~> 2.0)",
          "",
          "[Removed Lines]",
          "103:     ast (2.4.1)",
          "105:     better_html (1.0.15)",
          "",
          "[Added Lines]",
          "83:     ast (2.4.2)",
          "85:     better_html (1.0.16)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "111:       parser (>= 2.4)",
          "112:       smart_properties",
          "113:     builder (3.2.4)",
          "115:       addressable",
          "116:       mini_mime (>= 0.1.3)",
          "117:       nokogiri (~> 1.8)",
          "118:       rack (>= 1.6.0)",
          "119:       rack-test (>= 0.6.3)",
          "121:       xpath (~> 3.2)",
          "122:     coderay (1.1.3)",
          "123:     concurrent-ruby (1.1.9)",
          "124:     crass (1.0.6)",
          "126:     erb_lint (0.0.37)",
          "127:       activesupport",
          "128:       better_html (~> 1.0.7)",
          "",
          "[Removed Lines]",
          "114:     capybara (3.34.0)",
          "120:       regexp_parser (~> 1.5)",
          "125:     docile (1.3.4)",
          "",
          "[Added Lines]",
          "94:     capybara (3.36.0)",
          "96:       matrix",
          "101:       regexp_parser (>= 1.5, < 3.0)",
          "106:     digest (3.1.0)",
          "107:     docile (1.4.0)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "132:       rubocop",
          "133:       smart_properties",
          "134:     erubi (1.10.0)",
          "136:       activesupport (>= 5.0)",
          "138:       temple (>= 0.8.0)",
          "139:       tilt",
          "140:     html_tokenizer (0.0.7)",
          "142:       concurrent-ruby (~> 1.0)",
          "144:       activesupport (>= 5.0.0)",
          "146:       crass (~> 1.0.2)",
          "147:       nokogiri (>= 1.5.9)",
          "148:     mail (2.7.1)",
          "149:       mini_mime (>= 0.1.1)",
          "150:     marcel (1.0.2)",
          "151:     method_source (1.0.0)",
          "152:     mini_mime (1.1.2)",
          "154:     minitest (5.6.0)",
          "155:     nio4r (2.5.8)",
          "158:       racc (~> 1.4)",
          "161:       ast (~> 2.4.1)",
          "163:       coderay (~> 1.1)",
          "164:       method_source (~> 1.0)",
          "165:     public_suffix (4.0.6)",
          "167:     rack (2.2.3)",
          "168:     rack-test (1.1.0)",
          "169:       rack (>= 1.0, < 3)",
          "170:     rails-dom-testing (2.0.3)",
          "171:       activesupport (>= 4.2.0)",
          "172:       nokogiri (>= 1.6)",
          "173:     rails-html-sanitizer (1.4.2)",
          "174:       loofah (~> 2.3)",
          "176:     rake (13.0.6)",
          "178:     rexml (3.2.5)",
          "180:       parallel (~> 1.10)",
          "182:       rainbow (>= 2.2.2, < 4.0)",
          "183:       regexp_parser (>= 1.8, < 3.0)",
          "184:       rexml",
          "185:       rubocop-ast (>= 1.2.0, < 2.0)",
          "186:       ruby-progressbar (~> 1.7)",
          "193:       rubocop-rails (<= 2.7.1)",
          "196:     rubocop-rails (2.7.1)",
          "197:       activesupport (>= 4.2.0)",
          "198:       rack (>= 1.1)",
          "",
          "[Removed Lines]",
          "135:     globalid (0.5.2)",
          "137:     haml (5.2.1)",
          "141:     i18n (1.8.10)",
          "143:     jbuilder (2.11.2)",
          "145:     loofah (2.12.0)",
          "153:     mini_portile2 (2.6.1)",
          "156:     nokogiri (1.12.5)",
          "157:       mini_portile2 (~> 2.6.1)",
          "159:     parallel (1.20.1)",
          "160:     parser (3.0.0.0)",
          "162:     pry (0.13.1)",
          "166:     racc (1.5.2)",
          "175:     rainbow (3.0.0)",
          "177:     regexp_parser (1.8.2)",
          "179:     rubocop (1.6.1)",
          "181:       parser (>= 2.7.1.5)",
          "187:       unicode-display_width (>= 1.4.0, < 2.0)",
          "188:     rubocop-ast (1.4.1)",
          "189:       parser (>= 2.7.1.5)",
          "190:     rubocop-github (0.16.1)",
          "191:       rubocop (<= 1.6.1)",
          "192:       rubocop-performance (<= 1.7.1)",
          "194:     rubocop-performance (1.7.1)",
          "195:       rubocop (>= 0.82.0)",
          "",
          "[Added Lines]",
          "117:     globalid (1.0.0)",
          "119:     haml (5.2.2)",
          "123:     i18n (1.8.11)",
          "125:     io-wait (0.2.1)",
          "126:     jbuilder (2.11.5)",
          "127:       actionview (>= 5.0.0)",
          "129:     loofah (2.13.0)",
          "135:     matrix (0.4.2)",
          "138:     mini_portile2 (2.7.1)",
          "140:     net-imap (0.2.3)",
          "141:       digest",
          "142:       net-protocol",
          "143:       strscan",
          "144:     net-pop (0.1.1)",
          "145:       digest",
          "146:       net-protocol",
          "147:       timeout",
          "148:     net-protocol (0.1.2)",
          "149:       io-wait",
          "150:       timeout",
          "151:     net-smtp (0.3.1)",
          "152:       digest",
          "153:       net-protocol",
          "154:       timeout",
          "156:     nokogiri (1.13.1)",
          "157:       mini_portile2 (~> 2.7.0)",
          "159:     parallel (1.21.0)",
          "160:     parser (3.1.0.0)",
          "162:     pry (0.14.1)",
          "166:     racc (1.6.0)",
          "170:     rails (7.0.1)",
          "171:       actioncable (= 7.0.1)",
          "172:       actionmailbox (= 7.0.1)",
          "173:       actionmailer (= 7.0.1)",
          "174:       actionpack (= 7.0.1)",
          "175:       actiontext (= 7.0.1)",
          "176:       actionview (= 7.0.1)",
          "177:       activejob (= 7.0.1)",
          "178:       activemodel (= 7.0.1)",
          "179:       activerecord (= 7.0.1)",
          "180:       activestorage (= 7.0.1)",
          "181:       activesupport (= 7.0.1)",
          "182:       bundler (>= 1.15.0)",
          "183:       railties (= 7.0.1)",
          "189:     railties (7.0.1)",
          "190:       actionpack (= 7.0.1)",
          "191:       activesupport (= 7.0.1)",
          "192:       method_source",
          "193:       rake (>= 12.2)",
          "194:       thor (~> 1.0)",
          "195:       zeitwerk (~> 2.5)",
          "196:     rainbow (3.1.1)",
          "198:     regexp_parser (2.2.0)",
          "200:     rubocop (1.13.0)",
          "202:       parser (>= 3.0.0.0)",
          "208:       unicode-display_width (>= 1.4.0, < 3.0)",
          "209:     rubocop-ast (1.15.1)",
          "210:       parser (>= 3.0.1.1)",
          "211:     rubocop-github (0.16.2)",
          "212:       rubocop (<= 1.13.0)",
          "213:       rubocop-performance (<= 1.11.0)",
          "215:     rubocop-performance (1.11.0)",
          "216:       rubocop (>= 1.7.0, < 2.0)",
          "217:       rubocop-ast (>= 0.4.0)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "209:     slim (4.1.0)",
          "210:       temple (>= 0.7.6, < 0.9)",
          "211:       tilt (>= 2.0.6, < 2.1)",
          "213:     sprockets (4.0.2)",
          "214:       concurrent-ruby (~> 1.0)",
          "215:       rack (> 1, < 3)",
          "",
          "[Removed Lines]",
          "212:     smart_properties (1.15.0)",
          "",
          "[Added Lines]",
          "234:     smart_properties (1.17.0)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "217:       actionpack (>= 4.0)",
          "218:       activesupport (>= 4.0)",
          "219:       sprockets (>= 3.0.0)",
          "220:     temple (0.8.2)",
          "224:     tilt (2.0.10)",
          "225:     tzinfo (2.0.4)",
          "226:       concurrent-ruby (~> 1.0)",
          "228:     websocket-driver (0.7.5)",
          "229:       websocket-extensions (>= 0.1.0)",
          "230:     websocket-extensions (0.1.5)",
          "231:     xpath (3.2.0)",
          "232:       nokogiri (~> 1.8)",
          "234:     yard-activesupport-concern (0.0.1)",
          "235:       yard (>= 0.8)",
          "238: PLATFORMS",
          "239:   ruby",
          "",
          "[Removed Lines]",
          "221:     terminal-table (2.0.0)",
          "222:       unicode-display_width (~> 1.1, >= 1.1.1)",
          "223:     thor (1.1.0)",
          "227:     unicode-display_width (1.6.1)",
          "233:     yard (0.9.26)",
          "236:     zeitwerk (2.5.0.beta5)",
          "",
          "[Added Lines]",
          "242:     strscan (3.0.1)",
          "244:     terminal-table (3.0.2)",
          "245:       unicode-display_width (>= 1.1.1, < 3)",
          "246:     thor (1.2.1)",
          "248:     timeout (0.2.0)",
          "251:     unicode-display_width (2.1.0)",
          "252:     webrick (1.7.0)",
          "258:     yard (0.9.27)",
          "259:       webrick (~> 1.7.0)",
          "262:     zeitwerk (2.5.3)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "248:   haml (~> 5)",
          "249:   jbuilder (~> 2)",
          "250:   minitest (= 5.6.0)",
          "251:   pry (~> 0.13)",
          "253:   rake (~> 13.0)",
          "254:   rubocop-github (~> 0.16.1)",
          "255:   simplecov (~> 0.18.0)",
          "",
          "[Removed Lines]",
          "252:   rails!",
          "",
          "[Added Lines]",
          "277:   net-imap",
          "278:   net-pop",
          "279:   net-smtp",
          "281:   rails (~> 7.0.0)",
          "",
          "---------------"
        ],
        "gemfiles/rails_6.1.gemfile||gemfiles/rails_6.1.gemfile": [
          "File: gemfiles/rails_6.1.gemfile -> gemfiles/rails_6.1.gemfile",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: gem \"capybara\", \"~> 3\"",
          "6: gem \"rails\", \"~> 6.1.0\"",
          "7: gem \"tailwindcss-rails\", \"~> 2.0\"",
          "9: gemspec path: \"../\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "8: gem \"net-smtp\", require: false",
          "9: gem \"net-imap\", require: false",
          "10: gem \"net-pop\", require: false",
          "",
          "---------------"
        ],
        "lib/view_component/instrumentation.rb||lib/view_component/instrumentation.rb": [
          "File: lib/view_component/instrumentation.rb -> lib/view_component/instrumentation.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: module ViewComponent # :nodoc:",
          "6:   module Instrumentation",
          "7:     def self.included(mod)",
          "9:     end",
          "11:     def render_in(view_context, &block)",
          "12:       ActiveSupport::Notifications.instrument(",
          "13:         \"!render.view_component\",",
          "16:       ) do",
          "17:         super(view_context, &block)",
          "18:       end",
          "",
          "[Removed Lines]",
          "8:       mod.prepend(self)",
          "14:         name: self.class.name,",
          "15:         identifier: self.class.identifier",
          "",
          "[Added Lines]",
          "8:       mod.prepend(self) unless ancestors.include?(ViewComponent::Instrumentation)",
          "14:         {",
          "15:           name: self.class.name,",
          "16:           identifier: self.class.identifier",
          "17:         }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "27190072fbde24a57529db6814c1aed3be91d7d9",
      "candidate_info": {
        "commit_hash": "27190072fbde24a57529db6814c1aed3be91d7d9",
        "repo": "github/view_component",
        "commit_url": "https://github.com/github/view_component/commit/27190072fbde24a57529db6814c1aed3be91d7d9",
        "files": [
          ".github/workflows/ci.yml",
          "Gemfile.lock"
        ],
        "message": "Update Rails dependencies with mimemagic fix\n\nI also took the liberty of removing 5.0.x from CI,\nas it did not receive the mimemagic fix.",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "Gemfile.lock||Gemfile.lock"
          ],
          "candidate": [
            "Gemfile.lock||Gemfile.lock"
          ]
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: GIT",
          "2:   remote: https://github.com/rails/rails",
          "4:   ref: main",
          "5:   specs:",
          "9:       nio4r (~> 2.0)",
          "10:       websocket-driver (>= 0.6.1)",
          "17:       mail (>= 2.7.1)",
          "23:       mail (~> 2.5, >= 2.5.4)",
          "24:       rails-dom-testing (~> 2.0)",
          "28:       rack (~> 2.0, >= 2.0.9)",
          "29:       rack-test (>= 0.6.3)",
          "30:       rails-dom-testing (~> 2.0)",
          "31:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "37:       nokogiri (>= 1.8.5)",
          "40:       builder (~> 3.1)",
          "41:       erubi (~> 1.4)",
          "42:       rails-dom-testing (~> 2.0)",
          "43:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "46:       globalid (>= 0.3.6)",
          "60:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "61:       i18n (>= 1.6, < 2)",
          "62:       minitest (>= 5.1)",
          "63:       tzinfo (~> 2.0)",
          "64:       zeitwerk (~> 2.3)",
          "77:       bundler (>= 1.15.0)",
          "79:       sprockets-rails (>= 2.0.0)",
          "83:       method_source",
          "85:       thor (~> 1.0)",
          "87: PATH",
          "",
          "[Removed Lines]",
          "3:   revision: cdcee5cb3a65b7a1e80c05375cb161e1966d21b5",
          "6:     actioncable (6.2.0.alpha)",
          "7:       actionpack (= 6.2.0.alpha)",
          "8:       activesupport (= 6.2.0.alpha)",
          "11:     actionmailbox (6.2.0.alpha)",
          "12:       actionpack (= 6.2.0.alpha)",
          "13:       activejob (= 6.2.0.alpha)",
          "14:       activerecord (= 6.2.0.alpha)",
          "15:       activestorage (= 6.2.0.alpha)",
          "16:       activesupport (= 6.2.0.alpha)",
          "18:     actionmailer (6.2.0.alpha)",
          "19:       actionpack (= 6.2.0.alpha)",
          "20:       actionview (= 6.2.0.alpha)",
          "21:       activejob (= 6.2.0.alpha)",
          "22:       activesupport (= 6.2.0.alpha)",
          "25:     actionpack (6.2.0.alpha)",
          "26:       actionview (= 6.2.0.alpha)",
          "27:       activesupport (= 6.2.0.alpha)",
          "32:     actiontext (6.2.0.alpha)",
          "33:       actionpack (= 6.2.0.alpha)",
          "34:       activerecord (= 6.2.0.alpha)",
          "35:       activestorage (= 6.2.0.alpha)",
          "36:       activesupport (= 6.2.0.alpha)",
          "38:     actionview (6.2.0.alpha)",
          "39:       activesupport (= 6.2.0.alpha)",
          "44:     activejob (6.2.0.alpha)",
          "45:       activesupport (= 6.2.0.alpha)",
          "47:     activemodel (6.2.0.alpha)",
          "48:       activesupport (= 6.2.0.alpha)",
          "49:     activerecord (6.2.0.alpha)",
          "50:       activemodel (= 6.2.0.alpha)",
          "51:       activesupport (= 6.2.0.alpha)",
          "52:     activestorage (6.2.0.alpha)",
          "53:       actionpack (= 6.2.0.alpha)",
          "54:       activejob (= 6.2.0.alpha)",
          "55:       activerecord (= 6.2.0.alpha)",
          "56:       activesupport (= 6.2.0.alpha)",
          "57:       marcel (~> 0.3.1)",
          "58:       mimemagic (~> 0.3.2)",
          "59:     activesupport (6.2.0.alpha)",
          "65:     rails (6.2.0.alpha)",
          "66:       actioncable (= 6.2.0.alpha)",
          "67:       actionmailbox (= 6.2.0.alpha)",
          "68:       actionmailer (= 6.2.0.alpha)",
          "69:       actionpack (= 6.2.0.alpha)",
          "70:       actiontext (= 6.2.0.alpha)",
          "71:       actionview (= 6.2.0.alpha)",
          "72:       activejob (= 6.2.0.alpha)",
          "73:       activemodel (= 6.2.0.alpha)",
          "74:       activerecord (= 6.2.0.alpha)",
          "75:       activestorage (= 6.2.0.alpha)",
          "76:       activesupport (= 6.2.0.alpha)",
          "78:       railties (= 6.2.0.alpha)",
          "80:     railties (6.2.0.alpha)",
          "81:       actionpack (= 6.2.0.alpha)",
          "82:       activesupport (= 6.2.0.alpha)",
          "84:       rake (>= 0.8.7)",
          "",
          "[Added Lines]",
          "3:   revision: 513cf351d4fbafe675eb0309930647afbcb92074",
          "6:     actioncable (7.0.0.alpha)",
          "7:       actionpack (= 7.0.0.alpha)",
          "8:       activesupport (= 7.0.0.alpha)",
          "11:     actionmailbox (7.0.0.alpha)",
          "12:       actionpack (= 7.0.0.alpha)",
          "13:       activejob (= 7.0.0.alpha)",
          "14:       activerecord (= 7.0.0.alpha)",
          "15:       activestorage (= 7.0.0.alpha)",
          "16:       activesupport (= 7.0.0.alpha)",
          "18:     actionmailer (7.0.0.alpha)",
          "19:       actionpack (= 7.0.0.alpha)",
          "20:       actionview (= 7.0.0.alpha)",
          "21:       activejob (= 7.0.0.alpha)",
          "22:       activesupport (= 7.0.0.alpha)",
          "25:     actionpack (7.0.0.alpha)",
          "26:       actionview (= 7.0.0.alpha)",
          "27:       activesupport (= 7.0.0.alpha)",
          "32:     actiontext (7.0.0.alpha)",
          "33:       actionpack (= 7.0.0.alpha)",
          "34:       activerecord (= 7.0.0.alpha)",
          "35:       activestorage (= 7.0.0.alpha)",
          "36:       activesupport (= 7.0.0.alpha)",
          "38:     actionview (7.0.0.alpha)",
          "39:       activesupport (= 7.0.0.alpha)",
          "44:     activejob (7.0.0.alpha)",
          "45:       activesupport (= 7.0.0.alpha)",
          "47:     activemodel (7.0.0.alpha)",
          "48:       activesupport (= 7.0.0.alpha)",
          "49:     activerecord (7.0.0.alpha)",
          "50:       activemodel (= 7.0.0.alpha)",
          "51:       activesupport (= 7.0.0.alpha)",
          "52:     activestorage (7.0.0.alpha)",
          "53:       actionpack (= 7.0.0.alpha)",
          "54:       activejob (= 7.0.0.alpha)",
          "55:       activerecord (= 7.0.0.alpha)",
          "56:       activesupport (= 7.0.0.alpha)",
          "57:       marcel (~> 1.0.0)",
          "58:       mini_mime (~> 1.0.2)",
          "59:     activesupport (7.0.0.alpha)",
          "65:     rails (7.0.0.alpha)",
          "66:       actioncable (= 7.0.0.alpha)",
          "67:       actionmailbox (= 7.0.0.alpha)",
          "68:       actionmailer (= 7.0.0.alpha)",
          "69:       actionpack (= 7.0.0.alpha)",
          "70:       actiontext (= 7.0.0.alpha)",
          "71:       actionview (= 7.0.0.alpha)",
          "72:       activejob (= 7.0.0.alpha)",
          "73:       activemodel (= 7.0.0.alpha)",
          "74:       activerecord (= 7.0.0.alpha)",
          "75:       activestorage (= 7.0.0.alpha)",
          "76:       activesupport (= 7.0.0.alpha)",
          "78:       railties (= 7.0.0.alpha)",
          "80:     railties (7.0.0.alpha)",
          "81:       actionpack (= 7.0.0.alpha)",
          "82:       activesupport (= 7.0.0.alpha)",
          "84:       rake (>= 0.13)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "126:       temple (>= 0.8.0)",
          "127:       tilt",
          "128:     html_tokenizer (0.0.7)",
          "130:       concurrent-ruby (~> 1.0)",
          "131:     jaro_winkler (1.5.4)",
          "132:     jbuilder (2.11.2)",
          "",
          "[Removed Lines]",
          "129:     i18n (1.8.7)",
          "",
          "[Added Lines]",
          "129:     i18n (1.8.9)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "136:       nokogiri (>= 1.5.9)",
          "137:     mail (2.7.1)",
          "138:       mini_mime (>= 0.1.1)",
          "141:     method_source (1.0.0)",
          "144:     mini_portile2 (2.5.0)",
          "145:     minitest (5.6.0)",
          "148:       mini_portile2 (~> 2.5.0)",
          "149:       racc (~> 1.4)",
          "150:     parallel (1.20.1)",
          "",
          "[Removed Lines]",
          "139:     marcel (0.3.3)",
          "140:       mimemagic (~> 0.3.2)",
          "142:     mimemagic (0.3.5)",
          "143:     mini_mime (1.0.2)",
          "146:     nio4r (2.5.4)",
          "147:     nokogiri (1.11.0)",
          "",
          "[Added Lines]",
          "139:     marcel (1.0.0)",
          "141:     mini_mime (1.0.3)",
          "144:     nio4r (2.5.7)",
          "145:     nokogiri (1.11.2)",
          "",
          "---------------"
        ]
      }
    }
  ]
}