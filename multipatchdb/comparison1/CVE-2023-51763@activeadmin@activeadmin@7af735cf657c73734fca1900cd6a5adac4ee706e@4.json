{
  "cve_id": "CVE-2023-51763",
  "cve_desc": "csv_builder.rb in ActiveAdmin (aka Active Admin) before 3.2.0 allows CSV injection.",
  "repo": "activeadmin/activeadmin",
  "patch_hash": "7af735cf657c73734fca1900cd6a5adac4ee706e",
  "patch_info": {
    "commit_hash": "7af735cf657c73734fca1900cd6a5adac4ee706e",
    "repo": "activeadmin/activeadmin",
    "commit_url": "https://github.com/activeadmin/activeadmin/commit/7af735cf657c73734fca1900cd6a5adac4ee706e",
    "files": [
      "lib/active_admin/csv_builder.rb",
      "spec/unit/csv_builder_spec.rb"
    ],
    "message": "Backport to 3-0 stable branch protect against CSV Injection (#8161) (#8167)\n\nprotect against CSV Injection\n\nRead more here https://owasp.org/www-community/attacks/CSV_Injection",
    "before_after_code_files": [
      "lib/active_admin/csv_builder.rb||lib/active_admin/csv_builder.rb",
      "spec/unit/csv_builder_spec.rb||spec/unit/csv_builder_spec.rb"
    ]
  },
  "patch_diff": {
    "lib/active_admin/csv_builder.rb||lib/active_admin/csv_builder.rb": [
      "File: lib/active_admin/csv_builder.rb -> lib/active_admin/csv_builder.rb",
      "--- Hunk 1 ---",
      "[Context before]",
      "51:       csv << bom if bom",
      "53:       if column_names",
      "55:       end",
      "57:       controller.send(:in_paginated_batches) do |resource|",
      "",
      "[Removed Lines]",
      "54:         csv << CSV.generate_line(columns.map { |c| encode c.name, options }, **csv_options)",
      "",
      "[Added Lines]",
      "54:         csv << CSV.generate_line(columns.map { |c| sanitize(encode(c.name, options)) }, **csv_options)",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "71:     def build_row(resource, columns, options)",
      "72:       columns.map do |column|",
      "74:       end",
      "75:     end",
      "",
      "[Removed Lines]",
      "73:         encode call_method_or_proc_on(resource, column.data), options",
      "",
      "[Added Lines]",
      "73:         sanitize(encode(call_method_or_proc_on(resource, column.data), options))",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "86:       end",
      "87:     end",
      "89:     def method_missing(method, *args, &block)",
      "90:       if @view_context.respond_to? method",
      "91:         @view_context.public_send method, *args, &block",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "89:     def sanitize(content)",
      "90:       Sanitizer.sanitize(content)",
      "91:     end",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "120:       @column_transitive_options ||= @options.slice(*COLUMN_TRANSITIVE_OPTIONS)",
      "121:     end",
      "122:   end",
      "123: end",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "128:   # Prevents CSV Injection according to https://owasp.org/www-community/attacks/CSV_Injection",
      "129:   module Sanitizer",
      "130:     extend self",
      "132:     ATTACK_CHARACTERS = [\"=\", \"+\", \"-\", \"@\", \"\\t\", \"\\r\"].freeze",
      "134:     def sanitize(value)",
      "135:       return \"'#{value}\" if require_sanitization?(value)",
      "137:       value",
      "138:     end",
      "140:     def require_sanitization?(value)",
      "141:       value.is_a?(String) && value.starts_with?(*ATTACK_CHARACTERS)",
      "142:     end",
      "143:   end",
      "",
      "---------------"
    ],
    "spec/unit/csv_builder_spec.rb||spec/unit/csv_builder_spec.rb": [
      "File: spec/unit/csv_builder_spec.rb -> spec/unit/csv_builder_spec.rb",
      "--- Hunk 1 ---",
      "[Context before]",
      "277:       end",
      "278:     end",
      "279:   end",
      "280: end",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "281:   context \"csv injection\" do",
      "282:     let(:dummy_controller) do",
      "283:       class DummyController",
      "284:         def in_paginated_batches(&block)",
      "285:           Post.all.each(&block)",
      "286:         end",
      "288:         def view_context",
      "289:           MethodOrProcHelper",
      "290:         end",
      "291:       end",
      "292:       DummyController.new",
      "293:     end",
      "295:     let(:builder) do",
      "296:       ActiveAdmin::CSVBuilder.new do",
      "297:         column(:id)",
      "298:         column(:title)",
      "299:       end",
      "300:     end",
      "302:     [\"=\", \"+\", \"-\", \"@\", \"\\t\", \"\\r\"].each do |char|",
      "303:       it \"prepends a single quote when column starts with a #{char} character\" do",
      "304:         attack = \"#{char}1+2\"",
      "306:         escaped_attack = \"'#{attack}\"",
      "307:         escaped_attack = \"\\\"#{escaped_attack}\\\"\" if char == \"\\r\"",
      "309:         post = Post.create!(title: attack)",
      "310:         receiver = []",
      "311:         builder.build dummy_controller, receiver",
      "312:         line = receiver.last",
      "313:         expect(line).to eq \"#{post.id},#{escaped_attack}\\n\"",
      "314:       end",
      "316:       it \"accounts for the field separator when character #{char} is used to inject a formula\" do",
      "317:         attack = \"#{char}1+2'\\\" ;,#{char}1+2\"",
      "318:         escaped_attack = \"\\\"'#{attack.gsub('\"', '\"\"')}\\\"\"",
      "320:         post = Post.create!(title: attack)",
      "321:         receiver = []",
      "322:         builder.build dummy_controller, receiver",
      "323:         line = receiver.last",
      "324:         expect(line).to eq \"#{post.id},#{escaped_attack}\\n\"",
      "325:       end",
      "326:     end",
      "327:   end",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "c0cff8fc1d7a2ca5c503551ba6e37c5e483f4b3c",
      "candidate_info": {
        "commit_hash": "c0cff8fc1d7a2ca5c503551ba6e37c5e483f4b3c",
        "repo": "activeadmin/activeadmin",
        "commit_url": "https://github.com/activeadmin/activeadmin/commit/c0cff8fc1d7a2ca5c503551ba6e37c5e483f4b3c",
        "files": [
          "lib/active_admin/resource_controller/decorators.rb",
          "lib/active_admin/views/components/paginated_collection.rb",
          "spec/support/matchers/perform_database_query_matcher.rb",
          "spec/unit/views/components/paginated_collection_spec.rb"
        ],
        "message": "Backport Optimize count query for pagination_total: false option (#8470)\n\n* Optimize count query for `pagination_total: false` option (#6911)\n\n* Remove duplicated delegation\n\n`total_pages` is listed twice.\n\n* Remove ORDER BY from count subquery\n\nQueries like `SELECT COUNT(*) FROM (SELECT DISTINCT resources.* FROM resources ORDER BY resources.created_at DESC LIMIT 1 OFFSET 30) subquery_for_count`\nare too inefficient\n\n* add specs about ensure count query does not include ORDER BY clause\n\n* exclude also select because based on https://github.com/activeadmin/activeadmin/pull/7489\\#issuecomment-1554197081\n\n---------\n\nCo-authored-by: Rafael Sales <rafaelcds@gmail.com>\nCo-authored-by: David Rodr\u00edguez <deivid-rodriguez>\nCo-authored-by: Matias Grunberg <matias@yellowspot.dev>\n\n* fix perform_database_query_matcher: make sure to keep match truthy after the first matched query\n\n---------\n\nCo-authored-by: David Rodr\u00edguez <deivid.rodriguez@riseup.net>\nCo-authored-by: Rafael Sales <rafaelcds@gmail.com>",
        "before_after_code_files": [
          "lib/active_admin/resource_controller/decorators.rb||lib/active_admin/resource_controller/decorators.rb",
          "lib/active_admin/views/components/paginated_collection.rb||lib/active_admin/views/components/paginated_collection.rb",
          "spec/support/matchers/perform_database_query_matcher.rb||spec/support/matchers/perform_database_query_matcher.rb",
          "spec/unit/views/components/paginated_collection_spec.rb||spec/unit/views/components/paginated_collection_spec.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/DocBuddy/activeadmin/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "lib/active_admin/resource_controller/decorators.rb||lib/active_admin/resource_controller/decorators.rb": [
          "File: lib/active_admin/resource_controller/decorators.rb -> lib/active_admin/resource_controller/decorators.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "61:         def self.wrap!(parent, name)",
          "62:           ::Class.new parent do",
          "63:             delegate :reorder, :page, :current_page, :total_pages, :limit_value,",
          "65:                      :except, :find_each, :ransack, to: :object",
          "67:             define_singleton_method(:name) { name }",
          "",
          "[Removed Lines]",
          "64:                      :total_count, :total_pages, :offset, :to_key, :group_values,",
          "",
          "[Added Lines]",
          "64:                      :total_count, :offset, :to_key, :group_values,",
          "",
          "---------------"
        ],
        "lib/active_admin/views/components/paginated_collection.rb||lib/active_admin/views/components/paginated_collection.rb": [
          "File: lib/active_admin/views/components/paginated_collection.rb -> lib/active_admin/views/components/paginated_collection.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "103:           # you pass in the :total_pages option. We issue a query to determine",
          "104:           # if there is another page or not, but the limit/offset make this",
          "105:           # query fast.",
          "107:           options[:total_pages] = collection.current_page + offset",
          "108:           options[:right] = 0",
          "109:         end",
          "",
          "[Removed Lines]",
          "106:           offset = collection.offset(collection.current_page * collection.limit_value).limit(1).count",
          "",
          "[Added Lines]",
          "106:           offset_scope = collection.offset(collection.current_page * collection.limit_value)",
          "107:           # Support array collections. Kaminari::PaginatableArray does not respond to except",
          "108:           offset_scope = offset_scope.except(:select, :order) if offset_scope.respond_to?(:except)",
          "109:           offset = offset_scope.limit(1).count",
          "",
          "---------------"
        ],
        "spec/support/matchers/perform_database_query_matcher.rb||spec/support/matchers/perform_database_query_matcher.rb": [
          "File: spec/support/matchers/perform_database_query_matcher.rb -> spec/support/matchers/perform_database_query_matcher.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: RSpec::Matchers.define :perform_database_query do |query|",
          "4:   match do |block|",
          "5:     @match = nil",
          "7:     callback = lambda do |_name, _started, _finished, _unique_id, payload|",
          "9:     end",
          "11:     ActiveSupport::Notifications.subscribed(callback, \"sql.active_record\", &block)",
          "",
          "[Removed Lines]",
          "8:       @match = Regexp.new(Regexp.escape(query)).match?(payload[:sql])",
          "",
          "[Added Lines]",
          "5:     query_regexp = query.is_a?(Regexp) ? query : Regexp.new(Regexp.escape(query))",
          "10:       @match ||= query_regexp.match?(payload[:sql])",
          "",
          "---------------"
        ],
        "spec/unit/views/components/paginated_collection_spec.rb||spec/unit/views/components/paginated_collection_spec.rb": [
          "File: spec/unit/views/components/paginated_collection_spec.rb -> spec/unit/views/components/paginated_collection_spec.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "228:       end",
          "229:     end",
          "241:     end",
          "243:     it \"makes no COUNT queries to figure out the last element of each page\" do",
          "",
          "[Removed Lines]",
          "231:     it \"makes no expensive COUNT queries when pagination_total is false\" do",
          "232:       undecorated_collection = Post.all.page(1).per(30)",
          "234:       expect { paginated_collection(undecorated_collection, pagination_total: false) }",
          "235:         .not_to perform_database_query(\"SELECT COUNT(*) FROM \\\"posts\\\"\")",
          "237:       decorated_collection = controller_with_decorator(\"index\", PostDecorator).apply_collection_decorator(undecorated_collection)",
          "239:       expect { paginated_collection(decorated_collection, pagination_total: false) }",
          "240:         .not_to perform_database_query(\"SELECT COUNT(*) FROM \\\"posts\\\"\")",
          "",
          "[Added Lines]",
          "231:     describe \"when pagination_total is false\" do",
          "232:       it \"makes no expensive COUNT queries\" do",
          "233:         undecorated_collection = Post.all.page(1).per(30)",
          "235:         expect { paginated_collection(undecorated_collection, pagination_total: false) }",
          "236:           .not_to perform_database_query(\"SELECT COUNT(*) FROM \\\"posts\\\"\")",
          "238:         decorated_collection = controller_with_decorator(\"index\", PostDecorator).apply_collection_decorator(undecorated_collection.reset)",
          "240:         expect { paginated_collection(decorated_collection, pagination_total: false) }",
          "241:           .not_to perform_database_query(\"SELECT COUNT(*) FROM \\\"posts\\\"\")",
          "242:       end",
          "244:       it \"makes a performant COUNT query to figure out if we are on the last page\" do",
          "245:         # \"SELECT COUNT(*) FROM (SELECT 1\". Let's make sure the subquery has LIMIT and OFFSET. It shouldn't have ORDER BY",
          "246:         count_query = %r{SELECT COUNT\\(\\*\\) FROM \\(SELECT 1 .*FROM \"posts\" (?=.*OFFSET \\?)(?=.*LIMIT \\?)(?!.*ORDER BY)}",
          "248:         undecorated_collection = Post.all.page(1).per(30)",
          "250:         expect { paginated_collection(undecorated_collection, pagination_total: false) }",
          "251:           .to perform_database_query(count_query)",
          "253:         undecorated_sorted_collection = undecorated_collection.reset.order(id: :desc)",
          "255:         expect { paginated_collection(undecorated_sorted_collection, pagination_total: false) }",
          "256:           .to perform_database_query(count_query)",
          "258:         decorated_collection = controller_with_decorator(\"index\", PostDecorator).apply_collection_decorator(undecorated_collection.reset)",
          "260:         expect { paginated_collection(decorated_collection, pagination_total: false) }",
          "261:           .to perform_database_query(count_query)",
          "263:         decorated_sorted_collection = controller_with_decorator(\"index\", PostDecorator).apply_collection_decorator(undecorated_sorted_collection.reset)",
          "265:         expect { paginated_collection(decorated_sorted_collection, pagination_total: false) }",
          "266:           .to perform_database_query(count_query)",
          "267:       end",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "983cf3a47489c1ec468382354ab14c078adef6a1",
      "candidate_info": {
        "commit_hash": "983cf3a47489c1ec468382354ab14c078adef6a1",
        "repo": "activeadmin/activeadmin",
        "commit_url": "https://github.com/activeadmin/activeadmin/commit/983cf3a47489c1ec468382354ab14c078adef6a1",
        "files": [
          "spec/support/rails_template.rb",
          "spec/support/templates/public/favicon.ico"
        ],
        "message": "Backport Add favicon to template app to fix Rails 7.2 test suite run (#8468)\n\nadd favicon for template app\n\nWe have some specs failing in Rails 7.2. The only hint we have in the\nlog is\n\n```\nNo route matches [GET] \"/favicon.ico\" (ActionController::RoutingError)\n```\n\nRails 7.2 new app generator does not use favicon.ico anymore. It uses a\npng + meta \"icon\" tag.\n\nLet's configure the icon in the template app to prevent this kind of\nerror.",
        "before_after_code_files": [
          "spec/support/rails_template.rb||spec/support/rails_template.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/DocBuddy/activeadmin/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "spec/support/rails_template.rb||spec/support/rails_template.rb": [
          "File: spec/support/rails_template.rb -> spec/support/rails_template.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "97: # Add some translations",
          "98: append_file \"config/locales/en.yml\", File.read(File.expand_path(\"templates/en.yml\", __dir__))",
          "101: directory File.expand_path(\"templates/admin\", __dir__), \"app/admin\"",
          "103: # Add predefined policies",
          "104: directory File.expand_path(\"templates/policies\", __dir__), \"app/policies\"",
          "106: if ENV[\"RAILS_ENV\"] != \"test\"",
          "107:   inject_into_file \"config/routes.rb\", \"\\n  root to: redirect('admin')\", after: /.*routes.draw do/",
          "",
          "[Removed Lines]",
          "100: # Add predefined admin resources",
          "",
          "[Added Lines]",
          "100: # Add predefined admin resources, override any file that was generated by rails new generator",
          "105: directory File.expand_path(\"templates/public\", __dir__), \"public\", force: true",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "c17be6e63a0a17b1e675e17148bdac8098899803",
      "candidate_info": {
        "commit_hash": "c17be6e63a0a17b1e675e17148bdac8098899803",
        "repo": "activeadmin/activeadmin",
        "commit_url": "https://github.com/activeadmin/activeadmin/commit/c17be6e63a0a17b1e675e17148bdac8098899803",
        "files": [
          ".github/workflows/ci.yaml",
          "Gemfile",
          "Gemfile.lock",
          "gemfiles/rails_70/Gemfile",
          "gemfiles/rails_70/Gemfile.lock",
          "spec/support/rails_template.rb",
          "spec/unit/authorization/controller_authorization_spec.rb",
          "spec/unit/views/components/tabs_spec.rb",
          "tasks/test_application.rb"
        ],
        "message": "Support Rails 7.1 (#8102)\n\n* run ci against rails 7.1\n\n* change test_app name\n\n* make test app generation work with rails 7.1 and older\n\n* resolve ransack 'NoMethodError: undefined method '\n\n* formtastic 'DEPRECATION WARNING: Calling silence on ActiveSupport::Deprecation is deprecated and will be removed from Rails'\n\n* do not check redirect body anymore because rails 7.1 removed it\n\nsee https://github.com/rails/rails/commit/c2e756a944fd3ca2efa58bd285c0e75e0b4794ab\n\n* temporal: resolve cucumber-rails DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead\n\n* enable reloading to be able to test 'class-reload in development'\n\n* bump devise from 4.9.2 to 4.9.3\n\n* Fix tabs_spec flaky tests by allow lazy load of transliteration rules\n\nRun the following code prior this commit to see the error\n\n```\nrspec ./spec/unit/views/components/tabs_spec.rb:42 --seed 57923\n```\n\nThe error:\n\n```\nFailure/Error: result = string.parameterize\n\n       I18n received :t with unexpected arguments\n         expected: (:tab_key)\n              got: (:\"i18n.transliterate.rule\", {:default=>{}, :locale=>:en, :resolve=>false})\n       Diff:\n       @@ -1 +1 @@\n       -[:tab_key]\n       +[:\"i18n.transliterate.rule\", {:default=>{}, :locale=>:en, :resolve=>false}]\n\n     # /home/matias/.rvm/gems/ruby-3.2.2/gems/i18n-1.14.1/lib/i18n/backend/transliterator.rb:13:in `transliterate'\n     # /home/matias/.rvm/gems/ruby-3.2.2/gems/i18n-1.14.1/lib/i18n.rb:298:in `transliterate'\n     # /home/matias/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.0/lib/active_support/inflector/transliterate.rb:84:in `transliterate'\n     # /home/matias/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.0/lib/active_support/inflector/transliterate.rb:125:in `parameterize'\n     # /home/matias/.rvm/gems/ruby-3.2.2/gems/activesupport-7.1.0/lib/active_support/core_ext/string/inflections.rb:216:in `parameterize'\n     # ./lib/active_admin/views/components/tabs.rb:35:in `fragmentize'\n     # ./lib/active_admin/views/components/tabs.rb:19:in `build_menu_item'\n     # ./lib/active_admin/views/components/tabs.rb:9:in `tab'\n```\n\nThe problem?\n\ntab calls `parameterize` on the give title. That use `I18n.transliterate` under the hood which calls `I18n.t`.\nWe must consider that call in our stub.\n\nWhy is a flaky tests?\n\nBecause `I18n` uses an internal cache. Only the first call to `I18n.transliterate` calls `I18n.t`.\n\nSee\n\nhttps://github.com/rails/rails/blob/v7.1.1/activesupport/lib/active_support/core_ext/string/inflections.rb#L216\nhttps://github.com/rails/rails/blob/v7.1.1/activesupport/lib/active_support/inflector/transliterate.rb#L123\nhttps://github.com/rails/rails/blob/v7.1.1/activesupport/lib/active_support/inflector/transliterate.rb#L64\nhttps://github.com/ruby-i18n/i18n/blob/v1.14.1/lib/i18n/backend/transliterator.rb#L13\n\n* require ransack 4.1\n\n* Revert \"require ransack 4.1\"\n\nThis reverts commit 51f665e8c7785501a12f3a02f88d6cec7d1f7bea.\n\nThis would force users to drop ruby 2.7",
        "before_after_code_files": [
          "Gemfile.lock||Gemfile.lock",
          "gemfiles/rails_70/Gemfile.lock||gemfiles/rails_70/Gemfile.lock",
          "spec/support/rails_template.rb||spec/support/rails_template.rb",
          "spec/unit/authorization/controller_authorization_spec.rb||spec/unit/authorization/controller_authorization_spec.rb",
          "spec/unit/views/components/tabs_spec.rb||spec/unit/views/components/tabs_spec.rb",
          "tasks/test_application.rb||tasks/test_application.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/DocBuddy/activeadmin/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "Gemfile.lock||Gemfile.lock": [
          "File: Gemfile.lock -> Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: PATH",
          "2:   remote: .",
          "3:   specs:",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: GIT",
          "2:   remote: https://github.com/cucumber/cucumber-rails.git",
          "3:   revision: 9879b81609b0871a0dc3bf675ace7bd0cd88c3cc",
          "4:   branch: main",
          "5:   specs:",
          "6:     cucumber-rails (3.0.0.rc.1)",
          "7:       capybara (>= 3.11, < 4)",
          "8:       cucumber (>= 5, < 10)",
          "9:       railties (>= 5.2, < 8)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "14: GEM",
          "15:   remote: https://rubygems.org/",
          "16:   specs:",
          "20:       nio4r (~> 2.0)",
          "21:       websocket-driver (>= 0.6.1)",
          "28:       mail (>= 2.7.1)",
          "29:       net-imap",
          "30:       net-pop",
          "31:       net-smtp",
          "37:       mail (~> 2.5, >= 2.5.4)",
          "38:       net-imap",
          "39:       net-pop",
          "40:       net-smtp",
          "46:       rack-test (>= 0.6.3)",
          "54:       globalid (>= 0.6.0)",
          "55:       nokogiri (>= 1.8.5)",
          "58:       builder (~> 3.1)",
          "64:       globalid (>= 0.3.6)",
          "67:     activemodel-serializers-xml (1.0.2)",
          "68:       activemodel (> 5.x)",
          "69:       activesupport (> 5.x)",
          "70:       builder (~> 3.1)",
          "79:       marcel (~> 1.0)",
          "82:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "83:       i18n (>= 1.6, < 2)",
          "84:       minitest (>= 5.1)",
          "85:       tzinfo (~> 2.0)",
          "86:     addressable (2.8.5)",
          "87:       public_suffix (>= 2.0.2, < 6.0)",
          "",
          "[Removed Lines]",
          "17:     actioncable (7.0.8)",
          "18:       actionpack (= 7.0.8)",
          "19:       activesupport (= 7.0.8)",
          "22:     actionmailbox (7.0.8)",
          "23:       actionpack (= 7.0.8)",
          "24:       activejob (= 7.0.8)",
          "25:       activerecord (= 7.0.8)",
          "26:       activestorage (= 7.0.8)",
          "27:       activesupport (= 7.0.8)",
          "32:     actionmailer (7.0.8)",
          "33:       actionpack (= 7.0.8)",
          "34:       actionview (= 7.0.8)",
          "35:       activejob (= 7.0.8)",
          "36:       activesupport (= 7.0.8)",
          "41:       rails-dom-testing (~> 2.0)",
          "42:     actionpack (7.0.8)",
          "43:       actionview (= 7.0.8)",
          "44:       activesupport (= 7.0.8)",
          "45:       rack (~> 2.0, >= 2.2.4)",
          "47:       rails-dom-testing (~> 2.0)",
          "48:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "49:     actiontext (7.0.8)",
          "50:       actionpack (= 7.0.8)",
          "51:       activerecord (= 7.0.8)",
          "52:       activestorage (= 7.0.8)",
          "53:       activesupport (= 7.0.8)",
          "56:     actionview (7.0.8)",
          "57:       activesupport (= 7.0.8)",
          "59:       erubi (~> 1.4)",
          "60:       rails-dom-testing (~> 2.0)",
          "61:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "62:     activejob (7.0.8)",
          "63:       activesupport (= 7.0.8)",
          "65:     activemodel (7.0.8)",
          "66:       activesupport (= 7.0.8)",
          "71:     activerecord (7.0.8)",
          "72:       activemodel (= 7.0.8)",
          "73:       activesupport (= 7.0.8)",
          "74:     activestorage (7.0.8)",
          "75:       actionpack (= 7.0.8)",
          "76:       activejob (= 7.0.8)",
          "77:       activerecord (= 7.0.8)",
          "78:       activesupport (= 7.0.8)",
          "80:       mini_mime (>= 1.1.0)",
          "81:     activesupport (7.0.8)",
          "",
          "[Added Lines]",
          "27:     actioncable (7.1.0)",
          "28:       actionpack (= 7.1.0)",
          "29:       activesupport (= 7.1.0)",
          "32:       zeitwerk (~> 2.6)",
          "33:     actionmailbox (7.1.0)",
          "34:       actionpack (= 7.1.0)",
          "35:       activejob (= 7.1.0)",
          "36:       activerecord (= 7.1.0)",
          "37:       activestorage (= 7.1.0)",
          "38:       activesupport (= 7.1.0)",
          "43:     actionmailer (7.1.0)",
          "44:       actionpack (= 7.1.0)",
          "45:       actionview (= 7.1.0)",
          "46:       activejob (= 7.1.0)",
          "47:       activesupport (= 7.1.0)",
          "52:       rails-dom-testing (~> 2.2)",
          "53:     actionpack (7.1.0)",
          "54:       actionview (= 7.1.0)",
          "55:       activesupport (= 7.1.0)",
          "56:       nokogiri (>= 1.8.5)",
          "57:       rack (>= 2.2.4)",
          "58:       rack-session (>= 1.0.1)",
          "60:       rails-dom-testing (~> 2.2)",
          "61:       rails-html-sanitizer (~> 1.6)",
          "62:     actiontext (7.1.0)",
          "63:       actionpack (= 7.1.0)",
          "64:       activerecord (= 7.1.0)",
          "65:       activestorage (= 7.1.0)",
          "66:       activesupport (= 7.1.0)",
          "69:     actionview (7.1.0)",
          "70:       activesupport (= 7.1.0)",
          "72:       erubi (~> 1.11)",
          "73:       rails-dom-testing (~> 2.2)",
          "74:       rails-html-sanitizer (~> 1.6)",
          "75:     activejob (7.1.0)",
          "76:       activesupport (= 7.1.0)",
          "78:     activemodel (7.1.0)",
          "79:       activesupport (= 7.1.0)",
          "84:     activerecord (7.1.0)",
          "85:       activemodel (= 7.1.0)",
          "86:       activesupport (= 7.1.0)",
          "87:       timeout (>= 0.4.0)",
          "88:     activestorage (7.1.0)",
          "89:       actionpack (= 7.1.0)",
          "90:       activejob (= 7.1.0)",
          "91:       activerecord (= 7.1.0)",
          "92:       activesupport (= 7.1.0)",
          "94:     activesupport (7.1.0)",
          "95:       base64",
          "96:       bigdecimal",
          "98:       connection_pool (>= 2.2.5)",
          "99:       drb",
          "102:       mutex_m",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "98:       erubi (~> 1.4)",
          "99:       parser (>= 2.4)",
          "100:       smart_properties",
          "101:     builder (3.2.4)",
          "102:     cancancan (3.5.0)",
          "103:     capybara (3.39.2)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "119:     bigdecimal (3.1.4)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "113:       netrc",
          "114:       octokit (>= 2.2.0)",
          "115:     concurrent-ruby (1.2.2)",
          "116:     crass (1.0.6)",
          "117:     cucumber (8.0.0)",
          "118:       builder (~> 3.2, >= 3.2.4)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "135:     connection_pool (2.4.1)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "137:     cucumber-html-formatter (19.2.0)",
          "138:       cucumber-messages (~> 18.0, >= 18.0.0)",
          "139:     cucumber-messages (18.0.0)",
          "148:     cucumber-tag-expressions (4.1.0)",
          "149:     cuprite (0.14.3)",
          "150:       capybara (~> 3.0)",
          "",
          "[Removed Lines]",
          "140:     cucumber-rails (2.6.1)",
          "141:       capybara (>= 2.18, < 4)",
          "142:       cucumber (>= 3.2, < 9)",
          "143:       mime-types (~> 3.3)",
          "144:       nokogiri (~> 1.10)",
          "145:       railties (>= 5.0, < 8)",
          "146:       rexml (~> 3.0)",
          "147:       webrick (~> 1.7)",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "156:       database_cleaner-core (~> 2.0.0)",
          "157:     database_cleaner-core (2.0.1)",
          "158:     date (3.3.3)",
          "160:       bcrypt (~> 3.0)",
          "161:       orm_adapter (~> 0.1)",
          "162:       railties (>= 4.1.0)",
          "",
          "[Removed Lines]",
          "159:     devise (4.9.2)",
          "",
          "[Added Lines]",
          "171:     devise (4.9.3)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "171:       activesupport (>= 5.0)",
          "172:       request_store (>= 1.0)",
          "173:       ruby2_keywords",
          "174:     erubi (1.12.0)",
          "175:     faraday (2.7.11)",
          "176:       base64",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "186:     drb (2.1.1)",
          "187:       ruby2_keywords",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "183:       webrick (~> 1.7)",
          "184:       websocket-driver (>= 0.6, < 0.8)",
          "185:     ffi (1.16.3)",
          "188:     formtastic_i18n (0.7.0)",
          "189:     globalid (1.2.1)",
          "190:       activesupport (>= 6.1)",
          "",
          "[Removed Lines]",
          "186:     formtastic (4.0.0)",
          "187:       actionpack (>= 5.2.0)",
          "",
          "[Added Lines]",
          "200:     formtastic (5.0.0)",
          "201:       actionpack (>= 6.0.0)",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "212:       has_scope (>= 0.6)",
          "213:       railties (>= 6.0)",
          "214:       responders (>= 2)",
          "215:     iso (0.4.0)",
          "216:       i18n",
          "217:     jquery-rails (4.6.0)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "229:     io-console (0.6.0)",
          "230:     irb (1.8.1)",
          "231:       rdoc",
          "232:       reline (>= 0.3.8)",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "236:     language_server-protocol (3.17.0.3)",
          "237:     launchy (2.5.2)",
          "238:       addressable (~> 2.8)",
          "240:       crass (~> 1.0.2)",
          "241:       nokogiri (>= 1.12.0)",
          "242:     mail (2.8.1)",
          "",
          "[Removed Lines]",
          "239:     loofah (2.21.3)",
          "",
          "[Added Lines]",
          "257:     loofah (2.21.4)",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "246:       net-smtp",
          "247:     marcel (1.0.2)",
          "248:     matrix (0.4.2)",
          "250:     mime-types (3.5.1)",
          "251:       mime-types-data (~> 3.2015)",
          "252:     mime-types-data (3.2023.1003)",
          "253:     mini_mime (1.1.5)",
          "255:     minitest (5.20.0)",
          "256:     multi_test (1.1.0)",
          "257:     net-imap (0.4.1)",
          "258:       date",
          "259:       net-protocol",
          "",
          "[Removed Lines]",
          "249:     method_source (1.0.0)",
          "254:     mini_portile2 (2.8.4)",
          "",
          "[Added Lines]",
          "271:     mini_portile2 (2.8.5)",
          "274:     mutex_m (0.1.2)",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "282:     parser (3.2.2.4)",
          "283:       ast (~> 2.4.1)",
          "284:       racc",
          "285:     public_suffix (5.0.3)",
          "286:     pundit (2.3.1)",
          "287:       activesupport (>= 3.0.0)",
          "288:     racc (1.7.1)",
          "290:     rack-test (2.1.0)",
          "291:       rack (>= 1.3)",
          "304:       bundler (>= 1.15.0)",
          "306:     rails-dom-testing (2.2.0)",
          "307:       activesupport (>= 5.0.0)",
          "308:       minitest",
          "",
          "[Removed Lines]",
          "289:     rack (2.2.8)",
          "292:     rails (7.0.8)",
          "293:       actioncable (= 7.0.8)",
          "294:       actionmailbox (= 7.0.8)",
          "295:       actionmailer (= 7.0.8)",
          "296:       actionpack (= 7.0.8)",
          "297:       actiontext (= 7.0.8)",
          "298:       actionview (= 7.0.8)",
          "299:       activejob (= 7.0.8)",
          "300:       activemodel (= 7.0.8)",
          "301:       activerecord (= 7.0.8)",
          "302:       activestorage (= 7.0.8)",
          "303:       activesupport (= 7.0.8)",
          "305:       railties (= 7.0.8)",
          "",
          "[Added Lines]",
          "303:     psych (5.1.1)",
          "304:       stringio",
          "309:     rack (3.0.8)",
          "310:     rack-session (2.0.0)",
          "311:       rack (>= 3.0.0)",
          "314:     rackup (2.1.0)",
          "315:       rack (>= 3)",
          "316:       webrick (~> 1.8)",
          "317:     rails (7.1.0)",
          "318:       actioncable (= 7.1.0)",
          "319:       actionmailbox (= 7.1.0)",
          "320:       actionmailer (= 7.1.0)",
          "321:       actionpack (= 7.1.0)",
          "322:       actiontext (= 7.1.0)",
          "323:       actionview (= 7.1.0)",
          "324:       activejob (= 7.1.0)",
          "325:       activemodel (= 7.1.0)",
          "326:       activerecord (= 7.1.0)",
          "327:       activestorage (= 7.1.0)",
          "328:       activesupport (= 7.1.0)",
          "330:       railties (= 7.1.0)",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "313:     rails-i18n (7.0.8)",
          "314:       i18n (>= 0.7, < 2)",
          "315:       railties (>= 6.0.0, < 8)",
          "320:       rake (>= 12.2)",
          "323:     rainbow (3.1.1)",
          "324:     rake (13.0.6)",
          "326:       activerecord (>= 6.1.5)",
          "327:       activesupport (>= 6.1.5)",
          "328:       i18n",
          "329:     regexp_parser (2.8.1)",
          "330:     request_store (1.5.1)",
          "331:       rack (>= 1.4)",
          "333:       actionpack (>= 5.2)",
          "334:       railties (>= 5.2)",
          "335:     rexml (3.2.6)",
          "",
          "[Removed Lines]",
          "316:     railties (7.0.8)",
          "317:       actionpack (= 7.0.8)",
          "318:       activesupport (= 7.0.8)",
          "319:       method_source",
          "321:       thor (~> 1.0)",
          "322:       zeitwerk (~> 2.5)",
          "325:     ransack (4.0.0)",
          "332:     responders (3.1.0)",
          "",
          "[Added Lines]",
          "341:     railties (7.1.0)",
          "342:       actionpack (= 7.1.0)",
          "343:       activesupport (= 7.1.0)",
          "344:       irb",
          "345:       rackup (>= 1.0.0)",
          "347:       thor (~> 1.0, >= 1.2.2)",
          "348:       zeitwerk (~> 2.6)",
          "351:     ransack (4.1.0)",
          "355:     rdoc (6.5.0)",
          "356:       psych (>= 4.0.0)",
          "358:     reline (0.3.9)",
          "359:       io-console (~> 0.5)",
          "362:     responders (3.1.1)",
          "",
          "---------------",
          "--- Hunk 14 ---",
          "[Context before]",
          "412:       mini_portile2 (~> 2.8.0)",
          "413:     sqlite3 (1.6.6-arm64-darwin)",
          "414:     sqlite3 (1.6.6-x86_64-linux)",
          "415:     sys-uname (1.2.3)",
          "416:       ffi (~> 1.1)",
          "417:     terminal-table (3.0.2)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "445:     stringio (3.0.8)",
          "",
          "---------------",
          "--- Hunk 15 ---",
          "[Context before]",
          "444:   capybara",
          "445:   chandler",
          "446:   cucumber",
          "448:   cuprite",
          "449:   database_cleaner",
          "450:   devise",
          "451:   draper",
          "452:   i18n-spec",
          "453:   i18n-tasks",
          "454:   kramdown",
          "",
          "[Removed Lines]",
          "447:   cucumber-rails",
          "",
          "[Added Lines]",
          "478:   cucumber-rails!",
          "483:   formtastic (>= 5.0.0)",
          "",
          "---------------",
          "--- Hunk 16 ---",
          "[Context before]",
          "456:   octokit",
          "457:   parallel_tests",
          "458:   pundit",
          "460:   rails-i18n",
          "461:   rake",
          "462:   rspec-rails",
          "463:   rubocop",
          "464:   rubocop-packaging",
          "",
          "[Removed Lines]",
          "459:   rails (~> 7.0.0)",
          "",
          "[Added Lines]",
          "491:   rails (~> 7.1.0)",
          "494:   ransack (>= 4.1.0)",
          "",
          "---------------"
        ],
        "gemfiles/rails_70/Gemfile.lock||gemfiles/rails_70/Gemfile.lock": [
          "File: gemfiles/rails_70/Gemfile.lock -> gemfiles/rails_70/Gemfile.lock",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: PATH",
          "2:   remote: ../..",
          "3:   specs:",
          "4:     activeadmin (3.0.0)",
          "5:       arbre (~> 1.2, >= 1.2.1)",
          "6:       formtastic (>= 3.1)",
          "7:       formtastic_i18n (>= 0.4)",
          "8:       inherited_resources (~> 1.7)",
          "9:       jquery-rails (>= 4.2)",
          "10:       kaminari (>= 1.2.1)",
          "11:       railties (>= 6.1)",
          "12:       ransack (>= 4.0)",
          "14: GEM",
          "15:   remote: https://rubygems.org/",
          "16:   specs:",
          "17:     actioncable (7.0.8)",
          "18:       actionpack (= 7.0.8)",
          "19:       activesupport (= 7.0.8)",
          "20:       nio4r (~> 2.0)",
          "21:       websocket-driver (>= 0.6.1)",
          "22:     actionmailbox (7.0.8)",
          "23:       actionpack (= 7.0.8)",
          "24:       activejob (= 7.0.8)",
          "25:       activerecord (= 7.0.8)",
          "26:       activestorage (= 7.0.8)",
          "27:       activesupport (= 7.0.8)",
          "28:       mail (>= 2.7.1)",
          "29:       net-imap",
          "30:       net-pop",
          "31:       net-smtp",
          "32:     actionmailer (7.0.8)",
          "33:       actionpack (= 7.0.8)",
          "34:       actionview (= 7.0.8)",
          "35:       activejob (= 7.0.8)",
          "36:       activesupport (= 7.0.8)",
          "37:       mail (~> 2.5, >= 2.5.4)",
          "38:       net-imap",
          "39:       net-pop",
          "40:       net-smtp",
          "41:       rails-dom-testing (~> 2.0)",
          "42:     actionpack (7.0.8)",
          "43:       actionview (= 7.0.8)",
          "44:       activesupport (= 7.0.8)",
          "45:       rack (~> 2.0, >= 2.2.4)",
          "46:       rack-test (>= 0.6.3)",
          "47:       rails-dom-testing (~> 2.0)",
          "48:       rails-html-sanitizer (~> 1.0, >= 1.2.0)",
          "49:     actiontext (7.0.8)",
          "50:       actionpack (= 7.0.8)",
          "51:       activerecord (= 7.0.8)",
          "52:       activestorage (= 7.0.8)",
          "53:       activesupport (= 7.0.8)",
          "54:       globalid (>= 0.6.0)",
          "55:       nokogiri (>= 1.8.5)",
          "56:     actionview (7.0.8)",
          "57:       activesupport (= 7.0.8)",
          "58:       builder (~> 3.1)",
          "59:       erubi (~> 1.4)",
          "60:       rails-dom-testing (~> 2.0)",
          "61:       rails-html-sanitizer (~> 1.1, >= 1.2.0)",
          "62:     activejob (7.0.8)",
          "63:       activesupport (= 7.0.8)",
          "64:       globalid (>= 0.3.6)",
          "65:     activemodel (7.0.8)",
          "66:       activesupport (= 7.0.8)",
          "67:     activemodel-serializers-xml (1.0.2)",
          "68:       activemodel (> 5.x)",
          "69:       activesupport (> 5.x)",
          "70:       builder (~> 3.1)",
          "71:     activerecord (7.0.8)",
          "72:       activemodel (= 7.0.8)",
          "73:       activesupport (= 7.0.8)",
          "74:     activestorage (7.0.8)",
          "75:       actionpack (= 7.0.8)",
          "76:       activejob (= 7.0.8)",
          "77:       activerecord (= 7.0.8)",
          "78:       activesupport (= 7.0.8)",
          "79:       marcel (~> 1.0)",
          "80:       mini_mime (>= 1.1.0)",
          "81:     activesupport (7.0.8)",
          "82:       concurrent-ruby (~> 1.0, >= 1.0.2)",
          "83:       i18n (>= 1.6, < 2)",
          "84:       minitest (>= 5.1)",
          "85:       tzinfo (~> 2.0)",
          "86:     addressable (2.8.5)",
          "87:       public_suffix (>= 2.0.2, < 6.0)",
          "88:     arbre (1.7.0)",
          "89:       activesupport (>= 3.0.0)",
          "90:       ruby2_keywords (>= 0.0.2)",
          "91:     ast (2.4.2)",
          "92:     bcrypt (3.1.19)",
          "93:     better_html (2.0.2)",
          "94:       actionview (>= 6.0)",
          "95:       activesupport (>= 6.0)",
          "96:       ast (~> 2.0)",
          "97:       erubi (~> 1.4)",
          "98:       parser (>= 2.4)",
          "99:       smart_properties",
          "100:     builder (3.2.4)",
          "101:     cancancan (3.5.0)",
          "102:     capybara (3.39.2)",
          "103:       addressable",
          "104:       matrix",
          "105:       mini_mime (>= 0.1.3)",
          "106:       nokogiri (~> 1.8)",
          "107:       rack (>= 1.6.0)",
          "108:       rack-test (>= 0.6.3)",
          "109:       regexp_parser (>= 1.5, < 3.0)",
          "110:       xpath (~> 3.2)",
          "111:     concurrent-ruby (1.2.2)",
          "112:     crass (1.0.6)",
          "113:     cucumber (8.0.0)",
          "114:       builder (~> 3.2, >= 3.2.4)",
          "115:       cucumber-ci-environment (~> 9.0, >= 9.0.4)",
          "116:       cucumber-core (~> 11.0, >= 11.0.0)",
          "117:       cucumber-cucumber-expressions (~> 15.1, >= 15.1.1)",
          "118:       cucumber-gherkin (~> 23.0, >= 23.0.1)",
          "119:       cucumber-html-formatter (~> 19.1, >= 19.1.0)",
          "120:       cucumber-messages (~> 18.0, >= 18.0.0)",
          "121:       diff-lcs (~> 1.5, >= 1.5.0)",
          "122:       mime-types (~> 3.4, >= 3.4.1)",
          "123:       multi_test (~> 1.1, >= 1.1.0)",
          "124:       sys-uname (~> 1.2, >= 1.2.2)",
          "125:     cucumber-ci-environment (9.2.0)",
          "126:     cucumber-core (11.0.0)",
          "127:       cucumber-gherkin (~> 23.0, >= 23.0.1)",
          "128:       cucumber-messages (~> 18.0, >= 18.0.0)",
          "129:       cucumber-tag-expressions (~> 4.1, >= 4.1.0)",
          "130:     cucumber-cucumber-expressions (15.2.0)",
          "131:     cucumber-gherkin (23.0.1)",
          "132:       cucumber-messages (~> 18.0, >= 18.0.0)",
          "133:     cucumber-html-formatter (19.2.0)",
          "134:       cucumber-messages (~> 18.0, >= 18.0.0)",
          "135:     cucumber-messages (18.0.0)",
          "136:     cucumber-rails (2.6.1)",
          "137:       capybara (>= 2.18, < 4)",
          "138:       cucumber (>= 3.2, < 9)",
          "139:       mime-types (~> 3.3)",
          "140:       nokogiri (~> 1.10)",
          "141:       railties (>= 5.0, < 8)",
          "142:       rexml (~> 3.0)",
          "143:       webrick (~> 1.7)",
          "144:     cucumber-tag-expressions (4.1.0)",
          "145:     cuprite (0.14.3)",
          "146:       capybara (~> 3.0)",
          "147:       ferrum (~> 0.13.0)",
          "148:     database_cleaner (2.0.2)",
          "149:       database_cleaner-active_record (>= 2, < 3)",
          "150:     database_cleaner-active_record (2.1.0)",
          "151:       activerecord (>= 5.a)",
          "152:       database_cleaner-core (~> 2.0.0)",
          "153:     database_cleaner-core (2.0.1)",
          "154:     date (3.3.3)",
          "155:     devise (4.9.2)",
          "156:       bcrypt (~> 3.0)",
          "157:       orm_adapter (~> 0.1)",
          "158:       railties (>= 4.1.0)",
          "159:       responders",
          "160:       warden (~> 1.2.3)",
          "161:     diff-lcs (1.5.0)",
          "162:     docile (1.4.0)",
          "163:     draper (4.0.2)",
          "164:       actionpack (>= 5.0)",
          "165:       activemodel (>= 5.0)",
          "166:       activemodel-serializers-xml (>= 1.0)",
          "167:       activesupport (>= 5.0)",
          "168:       request_store (>= 1.0)",
          "169:       ruby2_keywords",
          "170:     erubi (1.12.0)",
          "171:     ferrum (0.13)",
          "172:       addressable (~> 2.5)",
          "173:       concurrent-ruby (~> 1.1)",
          "174:       webrick (~> 1.7)",
          "175:       websocket-driver (>= 0.6, < 0.8)",
          "176:     ffi (1.16.3)",
          "177:     formtastic (4.0.0)",
          "178:       actionpack (>= 5.2.0)",
          "179:     formtastic_i18n (0.7.0)",
          "180:     globalid (1.2.1)",
          "181:       activesupport (>= 6.1)",
          "182:     has_scope (0.8.1)",
          "183:       actionpack (>= 5.2)",
          "184:       activesupport (>= 5.2)",
          "185:     highline (2.1.0)",
          "186:     i18n (1.14.1)",
          "187:       concurrent-ruby (~> 1.0)",
          "188:     i18n-spec (0.6.0)",
          "189:       iso",
          "190:     i18n-tasks (1.0.12)",
          "191:       activesupport (>= 4.0.2)",
          "192:       ast (>= 2.1.0)",
          "193:       better_html (>= 1.0, < 3.0)",
          "194:       erubi",
          "195:       highline (>= 2.0.0)",
          "196:       i18n",
          "197:       parser (>= 2.2.3.0)",
          "198:       rails-i18n",
          "199:       rainbow (>= 2.2.2, < 4.0)",
          "200:       terminal-table (>= 1.5.1)",
          "201:     inherited_resources (1.14.0)",
          "202:       actionpack (>= 6.0)",
          "203:       has_scope (>= 0.6)",
          "204:       railties (>= 6.0)",
          "205:       responders (>= 2)",
          "206:     iso (0.4.0)",
          "207:       i18n",
          "208:     jquery-rails (4.6.0)",
          "209:       rails-dom-testing (>= 1, < 3)",
          "210:       railties (>= 4.2.0)",
          "211:       thor (>= 0.14, < 2.0)",
          "212:     kaminari (1.2.2)",
          "213:       activesupport (>= 4.1.0)",
          "214:       kaminari-actionview (= 1.2.2)",
          "215:       kaminari-activerecord (= 1.2.2)",
          "216:       kaminari-core (= 1.2.2)",
          "217:     kaminari-actionview (1.2.2)",
          "218:       actionview",
          "219:       kaminari-core (= 1.2.2)",
          "220:     kaminari-activerecord (1.2.2)",
          "221:       activerecord",
          "222:       kaminari-core (= 1.2.2)",
          "223:     kaminari-core (1.2.2)",
          "224:     launchy (2.5.2)",
          "225:       addressable (~> 2.8)",
          "226:     loofah (2.21.3)",
          "227:       crass (~> 1.0.2)",
          "228:       nokogiri (>= 1.12.0)",
          "229:     mail (2.8.1)",
          "230:       mini_mime (>= 0.1.1)",
          "231:       net-imap",
          "232:       net-pop",
          "233:       net-smtp",
          "234:     marcel (1.0.2)",
          "235:     matrix (0.4.2)",
          "236:     method_source (1.0.0)",
          "237:     mime-types (3.5.1)",
          "238:       mime-types-data (~> 3.2015)",
          "239:     mime-types-data (3.2023.1003)",
          "240:     mini_mime (1.1.5)",
          "241:     mini_portile2 (2.8.4)",
          "242:     minitest (5.20.0)",
          "243:     multi_test (1.1.0)",
          "244:     net-imap (0.4.1)",
          "245:       date",
          "246:       net-protocol",
          "247:     net-pop (0.1.2)",
          "248:       net-protocol",
          "249:     net-protocol (0.2.1)",
          "250:       timeout",
          "251:     net-smtp (0.4.0)",
          "252:       net-protocol",
          "253:     nio4r (2.5.9)",
          "254:     nokogiri (1.15.4)",
          "255:       mini_portile2 (~> 2.8.2)",
          "256:       racc (~> 1.4)",
          "257:     nokogiri (1.15.4-arm64-darwin)",
          "258:       racc (~> 1.4)",
          "259:     nokogiri (1.15.4-x86_64-linux)",
          "260:       racc (~> 1.4)",
          "261:     orm_adapter (0.5.0)",
          "262:     parallel (1.23.0)",
          "263:     parallel_tests (4.3.0)",
          "264:       parallel",
          "265:     parser (3.2.2.4)",
          "266:       ast (~> 2.4.1)",
          "267:       racc",
          "268:     public_suffix (5.0.3)",
          "269:     pundit (2.3.1)",
          "270:       activesupport (>= 3.0.0)",
          "271:     racc (1.7.1)",
          "272:     rack (2.2.8)",
          "273:     rack-test (2.1.0)",
          "274:       rack (>= 1.3)",
          "275:     rails (7.0.8)",
          "276:       actioncable (= 7.0.8)",
          "277:       actionmailbox (= 7.0.8)",
          "278:       actionmailer (= 7.0.8)",
          "279:       actionpack (= 7.0.8)",
          "280:       actiontext (= 7.0.8)",
          "281:       actionview (= 7.0.8)",
          "282:       activejob (= 7.0.8)",
          "283:       activemodel (= 7.0.8)",
          "284:       activerecord (= 7.0.8)",
          "285:       activestorage (= 7.0.8)",
          "286:       activesupport (= 7.0.8)",
          "287:       bundler (>= 1.15.0)",
          "288:       railties (= 7.0.8)",
          "289:     rails-dom-testing (2.2.0)",
          "290:       activesupport (>= 5.0.0)",
          "291:       minitest",
          "292:       nokogiri (>= 1.6)",
          "293:     rails-html-sanitizer (1.6.0)",
          "294:       loofah (~> 2.21)",
          "295:       nokogiri (~> 1.14)",
          "296:     rails-i18n (7.0.8)",
          "297:       i18n (>= 0.7, < 2)",
          "298:       railties (>= 6.0.0, < 8)",
          "299:     railties (7.0.8)",
          "300:       actionpack (= 7.0.8)",
          "301:       activesupport (= 7.0.8)",
          "302:       method_source",
          "303:       rake (>= 12.2)",
          "304:       thor (~> 1.0)",
          "305:       zeitwerk (~> 2.5)",
          "306:     rainbow (3.1.1)",
          "307:     rake (13.0.6)",
          "308:     ransack (4.0.0)",
          "309:       activerecord (>= 6.1.5)",
          "310:       activesupport (>= 6.1.5)",
          "311:       i18n",
          "312:     regexp_parser (2.8.1)",
          "313:     request_store (1.5.1)",
          "314:       rack (>= 1.4)",
          "315:     responders (3.1.0)",
          "316:       actionpack (>= 5.2)",
          "317:       railties (>= 5.2)",
          "318:     rexml (3.2.6)",
          "319:     rspec-core (3.12.2)",
          "320:       rspec-support (~> 3.12.0)",
          "321:     rspec-expectations (3.12.3)",
          "322:       diff-lcs (>= 1.2.0, < 2.0)",
          "323:       rspec-support (~> 3.12.0)",
          "324:     rspec-mocks (3.12.6)",
          "325:       diff-lcs (>= 1.2.0, < 2.0)",
          "326:       rspec-support (~> 3.12.0)",
          "327:     rspec-rails (6.0.3)",
          "328:       actionpack (>= 6.1)",
          "329:       activesupport (>= 6.1)",
          "330:       railties (>= 6.1)",
          "331:       rspec-core (~> 3.12)",
          "332:       rspec-expectations (~> 3.12)",
          "333:       rspec-mocks (~> 3.12)",
          "334:       rspec-support (~> 3.12)",
          "335:     rspec-support (3.12.1)",
          "336:     ruby2_keywords (0.0.5)",
          "337:     sassc (2.4.0)",
          "338:       ffi (~> 1.9)",
          "339:     sassc-rails (2.1.2)",
          "340:       railties (>= 4.0.0)",
          "341:       sassc (>= 2.0)",
          "342:       sprockets (> 3.0)",
          "343:       sprockets-rails",
          "344:       tilt",
          "345:     simplecov (0.22.0)",
          "346:       docile (~> 1.1)",
          "347:       simplecov-html (~> 0.11)",
          "348:       simplecov_json_formatter (~> 0.1)",
          "349:     simplecov-cobertura (2.1.0)",
          "350:       rexml",
          "351:       simplecov (~> 0.19)",
          "352:     simplecov-html (0.12.3)",
          "353:     simplecov_json_formatter (0.1.4)",
          "354:     smart_properties (1.17.0)",
          "355:     sprockets (4.2.1)",
          "356:       concurrent-ruby (~> 1.0)",
          "357:       rack (>= 2.2.4, < 4)",
          "358:     sprockets-rails (3.4.2)",
          "359:       actionpack (>= 5.2)",
          "360:       activesupport (>= 5.2)",
          "361:       sprockets (>= 3.0.0)",
          "362:     sqlite3 (1.6.6)",
          "363:       mini_portile2 (~> 2.8.0)",
          "364:     sqlite3 (1.6.6-arm64-darwin)",
          "365:     sqlite3 (1.6.6-x86_64-linux)",
          "366:     sys-uname (1.2.3)",
          "367:       ffi (~> 1.1)",
          "368:     terminal-table (3.0.2)",
          "369:       unicode-display_width (>= 1.1.1, < 3)",
          "370:     thor (1.2.2)",
          "371:     tilt (2.3.0)",
          "372:     timeout (0.4.0)",
          "373:     tzinfo (2.0.6)",
          "374:       concurrent-ruby (~> 1.0)",
          "375:     unicode-display_width (2.5.0)",
          "376:     warden (1.2.9)",
          "377:       rack (>= 2.0.9)",
          "378:     webrick (1.8.1)",
          "379:     websocket-driver (0.7.6)",
          "380:       websocket-extensions (>= 0.1.0)",
          "381:     websocket-extensions (0.1.5)",
          "382:     xpath (3.2.0)",
          "383:       nokogiri (~> 1.8)",
          "384:     zeitwerk (2.6.12)",
          "386: PLATFORMS",
          "387:   arm64-darwin-21",
          "388:   ruby",
          "389:   x86_64-linux",
          "391: DEPENDENCIES",
          "392:   activeadmin!",
          "393:   cancancan",
          "394:   capybara",
          "395:   cucumber",
          "396:   cucumber-rails",
          "397:   cuprite",
          "398:   database_cleaner",
          "399:   devise",
          "400:   draper",
          "401:   i18n-spec",
          "402:   i18n-tasks",
          "403:   launchy",
          "404:   parallel_tests",
          "405:   pundit",
          "406:   rails (~> 7.0.0)",
          "407:   rails-i18n",
          "408:   rake",
          "409:   rspec-rails",
          "410:   sassc-rails",
          "411:   simplecov",
          "412:   simplecov-cobertura",
          "413:   sprockets-rails",
          "414:   sqlite3",
          "415:   webrick",
          "417: BUNDLED WITH",
          "418:    2.4.8",
          "",
          "---------------"
        ],
        "spec/support/rails_template.rb||spec/support/rails_template.rb": [
          "File: spec/support/rails_template.rb -> spec/support/rails_template.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "57:   RUBY",
          "58: end",
          "62:   config.cache_classes = !ENV['CLASS_RELOADING']",
          "65:   config.active_record.maintain_test_schema = false",
          "69: inject_into_file \"config/environments/test.rb\", after: \"  config.action_mailer.default_url_options = {host: 'example.com'}\" do",
          "70:   \"\\n  config.assets.precompile += %w( some-random-css.css some-random-js.js a/favicon.ico )\\n\"",
          "",
          "[Removed Lines]",
          "60: gsub_file \"config/environments/test.rb\", /  config.cache_classes = true/, <<-RUBY",
          "63:   config.action_mailer.default_url_options = {host: 'example.com'}",
          "67: RUBY",
          "",
          "[Added Lines]",
          "60: # Make sure we can turn on class reloading in feature specs.",
          "61: # Write this rule in a way that works even when the file doesn't set `config.cache_classes` (e.g. Rails 7.1).",
          "62: gsub_file \"config/environments/test.rb\", /  config.cache_classes = true/, \"\"",
          "63: inject_into_file \"config/environments/test.rb\", after: \"Rails.application.configure do\" do",
          "64:   \"\\n\" + <<-RUBY",
          "66:   RUBY",
          "67: end",
          "68: gsub_file \"config/environments/test.rb\", /config.enable_reloading = false/, \"config.enable_reloading = !!ENV['CLASS_RELOADING']\"",
          "70: inject_into_file \"config/environments/test.rb\", after: \"config.cache_classes = !ENV['CLASS_RELOADING']\" do",
          "71:   \"\\n\" + <<-RUBY",
          "72:   config.action_mailer.default_url_options = {host: 'example.com'}",
          "74:   RUBY",
          "75: end",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "74:   ENV['BUNDLE_GEMFILE'] = \"#{File.expand_path(ENV['BUNDLE_GEMFILE'])}\"",
          "75: RUBY",
          "77: # Setup Active Admin",
          "78: generate \"active_admin:install\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "85: # In https://github.com/rails/rails/pull/46699, Rails 7.1 changed sqlite directory from db/ storage/.",
          "86: # Since we test we deal with rails 6.1 and 7.0, let's go back to db/",
          "87: gsub_file \"config/database.yml\", /storage\\/(.+)\\.sqlite3$/, 'db/\\1.sqlite3'",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "95:   inject_into_file \"config/routes.rb\", \"\\n  root to: redirect('admin')\", after: /.*routes.draw do/",
          "96: end",
          "100: if ENV[\"RAILS_ENV\"] == \"test\"",
          "101:   inject_into_file \"config/database.yml\", \"<%= ENV['TEST_ENV_NUMBER'] %>\", after: \"test.sqlite3\"",
          "",
          "[Removed Lines]",
          "98: rails_command \"db:drop db:create db:migrate\", env: ENV[\"RAILS_ENV\"]",
          "",
          "[Added Lines]",
          "110: # Rails 7.1 doesn't write test.sqlite3 files if we run db:drop, db:create and db:migrate in a single command.",
          "111: # That's why we run it in two steps.",
          "112: rails_command \"db:drop db:create\", env: ENV[\"RAILS_ENV\"]",
          "113: rails_command \"db:migrate\", env: ENV[\"RAILS_ENV\"]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "103:   require \"parallel_tests\"",
          "104:   ParallelTests.determine_number_of_processes(nil).times do |n|",
          "105:     copy_file File.expand_path(\"db/test.sqlite3\", destination_root), \"db/test.sqlite3#{n + 1}\"",
          "106:   end",
          "107: end",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "122:     # Copy Write-Ahead-Log (-wal) and Wal-Index (-shm) files.",
          "123:     # Files were introduced by rails 7.1 sqlite3 optimizations (https://github.com/rails/rails/pull/49349/files).",
          "124:     %w(shm wal).each do |suffix|",
          "125:       file = File.expand_path(\"db/test.sqlite3-#{suffix}\", destination_root)",
          "126:       if File.exist?(file)",
          "127:         copy_file File.expand_path(\"db/test.sqlite3-#{suffix}\", destination_root), \"db/test.sqlite3#{n + 1}-#{suffix}\", mode: :preserve",
          "128:       end",
          "129:     end",
          "",
          "---------------"
        ],
        "spec/unit/authorization/controller_authorization_spec.rb||spec/unit/authorization/controller_authorization_spec.rb": [
          "File: spec/unit/authorization/controller_authorization_spec.rb -> spec/unit/authorization/controller_authorization_spec.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "31:   it \"should redirect when the user isn't authorized\" do",
          "32:     expect(authorization).to receive(:authorized?).with(auth::READ, Post).and_return false",
          "33:     get :index",
          "35:     expect(response).to redirect_to \"/admin\"",
          "36:   end",
          "",
          "[Removed Lines]",
          "34:     expect(response.body).to eq '<html><body>You are being <a href=\"http://test.host/admin\">redirected</a>.</body></html>'",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "spec/unit/views/components/tabs_spec.rb||spec/unit/views/components/tabs_spec.rb": [
          "File: spec/unit/views/components/tabs_spec.rb -> spec/unit/views/components/tabs_spec.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "5:   describe \"creating with the dsl\" do",
          "6:     context \"when creating tabs with a symbol\" do",
          "7:       before do",
          "8:         expect(I18n).to receive(:t).at_least(:once).with(:tab_key).and_return \"\u30c6\u30b9\u30c8\"",
          "9:       end",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "8:         # string.parameterize calls I18n.transliterate which calls I18n.t with 'i18n.transliterate.rule'.",
          "9:         # We need to stub it to avoid errors if transliteration cache is not warmed up before this tests.",
          "10:         # rspec ./spec/unit/views/components/tabs_spec.rb:42 --seed 57923",
          "11:         allow(I18n).to receive(:t).with(\"i18n.transliterate.rule\".to_sym, anything).and_call_original",
          "",
          "---------------"
        ],
        "tasks/test_application.rb||tasks/test_application.rb": [
          "File: tasks/test_application.rb -> tasks/test_application.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "61:     end",
          "63:     def app_name",
          "66:       File.basename(File.dirname(gemfile))",
          "67:     end",
          "",
          "[Removed Lines]",
          "64:       return \"rails_70\" if main_app?",
          "",
          "[Added Lines]",
          "64:       return \"rails_71\" if main_app?",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "f77c3c3f348a497acc7069283bac358ea3230c6a",
      "candidate_info": {
        "commit_hash": "f77c3c3f348a497acc7069283bac358ea3230c6a",
        "repo": "activeadmin/activeadmin",
        "commit_url": "https://github.com/activeadmin/activeadmin/commit/f77c3c3f348a497acc7069283bac358ea3230c6a",
        "files": [
          "lib/active_admin/filters/formtastic_addons.rb"
        ],
        "message": "Backport to 3-0 stable branch ransack error with filters when ActiveStorage is used (#8137) (#8164)\n\nfeat: check ransackable_associations when checking searchable_has_many_through\n\nCo-authored-by: Edmund Tay <edmundtay96@gmail.com>",
        "before_after_code_files": [
          "lib/active_admin/filters/formtastic_addons.rb||lib/active_admin/filters/formtastic_addons.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/DocBuddy/activeadmin/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "lib/active_admin/filters/formtastic_addons.rb||lib/active_admin/filters/formtastic_addons.rb": [
          "File: lib/active_admin/filters/formtastic_addons.rb -> lib/active_admin/filters/formtastic_addons.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "47:       #",
          "49:       def searchable_has_many_through?",
          "51:           reflection.through_reflection.klass.ransackable_attributes.include? reflection.foreign_key",
          "52:         else",
          "53:           false",
          "",
          "[Removed Lines]",
          "50:         if reflection && reflection.options[:through]",
          "",
          "[Added Lines]",
          "50:         if klass.ransackable_associations.include?(method.to_s) && reflection && reflection.options[:through]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "1a066888eca3d6b70fb93ff3f4c065b670842148",
      "candidate_info": {
        "commit_hash": "1a066888eca3d6b70fb93ff3f4c065b670842148",
        "repo": "activeadmin/activeadmin",
        "commit_url": "https://github.com/activeadmin/activeadmin/commit/1a066888eca3d6b70fb93ff3f4c065b670842148",
        "files": [
          "features/support/env.rb",
          "lib/active_admin.rb",
          "lib/active_admin/deprecation.rb",
          "lib/active_admin/engine.rb",
          "lib/active_admin/namespace.rb",
          "lib/active_admin/pundit_adapter.rb",
          "spec/rails_helper.rb",
          "spec/spec_helper.rb",
          "spec/support/active_support_deprecation.rb",
          "spec/unit/namespace_spec.rb",
          "spec/unit/pundit_adapter_spec.rb"
        ],
        "message": "Remove deprecated usage of ActiveSupport::Deprecation singleton (#8106)\n\nRemove deprecated usage of ActiveSupport::Deprecation singleton in rails 7.1\n\nCheck more here https://edgeguides.rubyonrails.org/7_1_release_notes.html#add-rails-application-deprecators",
        "before_after_code_files": [
          "features/support/env.rb||features/support/env.rb",
          "lib/active_admin.rb||lib/active_admin.rb",
          "lib/active_admin/deprecation.rb||lib/active_admin/deprecation.rb",
          "lib/active_admin/engine.rb||lib/active_admin/engine.rb",
          "lib/active_admin/namespace.rb||lib/active_admin/namespace.rb",
          "lib/active_admin/pundit_adapter.rb||lib/active_admin/pundit_adapter.rb",
          "spec/rails_helper.rb||spec/rails_helper.rb",
          "spec/spec_helper.rb||spec/spec_helper.rb",
          "spec/support/active_support_deprecation.rb||spec/support/active_support_deprecation.rb",
          "spec/unit/namespace_spec.rb||spec/unit/namespace_spec.rb",
          "spec/unit/pundit_adapter_spec.rb||spec/unit/pundit_adapter_spec.rb"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/DocBuddy/activeadmin/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "features/support/env.rb||features/support/env.rb": [
          "File: features/support/env.rb -> features/support/env.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "12: require \"#{ActiveAdmin::TestApplication.new.full_app_dir}/config/environment.rb\"",
          "14: require_relative \"rails\"",
          "16: require \"rspec/mocks\"",
          "17: World(RSpec::Mocks::ExampleMethods)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "15: require_relative \"../../spec/support/active_support_deprecation\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "71: end",
          "73: # Force deprecations to raise an exception.",
          "76: After \"@authorization\" do |scenario, block|",
          "77:   # Reset back to the default auth adapter",
          "",
          "[Removed Lines]",
          "74: ActiveSupport::Deprecation.behavior = :raise",
          "",
          "[Added Lines]",
          "75: ActiveAdmin::DeprecationHelper.behavior = :raise",
          "",
          "---------------"
        ],
        "lib/active_admin.rb||lib/active_admin.rb": [
          "File: lib/active_admin.rb -> lib/active_admin.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "26:   autoload :ControllerAction, \"active_admin/controller_action\"",
          "27:   autoload :CSVBuilder, \"active_admin/csv_builder\"",
          "28:   autoload :Dependency, \"active_admin/dependency\"",
          "30:   autoload :Devise, \"active_admin/devise\"",
          "31:   autoload :DSL, \"active_admin/dsl\"",
          "32:   autoload :FormBuilder, \"active_admin/form_builder\"",
          "",
          "[Removed Lines]",
          "29:   autoload :Deprecation, \"active_admin/deprecation\"",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "61:       @application ||= ::ActiveAdmin::Application.new",
          "62:     end",
          "64:     # Gets called within the initializer",
          "65:     def setup",
          "66:       application.setup!",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "63:     def deprecator",
          "64:       @deprecator ||= ActiveSupport::Deprecation.new(\"4.0\", \"active-admin\")",
          "65:     end",
          "",
          "---------------"
        ],
        "lib/active_admin/deprecation.rb||lib/active_admin/deprecation.rb": [
          "File: lib/active_admin/deprecation.rb -> lib/active_admin/deprecation.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "lib/active_admin/engine.rb||lib/active_admin/engine.rb": [
          "File: lib/active_admin/engine.rb -> lib/active_admin/engine.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "21:     initializer \"active_admin.routes\" do",
          "22:       require \"active_admin/helpers/routes/url_helpers\"",
          "23:     end",
          "24:   end",
          "25: end",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "25:     initializer \"active_admin.deprecator\" do |app|",
          "26:       app.deprecators[:activeadmin] = ActiveAdmin.deprecator if app.respond_to?(:deprecators)",
          "27:     end",
          "",
          "---------------"
        ],
        "lib/active_admin/namespace.rb||lib/active_admin/namespace.rb": [
          "File: lib/active_admin/namespace.rb -> lib/active_admin/namespace.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "28:   class Namespace",
          "29:     class << self",
          "30:       def setting(name, default)",
          "32:       end",
          "33:     end",
          "",
          "[Removed Lines]",
          "31:         Deprecation.warn \"This method does not do anything and will be removed.\"",
          "",
          "[Added Lines]",
          "31:         ActiveAdmin.deprecator.warn \"This method does not do anything and will be removed.\"",
          "",
          "---------------"
        ],
        "lib/active_admin/pundit_adapter.rb||lib/active_admin/pundit_adapter.rb": [
          "File: lib/active_admin/pundit_adapter.rb -> lib/active_admin/pundit_adapter.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "78:       policy_name = policy.class.to_s",
          "81:         \"but ActiveAdmin was unable to find policy #{default_policy_module}::#{policy_name}. \" \\",
          "82:         \"#{policy_name} will be used instead. \" \\",
          "83:         \"This behavior will be removed in future versions of ActiveAdmin. \" \\",
          "",
          "[Removed Lines]",
          "80:       Deprecation.warn \"You have `pundit_policy_namespace` configured as `#{default_policy_namespace}`, \" \\",
          "",
          "[Added Lines]",
          "80:       ActiveAdmin.deprecator.warn \"You have `pundit_policy_namespace` configured as `#{default_policy_namespace}`, \" \\",
          "",
          "---------------"
        ],
        "spec/rails_helper.rb||spec/rails_helper.rb": [
          "File: spec/rails_helper.rb -> spec/rails_helper.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "26: end",
          "28: # Force deprecations to raise an exception.",
          "",
          "[Removed Lines]",
          "29: ActiveSupport::Deprecation.behavior = :raise",
          "",
          "[Added Lines]",
          "29: ActiveAdmin::DeprecationHelper.behavior = :raise",
          "",
          "---------------"
        ],
        "spec/spec_helper.rb||spec/spec_helper.rb": [
          "File: spec/spec_helper.rb -> spec/spec_helper.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "4: require_relative \"support/matchers/perform_database_query_matcher\"",
          "5: require_relative \"support/shared_contexts/capture_stderr\"",
          "7: RSpec.configure do |config|",
          "8:   config.disable_monkey_patching!",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6: require_relative \"support/active_support_deprecation\"",
          "",
          "---------------"
        ],
        "spec/support/active_support_deprecation.rb||spec/support/active_support_deprecation.rb": [
          "File: spec/support/active_support_deprecation.rb -> spec/support/active_support_deprecation.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: # frozen_string_literal: true",
          "3: # Module to help with deprecation warnings in specs.",
          "4: module ActiveAdmin",
          "5:   # A good name for this module would be ActiveAdmin::ActiveSupport::Deprecation, but",
          "6:   # that would require a lot of changes in the codebase because, for example, there are references to",
          "7:   # ActiveSupport::Notification in ActiveAdmin module without the :: prefix.",
          "8:   # So, we are using ActiveAdmin::DeprecationHelper instead.",
          "9:   module DeprecationHelper",
          "10:     def self.behavior=(value)",
          "11:       if Rails.gem_version >= Gem::Version.new(\"7.1.0\")",
          "12:         Rails.application.deprecators.behavior = :raise",
          "13:       else",
          "14:         ActiveSupport::Deprecation.behavior = :raise",
          "15:       end",
          "16:     end",
          "17:   end",
          "18: end",
          "",
          "---------------"
        ],
        "spec/unit/namespace_spec.rb||spec/unit/namespace_spec.rb": [
          "File: spec/unit/namespace_spec.rb -> spec/unit/namespace_spec.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "54:     let(:namespace) { ActiveAdmin::Namespace.new(application, :admin) }",
          "56:     it \"should inherit the site title from the application\" do",
          "58:         ActiveAdmin::Namespace.setting :site_title, \"Not the Same\"",
          "59:       end",
          "60:       expect(namespace.site_title).to eq application.site_title",
          "",
          "[Removed Lines]",
          "57:       ActiveSupport::Deprecation.silence do",
          "",
          "[Added Lines]",
          "57:       ActiveAdmin.deprecator.silence do",
          "",
          "---------------"
        ],
        "spec/unit/pundit_adapter_spec.rb||spec/unit/pundit_adapter_spec.rb": [
          "File: spec/unit/pundit_adapter_spec.rb -> spec/unit/pundit_adapter_spec.rb",
          "--- Hunk 1 ---",
          "[Context before]",
          "108:       before do",
          "109:         allow(ActiveAdmin.application).to receive(:pundit_policy_namespace).and_return :pub",
          "110:         namespace.register(Publisher)",
          "112:       end",
          "114:       after do",
          "116:       end",
          "118:       it \"looks for a namespaced policy\" do",
          "",
          "[Removed Lines]",
          "111:         ActiveSupport::Deprecation.behavior = :stderr",
          "115:         ActiveSupport::Deprecation.behavior = :raise",
          "",
          "[Added Lines]",
          "111:         ActiveAdmin.deprecator.behavior = :stderr",
          "115:         ActiveAdmin.deprecator.behavior = :raise",
          "",
          "---------------"
        ]
      }
    }
  ]
}