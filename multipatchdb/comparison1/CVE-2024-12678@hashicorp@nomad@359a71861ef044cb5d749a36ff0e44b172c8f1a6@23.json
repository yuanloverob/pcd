{
  "cve_id": "CVE-2024-12678",
  "cve_desc": "Nomad Community and Nomad Enterprise (\"Nomad\") allocations are vulnerable to privilege escalation within a namespace through unredacted workload identity tokens. This vulnerability, identified as CVE-2024-12678, is fixed in Nomad Community Edition 1.9.4 and Nomad Enterprise 1.9.4, 1.8.8, and 1.7.16.",
  "repo": "hashicorp/nomad",
  "patch_hash": "359a71861ef044cb5d749a36ff0e44b172c8f1a6",
  "patch_info": {
    "commit_hash": "359a71861ef044cb5d749a36ff0e44b172c8f1a6",
    "repo": "hashicorp/nomad",
    "commit_url": "https://github.com/hashicorp/nomad/commit/359a71861ef044cb5d749a36ff0e44b172c8f1a6",
    "files": [
      ".changelog/24683.txt",
      "command/agent/node_endpoint.go",
      "nomad/alloc_endpoint.go",
      "nomad/structs/structs.go"
    ],
    "message": "Backport of sec: fix alloc workload identity namespace permission into release/1.9.x (#24685)\n\nCo-authored-by: Deniz Onur Duzgun <59659739+dduzgun-security@users.noreply.github.com>",
    "before_after_code_files": [
      "command/agent/node_endpoint.go||command/agent/node_endpoint.go",
      "nomad/alloc_endpoint.go||nomad/alloc_endpoint.go",
      "nomad/structs/structs.go||nomad/structs/structs.go"
    ]
  },
  "patch_diff": {
    "command/agent/node_endpoint.go||command/agent/node_endpoint.go": [
      "File: command/agent/node_endpoint.go -> command/agent/node_endpoint.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "105:   out.Allocs = make([]*structs.Allocation, 0)",
      "106:  }",
      "107:  for _, alloc := range out.Allocs {",
      "108:   alloc.SetEventDisplayMessages()",
      "109:  }",
      "110:  return out.Allocs, nil",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "108:   alloc = alloc.Sanitize()",
      "",
      "---------------"
    ],
    "nomad/alloc_endpoint.go||nomad/alloc_endpoint.go": [
      "File: nomad/alloc_endpoint.go -> nomad/alloc_endpoint.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "172:    }",
      "176:    if out != nil {",
      "178:     if !aclObj.AllowClientOp() && !allowNsOp(aclObj, out.Namespace) {",
      "179:      return structs.NewErrUnknownAllocation(args.AllocID)",
      "",
      "[Removed Lines]",
      "175:    reply.Alloc = out",
      "",
      "[Added Lines]",
      "176:     out = out.Sanitize()",
      "177:     reply.Alloc = out",
      "",
      "---------------"
    ],
    "nomad/structs/structs.go||nomad/structs/structs.go": [
      "File: nomad/structs/structs.go -> nomad/structs/structs.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "11199:  return a.ID",
      "11200: }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "11205: func (a *Allocation) Sanitize() *Allocation {",
      "11206:  if a == nil {",
      "11207:   return nil",
      "11208:  }",
      "11210:  if a.SignedIdentities == nil {",
      "11211:   return a",
      "11212:  }",
      "11214:  clean := a.Copy()",
      "11215:  clean.SignedIdentities = nil",
      "11216:  return clean",
      "11217: }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "529487cafb44deacdb13efa2aa39156c14eab909",
      "candidate_info": {
        "commit_hash": "529487cafb44deacdb13efa2aa39156c14eab909",
        "repo": "hashicorp/nomad",
        "commit_url": "https://github.com/hashicorp/nomad/commit/529487cafb44deacdb13efa2aa39156c14eab909",
        "files": [
          "client/lib/nsutil/netns_linux.go"
        ],
        "message": "backport of commit 89c3d69d79713cd86faa01c00004237df4181893 (#24483)\n\nCo-authored-by: Gabi <gvillalongasimon@cloudflare.com>",
        "before_after_code_files": [
          "client/lib/nsutil/netns_linux.go||client/lib/nsutil/netns_linux.go"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/hashicorp/nomad/pull/25471"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "client/lib/nsutil/netns_linux.go||client/lib/nsutil/netns_linux.go": [
          "File: client/lib/nsutil/netns_linux.go -> client/lib/nsutil/netns_linux.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "134:  if strings.HasPrefix(nsPath, NetNSRunDir) {",
          "135:   if err := unix.Unmount(nsPath, 0); err != nil {",
          "137:   }",
          "139:   if err := os.Remove(nsPath); err != nil {",
          "141:   }",
          "142:  }",
          "",
          "[Removed Lines]",
          "136:    return fmt.Errorf(\"failed to unmount NS: at %s: %v\", nsPath, err)",
          "140:    return fmt.Errorf(\"failed to remove ns path %s: %v\", nsPath, err)",
          "",
          "[Added Lines]",
          "136:    return fmt.Errorf(\"failed to unmount NS: at %s: %w\", nsPath, err)",
          "140:    return fmt.Errorf(\"failed to remove ns path %s: %w\", nsPath, err)",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "edccae673e981f4a571686c3cc977075b69688d4",
      "candidate_info": {
        "commit_hash": "edccae673e981f4a571686c3cc977075b69688d4",
        "repo": "hashicorp/nomad",
        "commit_url": "https://github.com/hashicorp/nomad/commit/edccae673e981f4a571686c3cc977075b69688d4",
        "files": [
          ".changelog/24297.txt",
          "nomad/structs/structs.go",
          "nomad/structs/structs_test.go"
        ],
        "message": "scheduler: fixed a bug where resource calculation did not account correctly for poststart tasks (#24297)\n\nFixes a bug in the AllocatedResources.Comparable method, which resulted in\nreporting less required resources than actually expected. This could result in\noverscheduling of allocations on a single node  and overlapping cgroup cpusets.\n\nCo-authored-by: Martijn Vegter <martijn@martijnvegter.com>",
        "before_after_code_files": [
          "nomad/structs/structs.go||nomad/structs/structs.go",
          "nomad/structs/structs_test.go||nomad/structs/structs_test.go"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/hashicorp/nomad/pull/25471"
        ],
        "olp_code_files": {
          "patch": [
            "nomad/structs/structs.go||nomad/structs/structs.go"
          ],
          "candidate": [
            "nomad/structs/structs.go||nomad/structs/structs.go"
          ]
        }
      },
      "candidate_diff": {
        "nomad/structs/structs.go||nomad/structs/structs.go": [
          "File: nomad/structs/structs.go -> nomad/structs/structs.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "3859:  prestartSidecarTasks := &AllocatedTaskResources{}",
          "3860:  prestartEphemeralTasks := &AllocatedTaskResources{}",
          "3861:  main := &AllocatedTaskResources{}",
          "3862:  poststopTasks := &AllocatedTaskResources{}",
          "3864:  for taskName, r := range a.Tasks {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3862:  poststartTasks := &AllocatedTaskResources{}",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3871:    } else {",
          "3872:     prestartEphemeralTasks.Add(r)",
          "3873:    }",
          "3874:   } else if lc.Hook == TaskLifecycleHookPoststop {",
          "3875:    poststopTasks.Add(r)",
          "3876:   }",
          "3877:  }",
          "3880:  prestartEphemeralTasks.Max(main)",
          "3881:  prestartEphemeralTasks.Max(poststopTasks)",
          "3882:  prestartSidecarTasks.Add(prestartEphemeralTasks)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3875:   } else if lc.Hook == TaskLifecycleHookPoststart {",
          "3876:    poststartTasks.Add(r)",
          "3883:  main.Add(poststartTasks)",
          "",
          "---------------"
        ],
        "nomad/structs/structs_test.go||nomad/structs/structs_test.go": [
          "File: nomad/structs/structs_test.go -> nomad/structs/structs_test.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "7759:  }",
          "7760: }",
          "7762: func requireErrors(t *testing.T, err error, expected ...string) {",
          "7763:  t.Helper()",
          "7764:  require.Error(t, err)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7762: func TestAllocatedResources_Comparable_Flattened(t *testing.T) {",
          "7763:  ci.Parallel(t)",
          "7765:  allocationResources := AllocatedResources{",
          "7766:   TaskLifecycles: map[string]*TaskLifecycleConfig{",
          "7767:    \"prestart-task\": {",
          "7768:     Hook:    TaskLifecycleHookPrestart,",
          "7769:     Sidecar: false,",
          "7770:    },",
          "7771:    \"prestart-sidecar-task\": {",
          "7772:     Hook:    TaskLifecycleHookPrestart,",
          "7773:     Sidecar: true,",
          "7774:    },",
          "7775:    \"poststart-task\": {",
          "7776:     Hook:    TaskLifecycleHookPoststart,",
          "7777:     Sidecar: false,",
          "7778:    },",
          "7779:    \"poststop-task\": {",
          "7780:     Hook:    TaskLifecycleHookPoststop,",
          "7781:     Sidecar: false,",
          "7782:    },",
          "7783:   },",
          "7784:   Tasks: map[string]*AllocatedTaskResources{",
          "7785:    \"prestart-task\": {",
          "7786:     Cpu: AllocatedCpuResources{",
          "7787:      CpuShares:     2000,",
          "7788:      ReservedCores: []uint16{0, 1},",
          "7789:     },",
          "7790:    },",
          "7791:    \"prestart-sidecar-task\": {",
          "7792:     Cpu: AllocatedCpuResources{",
          "7793:      CpuShares:     2000,",
          "7794:      ReservedCores: []uint16{2, 3},",
          "7795:     },",
          "7796:    },",
          "7797:    \"main-task\": {",
          "7798:     Cpu: AllocatedCpuResources{",
          "7799:      CpuShares:     1000,",
          "7800:      ReservedCores: []uint16{4},",
          "7801:     },",
          "7802:    },",
          "7803:    \"poststart-task\": {",
          "7804:     Cpu: AllocatedCpuResources{",
          "7805:      CpuShares:     2000,",
          "7806:      ReservedCores: []uint16{5, 6},",
          "7807:     },",
          "7808:    },",
          "7809:    \"poststop-task\": {",
          "7810:     Cpu: AllocatedCpuResources{",
          "7811:      CpuShares:     2000,",
          "7812:      ReservedCores: []uint16{7, 8},",
          "7813:     },",
          "7814:    },",
          "7815:   },",
          "7816:  }",
          "7819:  must.Eq(t, 5000, allocationResources.Comparable().Flattened.Cpu.CpuShares)",
          "7820:  must.Len(t, 5, allocationResources.Comparable().Flattened.Cpu.ReservedCores)",
          "7821: }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "fedb7cf337344d1e73d4dcc80820817355fd803f",
      "candidate_info": {
        "commit_hash": "fedb7cf337344d1e73d4dcc80820817355fd803f",
        "repo": "hashicorp/nomad",
        "commit_url": "https://github.com/hashicorp/nomad/commit/fedb7cf337344d1e73d4dcc80820817355fd803f",
        "files": [
          ".changelog/24410.txt",
          "client/allocrunner/taskrunner/consul_hook.go"
        ],
        "message": "Backport of consul: allow non-root Nomad to rewrite token into release/1.9.x (#24488)\n\nCo-authored-by: Tim Gross <tgross@hashicorp.com>",
        "before_after_code_files": [
          "client/allocrunner/taskrunner/consul_hook.go||client/allocrunner/taskrunner/consul_hook.go"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/hashicorp/nomad/pull/25471"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "client/allocrunner/taskrunner/consul_hook.go||client/allocrunner/taskrunner/consul_hook.go": [
          "File: client/allocrunner/taskrunner/consul_hook.go -> client/allocrunner/taskrunner/consul_hook.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "29: )",
          "31: type consulHook struct {",
          "",
          "[Removed Lines]",
          "28:  consulTokenFilePerms = 0440",
          "",
          "[Added Lines]",
          "28:  consulTokenFilePerms = 0640",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "d19f5d65aa3a3468d6e3e7bd17cab1bcc611a243",
      "candidate_info": {
        "commit_hash": "d19f5d65aa3a3468d6e3e7bd17cab1bcc611a243",
        "repo": "hashicorp/nomad",
        "commit_url": "https://github.com/hashicorp/nomad/commit/d19f5d65aa3a3468d6e3e7bd17cab1bcc611a243",
        "files": [
          "go.mod",
          "go.sum"
        ],
        "message": "chore(deps): bump github.com/aws/aws-sdk-go-v2/config (#25193)\n\nBumps [github.com/aws/aws-sdk-go-v2/config](https://github.com/aws/aws-sdk-go-v2) from 1.29.6 to 1.29.7.\n- [Release notes](https://github.com/aws/aws-sdk-go-v2/releases)\n- [Changelog](https://github.com/aws/aws-sdk-go-v2/blob/main/changelog-template.json)\n- [Commits](https://github.com/aws/aws-sdk-go-v2/compare/config/v1.29.6...config/v1.29.7)\n\n---\nupdated-dependencies:\n- dependency-name: github.com/aws/aws-sdk-go-v2/config\n  dependency-type: direct:production\n  update-type: version-update:semver-patch\n...\n\nSigned-off-by: dependabot[bot] <support@github.com>\nCo-authored-by: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>",
        "before_after_code_files": [
          "go.mod||go.mod",
          "go.sum||go.sum"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/hashicorp/nomad/pull/25471"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:  github.com/Microsoft/go-winio v0.6.1",
          "19:  github.com/armon/circbuf v0.0.0-20150827004946-bbbad097214e",
          "20:  github.com/armon/go-metrics v0.5.3",
          "24:  github.com/aws/aws-sdk-go-v2/service/ecs v1.53.0",
          "25:  github.com/aws/smithy-go v1.22.3",
          "26:  github.com/container-storage-interface/spec v1.10.0",
          "",
          "[Removed Lines]",
          "21:  github.com/aws/aws-sdk-go-v2 v1.36.1",
          "22:  github.com/aws/aws-sdk-go-v2/config v1.29.6",
          "23:  github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.28",
          "",
          "[Added Lines]",
          "21:  github.com/aws/aws-sdk-go-v2 v1.36.2",
          "22:  github.com/aws/aws-sdk-go-v2/config v1.29.7",
          "23:  github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.29",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "185:  github.com/apparentlymart/go-textseg/v15 v15.0.0 // indirect",
          "186:  github.com/armon/go-radix v1.0.0 // indirect",
          "187:  github.com/aws/aws-sdk-go v1.55.6 // indirect",
          "197:  github.com/beorn7/perks v1.0.1 // indirect",
          "198:  github.com/bgentry/go-netrc v0.0.0-20140422174119-9fd32a8b3d3d // indirect",
          "199:  github.com/bgentry/speakeasy v0.1.0 // indirect",
          "",
          "[Removed Lines]",
          "188:  github.com/aws/aws-sdk-go-v2/credentials v1.17.59 // indirect",
          "189:  github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.32 // indirect",
          "190:  github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.32 // indirect",
          "191:  github.com/aws/aws-sdk-go-v2/internal/ini v1.8.2 // indirect",
          "192:  github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.2 // indirect",
          "193:  github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.13 // indirect",
          "194:  github.com/aws/aws-sdk-go-v2/service/sso v1.24.15 // indirect",
          "195:  github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.14 // indirect",
          "196:  github.com/aws/aws-sdk-go-v2/service/sts v1.33.14 // indirect",
          "",
          "[Added Lines]",
          "188:  github.com/aws/aws-sdk-go-v2/credentials v1.17.60 // indirect",
          "189:  github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.33 // indirect",
          "190:  github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.33 // indirect",
          "191:  github.com/aws/aws-sdk-go-v2/internal/ini v1.8.3 // indirect",
          "192:  github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.3 // indirect",
          "193:  github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.14 // indirect",
          "194:  github.com/aws/aws-sdk-go-v2/service/sso v1.24.16 // indirect",
          "195:  github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.15 // indirect",
          "196:  github.com/aws/aws-sdk-go-v2/service/sts v1.33.15 // indirect",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "746: github.com/aws/aws-sdk-go v1.44.122/go.mod h1:y4AeaBuwd2Lk+GepC1E9v0qOiTws0MIWAX4oIKwKHZo=",
          "747: github.com/aws/aws-sdk-go v1.55.6 h1:cSg4pvZ3m8dgYcgqB97MrcdjUmZ1BeMYKUxMMB89IPk=",
          "748: github.com/aws/aws-sdk-go v1.55.6/go.mod h1:eRwEWoyTWFMVYVQzKMNHWP5/RV4xIUGMQfXQHfHkpNU=",
          "763: github.com/aws/aws-sdk-go-v2/service/ecs v1.53.0 h1:TCQZX4ztlcWXAcZouKh9qJMcVaH/qTidFTfsvJwUI30=",
          "764: github.com/aws/aws-sdk-go-v2/service/ecs v1.53.0/go.mod h1:Ghi1OWUv4+VMEULWiHsKH2gNA3KAcMoLWsvU0eRXvIA=",
          "775: github.com/aws/smithy-go v1.22.3 h1:Z//5NuZCSW6R4PhQ93hShNbyBbn8BWCmCVCt+Q8Io5k=",
          "776: github.com/aws/smithy-go v1.22.3/go.mod h1:t1ufH5HMublsJYulve2RKmHDC15xu1f26kHCp/HgceI=",
          "777: github.com/benbjohnson/clock v1.1.0/go.mod h1:J11/hYXuz8f4ySSvYwY0FKfm+ezbsZBKZxNJlLklBHA=",
          "",
          "[Removed Lines]",
          "749: github.com/aws/aws-sdk-go-v2 v1.36.1 h1:iTDl5U6oAhkNPba0e1t1hrwAo02ZMqbrGq4k5JBWM5E=",
          "750: github.com/aws/aws-sdk-go-v2 v1.36.1/go.mod h1:5PMILGVKiW32oDzjj6RU52yrNrDPUHcbZQYr1sM7qmM=",
          "751: github.com/aws/aws-sdk-go-v2/config v1.29.6 h1:fqgqEKK5HaZVWLQoLiC9Q+xDlSp+1LYidp6ybGE2OGg=",
          "752: github.com/aws/aws-sdk-go-v2/config v1.29.6/go.mod h1:Ft+WLODzDQmCTHDvqAH1JfC2xxbZ0MxpZAcJqmE1LTQ=",
          "753: github.com/aws/aws-sdk-go-v2/credentials v1.17.59 h1:9btwmrt//Q6JcSdgJOLI98sdr5p7tssS9yAsGe8aKP4=",
          "754: github.com/aws/aws-sdk-go-v2/credentials v1.17.59/go.mod h1:NM8fM6ovI3zak23UISdWidyZuI1ghNe2xjzUZAyT+08=",
          "755: github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.28 h1:KwsodFKVQTlI5EyhRSugALzsV6mG/SGrdjlMXSZSdso=",
          "756: github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.28/go.mod h1:EY3APf9MzygVhKuPXAc5H+MkGb8k/DOSQjWS0LgkKqI=",
          "757: github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.32 h1:BjUcr3X3K0wZPGFg2bxOWW3VPN8rkE3/61zhP+IHviA=",
          "758: github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.32/go.mod h1:80+OGC/bgzzFFTUmcuwD0lb4YutwQeKLFpmt6hoWapU=",
          "759: github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.32 h1:m1GeXHVMJsRsUAqG6HjZWx9dj7F5TR+cF1bjyfYyBd4=",
          "760: github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.32/go.mod h1:IitoQxGfaKdVLNg0hD8/DXmAqNy0H4K2H2Sf91ti8sI=",
          "761: github.com/aws/aws-sdk-go-v2/internal/ini v1.8.2 h1:Pg9URiobXy85kgFev3og2CuOZ8JZUBENF+dcgWBaYNk=",
          "762: github.com/aws/aws-sdk-go-v2/internal/ini v1.8.2/go.mod h1:FbtygfRFze9usAadmnGJNc8KsP346kEe+y2/oyhGAGc=",
          "765: github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.2 h1:D4oz8/CzT9bAEYtVhSBmFj2dNOtaHOtMKc2vHBwYizA=",
          "766: github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.2/go.mod h1:Za3IHqTQ+yNcRHxu1OFucBh0ACZT4j4VQFF0BqpZcLY=",
          "767: github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.13 h1:SYVGSFQHlchIcy6e7x12bsrxClCXSP5et8cqVhL8cuw=",
          "768: github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.13/go.mod h1:kizuDaLX37bG5WZaoxGPQR/LNFXpxp0vsUnqfkWXfNE=",
          "769: github.com/aws/aws-sdk-go-v2/service/sso v1.24.15 h1:/eE3DogBjYlvlbhd2ssWyeuovWunHLxfgw3s/OJa4GQ=",
          "770: github.com/aws/aws-sdk-go-v2/service/sso v1.24.15/go.mod h1:2PCJYpi7EKeA5SkStAmZlF6fi0uUABuhtF8ILHjGc3Y=",
          "771: github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.14 h1:M/zwXiL2iXUrHputuXgmO94TVNmcenPHxgLXLutodKE=",
          "772: github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.14/go.mod h1:RVwIw3y/IqxC2YEXSIkAzRDdEU1iRabDPaYjpGCbCGQ=",
          "773: github.com/aws/aws-sdk-go-v2/service/sts v1.33.14 h1:TzeR06UCMUq+KA3bDkujxK1GVGy+G8qQN/QVYzGLkQE=",
          "774: github.com/aws/aws-sdk-go-v2/service/sts v1.33.14/go.mod h1:dspXf/oYWGWo6DEvj98wpaTeqt5+DMidZD0A9BYTizc=",
          "",
          "[Added Lines]",
          "749: github.com/aws/aws-sdk-go-v2 v1.36.2 h1:Ub6I4lq/71+tPb/atswvToaLGVMxKZvjYDVOWEExOcU=",
          "750: github.com/aws/aws-sdk-go-v2 v1.36.2/go.mod h1:LLXuLpgzEbD766Z5ECcRmi8AzSwfZItDtmABVkRLGzg=",
          "751: github.com/aws/aws-sdk-go-v2/config v1.29.7 h1:71nqi6gUbAUiEQkypHQcNVSFJVUFANpSeUNShiwWX2M=",
          "752: github.com/aws/aws-sdk-go-v2/config v1.29.7/go.mod h1:yqJQ3nh2HWw/uxd56bicyvmDW4KSc+4wN6lL8pYjynU=",
          "753: github.com/aws/aws-sdk-go-v2/credentials v1.17.60 h1:1dq+ELaT5ogfmqtV1eocq8SpOK1NRsuUfmhQtD/XAh4=",
          "754: github.com/aws/aws-sdk-go-v2/credentials v1.17.60/go.mod h1:HDes+fn/xo9VeszXqjBVkxOo/aUy8Mc6QqKvZk32GlE=",
          "755: github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.29 h1:JO8pydejFKmGcUNiiwt75dzLHRWthkwApIvPoyUtXEg=",
          "756: github.com/aws/aws-sdk-go-v2/feature/ec2/imds v1.16.29/go.mod h1:adxZ9i9DRmB8zAT0pO0yGnsmu0geomp5a3uq5XpgOJ8=",
          "757: github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.33 h1:knLyPMw3r3JsU8MFHWctE4/e2qWbPaxDYLlohPvnY8c=",
          "758: github.com/aws/aws-sdk-go-v2/internal/configsources v1.3.33/go.mod h1:EBp2HQ3f+XCB+5J+IoEbGhoV7CpJbnrsd4asNXmTL0A=",
          "759: github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.33 h1:K0+Ne08zqti8J9jwENxZ5NoUyBnaFDTu3apwQJWrwwA=",
          "760: github.com/aws/aws-sdk-go-v2/internal/endpoints/v2 v2.6.33/go.mod h1:K97stwwzaWzmqxO8yLGHhClbVW1tC6VT1pDLk1pGrq4=",
          "761: github.com/aws/aws-sdk-go-v2/internal/ini v1.8.3 h1:bIqFDwgGXXN1Kpp99pDOdKMTTb5d2KyU5X/BZxjOkRo=",
          "762: github.com/aws/aws-sdk-go-v2/internal/ini v1.8.3/go.mod h1:H5O/EsxDWyU+LP/V8i5sm8cxoZgc2fdNR9bxlOFrQTo=",
          "765: github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.3 h1:eAh2A4b5IzM/lum78bZ590jy36+d/aFLgKF/4Vd1xPE=",
          "766: github.com/aws/aws-sdk-go-v2/service/internal/accept-encoding v1.12.3/go.mod h1:0yKJC/kb8sAnmlYa6Zs3QVYqaC8ug2AbnNChv5Ox3uA=",
          "767: github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.14 h1:2scbY6//jy/s8+5vGrk7l1+UtHl0h9A4MjOO2k/TM2E=",
          "768: github.com/aws/aws-sdk-go-v2/service/internal/presigned-url v1.12.14/go.mod h1:bRpZPHZpSe5YRHmPfK3h1M7UBFCn2szHzyx0rw04zro=",
          "769: github.com/aws/aws-sdk-go-v2/service/sso v1.24.16 h1:YV6xIKDJp6U7YB2bxfud9IENO1LRpGhe2Tv/OKtPrOQ=",
          "770: github.com/aws/aws-sdk-go-v2/service/sso v1.24.16/go.mod h1:DvbmMKgtpA6OihFJK13gHMZOZrCHttz8wPHGKXqU+3o=",
          "771: github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.15 h1:kMyK3aKotq1aTBsj1eS8ERJLjqYRRRcsmP33ozlCvlk=",
          "772: github.com/aws/aws-sdk-go-v2/service/ssooidc v1.28.15/go.mod h1:5uPZU7vSNzb8Y0dm75xTikinegPYK3uJmIHQZFq5Aqo=",
          "773: github.com/aws/aws-sdk-go-v2/service/sts v1.33.15 h1:ht1jVmeeo2anR7zDiYJLSnRYnO/9NILXXu42FP3rJg0=",
          "774: github.com/aws/aws-sdk-go-v2/service/sts v1.33.15/go.mod h1:xWZ5cOiFe3czngChE4LhCBqUxNwgfwndEF7XlYP/yD8=",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "d38cb710be662581bd8e2a455b6f592471c3ca5f",
      "candidate_info": {
        "commit_hash": "d38cb710be662581bd8e2a455b6f592471c3ca5f",
        "repo": "hashicorp/nomad",
        "commit_url": "https://github.com/hashicorp/nomad/commit/d38cb710be662581bd8e2a455b6f592471c3ca5f",
        "files": [
          ".changelog/24668.txt",
          "ui/app/controllers/jobs/job/index.js"
        ],
        "message": "Backport of [ui] Bugfix: prevent parent job from showing another job's dispatches when it has none into release/1.9.x (#24697)\n\nCo-authored-by: Phil Renaud <phil.renaud@hashicorp.com>",
        "before_after_code_files": [
          "ui/app/controllers/jobs/job/index.js||ui/app/controllers/jobs/job/index.js"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/hashicorp/nomad/pull/25471"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "ui/app/controllers/jobs/job/index.js||ui/app/controllers/jobs/job/index.js": [
          "File: ui/app/controllers/jobs/job/index.js -> ui/app/controllers/jobs/job/index.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "98:     { id, namespace },",
          "99:     throttle = Ember.testing ? 0 : 2000",
          "100:   ) {",
          "101:     while (true) {",
          "102:       let params = {",
          "103:         filter: `ParentID == \"${id}\"`,",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "101:     this.childJobs = [];",
          "",
          "---------------"
        ]
      }
    }
  ]
}