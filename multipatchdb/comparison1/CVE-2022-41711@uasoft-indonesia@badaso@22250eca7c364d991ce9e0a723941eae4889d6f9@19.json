{
  "cve_id": "CVE-2022-41711",
  "cve_desc": "Badaso version 2.6.0 allows an unauthenticated remote attacker to execute arbitrary code remotely on the server. This is possible because the application does not properly validate the data uploaded by users.",
  "repo": "uasoft-indonesia/badaso",
  "patch_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
  "patch_info": {
    "commit_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
    "repo": "uasoft-indonesia/badaso",
    "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/22250eca7c364d991ce9e0a723941eae4889d6f9",
    "files": [
      "src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue"
    ],
    "message": "Merge pull request #807 from uasoft-indonesia/bugfix/v2/filter-mimeType\n\nBugfix[v2] add filter mimeType",
    "before_after_code_files": [
      "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue"
    ]
  },
  "patch_diff": {
    "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue": [
      "File: src/resources/js/components/BadasoUploadFile.vue -> src/resources/js/components/BadasoUploadFile.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "336:           });",
      "337:           return;",
      "338:         }",
      "340:         this.uploadFile(files[0]);",
      "341:       }",
      "342:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "339:         if (!this.availableMimetypes.file.validMime.includes(files[0].type)) {",
      "340:           this.$vs.notify({",
      "341:             title: this.$t(\"alert.danger\"),",
      "342:             text: \"File type not allowed\",",
      "343:             color: \"danger\",",
      "344:           });",
      "345:           return;",
      "346:         }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadFileMultiple.vue -> src/resources/js/components/BadasoUploadFileMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "367:             });",
      "368:             return;",
      "369:           }",
      "371:           this.uploadFile(file);",
      "372:         }",
      "373:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "370:           if (!this.availableMimetypes.file.validMime.includes(file.type)) {",
      "371:             this.$vs.notify({",
      "372:               title: this.$t(\"alert.danger\"),",
      "373:               text: \"File type not allowed\",",
      "374:               color: \"danger\",",
      "375:             });",
      "376:             return;",
      "377:           }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue": [
      "File: src/resources/js/components/BadasoUploadImage.vue -> src/resources/js/components/BadasoUploadImage.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "380:           });",
      "381:           return;",
      "382:         }",
      "384:         this.uploadImage(files[0]);",
      "385:       }",
      "386:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "383:         if (!this.availableMimetypes.image.validMime.includes(files[0].type)){",
      "384:           this.$vs.notify({",
      "385:             title: this.$t(\"alert.danger\"),",
      "386:             text: \"File type not allowed\",",
      "387:             color: \"danger\",",
      "388:           });",
      "389:           return;",
      "390:         }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "421:     uploadImage(file) {",
      "422:       const files = new FormData();",
      "423:       files.append(\"upload\", file);",
      "425:       files.append(\"working_dir\", this.getActiveFolder);",
      "426:       this.$api.badasoFile",
      "427:         .uploadUsingLfm(files)",
      "",
      "[Removed Lines]",
      "424:       files.append(\"type\", \"image\");",
      "",
      "[Added Lines]",
      "431:       files.append(\"type\", file.type);",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadImageMultiple.vue -> src/resources/js/components/BadasoUploadImageMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "395:             });",
      "396:             return;",
      "397:           }",
      "399:           this.uploadImage(file);",
      "400:         }",
      "401:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398:           if (!this.availableMimetypes.image.validMime.includes(file.type)) {",
      "399:             this.$vs.notify({",
      "400:               title: this.$t(\"alert.danger\"),",
      "401:               text: \"File type not allowed\",",
      "402:               color: \"danger\",",
      "403:             });",
      "404:             return;",
      "405:           }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "debed60bc7b301f42c1ce286256b61dca7593531",
      "candidate_info": {
        "commit_hash": "debed60bc7b301f42c1ce286256b61dca7593531",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/debed60bc7b301f42c1ce286256b61dca7593531",
        "files": [
          "src/Controllers/BadasoMenuController.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Controllers/BadasoMenuController.php||src/Controllers/BadasoMenuController.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoMenuController.php||src/Controllers/BadasoMenuController.php": [
          "File: src/Controllers/BadasoMenuController.php -> src/Controllers/BadasoMenuController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "52:                         $menu_item_id = $request->menu_item_id;",
          "53:                         $menu_item = MenuItem::find($menu_item_id);",
          "56:                         $menu_item->is_expand = $is_expand;",
          "57:                         $menu_item->save();",
          "58:                         break;",
          "",
          "[Removed Lines]",
          "55:                         $is_expand = $request->get('is_expand', !$menu_item->is_expand);",
          "",
          "[Added Lines]",
          "55:                         $is_expand = $request->get('is_expand', ! $menu_item->is_expand);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "65:                         $menu_id = $request->menu_id;",
          "66:                         $menu = Menu::find($menu_id);",
          "69:                         $menu->is_expand = $is_expand;",
          "70:                         $menu->save();",
          "71:                         break;",
          "",
          "[Removed Lines]",
          "68:                         $is_expand = $request->get('is_expand', !$menu->is_expand);",
          "",
          "[Added Lines]",
          "68:                         $is_expand = $request->get('is_expand', ! $menu->is_expand);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "76:                 ]);",
          "78:                 $menu = Menu::find($request->menu_id);",
          "80:                 $menu->save();",
          "81:             }",
          "",
          "[Removed Lines]",
          "79:                 $menu->is_show_header = !$menu->is_show_header;",
          "",
          "[Added Lines]",
          "79:                 $menu->is_show_header = ! $menu->is_show_header;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "97:             $menu_items = MenuItem::where('menu_id', $request->menu_id)",
          "98:                 ->orderBy('order', 'asc')",
          "100:                 ->get();",
          "102:             $menu_items = $this->getChildMenuItems($menu_items);",
          "",
          "[Removed Lines]",
          "99:                 ->whereNull($prefix . 'menu_items.parent_id')",
          "",
          "[Added Lines]",
          "99:                 ->whereNull($prefix.'menu_items.parent_id')",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "152:             $prefix = config('badaso.database.prefix');",
          "153:             $menu = Menu::where('key', $request->menu_key)->first();",
          "160:                 ->get();",
          "161:             $menu_items = [];",
          "162:             foreach ($all_menu_items as $menu_item) {",
          "",
          "[Removed Lines]",
          "155:             $all_menu_items = MenuItem::join($prefix . 'menus', $prefix . 'menus.id', $prefix . 'menu_items.menu_id')",
          "156:                 ->where($prefix . 'menus.key', $request->menu_key)",
          "157:                 ->whereNull($prefix . 'menu_items.parent_id')",
          "158:                 ->select($prefix . 'menu_items.*')",
          "159:                 ->orderBy($prefix . 'menu_items.order', 'asc')",
          "",
          "[Added Lines]",
          "155:             $all_menu_items = MenuItem::join($prefix.'menus', $prefix.'menus.id', $prefix.'menu_items.menu_id')",
          "156:                 ->where($prefix.'menus.key', $request->menu_key)",
          "157:                 ->whereNull($prefix.'menu_items.parent_id')",
          "158:                 ->select($prefix.'menu_items.*')",
          "159:                 ->orderBy($prefix.'menu_items.order', 'asc')",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "188:                 foreach ($menu_keys as $key => $menu_key) {",
          "189:                     $menu = Menu::where('key', $menu_key)->first();",
          "196:                         ->get();",
          "197:                     $menu_items = [];",
          "198:                     foreach ($all_menu_items as $menu_item) {",
          "",
          "[Removed Lines]",
          "191:                     $all_menu_items = MenuItem::join($prefix . 'menus', $prefix . 'menus.id', $prefix . 'menu_items.menu_id')",
          "192:                         ->where($prefix . 'menus.key', $menu_key)",
          "193:                         ->whereNull($prefix . 'menu_items.parent_id')",
          "194:                         ->select($prefix . 'menu_items.*')",
          "195:                         ->orderBy($prefix . 'menu_items.order', 'asc')",
          "",
          "[Added Lines]",
          "191:                     $all_menu_items = MenuItem::join($prefix.'menus', $prefix.'menus.id', $prefix.'menu_items.menu_id')",
          "192:                         ->where($prefix.'menus.key', $menu_key)",
          "193:                         ->whereNull($prefix.'menu_items.parent_id')",
          "194:                         ->select($prefix.'menu_items.*')",
          "195:                         ->orderBy($prefix.'menu_items.order', 'asc')",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "209:                 $data = collect($data)->toArray();",
          "210:             } else {",
          "212:                     ->get();",
          "213:                 $menus = Menu::orderBy('order')->get();",
          "",
          "[Removed Lines]",
          "211:                 $all_menu_items = MenuItem::orderBy($prefix . 'menu_items.order', 'asc')",
          "",
          "[Added Lines]",
          "211:                 $all_menu_items = MenuItem::orderBy($prefix.'menu_items.order', 'asc')",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "315:             $url = $request->get('url');",
          "316:             if (filter_var($url, FILTER_VALIDATE_URL) === false) {",
          "318:             }",
          "320:             $new_menu_item = new MenuItem();",
          "",
          "[Removed Lines]",
          "317:                 $url = substr($request->get('url'), 0, 1) != '/' ? '/' . $request->get('url') : $request->get('url');",
          "",
          "[Added Lines]",
          "318:                 $url = substr($request->get('url'), 0, 1) != '/' ? '/'.$request->get('url') : $request->get('url');",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "381:             $url = $request->get('url');",
          "382:             if (filter_var($url, FILTER_VALIDATE_URL) === false) {",
          "384:             }",
          "386:             $menu_item = MenuItem::find($request->menu_item_id);",
          "",
          "[Removed Lines]",
          "383:                 $url = substr($request->get('url'), 0, 1) != '/' ? '/' . $request->get('url') : $request->get('url');",
          "",
          "[Added Lines]",
          "384:                 $url = substr($request->get('url'), 0, 1) != '/' ? '/'.$request->get('url') : $request->get('url');",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "ec84e1f649f143d2de28a0bee4562ec1eb0c3701",
      "candidate_info": {
        "commit_hash": "ec84e1f649f143d2de28a0bee4562ec1eb0c3701",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/ec84e1f649f143d2de28a0bee4562ec1eb0c3701",
        "files": [
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "commit",
        "before_after_code_files": [
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "1790:                 $response->assertSuccessful();",
          "1812:             }",
          "1813:         }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1793:                 $id = $response->json('data.id');",
          "1794:                 $data = ['id' => $id];",
          "1795:                 foreach ($entities as $key => $entity) {",
          "1796:                     $field = $entity['field'];",
          "1797:                     if (array_key_exists($field, $fields)) {",
          "1798:                         if ($field == 'relation') {",
          "1799:                             $relation_value = DB::table($first_table)->insertGetId([]);",
          "1800:                             $data[$field] = $relation_value;",
          "1801:                         } else {",
          "1802:                             $data[$field] = $fields[$field]['example_update'];",
          "1803:                         }",
          "1804:                     }",
          "1805:                 }",
          "1806:                 $response = CallHelperTest::withAuthorizeBearer($this)->json('PUT', CallHelperTest::getUrlApiV1Prefix(\"/entities/{$table_empty}/edit\"), [",
          "1807:                     'data' => $data,",
          "1808:                 ]);",
          "1809:                 $response->assertSuccessful();",
          "1811:                 $data_add_entities[$table_empty][] = $response->json('data');",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "9f17629cbc572c4c5cc735ca98adaea31fd23b46",
      "candidate_info": {
        "commit_hash": "9f17629cbc572c4c5cc735ca98adaea31fd23b46",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/9f17629cbc572c4c5cc735ca98adaea31fd23b46",
        "files": [
          "src/resources/js/components/BadasoDataIdentifier.vue",
          "src/resources/js/pages/crud-generated/add.vue",
          "src/resources/js/pages/crud-generated/edit.vue"
        ],
        "message": "delete component",
        "before_after_code_files": [
          "src/resources/js/components/BadasoDataIdentifier.vue||src/resources/js/components/BadasoDataIdentifier.vue",
          "src/resources/js/pages/crud-generated/add.vue||src/resources/js/pages/crud-generated/add.vue",
          "src/resources/js/pages/crud-generated/edit.vue||src/resources/js/pages/crud-generated/edit.vue"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/resources/js/components/BadasoDataIdentifier.vue||src/resources/js/components/BadasoDataIdentifier.vue": [
          "File: src/resources/js/components/BadasoDataIdentifier.vue -> src/resources/js/components/BadasoDataIdentifier.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/add.vue||src/resources/js/pages/crud-generated/add.vue": [
          "File: src/resources/js/pages/crud-generated/add.vue -> src/resources/js/pages/crud-generated/add.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "225:                     \"",
          "226:                   ></badaso-color-picker>",
          "227:                   <badaso-hidden",
          "229:                     :label=\"dataRow.displayName\"",
          "230:                     :placeholder=\"dataRow.displayName\"",
          "231:                     v-model=\"dataRow.value\"",
          "",
          "[Removed Lines]",
          "228:                     v-if=\"dataRow.type == 'hidden'\"",
          "",
          "[Added Lines]",
          "228:                     v-if=\"dataRow.type == 'hidden' || dataRow.type == 'data_identifier'\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "233:                       errors[$caseConvert.stringSnakeToCamel(dataRow.field)]",
          "234:                     \"",
          "235:                   ></badaso-hidden>",
          "245:                   <badaso-checkbox",
          "246:                     v-if=\"dataRow.type == 'checkbox'\"",
          "247:                     :label=\"dataRow.displayName\"",
          "",
          "[Removed Lines]",
          "236:                   <badaso-data-identifier",
          "237:                     v-if=\"dataRow.type == 'data_identifier'\"",
          "238:                     :label=\"dataRow.displayName\"",
          "239:                     :placeholder=\"dataRow.displayName\"",
          "240:                     v-model=\"dataRow.value\"",
          "241:                     :alert=\"",
          "242:                       errors[$caseConvert.stringSnakeToCamel(dataRow.field)]",
          "243:                     \"",
          "244:                   ></badaso-data-identifier>",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/edit.vue||src/resources/js/pages/crud-generated/edit.vue": [
          "File: src/resources/js/pages/crud-generated/edit.vue -> src/resources/js/pages/crud-generated/edit.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "225:                     \"",
          "226:                   ></badaso-color-picker>",
          "227:                   <badaso-hidden",
          "229:                     :label=\"dataRow.displayName\"",
          "230:                     :placeholder=\"dataRow.displayName\"",
          "231:                     v-model=\"dataRow.value\"",
          "",
          "[Removed Lines]",
          "228:                     v-if=\"dataRow.type == 'hidden'\"",
          "",
          "[Added Lines]",
          "228:                     v-if=\"dataRow.type == 'hidden' || dataRow.type == 'data_identifier'\"",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "87da37044200b94bb7d7a77b1cc204de532b19b1",
      "candidate_info": {
        "commit_hash": "87da37044200b94bb7d7a77b1cc204de532b19b1",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/87da37044200b94bb7d7a77b1cc204de532b19b1",
        "files": [
          "src/Widgets/PermissionWidget.php",
          "src/Widgets/RoleWidget.php",
          "src/Widgets/UserWidget.php",
          "src/resources/js/components/BadasoNotificationMessage.vue",
          "src/resources/js/pages/home.vue"
        ],
        "message": "update layout detail notificatio, fix compenent widgets",
        "before_after_code_files": [
          "src/Widgets/PermissionWidget.php||src/Widgets/PermissionWidget.php",
          "src/Widgets/RoleWidget.php||src/Widgets/RoleWidget.php",
          "src/Widgets/UserWidget.php||src/Widgets/UserWidget.php",
          "src/resources/js/components/BadasoNotificationMessage.vue||src/resources/js/components/BadasoNotificationMessage.vue",
          "src/resources/js/pages/home.vue||src/resources/js/pages/home.vue"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Widgets/PermissionWidget.php||src/Widgets/PermissionWidget.php": [
          "File: src/Widgets/PermissionWidget.php -> src/Widgets/PermissionWidget.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             'label' => 'Permission',",
          "24:             'icon' => 'lock',",
          "25:             'value' => Permission::count(),",
          "26:         ];",
          "27:     }",
          "28: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "26:             'prefix_value' => '',",
          "27:             'delimiter' => '.'",
          "",
          "---------------"
        ],
        "src/Widgets/RoleWidget.php||src/Widgets/RoleWidget.php": [
          "File: src/Widgets/RoleWidget.php -> src/Widgets/RoleWidget.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             'label' => 'Role',",
          "24:             'icon' => 'accessibility',",
          "25:             'value' => Role::count(),",
          "26:         ];",
          "27:     }",
          "28: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "26:             'prefix_value' => '',",
          "27:             'delimiter' => '.'",
          "",
          "---------------"
        ],
        "src/Widgets/UserWidget.php||src/Widgets/UserWidget.php": [
          "File: src/Widgets/UserWidget.php -> src/Widgets/UserWidget.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             'label' => 'User',",
          "24:             'icon' => 'person',",
          "25:             'value' => User::count(),",
          "26:         ];",
          "27:     }",
          "28: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "26:             'prefix_value' => '',",
          "27:             'delimiter' => '.'",
          "",
          "---------------"
        ],
        "src/resources/js/components/BadasoNotificationMessage.vue||src/resources/js/components/BadasoNotificationMessage.vue": [
          "File: src/resources/js/components/BadasoNotificationMessage.vue -> src/resources/js/components/BadasoNotificationMessage.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "81:         </vs-sidebar-item>",
          "82:       </div>",
          "83:       <vs-row>",
          "85:           <h5>{{ detailMessage.title }}</h5>",
          "86:           <span v-html=\"detailMessage.content\"></span>",
          "",
          "[Removed Lines]",
          "84:         <div class=\"m-3\">",
          "",
          "[Added Lines]",
          "84:         <div class=\"m-3\" style=\"margin-left:14px; margin-right:14px\">",
          "",
          "---------------"
        ],
        "src/resources/js/pages/home.vue||src/resources/js/pages/home.vue": [
          "File: src/resources/js/pages/home.vue -> src/resources/js/pages/home.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "13:             class=\"widget__icon\"",
          "14:             :icon=\"data.icon\"",
          "15:           ></vs-icon>",
          "17:           <span>{{ data.label }}</span>",
          "18:         </div>",
          "19:         <vs-progress",
          "",
          "[Removed Lines]",
          "16:           <h4 class=\"mb-1\">{{ data.value }}</h4>",
          "",
          "[Added Lines]",
          "16:           <template v-if=\"data.delimiter == ','\">",
          "17:             <vs-row v-if=\"!data.prefixValue\">",
          "18:               <h4 class=\"mb-1\">{{ setDelimiterComa(data.value) }}</h4>",
          "19:             </vs-row>",
          "20:             <vs-row v-else>",
          "21:               <h4>{{ data.prefixValue }}</h4>",
          "22:               <h4 class=\"mb-1\">",
          "23:                 {{ setDelimiterComa(data.value) }}",
          "24:               </h4>",
          "25:             </vs-row>",
          "26:           </template>",
          "28:           <template v-else-if=\"data.delimiter == '.'\">",
          "29:             <vs-row v-if=\"!data.prefixValue\">",
          "30:               <h4 class=\"mb-1\">{{ setDelimiterPoint(data.value) }}</h4>",
          "31:             </vs-row>",
          "32:             <vs-row v-else>",
          "33:               <h4>{{ data.prefixValue }}</h4>",
          "34:               <h4 class=\"mb-1\">",
          "35:                 {{ setDelimiterPoint(data.value) }}",
          "36:               </h4>",
          "37:             </vs-row>",
          "38:           </template>",
          "40:           <template v-else>",
          "41:             <vs-row v-if=\"!data.prefixValue\">",
          "42:               <h4 class=\"mb-1\">{{ data.value }}</h4>",
          "43:             </vs-row>",
          "44:             <vs-row v-else>",
          "45:               <h4>{{ data.prefixValue }}</h4>",
          "46:               <h4 class=\"mb-1\">",
          "47:                 {{ data.value }}",
          "48:               </h4>",
          "49:             </vs-row>",
          "50:           </template>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "92:         });",
          "93:       }",
          "94:     },",
          "95:   },",
          "96: };",
          "97: </script>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "130:     setDelimiterComa(price) {",
          "131:       const pieces = parseFloat(price).toFixed(2).split(\"\");",
          "133:       let ii = pieces.length - 3;",
          "135:       while ((ii -= 3) > 0) {",
          "136:         pieces.splice(ii, 0, \",\");",
          "137:       }",
          "138:       return pieces.join(\"\").replace(/\\.00/g, \"\");",
          "139:     },",
          "141:     setDelimiterPoint(price) {",
          "142:       const pieces = parseFloat(price).toFixed(2).split(\"\");",
          "144:       let ii = pieces.length - 3;",
          "146:       while ((ii -= 3) > 0) {",
          "147:         pieces.splice(ii, 0, \",\");",
          "148:       }",
          "149:       return pieces.join(\"\").replace(/\\.00/g, \"\").replace(/,/g, \".\");",
          "150:     },",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "5de9ffd0f6bca26d377e777ee897e62ee4ddee6a",
      "candidate_info": {
        "commit_hash": "5de9ffd0f6bca26d377e777ee897e62ee4ddee6a",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/5de9ffd0f6bca26d377e777ee897e62ee4ddee6a",
        "files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ],
        "message": "update migration",
        "before_after_code_files": [
          "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php||src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php": [
          "File: src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php -> src/Migrations/2022_03_08_090850_change_order_integer_data_type_in_menus_table.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: <?php",
          "3: use Illuminate\\Database\\Migrations\\Migration;",
          "4: use Illuminate\\Database\\Schema\\Blueprint;",
          "5: use Illuminate\\Support\\Facades\\Schema;",
          "7: class ChangeOrderIntegerDataTypeInMenusTable extends Migration",
          "8: {",
          "14:     public function up()",
          "15:     {",
          "16:         Schema::table('menus', function (Blueprint $table) {",
          "17:             if (!Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "18:                 $table->integer('order')->change();",
          "19:             }",
          "20:         });",
          "21:     }",
          "28:     public function down()",
          "29:     {",
          "30:         Schema::table('menus', function (Blueprint $table) {",
          "31:             if (!Schema::hasColumn(config('badaso.database.prefix') . 'menus', 'order')) {",
          "32:                 $table->integer('order')->change();",
          "33:             }",
          "34:         });",
          "35:     }",
          "36: }",
          "",
          "---------------"
        ]
      }
    }
  ]
}