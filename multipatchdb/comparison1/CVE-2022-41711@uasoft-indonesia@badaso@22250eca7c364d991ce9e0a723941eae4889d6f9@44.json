{
  "cve_id": "CVE-2022-41711",
  "cve_desc": "Badaso version 2.6.0 allows an unauthenticated remote attacker to execute arbitrary code remotely on the server. This is possible because the application does not properly validate the data uploaded by users.",
  "repo": "uasoft-indonesia/badaso",
  "patch_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
  "patch_info": {
    "commit_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
    "repo": "uasoft-indonesia/badaso",
    "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/22250eca7c364d991ce9e0a723941eae4889d6f9",
    "files": [
      "src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue"
    ],
    "message": "Merge pull request #807 from uasoft-indonesia/bugfix/v2/filter-mimeType\n\nBugfix[v2] add filter mimeType",
    "before_after_code_files": [
      "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue"
    ]
  },
  "patch_diff": {
    "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue": [
      "File: src/resources/js/components/BadasoUploadFile.vue -> src/resources/js/components/BadasoUploadFile.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "336:           });",
      "337:           return;",
      "338:         }",
      "340:         this.uploadFile(files[0]);",
      "341:       }",
      "342:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "339:         if (!this.availableMimetypes.file.validMime.includes(files[0].type)) {",
      "340:           this.$vs.notify({",
      "341:             title: this.$t(\"alert.danger\"),",
      "342:             text: \"File type not allowed\",",
      "343:             color: \"danger\",",
      "344:           });",
      "345:           return;",
      "346:         }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadFileMultiple.vue -> src/resources/js/components/BadasoUploadFileMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "367:             });",
      "368:             return;",
      "369:           }",
      "371:           this.uploadFile(file);",
      "372:         }",
      "373:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "370:           if (!this.availableMimetypes.file.validMime.includes(file.type)) {",
      "371:             this.$vs.notify({",
      "372:               title: this.$t(\"alert.danger\"),",
      "373:               text: \"File type not allowed\",",
      "374:               color: \"danger\",",
      "375:             });",
      "376:             return;",
      "377:           }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue": [
      "File: src/resources/js/components/BadasoUploadImage.vue -> src/resources/js/components/BadasoUploadImage.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "380:           });",
      "381:           return;",
      "382:         }",
      "384:         this.uploadImage(files[0]);",
      "385:       }",
      "386:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "383:         if (!this.availableMimetypes.image.validMime.includes(files[0].type)){",
      "384:           this.$vs.notify({",
      "385:             title: this.$t(\"alert.danger\"),",
      "386:             text: \"File type not allowed\",",
      "387:             color: \"danger\",",
      "388:           });",
      "389:           return;",
      "390:         }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "421:     uploadImage(file) {",
      "422:       const files = new FormData();",
      "423:       files.append(\"upload\", file);",
      "425:       files.append(\"working_dir\", this.getActiveFolder);",
      "426:       this.$api.badasoFile",
      "427:         .uploadUsingLfm(files)",
      "",
      "[Removed Lines]",
      "424:       files.append(\"type\", \"image\");",
      "",
      "[Added Lines]",
      "431:       files.append(\"type\", file.type);",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadImageMultiple.vue -> src/resources/js/components/BadasoUploadImageMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "395:             });",
      "396:             return;",
      "397:           }",
      "399:           this.uploadImage(file);",
      "400:         }",
      "401:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398:           if (!this.availableMimetypes.image.validMime.includes(file.type)) {",
      "399:             this.$vs.notify({",
      "400:               title: this.$t(\"alert.danger\"),",
      "401:               text: \"File type not allowed\",",
      "402:               color: \"danger\",",
      "403:             });",
      "404:             return;",
      "405:           }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "0308a729327df04d179c6b9b0e53ef39728e4f73",
      "candidate_info": {
        "commit_hash": "0308a729327df04d179c6b9b0e53ef39728e4f73",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/0308a729327df04d179c6b9b0e53ef39728e4f73",
        "files": [
          "src/Controllers/BadasoBaseController.php",
          "src/Controllers/Controller.php",
          "src/Helpers/GetData.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Controllers/BadasoBaseController.php||src/Controllers/BadasoBaseController.php",
          "src/Controllers/Controller.php||src/Controllers/Controller.php",
          "src/Helpers/GetData.php||src/Helpers/GetData.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoBaseController.php||src/Controllers/BadasoBaseController.php": [
          "File: src/Controllers/BadasoBaseController.php -> src/Controllers/BadasoBaseController.php"
        ],
        "src/Controllers/Controller.php||src/Controllers/Controller.php": [
          "File: src/Controllers/Controller.php -> src/Controllers/Controller.php"
        ],
        "src/Helpers/GetData.php||src/Helpers/GetData.php": [
          "File: src/Helpers/GetData.php -> src/Helpers/GetData.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "32:         $field_identify_related_user = null;",
          "33:         $roles_can_see_all_data = [];",
          "37:         $field_identify_related_user = $permissions ? $permissions['field_identify_related_user'] : null;",
          "",
          "[Removed Lines]",
          "35:         $permissions = Permission::where('key', 'browse_' . $data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "[Added Lines]",
          "35:         $permissions = Permission::where('key', 'browse_'.$data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "56:         $records = [];",
          "57:         $query = $model::query()->select($fields);",
          "60:             if ($is_field) {",
          "61:                 $query = $model::query()->select($fields)->where($field_identify_related_user, auth()->user()->id);",
          "62:             }",
          "",
          "[Removed Lines]",
          "59:         if (!$is_roles) {",
          "",
          "[Added Lines]",
          "59:         if (! $is_roles) {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "120:         $field_identify_related_user = null;",
          "121:         $roles_can_see_all_data = [];",
          "125:         $field_identify_related_user = $permissions ? $permissions['field_identify_related_user'] : null;",
          "",
          "[Removed Lines]",
          "123:         $permissions = Permission::where('key', 'browse_' . $data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "[Added Lines]",
          "123:         $permissions = Permission::where('key', 'browse_'.$data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "150:         if ($order_field) {",
          "151:             $data = $model::query()->select($fields)->orderBy($order_field, $order_direction);",
          "153:                 if ($is_field) {",
          "154:                     $data = $model::query()->select($fields)->orderBy($order_field, $order_direction)->where($field_identify_related_user, auth()->user()->id);",
          "155:                 }",
          "156:             }",
          "157:         } else {",
          "158:             $data = $model::query()->select($fields);",
          "160:                 if ($is_field) {",
          "161:                     $data = $model::query()->select($fields)->where($field_identify_related_user, auth()->user()->id);",
          "162:                 }",
          "",
          "[Removed Lines]",
          "152:             if (!$is_roles) {",
          "159:             if (!$is_roles) {",
          "",
          "[Added Lines]",
          "152:             if (! $is_roles) {",
          "159:             if (! $is_roles) {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "238:         $field_identify_related_user = null;",
          "239:         $roles_can_see_all_data = [];",
          "243:         $field_identify_related_user = $permissions ? $permissions['field_identify_related_user'] : null;",
          "",
          "[Removed Lines]",
          "241:         $permissions = Permission::where('key', 'browse_' . $data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "[Added Lines]",
          "241:         $permissions = Permission::where('key', 'browse_'.$data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "259:         $fields = array_diff(array_merge($fields, $ids, $fields_data_identifier), $field_other_relation);",
          "260:         $query = DB::table($data_type->name)->select($fields);",
          "263:             if ($is_field) {",
          "264:                 $query = DB::table($data_type->name)->select($fields)->where($field_identify_related_user, auth()->user()->id);",
          "265:             }",
          "",
          "[Removed Lines]",
          "262:         if (!$is_roles) {",
          "",
          "[Added Lines]",
          "262:         if (! $is_roles) {",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "329:         $field_identify_related_user = null;",
          "330:         $roles_can_see_all_data = [];",
          "334:         $field_identify_related_user = $permissions ? $permissions['field_identify_related_user'] : null;",
          "",
          "[Removed Lines]",
          "332:         $permissions = Permission::where('key', 'browse_' . $data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "[Added Lines]",
          "332:         $permissions = Permission::where('key', 'browse_'.$data_type->name)->where('table_name', $data_type->name)->select('roles_can_see_all_data', 'field_identify_related_user')->first();",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "383:                                     $upload_image_multiple[] = $file_name;",
          "384:                                     $upload_image_multiple = join('/', $upload_image_multiple);",
          "385:                                 }",
          "388:                                 return $asset;",
          "389:                             });",
          "",
          "[Removed Lines]",
          "386:                                 $asset = asset('storage/' . $upload_image_multiple);",
          "",
          "[Added Lines]",
          "386:                                 $asset = asset('storage/'.$upload_image_multiple);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "407:                                     $upload_image[] = $file_name;",
          "408:                                     $upload_image = join('/', $upload_image);",
          "409:                                 }",
          "411:                             }",
          "412:                             $record->{$data_row->field} = $upload_image;",
          "413:                         }",
          "",
          "[Removed Lines]",
          "410:                                 $upload_image = asset('storage/' . $upload_image);",
          "",
          "[Added Lines]",
          "410:                                 $upload_image = asset('storage/'.$upload_image);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "418:                     $record->$table_manytomany = $data_relation;",
          "419:                 }",
          "420:             }",
          "421:             return $record;",
          "422:         });",
          "424:             if ($is_field) {",
          "425:                 foreach ($records as $key => $record) {",
          "426:                     if (",
          "",
          "[Removed Lines]",
          "423:         if (!$is_roles) {",
          "",
          "[Added Lines]",
          "424:         if (! $is_roles) {",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "480:                 if (isset($destination_table_display_more_column)) {",
          "481:                     foreach ($destination_table_display_more_column as $index => $item_destination_table_display_more_column) {",
          "483:                             $arr_query_select[] = $item_destination_table_display_more_column;",
          "484:                         }",
          "485:                     }",
          "",
          "[Removed Lines]",
          "482:                         if (!in_array($item_destination_table_display_more_column, $arr_query_select)) {",
          "",
          "[Added Lines]",
          "483:                         if (! in_array($item_destination_table_display_more_column, $arr_query_select)) {",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "488:                 if (isset($row->{$field->field}) && $field->relation['relation_type'] == 'belongs_to_many') {",
          "489:                     $data_table_destination = DB::table($destination_table)->get();",
          "491:                     $row->{$field->field}->filter(function ($fields, $key) use ($data_table_destination, $destination_table, $destination_table_display_column) {",
          "492:                         foreach ($data_table_destination as $key => $value) {",
          "494:                                 $fields->{$destination_table_display_column} = $value->{$destination_table_display_column};",
          "495:                             }",
          "496:                         }",
          "",
          "[Removed Lines]",
          "490:                     $table_primary_id = $data_type['name'] . '_id';",
          "493:                             if ($fields->{$destination_table . '_id'} == $value->id) {",
          "",
          "[Added Lines]",
          "491:                     $table_primary_id = $data_type['name'].'_id';",
          "494:                             if ($fields->{$destination_table.'_id'} == $value->id) {",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "8532991689e738fdb622a7ef69703b9280ee80a0",
      "candidate_info": {
        "commit_hash": "8532991689e738fdb622a7ef69703b9280ee80a0",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/8532991689e738fdb622a7ef69703b9280ee80a0",
        "files": [
          "src/ContentManager/FileGenerator.php",
          "src/resources/js/lang/modules/en.js",
          "src/resources/js/lang/modules/id.js",
          "src/resources/js/pages/crud-generated/browse-bin.vue",
          "src/resources/js/pages/crud-generated/browse.vue",
          "src/resources/js/pages/crud-generated/read.vue",
          "src/resources/js/pages/crud-management/add.vue",
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "update multipart select",
        "before_after_code_files": [
          "src/ContentManager/FileGenerator.php||src/ContentManager/FileGenerator.php",
          "src/resources/js/lang/modules/en.js||src/resources/js/lang/modules/en.js",
          "src/resources/js/lang/modules/id.js||src/resources/js/lang/modules/id.js",
          "src/resources/js/pages/crud-generated/browse-bin.vue||src/resources/js/pages/crud-generated/browse-bin.vue",
          "src/resources/js/pages/crud-generated/browse.vue||src/resources/js/pages/crud-generated/browse.vue",
          "src/resources/js/pages/crud-generated/read.vue||src/resources/js/pages/crud-generated/read.vue",
          "src/resources/js/pages/crud-management/add.vue||src/resources/js/pages/crud-management/add.vue",
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/ContentManager/FileGenerator.php||src/ContentManager/FileGenerator.php": [
          "File: src/ContentManager/FileGenerator.php -> src/ContentManager/FileGenerator.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "352:             $schema_up .= $this->migration_parser->getAlterMigrationRelationshipSchemaUp($table, $relations);",
          "353:             $schema_down .= $this->migration_parser->getAlterMigrationRelationshipSchemaDown($table, $relations).PHP_EOL;",
          "354:         }",
          "355:         $schema_down .= $this->migration_parser->getAlterMigrationSchemaDown($table, $rows, $prefix, $relations);",
          "357:         $stub = $this->content_manager->replaceString('{{class}}', $migration_class_name, $stub);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "355:         if (array_key_exists('modified_relations', $relations) && count($relations['modified_relations']) > 0) {",
          "356:             $schema_up .= $this->migration_parser->getAlterMigrationRelationshipSchemaUp($table, $relations);",
          "357:             $schema_down .= $this->migration_parser->getAlterMigrationRelationshipSchemaDown($table, $relations) . PHP_EOL;",
          "358:         }",
          "",
          "---------------"
        ],
        "src/resources/js/lang/modules/en.js||src/resources/js/lang/modules/en.js": [
          "File: src/resources/js/lang/modules/en.js -> src/resources/js/lang/modules/en.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "338:           description:",
          "339:             \"<p class='text-muted'>Order Column will be filled with numbers to sort data if this field is set</p>\",",
          "340:         },",
          "341:         orderDirection: {",
          "342:           title: \"Order Direction\",",
          "343:           value: {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "341:         orderDisplayMoreColumn: {",
          "342:           title: \"Order Display More Column\",",
          "343:           placeholder: \"Order Display More Column\",",
          "344:           description:",
          "345:             \"<p class='text-muted'>Order Column will be filled with numbers to sort data if this field is set</p>\",",
          "346:         },",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "380:         destinationTable: \"Destination Table\",",
          "381:         destinationTableColumn: \"Destination Column\",",
          "382:         destinationTableDisplayColumn: \"Destination Column To Display\",",
          "383:         saveRelation: \"Save\",",
          "384:         cancelRelation: \"Cancel\",",
          "385:       },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "389:         destinationTableDisplayMoreColumn: \"Destination More Column To Display\",",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "432:           description:",
          "433:             \"<p class='text-muted'>Order Column will be filled with numbers to sort data if this field is set</p>\",",
          "434:         },",
          "435:         orderDirection: {",
          "436:           title: \"Order Direction\",",
          "437:           value: {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "442:         orderDisplayMoreColumn: {",
          "443:           title: \"Order Display More Column\",",
          "444:           placeholder: \"Order Display More Column\",",
          "445:           description:",
          "446:             \"<p class='text-muted'>Order Column will be filled with numbers to sort data if this field is set</p>\",",
          "447:         },",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "491:         destinationTable: \"Destination Table\",",
          "492:         destinationTableColumn: \"Destination Column\",",
          "493:         destinationTableDisplayColumn: \"Destination Column To Display\",",
          "494:         saveRelation: \"Save\",",
          "495:         cancelRelation: \"Cancel\",",
          "496:       },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "507:         destinationTableDisplayMoreColumn: \"Destination More Column To Display\",",
          "",
          "---------------"
        ],
        "src/resources/js/lang/modules/id.js||src/resources/js/lang/modules/id.js": [
          "File: src/resources/js/lang/modules/id.js -> src/resources/js/lang/modules/id.js",
          "--- Hunk 1 ---",
          "[Context before]",
          "379:         destinationTable: \"Tabel Tujuan\",",
          "380:         destinationTableColumn: \"Kolom Tujuan\",",
          "381:         destinationTableDisplayColumn: \"Kolom Tujuan Untuk Ditampilkan\",",
          "382:         saveRelation: \"Simpan\",",
          "383:         cancelRelation: \"Batal\",",
          "384:       },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "382:         destinationTableDisplayMoreColumn:",
          "383:           \"Kolom Tujuan Lain Untuk Ditampilkan\",",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "489:         destinationTable: \"Tabel Tujuan\",",
          "490:         destinationTableColumn: \"Kolom Tujuan\",",
          "491:         destinationTableDisplayColumn: \"Kolom Tujuan Untuk Ditampilkan\",",
          "492:         saveRelation: \"Simpan\",",
          "493:         cancelRelation: \"Batal\",",
          "494:       },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "494:         destinationTableDisplayMoreColumn: \"Kolom Tujuan Lain Untuk Ditampilkan\",",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/browse-bin.vue||src/resources/js/pages/crud-generated/browse-bin.vue": [
          "File: src/resources/js/pages/crud-generated/browse-bin.vue -> src/resources/js/pages/crud-generated/browse-bin.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "1100:         );",
          "1101:         const displayColumn = this.$caseConvert.stringSnakeToCamel(",
          "1102:           dataRow.relation.destinationTableDisplayColumn",
          "1103:         );",
          "1104:         if (relationType == \"has_many\") {",
          "1105:           const list = record[table];",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1103:         );",
          "1104:          const displayMoreColumn = this.$caseConvert.stringSnakeToCamel(",
          "1105:           dataRow.relation.destinationTableDisplayMoreColumn",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/browse.vue||src/resources/js/pages/crud-generated/browse.vue": [
          "File: src/resources/js/pages/crud-generated/browse.vue -> src/resources/js/pages/crud-generated/browse.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "1044:         const displayColumn = this.$caseConvert.stringSnakeToCamel(",
          "1045:           dataRow.relation.destinationTableDisplayColumn",
          "1046:         );",
          "1047:         if (relationType == \"has_many\") {",
          "1048:           const list = record[table];",
          "1049:           const flatList = list.map((ls) => {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1047:         const displayMoreColumn = this.$caseConvert.stringSnakeToCamel(",
          "1048:           dataRow.relation.destinationTableDisplayMoreColumn",
          "1049:         );",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-generated/read.vue||src/resources/js/pages/crud-generated/read.vue": [
          "File: src/resources/js/pages/crud-generated/read.vue -> src/resources/js/pages/crud-generated/read.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "313:       const displayColumn = this.$caseConvert.stringSnakeToCamel(",
          "314:         dataRow.relation.destinationTableDisplayColumn",
          "315:       );",
          "316:       if (dataRow.relation.relationType == \"has_many\") {",
          "317:         const list = record[table];",
          "318:         const flatList = list.map((ls) => {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "316:       const displayMoreColumn = this.$caseConvert.stringSnakeToCamel(",
          "317:         dataRow.relation.destinationTableDisplayMoreColumn",
          "318:       );",
          "",
          "---------------"
        ],
        "src/resources/js/pages/crud-management/add.vue||src/resources/js/pages/crud-management/add.vue": [
          "File: src/resources/js/pages/crud-management/add.vue -> src/resources/js/pages/crud-management/add.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "516:                               $t('crud.add.body.destinationTableDisplayColumn')",
          "517:                             \"",
          "518:                           ></badaso-select>",
          "519:                         </vs-row>",
          "520:                         <vs-row vs-type=\"flex\" vs-justify=\"space-between\">",
          "521:                           <vs-col vs-lg=\"2\" vs-type=\"flex\" vs-align=\"flex-end\">",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "519:                           <badaso-select-multiple",
          "520:                             v-model=\"relation.destinationTableDisplayMoreColumn\"",
          "521:                             size=\"12\"",
          "522:                             :label=\"$t('crud.add.body.destinationTableDisplayMoreColumn')\"",
          "523:                             :items=\"destinationTableColumns\"",
          "524:                           ></badaso-select-multiple>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "813:     relationTypes: [],",
          "814:     destinationTables: [],",
          "815:     destinationTableColumns: [],",
          "816:     relation: {",
          "817:       relationType: \"\",",
          "818:       destinationTable: \"\",",
          "819:       destinationTableColumn: \"\",",
          "820:       destinationTableDisplayColumn: \"\",",
          "821:     },",
          "822:     onCreate: false,",
          "823:     onCreateTitle: \"\",",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "828:       destinationTableDisplayMoreColumn: [],",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "877:         destinationTableDisplayColumn: field.destinationTableDisplayColumn",
          "878:           ? field.destinationTableDisplayColumn",
          "879:           : \"\",",
          "880:       };",
          "881:       if (field.destinationTable !== \"\") {",
          "882:         this.getDestinationTableColumns(field.destinationTable);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "888:            destinationTableDisplayMoreColumn: field.destinationTableDisplayMoreColumn",
          "889:           ? field.destinationTableDisplayMoreColumn",
          "890:           : \"\",",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "886:       if (table) {",
          "887:         this.relation.destinationTableColumn = \"\";",
          "888:         this.relation.destinationTableDisplayColumn = \"\";",
          "889:         this.getDestinationTableColumns(table);",
          "890:       }",
          "891:     },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "900:         this.relation.destinationTableDisplayMoreColumn = \"\";",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "895:       field.destinationTableColumn = this.relation.destinationTableColumn;",
          "896:       field.destinationTableDisplayColumn =",
          "897:         this.relation.destinationTableDisplayColumn;",
          "898:       this.relation = {};",
          "899:       field.setRelation = false;",
          "900:     },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "910:       field.destinationTableDisplayMoreColumn = this.relation.destinationTableDisplayMoreColumn;",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "974:               };",
          "975:             }",
          "976:             if (",
          "980:             ) {",
          "981:               return {",
          "982:                 field: field.name,",
          "",
          "[Removed Lines]",
          "977:               [\"created_at\", \"updated_at\", \"deleted_at\"].includes(",
          "978:                 field.name",
          "979:               )",
          "",
          "[Added Lines]",
          "990:               [\"created_at\", \"updated_at\", \"deleted_at\"].includes(field.name)",
          "",
          "---------------"
        ],
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "419:                     $row['destinationTable'] = $table_names[0];",
          "420:                     $row['destinationTableColumn'] = $destination_field['badaso_type'];",
          "421:                     $row['destinationTableDisplayColumn'] = $destination_field['badaso_type'];",
          "422:                     $row['required'] = false;",
          "423:                 }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "422:                     $row['destinationTableDisplayMoreColumn'] = $destination_field['badaso_type'];",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "8fc693b624add70e084c3b00ad0de1b3add962fb",
      "candidate_info": {
        "commit_hash": "8fc693b624add70e084c3b00ad0de1b3add962fb",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/8fc693b624add70e084c3b00ad0de1b3add962fb",
        "files": [
          "src/Config/lfm.php",
          "src/Controllers/BadasoFileController.php",
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Config/lfm.php||src/Config/lfm.php",
          "src/Controllers/BadasoFileController.php||src/Controllers/BadasoFileController.php",
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Config/lfm.php||src/Config/lfm.php": [
          "File: src/Config/lfm.php -> src/Config/lfm.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "181:     'middleware' => [",
          "182:         'web',",
          "183:         'auth',",
          "185:     ],",
          "186: ];",
          "",
          "[Removed Lines]",
          "184:         BadasoCheckPermissions::class . ':browse_file_manager',",
          "",
          "[Added Lines]",
          "184:         BadasoCheckPermissions::class.':browse_file_manager',",
          "",
          "---------------"
        ],
        "src/Controllers/BadasoFileController.php||src/Controllers/BadasoFileController.php": [
          "File: src/Controllers/BadasoFileController.php -> src/Controllers/BadasoFileController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "55:     public function uploadFileUsingLfm(Request $request)",
          "56:     {",
          "65:     }",
          "67:     public function deleteFileUsingLfm(Request $request)",
          "",
          "[Removed Lines]",
          "57:             $upload = new UploadController();",
          "58:             $file = $upload->upload();",
          "60:             if(key_exists('error', $file->original)){",
          "61:                 return ApiResponse::failed($file);",
          "62:             }",
          "64:             return ApiResponse::success(json_decode(json_encode($file)));",
          "",
          "[Added Lines]",
          "57:         $upload = new UploadController();",
          "58:         $file = $upload->upload();",
          "60:         if (key_exists('error', $file->original)) {",
          "61:             return ApiResponse::failed($file);",
          "62:         }",
          "64:         return ApiResponse::success(json_decode(json_encode($file)));",
          "",
          "---------------"
        ],
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "446:                 }",
          "447:                 PHP;",
          "448:                 $model_path = app_path(\"Models/$model_file_name\");",
          "450:                     file_put_contents($model_path, $model_body);",
          "451:                 }",
          "",
          "[Removed Lines]",
          "449:                 if (!file_exists($model_path)) {",
          "",
          "[Added Lines]",
          "449:                 if (! file_exists($model_path)) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "467:             $controller_data = [];",
          "468:             if (rand(0, 1)) {",
          "471:                 $controller_file_name = \"{$controller_name}.php\";",
          "472:                 $controller_body = <<<PHP",
          "473:                 <?php",
          "",
          "[Removed Lines]",
          "470:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)) . 'Controller';",
          "",
          "[Added Lines]",
          "470:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)).'Controller';",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "476:                 class {$controller_name} extends \\Uasoft\\Badaso\\Controllers\\BadasoBaseController {}",
          "477:                 PHP;",
          "478:                 $controller_path = app_path(\"/Http/Controllers/$controller_file_name\");",
          "480:                     file_put_contents($controller_path, $controller_body);",
          "481:                 }",
          "",
          "[Removed Lines]",
          "479:                 if (!file_exists($controller_path)) {",
          "",
          "[Added Lines]",
          "479:                 if (! file_exists($controller_path)) {",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1179:                 }",
          "1180:                 PHP;",
          "1181:                 $model_path = app_path(\"Models/$model_file_name\");",
          "1183:                     file_put_contents($model_path, $model_body);",
          "1184:                 }",
          "",
          "[Removed Lines]",
          "1182:                 if (!file_exists($model_path)) {",
          "",
          "[Added Lines]",
          "1182:                 if (! file_exists($model_path)) {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1200:             $controller_data = [];",
          "1201:             if (rand(0, 1)) {",
          "1204:                 $controller_file_name = \"{$controller_name}.php\";",
          "1205:                 $controller_body = <<<PHP",
          "1206:                 <?php",
          "",
          "[Removed Lines]",
          "1203:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)) . 'Controller';",
          "",
          "[Added Lines]",
          "1203:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)).'Controller';",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1209:                 class {$controller_name} extends \\Uasoft\\Badaso\\Controllers\\BadasoBaseController {}",
          "1210:                 PHP;",
          "1211:                 $controller_path = app_path(\"/Http/Controllers/$controller_file_name\");",
          "1213:                     file_put_contents($controller_path, $controller_body);",
          "1214:                 }",
          "",
          "[Removed Lines]",
          "1212:                 if (!file_exists($controller_path)) {",
          "",
          "[Added Lines]",
          "1212:                 if (! file_exists($controller_path)) {",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1229:             $request_body = [",
          "1230:                 'name' =>  $table_name,",
          "1231:                 'slug' =>  $table_name,",
          "1234:                 'icon' =>  'add',",
          "1235:                 'modelName' =>  $model,",
          "1236:                 'policyName' =>  '',",
          "",
          "[Removed Lines]",
          "1232:                 'displayNameSingular' =>  $table_label . '(update)',",
          "1233:                 'displayNamePlural' =>  $table_label . '(update)',",
          "",
          "[Added Lines]",
          "1232:                 'displayNameSingular' =>  $table_label.'(update)',",
          "1233:                 'displayNamePlural' =>  $table_label.'(update)',",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "1316:             $controller_name = \"{$name}Controller.php\";",
          "1318:             if (file_exists($controller_path)) {",
          "1319:                 unlink($controller_path);",
          "1320:             }",
          "1323:             $model_name = \"{$name}.php\";",
          "1325:             if (file_exists($model_path)) {",
          "1326:                 unlink($model_path);",
          "1327:             }",
          "",
          "[Removed Lines]",
          "1317:             $controller_path = app_path('Http/Controllers/' . $controller_name);",
          "1324:             $model_path = app_path('Models/' . $model_name);",
          "",
          "[Added Lines]",
          "1317:             $controller_path = app_path('Http/Controllers/'.$controller_name);",
          "1324:             $model_path = app_path('Models/'.$model_name);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "1495:         $file_php = UploadedFile::fake()->create('document.php', 20);",
          "1496:         $file =",
          "1497:             [",
          "1500:             ];",
          "1501:         $response = $this->json('POST', CallHelperTest::getUrlApiV1Prefix('/file/upload/lfm'), $file);",
          "1502:         $message = json_decode($response['message'], true);",
          "",
          "[Removed Lines]",
          "1498:                 \"type\" => 'file',",
          "1499:                 \"upload\" => $file_php",
          "",
          "[Added Lines]",
          "1498:                 'type' => 'file',",
          "1499:                 'upload' => $file_php,",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1506:         $file_pdf = UploadedFile::fake()->create('document.pdf', 200);",
          "1507:         $file = [",
          "1510:         ];",
          "1511:         $response = $this->json('POST', CallHelperTest::getUrlApiV1Prefix('/file/upload/lfm'), $file);",
          "1512:         $message = $response['data'];",
          "",
          "[Removed Lines]",
          "1508:             \"type\" => 'file',",
          "1509:             \"upload\" => $file_pdf",
          "",
          "[Added Lines]",
          "1508:             'type' => 'file',",
          "1509:             'upload' => $file_pdf,",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1517:         $image_file = UploadedFile::fake()->image('image.jpg');",
          "1518:         $image = [",
          "1521:         ];",
          "1522:         $response = $this->json('POST', CallHelperTest::getUrlApiV1Prefix('/file/upload/lfm'), $image);",
          "1523:         $message = $response['data'];",
          "",
          "[Removed Lines]",
          "1519:             \"type\" => 'image',",
          "1520:             \"upload\" => $image_file",
          "",
          "[Added Lines]",
          "1519:             'type' => 'image',",
          "1520:             'upload' => $image_file,",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "37ef9503b5747af31347ca7942c09ece2beac506",
      "candidate_info": {
        "commit_hash": "37ef9503b5747af31347ca7942c09ece2beac506",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/37ef9503b5747af31347ca7942c09ece2beac506",
        "files": [
          ".github/workflows/phpstan.yml",
          "phpstan-baseline.neon",
          "phpstan.neon.dist"
        ],
        "message": "test1",
        "before_after_code_files": [
          "phpstan-baseline.neon||phpstan-baseline.neon",
          "phpstan.neon.dist||phpstan.neon.dist"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "phpstan-baseline.neon||phpstan-baseline.neon": [
          "File: phpstan-baseline.neon -> phpstan-baseline.neon",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: parameters:",
          "2:     excludes_analyse:",
          "4:     ignoreErrors:",
          "5:     -",
          "6:         message: '#Call to an undefined static method Uasoft\\\\Badaso\\\\Models\\\\Role::[a-zA-Z0-9-()\\_]+.#'",
          "7:         paths:",
          "14:     - '#Call to an undefined static method Uasoft\\\\Badaso\\\\Models\\\\User::[a-zA-Z0-9-()\\_]+.#'",
          "15:     - '#Call to an undefined static method Spatie\\\\Activitylog\\\\Models\\\\Activity::[a-zA-Z0-9-()\\_]+.#'",
          "",
          "[Removed Lines]",
          "3:     - packages/badaso/core/src/Migrations",
          "8:             - packages/badaso/core/src/Controllers",
          "9:             - packages/badaso/core/src/Commands",
          "10:             - packages/badaso/core/src/Models",
          "11:             - packages/badaso/core/src/Seeder",
          "12:             - packages/badaso/core/src/Widgets",
          "",
          "[Added Lines]",
          "3:     - src/Migrations",
          "8:             - src/Controllers",
          "9:             - src/Commands",
          "10:             - src/Models",
          "11:             - src/Seeder",
          "12:             - src/Widgets",
          "",
          "---------------"
        ],
        "phpstan.neon.dist||phpstan.neon.dist": [
          "File: phpstan.neon.dist -> phpstan.neon.dist",
          "--- Hunk 1 ---",
          "[Context before]",
          "4: parameters:",
          "5:     paths:",
          "8:     level: 1",
          "",
          "[Removed Lines]",
          "6:         - packages/badaso/core/src",
          "",
          "[Added Lines]",
          "6:         - src",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "08e1b052baaa451859e046e07bc9b07a16055730",
      "candidate_info": {
        "commit_hash": "08e1b052baaa451859e046e07bc9b07a16055730",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/08e1b052baaa451859e046e07bc9b07a16055730",
        "files": [
          "src/ContentManager/ContentGenerator.php",
          "src/ContentManager/ContentManager.php",
          "src/ContentManager/FileGenerator.php",
          "src/ContentManager/FileSystem.php",
          "src/Controllers/BadasoAuthController.php",
          "src/Database/DatabaseUpdater.php",
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/ContentManager/ContentGenerator.php||src/ContentManager/ContentGenerator.php",
          "src/ContentManager/ContentManager.php||src/ContentManager/ContentManager.php",
          "src/ContentManager/FileGenerator.php||src/ContentManager/FileGenerator.php",
          "src/ContentManager/FileSystem.php||src/ContentManager/FileSystem.php",
          "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php",
          "src/Database/DatabaseUpdater.php||src/Database/DatabaseUpdater.php",
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/ContentManager/ContentGenerator.php||src/ContentManager/ContentGenerator.php": [
          "File: src/ContentManager/ContentGenerator.php -> src/ContentManager/ContentGenerator.php"
        ],
        "src/ContentManager/ContentManager.php||src/ContentManager/ContentManager.php": [
          "File: src/ContentManager/ContentManager.php -> src/ContentManager/ContentManager.php"
        ],
        "src/ContentManager/FileGenerator.php||src/ContentManager/FileGenerator.php": [
          "File: src/ContentManager/FileGenerator.php -> src/ContentManager/FileGenerator.php"
        ],
        "src/ContentManager/FileSystem.php||src/ContentManager/FileSystem.php": [
          "File: src/ContentManager/FileSystem.php -> src/ContentManager/FileSystem.php"
        ],
        "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php": [
          "File: src/Controllers/BadasoAuthController.php -> src/Controllers/BadasoAuthController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "7: use Illuminate\\Support\\Facades\\DB;",
          "8: use Illuminate\\Support\\Facades\\Hash;",
          "9: use Illuminate\\Support\\Facades\\Mail;",
          "11: use stdClass;",
          "12: use Tymon\\JWTAuth\\Exceptions\\JWTException;",
          "13: use Uasoft\\Badaso\\Exceptions\\SingleException;",
          "",
          "[Removed Lines]",
          "10: use PHPOpenSourceSaver\\JWTAuth\\Contracts\\Providers\\Auth;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/Database/DatabaseUpdater.php||src/Database/DatabaseUpdater.php": [
          "File: src/Database/DatabaseUpdater.php -> src/Database/DatabaseUpdater.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: namespace Uasoft\\Badaso\\Database;",
          "6: use Doctrine\\DBAL\\Schema\\SchemaException;",
          "7: use Doctrine\\DBAL\\Schema\\TableDiff;",
          "8: use Uasoft\\Badaso\\Database\\Schema\\SchemaManager;",
          "",
          "[Removed Lines]",
          "5: use Doctrine\\DBAL\\Schema\\Column;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "301:                     'schema_type' => 'integer',",
          "302:                     'details' => json_encode((object) []),",
          "303:                     'example' => 1,",
          "305:                 ],",
          "306:                 [",
          "307:                     'badaso_type' => 'url',",
          "",
          "[Removed Lines]",
          "304:                     'example_update' => NULL,",
          "",
          "[Added Lines]",
          "304:                     'example_update' => null,",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "393:                     'example' => \"['https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png','https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png']\",",
          "394:                     'example_update' => [],",
          "395:                 ],",
          "403:             ];",
          "404:     }",
          "",
          "[Removed Lines]",
          "396:             [",
          "397:                 'badaso_type' => 'upload_file_multiple',",
          "398:                 'schema_type' => 'string',",
          "399:                 'details' => json_encode((object) []),",
          "400:                 'example' => \"[\\'https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png\\',\\'https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png\\']\",",
          "401:                 'example_update' => \"[]\",",
          "402:             ],",
          "",
          "[Added Lines]",
          "396:                 [",
          "397:                     'badaso_type' => 'upload_file_multiple',",
          "398:                     'schema_type' => 'string',",
          "399:                     'details' => json_encode((object) []),",
          "400:                     'example' => \"[\\'https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png\\',\\'https://badaso-web.s3-ap-southeast-1.amazonaws.com/files/shares/1619582634819_badaso.png\\']\",",
          "401:                     'example_update' => '[]',",
          "402:                 ],",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "439:         $table_names = [];",
          "440:         for ($index = 1; $index <= $max_count_table_generate; $index++) {",
          "441:             $table_name = \"{$this->TABLE_TEST_EMPTY_VALUE_PREFIX}{$index}\";",
          "443:                 Schema::create($table_name, function (Blueprint $table) use ($index, $table_names) {",
          "444:                     $table->id();",
          "",
          "[Removed Lines]",
          "442:             if (!Schema::hasTable($table_name)) {",
          "",
          "[Added Lines]",
          "442:             if (! Schema::hasTable($table_name)) {",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1653:                 }",
          "1654:                 PHP;",
          "1655:                 $model_path = app_path(\"Models/$model_file_name\");",
          "1657:                     file_put_contents($model_path, $model_body);",
          "1658:                 }",
          "",
          "[Removed Lines]",
          "1656:                 if (!file_exists($model_path)) {",
          "",
          "[Added Lines]",
          "1656:                 if (! file_exists($model_path)) {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1674:             $controller_data = [];",
          "1675:             if (rand(0, 1)) {",
          "1678:                 $controller_file_name = \"{$controller_name}.php\";",
          "1679:                 $controller_body = <<<PHP",
          "1680:                 <?php",
          "",
          "[Removed Lines]",
          "1677:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)) . 'Controller';",
          "",
          "[Added Lines]",
          "1677:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)).'Controller';",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1683:                 class {$controller_name} extends \\Uasoft\\Badaso\\Controllers\\BadasoBaseController {}",
          "1684:                 PHP;",
          "1685:                 $controller_path = app_path(\"/Http/Controllers/$controller_file_name\");",
          "1687:                     file_put_contents($controller_path, $controller_body);",
          "1688:                 }",
          "",
          "[Removed Lines]",
          "1686:                 if (!file_exists($controller_path)) {",
          "",
          "[Added Lines]",
          "1686:                 if (! file_exists($controller_path)) {",
          "",
          "---------------"
        ]
      }
    }
  ]
}