{
  "cve_id": "CVE-2022-41711",
  "cve_desc": "Badaso version 2.6.0 allows an unauthenticated remote attacker to execute arbitrary code remotely on the server. This is possible because the application does not properly validate the data uploaded by users.",
  "repo": "uasoft-indonesia/badaso",
  "patch_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
  "patch_info": {
    "commit_hash": "22250eca7c364d991ce9e0a723941eae4889d6f9",
    "repo": "uasoft-indonesia/badaso",
    "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/22250eca7c364d991ce9e0a723941eae4889d6f9",
    "files": [
      "src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue"
    ],
    "message": "Merge pull request #807 from uasoft-indonesia/bugfix/v2/filter-mimeType\n\nBugfix[v2] add filter mimeType",
    "before_after_code_files": [
      "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue",
      "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue",
      "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue",
      "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue"
    ]
  },
  "patch_diff": {
    "src/resources/js/components/BadasoUploadFile.vue||src/resources/js/components/BadasoUploadFile.vue": [
      "File: src/resources/js/components/BadasoUploadFile.vue -> src/resources/js/components/BadasoUploadFile.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "336:           });",
      "337:           return;",
      "338:         }",
      "340:         this.uploadFile(files[0]);",
      "341:       }",
      "342:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "339:         if (!this.availableMimetypes.file.validMime.includes(files[0].type)) {",
      "340:           this.$vs.notify({",
      "341:             title: this.$t(\"alert.danger\"),",
      "342:             text: \"File type not allowed\",",
      "343:             color: \"danger\",",
      "344:           });",
      "345:           return;",
      "346:         }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadFileMultiple.vue||src/resources/js/components/BadasoUploadFileMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadFileMultiple.vue -> src/resources/js/components/BadasoUploadFileMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "367:             });",
      "368:             return;",
      "369:           }",
      "371:           this.uploadFile(file);",
      "372:         }",
      "373:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "370:           if (!this.availableMimetypes.file.validMime.includes(file.type)) {",
      "371:             this.$vs.notify({",
      "372:               title: this.$t(\"alert.danger\"),",
      "373:               text: \"File type not allowed\",",
      "374:               color: \"danger\",",
      "375:             });",
      "376:             return;",
      "377:           }",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImage.vue||src/resources/js/components/BadasoUploadImage.vue": [
      "File: src/resources/js/components/BadasoUploadImage.vue -> src/resources/js/components/BadasoUploadImage.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "380:           });",
      "381:           return;",
      "382:         }",
      "384:         this.uploadImage(files[0]);",
      "385:       }",
      "386:     },",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "383:         if (!this.availableMimetypes.image.validMime.includes(files[0].type)){",
      "384:           this.$vs.notify({",
      "385:             title: this.$t(\"alert.danger\"),",
      "386:             text: \"File type not allowed\",",
      "387:             color: \"danger\",",
      "388:           });",
      "389:           return;",
      "390:         }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "421:     uploadImage(file) {",
      "422:       const files = new FormData();",
      "423:       files.append(\"upload\", file);",
      "425:       files.append(\"working_dir\", this.getActiveFolder);",
      "426:       this.$api.badasoFile",
      "427:         .uploadUsingLfm(files)",
      "",
      "[Removed Lines]",
      "424:       files.append(\"type\", \"image\");",
      "",
      "[Added Lines]",
      "431:       files.append(\"type\", file.type);",
      "",
      "---------------"
    ],
    "src/resources/js/components/BadasoUploadImageMultiple.vue||src/resources/js/components/BadasoUploadImageMultiple.vue": [
      "File: src/resources/js/components/BadasoUploadImageMultiple.vue -> src/resources/js/components/BadasoUploadImageMultiple.vue",
      "--- Hunk 1 ---",
      "[Context before]",
      "395:             });",
      "396:             return;",
      "397:           }",
      "399:           this.uploadImage(file);",
      "400:         }",
      "401:       }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398:           if (!this.availableMimetypes.image.validMime.includes(file.type)) {",
      "399:             this.$vs.notify({",
      "400:               title: this.$t(\"alert.danger\"),",
      "401:               text: \"File type not allowed\",",
      "402:               color: \"danger\",",
      "403:             });",
      "404:             return;",
      "405:           }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "bfdbd08ea3ae4f54b3684649199b0a4172a1d3a2",
      "candidate_info": {
        "commit_hash": "bfdbd08ea3ae4f54b3684649199b0a4172a1d3a2",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/bfdbd08ea3ae4f54b3684649199b0a4172a1d3a2",
        "files": [
          "src/Controllers/BadasoAuthController.php",
          "src/resources/js/pages/auth/login.vue"
        ],
        "message": "bugfix user verification",
        "before_after_code_files": [
          "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php",
          "src/resources/js/pages/auth/login.vue||src/resources/js/pages/auth/login.vue"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/BadasoAuthController.php||src/Controllers/BadasoAuthController.php": [
          "File: src/Controllers/BadasoAuthController.php -> src/Controllers/BadasoAuthController.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "58:             if ($should_verify_email) {",
          "59:                 $user = auth()->user();",
          "60:                 if (is_null($user->email_verified_at)) {",
          "62:                 }",
          "63:             }",
          "",
          "[Removed Lines]",
          "61:                     return ApiResponse::failed();",
          "",
          "[Added Lines]",
          "61:                     $token = rand(111111, 999999);",
          "62:                     $token_lifetime = env('VERIFICATION_TOKEN_LIFETIME', 5);",
          "63:                     $expired_token = date('Y-m-d H:i:s', strtotime(\"+$token_lifetime minutes\", strtotime(date('Y-m-d H:i:s'))));",
          "64:                     $data = [",
          "65:                         'user_id'            => $user->id,",
          "66:                         'verification_token' => $token,",
          "67:                         'expired_at'         => $expired_token,",
          "68:                         'count_incorrect'    => 0,",
          "69:                     ];",
          "71:                     UserVerification::firstOrCreate($data);",
          "73:                     $this->sendVerificationToken(['user' => $user, 'token' => $token]);",
          "74:                     return ApiResponse::success();",
          "",
          "---------------"
        ],
        "src/resources/js/pages/auth/login.vue||src/resources/js/pages/auth/login.vue": [
          "File: src/resources/js/pages/auth/login.vue -> src/resources/js/pages/auth/login.vue",
          "--- Hunk 1 ---",
          "[Context before]",
          "119:         })",
          "120:         .then((response) => {",
          "121:           this.$closeLoader();",
          "123:             this.$router.push({ name: \"Home\" });",
          "124:           } else {",
          "125:             this.$router.push({",
          "",
          "[Removed Lines]",
          "122:           if (response.data.accessToken) {",
          "",
          "[Added Lines]",
          "122:           if (response.hasOwnProperty('data')) {",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "f19030d57bb1ceb97c6351d8006fd641438ee8d4",
      "candidate_info": {
        "commit_hash": "f19030d57bb1ceb97c6351d8006fd641438ee8d4",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/f19030d57bb1ceb97c6351d8006fd641438ee8d4",
        "files": [
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "250:         $table_names = [];",
          "251:         for ($index = 1; $index <= $max_count_table_generate; $index++) {",
          "252:             $table_name = \"{$this->TABLE_TEST_PREFIX}{$index}\";",
          "254:                 Schema::create($table_name, function (Blueprint $table) use ($index, $table_names) {",
          "255:                     $table->id();",
          "",
          "[Removed Lines]",
          "253:             if (!Schema::hasTable($table_name)) {",
          "",
          "[Added Lines]",
          "253:             if (! Schema::hasTable($table_name)) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "443:                 }",
          "444:                 PHP;",
          "445:                 $model_path = app_path(\"Models/$model_file_name\");",
          "447:                     file_put_contents($model_path, $model_body);",
          "448:                 }",
          "",
          "[Removed Lines]",
          "446:                 if (!file_exists($model_path)) {",
          "",
          "[Added Lines]",
          "446:                 if (! file_exists($model_path)) {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "464:             $controller_data = [];",
          "465:             if (rand(0, 1)) {",
          "468:                 $controller_file_name = \"{$controller_name}.php\";",
          "469:                 $controller_body = <<<PHP",
          "470:                 <?php",
          "",
          "[Removed Lines]",
          "467:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)) . 'Controller';",
          "",
          "[Added Lines]",
          "467:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)).'Controller';",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "473:                 class {$controller_name} extends \\Uasoft\\Badaso\\Controllers\\BadasoBaseController {}",
          "474:                 PHP;",
          "475:                 $controller_path = app_path(\"/Http/Controllers/$controller_file_name\");",
          "477:                     file_put_contents($controller_path, $controller_body);",
          "478:                 }",
          "",
          "[Removed Lines]",
          "476:                 if (!file_exists($controller_path)) {",
          "",
          "[Added Lines]",
          "476:                 if (! file_exists($controller_path)) {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "551:         $table_1 = [",
          "552:             'table' => $first_table,",
          "557:                     'id' => 'id',",
          "558:                     'fieldName' => 'id',",
          "559:                     'fieldType' => 'bigint',",
          "561:                     'fieldNull' => false,",
          "562:                     'fieldAttribute' => true,",
          "563:                     'fieldIncrement' => true,",
          "564:                     'fieldIndex' => 'primary',",
          "566:                     'undeletable' => true,",
          "567:                 ],",
          "570:                     'id' => '8b01b738-377b-4782-898f-c4c46722bf23',",
          "571:                     'fieldName' => 'field1',",
          "572:                     'fieldType' => 'text',",
          "574:                     'fieldNull' => false,",
          "575:                     'fieldAttribute' => false,",
          "576:                     'fieldIncrement' => false,",
          "578:                     'fieldDefault' => '',",
          "579:                 ],",
          "582:                     'fieldName' => 'created_at',",
          "583:                     'fieldType' => 'timestamp',",
          "585:                     'fieldNull' => true,",
          "586:                     'fieldAttribute' => false,",
          "587:                     'fieldIncrement' => false,",
          "590:                     'undeletable' => true,",
          "591:                     'indexes' => true,",
          "592:                 ],",
          "595:                     'fieldName' => 'updated_at',",
          "596:                     'fieldType' => 'timestamp',",
          "598:                     'fieldNull' => true,",
          "599:                     'fieldAttribute' => false,",
          "600:                     'fieldIncrement' => false,",
          "603:                     'undeletable' => true,",
          "604:                 ],",
          "605:             ],",
          "608:         ];",
          "609:         $table_2 = [",
          "610:             'table' => $second_table,",
          "",
          "[Removed Lines]",
          "553:             'rows' =>",
          "554:             [",
          "555:                 0 =>",
          "556:                 [",
          "560:                     'fieldLength' => NULL,",
          "565:                     'fieldDefault' => NULL,",
          "568:                 1 =>",
          "569:                 [",
          "573:                     'fieldLength' => NULL,",
          "577:                     'fieldIndex' => NULL,",
          "580:                 2 =>",
          "581:                 [",
          "584:                     'fieldLength' => NULL,",
          "588:                     'fieldIndex' => NULL,",
          "589:                     'fieldDefault' => NULL,",
          "593:                 3 =>",
          "594:                 [",
          "597:                     'fieldLength' => NULL,",
          "601:                     'fieldIndex' => NULL,",
          "602:                     'fieldDefault' => NULL,",
          "606:             'relations' =>",
          "607:             [],",
          "",
          "[Added Lines]",
          "553:             'rows' => [",
          "554:                 0 => [",
          "558:                     'fieldLength' => null,",
          "563:                     'fieldDefault' => null,",
          "566:                 1 => [",
          "570:                     'fieldLength' => null,",
          "574:                     'fieldIndex' => null,",
          "577:                 2 => [",
          "580:                     'fieldLength' => null,",
          "584:                     'fieldIndex' => null,",
          "585:                     'fieldDefault' => null,",
          "589:                 3 => [",
          "592:                     'fieldLength' => null,",
          "596:                     'fieldIndex' => null,",
          "597:                     'fieldDefault' => null,",
          "601:             'relations' => [],",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "613:                     'id' => 'id',",
          "614:                     'fieldName' => 'id',",
          "615:                     'fieldType' => 'bigint',",
          "617:                     'fieldNull' => false,",
          "618:                     'fieldAttribute' => true,",
          "619:                     'fieldIncrement' => true,",
          "620:                     'fieldIndex' => 'primary',",
          "622:                     'undeletable' => true,",
          "623:                 ],",
          "624:                 1 => [",
          "625:                     'id' => 'd6dfe842-9e57-4b2e-ae2a-4e2e8fb5d5ab',",
          "626:                     'fieldName' => 'id_relation1_field1',",
          "627:                     'fieldType' => 'text',",
          "629:                     'fieldNull' => false,",
          "630:                     'fieldAttribute' => false,",
          "631:                     'fieldIncrement' => false,",
          "633:                     'fieldDefault' => '',",
          "634:                 ],",
          "635:                 2 => [",
          "636:                     'id' => 'a9f49e8e-ad45-441c-9839-df506f8bfaf2',",
          "637:                     'fieldName' => 'id_relation2_field1',",
          "638:                     'fieldType' => 'text',",
          "640:                     'fieldNull' => false,",
          "641:                     'fieldAttribute' => false,",
          "642:                     'fieldIncrement' => false,",
          "644:                     'fieldDefault' => '',",
          "645:                 ],",
          "646:                 3 => [",
          "647:                     'fieldName' => 'created_at',",
          "648:                     'fieldType' => 'timestamp',",
          "650:                     'fieldNull' => true,",
          "651:                     'fieldAttribute' => false,",
          "652:                     'fieldIncrement' => false,",
          "655:                     'undeletable' => true,",
          "656:                     'indexes' => true,",
          "657:                 ],",
          "658:                 4 => [",
          "659:                     'fieldName' => 'updated_at',",
          "660:                     'fieldType' => 'timestamp',",
          "662:                     'fieldNull' => true,",
          "663:                     'fieldAttribute' => false,",
          "664:                     'fieldIncrement' => false,",
          "667:                     'undeletable' => true,",
          "668:                 ],",
          "669:             ],",
          "",
          "[Removed Lines]",
          "616:                     'fieldLength' => NULL,",
          "621:                     'fieldDefault' => NULL,",
          "628:                     'fieldLength' => NULL,",
          "632:                     'fieldIndex' => NULL,",
          "639:                     'fieldLength' => NULL,",
          "643:                     'fieldIndex' => NULL,",
          "649:                     'fieldLength' => NULL,",
          "653:                     'fieldIndex' => NULL,",
          "654:                     'fieldDefault' => NULL,",
          "661:                     'fieldLength' => NULL,",
          "665:                     'fieldIndex' => NULL,",
          "666:                     'fieldDefault' => NULL,",
          "",
          "[Added Lines]",
          "610:                     'fieldLength' => null,",
          "615:                     'fieldDefault' => null,",
          "622:                     'fieldLength' => null,",
          "626:                     'fieldIndex' => null,",
          "633:                     'fieldLength' => null,",
          "637:                     'fieldIndex' => null,",
          "643:                     'fieldLength' => null,",
          "647:                     'fieldIndex' => null,",
          "648:                     'fieldDefault' => null,",
          "655:                     'fieldLength' => null,",
          "659:                     'fieldIndex' => null,",
          "660:                     'fieldDefault' => null,",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "895:             foreach ($list_table as $key_add_table => $value_add_table) {",
          "896:                 if (in_array($value_add_table, $value_response_crud_table)) {",
          "897:                     $ids_list_table[$key_add_table] = [",
          "899:                     ];",
          "900:                     if ($value_add_table == $list_table[0]) {",
          "901:                         foreach ($add_fill_table_1 as $key => $request_data_fill_crud_table_1) {",
          "903:                             $response->assertSuccessful();",
          "904:                             $response_table_1 = $response['data'];",
          "905:                             foreach ($fill_table_1 as $key => $value) {",
          "",
          "[Removed Lines]",
          "898:                         \"id\" => $value_response_crud_table['crudData']['id']",
          "902:                             $response = CallHelperTest::withAuthorizeBearer($this)->json('POST', CallHelperTest::getUrlApiV1Prefix(\"/entities/multiple-table-1/add\"), $request_data_fill_crud_table_1);",
          "",
          "[Added Lines]",
          "892:                         'id' => $value_response_crud_table['crudData']['id'],",
          "896:                             $response = CallHelperTest::withAuthorizeBearer($this)->json('POST', CallHelperTest::getUrlApiV1Prefix('/entities/multiple-table-1/add'), $request_data_fill_crud_table_1);",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "913:             }",
          "914:         }",
          "919:         $response->assertSuccessful();",
          "920:         $response_table_2 = $response['data'];",
          "921:         foreach ($response_table_2 as $key => $value) {",
          "",
          "[Removed Lines]",
          "918:         $response = CallHelperTest::withAuthorizeBearer($this)->json('POST', CallHelperTest::getUrlApiV1Prefix(\"/entities/multiple-table-2/add\"), $add_fill_table_2);",
          "",
          "[Added Lines]",
          "911:         $response = CallHelperTest::withAuthorizeBearer($this)->json('POST', CallHelperTest::getUrlApiV1Prefix('/entities/multiple-table-2/add'), $add_fill_table_2);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "936:         foreach ($list_table as $key => $request_data_table) {",
          "938:             $response->assertSuccessful();",
          "939:         }",
          "940:     }",
          "941:     public function testAddEditEntityCrudManagement()",
          "942:     {",
          "943:         $tables = CallHelperTest::getCache($this->KEY_LIST_CREATE_TABLES);",
          "",
          "[Removed Lines]",
          "937:             $response = CallHelperTest::withAuthorizeBearer($this)->json('DELETE', CallHelperTest::getUrlApiV1Prefix('/database/delete'), [\"table\" => $request_data_table]);",
          "",
          "[Added Lines]",
          "930:             $response = CallHelperTest::withAuthorizeBearer($this)->json('DELETE', CallHelperTest::getUrlApiV1Prefix('/database/delete'), ['table' => $request_data_table]);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1182:                 }",
          "1183:                 PHP;",
          "1184:                 $model_path = app_path(\"Models/$model_file_name\");",
          "1186:                     file_put_contents($model_path, $model_body);",
          "1187:                 }",
          "",
          "[Removed Lines]",
          "1185:                 if (!file_exists($model_path)) {",
          "",
          "[Added Lines]",
          "1179:                 if (! file_exists($model_path)) {",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1203:             $controller_data = [];",
          "1204:             if (rand(0, 1)) {",
          "1207:                 $controller_file_name = \"{$controller_name}.php\";",
          "1208:                 $controller_body = <<<PHP",
          "1209:                 <?php",
          "",
          "[Removed Lines]",
          "1206:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)) . 'Controller';",
          "",
          "[Added Lines]",
          "1200:                 $controller_name = str_replace([' ', '_'], '', ucwords($table_name)).'Controller';",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "1212:                 class {$controller_name} extends \\Uasoft\\Badaso\\Controllers\\BadasoBaseController {}",
          "1213:                 PHP;",
          "1214:                 $controller_path = app_path(\"/Http/Controllers/$controller_file_name\");",
          "1216:                     file_put_contents($controller_path, $controller_body);",
          "1217:                 }",
          "",
          "[Removed Lines]",
          "1215:                 if (!file_exists($controller_path)) {",
          "",
          "[Added Lines]",
          "1209:                 if (! file_exists($controller_path)) {",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "1232:             $request_body = [",
          "1233:                 'name' =>  $table_name,",
          "1234:                 'slug' =>  $table_name,",
          "1237:                 'icon' =>  'add',",
          "1238:                 'modelName' =>  $model,",
          "1239:                 'policyName' =>  '',",
          "",
          "[Removed Lines]",
          "1235:                 'displayNameSingular' =>  $table_label . '(update)',",
          "1236:                 'displayNamePlural' =>  $table_label . '(update)',",
          "",
          "[Added Lines]",
          "1229:                 'displayNameSingular' =>  $table_label.'(update)',",
          "1230:                 'displayNamePlural' =>  $table_label.'(update)',",
          "",
          "---------------",
          "--- Hunk 14 ---",
          "[Context before]",
          "1319:             $controller_name = \"{$name}Controller.php\";",
          "1321:             if (file_exists($controller_path)) {",
          "1322:                 unlink($controller_path);",
          "1323:             }",
          "1326:             $model_name = \"{$name}.php\";",
          "1328:             if (file_exists($model_path)) {",
          "1329:                 unlink($model_path);",
          "1330:             }",
          "",
          "[Removed Lines]",
          "1320:             $controller_path = app_path('Http/Controllers/' . $controller_name);",
          "1327:             $model_path = app_path('Models/' . $model_name);",
          "",
          "[Added Lines]",
          "1314:             $controller_path = app_path('Http/Controllers/'.$controller_name);",
          "1321:             $model_path = app_path('Models/'.$model_name);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "817b185aae6bc32abfa6d8c711bfcdf1aa837413",
      "candidate_info": {
        "commit_hash": "817b185aae6bc32abfa6d8c711bfcdf1aa837413",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/817b185aae6bc32abfa6d8c711bfcdf1aa837413",
        "files": [
          "src/Helpers/GetData.php"
        ],
        "message": "Apply fixes from StyleCI",
        "before_after_code_files": [
          "src/Helpers/GetData.php||src/Helpers/GetData.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Helpers/GetData.php||src/Helpers/GetData.php": [
          "File: src/Helpers/GetData.php -> src/Helpers/GetData.php"
        ]
      }
    },
    {
      "candidate_hash": "23a3e55f382a984cf239e3f6fd9e1079b7f0d566",
      "candidate_info": {
        "commit_hash": "23a3e55f382a984cf239e3f6fd9e1079b7f0d566",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/23a3e55f382a984cf239e3f6fd9e1079b7f0d566",
        "files": [
          "tests/Feature/BadasoApiCrudManagementTest.php"
        ],
        "message": "commit",
        "before_after_code_files": [
          "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "tests/Feature/BadasoApiCrudManagementTest.php||tests/Feature/BadasoApiCrudManagementTest.php": [
          "File: tests/Feature/BadasoApiCrudManagementTest.php -> tests/Feature/BadasoApiCrudManagementTest.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "1753:         $tables = CallHelperTest::getCache($this->KEY_LIST_CREATE_EMPTY_TABLES);",
          "1754:         $first_table = $tables[0];",
          "1756:         $response_read_table_entities = CallHelperTest::getCache($this->KEY_DATA_RESPONSE_READ_EMPTY_TABLE_ENTITY);",
          "1757:         $fields = [];",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1755:         dd($first_table);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "7d09118b32c5f1eaf6981f38458d6885a03d6d8b",
      "candidate_info": {
        "commit_hash": "7d09118b32c5f1eaf6981f38458d6885a03d6d8b",
        "repo": "uasoft-indonesia/badaso",
        "commit_url": "https://github.com/uasoft-indonesia/badaso/commit/7d09118b32c5f1eaf6981f38458d6885a03d6d8b",
        "files": [
          "src/Controllers/Controller.php"
        ],
        "message": "change validate for edit",
        "before_after_code_files": [
          "src/Controllers/Controller.php||src/Controllers/Controller.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/uasoft-indonesia/badaso/pull/1086"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/Controllers/Controller.php||src/Controllers/Controller.php": [
          "File: src/Controllers/Controller.php -> src/Controllers/Controller.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "75:         $data_rows = collect($data_type->dataRows)->where('add', 1)->all();",
          "76:         $rules = [];",
          "77:         foreach ($data_rows as $row) {",
          "78:             if ($row->required == 1) {",
          "79:                 $rules[$row->field][] = 'required';",
          "80:                 if ($row->type == 'relation') {",
          "81:                     $relation_detail = [];",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "78:             if($row->edit == 1){",
          "79:                 $row->required = 0;",
          "80:             }",
          "",
          "---------------"
        ]
      }
    }
  ]
}