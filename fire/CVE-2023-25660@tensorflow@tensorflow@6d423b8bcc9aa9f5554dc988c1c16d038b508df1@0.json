{
  "cve_id": "CVE-2023-25660",
  "cve_desc": "TensorFlow is an open source platform for machine learning. Prior to versions 2.12.0 and 2.11.1, when the parameter `summarize` of `tf.raw_ops.Print` is zero, the new method `SummarizeArray<bool>` will reference to a nullptr, leading to a seg fault. A fix is included in TensorFlow version 2.12 and version 2.11.1.\n",
  "repo": "tensorflow/tensorflow",
  "patch_hash": "6d423b8bcc9aa9f5554dc988c1c16d038b508df1",
  "patch_info": {
    "commit_hash": "6d423b8bcc9aa9f5554dc988c1c16d038b508df1",
    "repo": "tensorflow/tensorflow",
    "commit_url": "https://github.com/tensorflow/tensorflow/commit/6d423b8bcc9aa9f5554dc988c1c16d038b508df1",
    "files": [
      "tensorflow/core/framework/tensor.cc"
    ],
    "message": "Quick fix for a vuln in printing empty tensors.\n\nPiperOrigin-RevId: 503308327",
    "before_after_code_files": [
      "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc"
    ]
  },
  "patch_diff": {
    "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc": [
      "File: tensorflow/core/framework/tensor.cc -> tensorflow/core/framework/tensor.cc",
      "--- Hunk 1 ---",
      "[Context before]",
      "1297: string SummarizeArray<bool>(int64_t limit, int64_t num_elts,",
      "1298:                             const TensorShape& tensor_shape, const char* data,",
      "1299:                             const bool print_v2) {",
      "1302:   auto mutable_data = std::unique_ptr<char[]>(new char[num_elts]);",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1300:   if (data == nullptr) {",
      "1301:     return strings::StrCat(\"\");  // we already print type and shape",
      "1302:   }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "a9c1da2f4efc6d6871c19b4c0ba720eeded652a4",
      "candidate_info": {
        "commit_hash": "a9c1da2f4efc6d6871c19b4c0ba720eeded652a4",
        "repo": "tensorflow/tensorflow",
        "commit_url": "https://github.com/tensorflow/tensorflow/commit/a9c1da2f4efc6d6871c19b4c0ba720eeded652a4",
        "files": [
          "tensorflow/core/framework/tensor.cc"
        ],
        "message": "Quick fix for a vuln in printing empty tensors.\n\nPiperOrigin-RevId: 503308327",
        "before_after_code_files": [
          "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "diff_branch_same_aad": 1,
        "olp_code_files": {
          "patch": [
            "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc"
          ],
          "candidate": [
            "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc"
          ]
        }
      },
      "candidate_diff": {
        "tensorflow/core/framework/tensor.cc||tensorflow/core/framework/tensor.cc": [
          "File: tensorflow/core/framework/tensor.cc -> tensorflow/core/framework/tensor.cc",
          "--- Hunk 1 ---",
          "[Context before]",
          "1224: string SummarizeArray<bool>(int64_t limit, int64_t num_elts,",
          "1225:                             const TensorShape& tensor_shape, const char* data,",
          "1226:                             const bool print_v2) {",
          "1229:   auto mutable_data = std::unique_ptr<char[]>(new char[num_elts]);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1227:   if (data == nullptr) {",
          "1228:     return strings::StrCat(\"\");  // we already print type and shape",
          "1229:   }",
          "",
          "---------------"
        ]
      }
    }
  ]
}