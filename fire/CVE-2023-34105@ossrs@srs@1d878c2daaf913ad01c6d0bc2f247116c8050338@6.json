{
  "cve_id": "CVE-2023-34105",
  "cve_desc": "SRS is a real-time video server supporting RTMP, WebRTC, HLS, HTTP-FLV, SRT, MPEG-DASH, and GB28181. Prior to versions 5.0.157, 5.0-b1, and 6.0.48, SRS's `api-server` server is vulnerable to a drive-by command injection. An attacker may send a request to the `/api/v1/snapshots` endpoint containing any commands to be executed as part of the body of the POST request. This issue may lead to Remote Code Execution (RCE). Versions 5.0.157, 5.0-b1, and 6.0.48 contain a fix.",
  "repo": "ossrs/srs",
  "patch_hash": "1d878c2daaf913ad01c6d0bc2f247116c8050338",
  "patch_info": {
    "commit_hash": "1d878c2daaf913ad01c6d0bc2f247116c8050338",
    "repo": "ossrs/srs",
    "commit_url": "https://github.com/ossrs/srs/commit/1d878c2daaf913ad01c6d0bc2f247116c8050338",
    "files": [
      "trunk/doc/CHANGELOG.md",
      "trunk/research/api-server/server.go",
      "trunk/src/core/srs_core_version5.hpp",
      "trunk/src/core/srs_core_version6.hpp"
    ],
    "message": "Fix command injection in api-server for HTTP callback. v5.0.157, v6.0.48",
    "before_after_code_files": [
      "trunk/research/api-server/server.go||trunk/research/api-server/server.go",
      "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
      "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
    ]
  },
  "patch_diff": {
    "trunk/research/api-server/server.go||trunk/research/api-server/server.go": [
      "File: trunk/research/api-server/server.go -> trunk/research/api-server/server.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "400:  normalPicPath := path.Join(outputPicDir, fmt.Sprintf(\"%v\", v.Stream)+\"-%03d.png\")",
      "401:  bestPng := path.Join(outputPicDir, fmt.Sprintf(\"%v-best.png\", v.Stream))",
      "405:  timeoutCtx, _ := context.WithTimeout(v.cancelCtx, v.timeout)",
      "407:  if err = cmd.Run(); err != nil {",
      "408:   log.Println(fmt.Sprintf(\"run snapshot %v cmd failed, err is %v\", v.Tag(), err))",
      "409:   return",
      "",
      "[Removed Lines]",
      "403:  param := fmt.Sprintf(\"%v -i %v -vf fps=1 -vcodec png -f image2 -an -y -vframes %v -y %v\", ffmpegPath, inputUrl, v.vframes, normalPicPath)",
      "404:  log.Println(fmt.Sprintf(\"start snapshot, cmd param=%v\", param))",
      "406:  cmd := exec.CommandContext(timeoutCtx, \"/bin/bash\", \"-c\", param)",
      "",
      "[Added Lines]",
      "403:  params := []string{",
      "404:   \"-i\", inputUrl,",
      "405:   \"-vf\", \"fps=1\",",
      "406:   \"-vcodec\", \"png\",",
      "407:   \"-f\", \"image2\",",
      "408:   \"-an\",",
      "409:   \"-vframes\", strconv.Itoa(v.vframes),",
      "410:   \"-y\", normalPicPath,",
      "411:  }",
      "412:  log.Println(fmt.Sprintf(\"start snapshot, cmd param=%v %v\", ffmpegPath, strings.Join(params, \" \")))",
      "414:  cmd := exec.CommandContext(timeoutCtx, ffmpegPath, params...)",
      "",
      "---------------"
    ],
    "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
      "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
      "--- Hunk 1 ---",
      "[Context before]",
      "10: #define VERSION_MAJOR       5",
      "11: #define VERSION_MINOR       0",
      "14: #endif",
      "",
      "[Removed Lines]",
      "12: #define VERSION_REVISION    156",
      "",
      "[Added Lines]",
      "12: #define VERSION_REVISION    157",
      "",
      "---------------"
    ],
    "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
      "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
      "--- Hunk 1 ---",
      "[Context before]",
      "10: #define VERSION_MAJOR       6",
      "11: #define VERSION_MINOR       0",
      "14: #endif",
      "",
      "[Removed Lines]",
      "12: #define VERSION_REVISION    47",
      "",
      "[Added Lines]",
      "12: #define VERSION_REVISION    48",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "40e5962bec1ccaae829e6e21a894ff2f02bdc2e5",
      "candidate_info": {
        "commit_hash": "40e5962bec1ccaae829e6e21a894ff2f02bdc2e5",
        "repo": "ossrs/srs",
        "commit_url": "https://github.com/ossrs/srs/commit/40e5962bec1ccaae829e6e21a894ff2f02bdc2e5",
        "files": [
          "trunk/conf/full.conf",
          "trunk/doc/CHANGELOG.md",
          "trunk/src/app/srs_app_config.cpp",
          "trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp",
          "trunk/src/utest/srs_utest_config.cpp"
        ],
        "message": "SRT: Fix the missing config mss. v5.0.188 v6.0.88 (#3825)\n\n---------\n\nCo-authored-by: john <hondaxiao@tencent.com>",
        "before_after_code_files": [
          "trunk/conf/full.conf||trunk/conf/full.conf",
          "trunk/src/app/srs_app_config.cpp||trunk/src/app/srs_app_config.cpp",
          "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp",
          "trunk/src/utest/srs_utest_config.cpp||trunk/src/utest/srs_utest_config.cpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ],
          "candidate": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ]
        }
      },
      "candidate_diff": {
        "trunk/conf/full.conf||trunk/conf/full.conf": [
          "File: trunk/conf/full.conf -> trunk/conf/full.conf",
          "--- Hunk 1 ---",
          "[Context before]",
          "316:     # Overwrite by env SRS_SRT_SERVER_MAXBW",
          "317:     # default: -1",
          "318:     maxbw 1000000000;",
          "319:     # The timeout time of the SRT connection on the sender side in ms. When SRT connects to a peer costs time",
          "320:     # more than this config, it will be close.",
          "321:     # Overwrite by env SRS_SRT_SERVER_CONNECT_TIMEOUT",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "319:     # Maximum Segment Size. Used for buffer allocation and rate calculation using packet counter assuming fully",
          "320:     # filled packets. Each party can set its own MSS value independently. During a handshake the parties exchange",
          "321:     # MSS values, and the lowest is used.",
          "322:     # Overwrite by env SRS_SRT_SERVER_MSS",
          "323:     # default: 1500",
          "324:     mss 1500;",
          "",
          "---------------"
        ],
        "trunk/src/app/srs_app_config.cpp||trunk/src/app/srs_app_config.cpp": [
          "File: trunk/src/app/srs_app_config.cpp -> trunk/src/app/srs_app_config.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "7913: int SrsConfig::get_srto_mss()",
          "7914: {",
          "7917:     static int DEFAULT = 1500;",
          "7918:     SrsConfDirective* conf = root->get(\"srt_server\");",
          "",
          "[Removed Lines]",
          "7915:     SRS_OVERWRITE_BY_ENV_INT(\"srs.srt_server.mms\"); // SRS_SRT_SERVER_MMS",
          "",
          "[Added Lines]",
          "7915:     SRS_OVERWRITE_BY_ENV_INT(\"srs.srt_server.mss\"); // SRS_SRT_SERVER_MSS",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "7920:         return DEFAULT;",
          "7921:     }",
          "7924:     if (!conf || conf->arg0().empty()) {",
          "7925:         return DEFAULT;",
          "7926:     }",
          "",
          "[Removed Lines]",
          "7923:     conf = conf->get(\"mms\");",
          "",
          "[Added Lines]",
          "7923:     conf = conf->get(\"mss\");",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
          "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       5",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    187",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    188",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
          "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       6",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    87",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    88",
          "",
          "---------------"
        ],
        "trunk/src/utest/srs_utest_config.cpp||trunk/src/utest/srs_utest_config.cpp": [
          "File: trunk/src/utest/srs_utest_config.cpp -> trunk/src/utest/srs_utest_config.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "4225:         SrsSetEnvConfig(srto_maxbw, \"SRS_SRT_SERVER_MAXBW\", \"1000000000\");",
          "4226:         EXPECT_EQ(1000000000, conf.get_srto_maxbw());",
          "4229:         EXPECT_EQ(1000, conf.get_srto_mss());",
          "4231:         SrsSetEnvConfig(srto_conntimeout, \"SRS_SRT_SERVER_CONNECT_TIMEOUT\", \"2000\");",
          "",
          "[Removed Lines]",
          "4228:         SrsSetEnvConfig(srto_mss, \"SRS_SRT_SERVER_MMS\", \"1000\");",
          "",
          "[Added Lines]",
          "4228:         SrsSetEnvConfig(srto_mss, \"SRS_SRT_SERVER_MSS\", \"1000\");",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "4a100616fc5bc60f1ac18d8637e83ea8f950dbe9",
      "candidate_info": {
        "commit_hash": "4a100616fc5bc60f1ac18d8637e83ea8f950dbe9",
        "repo": "ossrs/srs",
        "commit_url": "https://github.com/ossrs/srs/commit/4a100616fc5bc60f1ac18d8637e83ea8f950dbe9",
        "files": [
          "trunk/auto/depends.sh",
          "trunk/auto/options.sh",
          "trunk/doc/CHANGELOG.md",
          "trunk/research/players/rtc_player.html",
          "trunk/research/players/rtc_publisher.html",
          "trunk/research/players/srs_bwt.html",
          "trunk/research/players/srs_chat.html",
          "trunk/research/players/srs_gb28181.html",
          "trunk/research/players/srs_player.html",
          "trunk/research/players/srs_player_deprecated.html",
          "trunk/research/players/srs_publisher.html",
          "trunk/research/players/srs_publisher_flash.html",
          "trunk/research/players/vlc.html",
          "trunk/research/players/whep.html",
          "trunk/research/players/whip.html",
          "trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp"
        ],
        "message": "Support build without cache to test if actions fail. v5.0.196 v6.0.96 (#3858)\n\nBy default, caching is enabled during compilation, which means that data\nis cached in Docker. This helps to avoid compiling third-party\ndependency libraries. However, sometimes when updating third-party\nlibraries, it's necessary to disable caching to temporarily verify if\nthe pipeline can succeed. Therefore, a configure option should be added.\nWhen this option is enabled, the compilation cache will not be used, and\nall third-party libraries will be compiled from scratch.\n\n---------\n\nCo-authored-by: winlin <winlinvip@gmail.com>",
        "before_after_code_files": [
          "trunk/auto/depends.sh||trunk/auto/depends.sh",
          "trunk/auto/options.sh||trunk/auto/options.sh",
          "trunk/research/players/rtc_player.html||trunk/research/players/rtc_player.html",
          "trunk/research/players/rtc_publisher.html||trunk/research/players/rtc_publisher.html",
          "trunk/research/players/srs_bwt.html||trunk/research/players/srs_bwt.html",
          "trunk/research/players/srs_chat.html||trunk/research/players/srs_chat.html",
          "trunk/research/players/srs_gb28181.html||trunk/research/players/srs_gb28181.html",
          "trunk/research/players/srs_player.html||trunk/research/players/srs_player.html",
          "trunk/research/players/srs_player_deprecated.html||trunk/research/players/srs_player_deprecated.html",
          "trunk/research/players/srs_publisher.html||trunk/research/players/srs_publisher.html",
          "trunk/research/players/srs_publisher_flash.html||trunk/research/players/srs_publisher_flash.html",
          "trunk/research/players/vlc.html||trunk/research/players/vlc.html",
          "trunk/research/players/whep.html||trunk/research/players/whep.html",
          "trunk/research/players/whip.html||trunk/research/players/whip.html",
          "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ],
          "candidate": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ]
        }
      },
      "candidate_diff": {
        "trunk/auto/depends.sh||trunk/auto/depends.sh": [
          "File: trunk/auto/depends.sh -> trunk/auto/depends.sh",
          "--- Hunk 1 ---",
          "[Context before]",
          "189: #####################################################################################",
          "190: # Use srs-cache from base image. See https://github.com/ossrs/dev-docker/blob/ubuntu20-cache/Dockerfile",
          "191: # Note that the cache for cygwin is not under /usr/local, but copy to objs instead.",
          "193:     SOURCE_DIR=$(ls -d /usr/local/srs-cache/srs/trunk/objs/Platform-SRS${SRS_MAJOR}-* 2>/dev/null|head -n 1)",
          "194:     if [[ -d $SOURCE_DIR ]]; then",
          "195:         TARGET_DIR=${SRS_OBJS}/${SRS_PLATFORM} &&",
          "",
          "[Removed Lines]",
          "192: if [[ -d /usr/local/srs-cache/srs/trunk/objs && $(pwd) != \"/usr/local/srs-cache/srs/trunk\" ]]; then",
          "",
          "[Added Lines]",
          "192: if [[ -d /usr/local/srs-cache/srs/trunk/objs && $(pwd) != \"/usr/local/srs-cache/srs/trunk\" && $SRS_BUILD_CACHE == YES ]]; then",
          "",
          "---------------"
        ],
        "trunk/auto/options.sh||trunk/auto/options.sh": [
          "File: trunk/auto/options.sh -> trunk/auto/options.sh",
          "--- Hunk 1 ---",
          "[Context before]",
          "108: SRS_CROSS_BUILD_HOST=",
          "109: # For cross build, the cross prefix, for example(FFmpeg), --cross-prefix=aarch64-linux-gnu-",
          "110: SRS_CROSS_BUILD_PREFIX=",
          "111: #",
          "112: #####################################################################################",
          "113: # Toolchain for cross-build on Ubuntu for ARM or MIPS.",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "111: # For cache build",
          "112: SRS_BUILD_CACHE=YES",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "448:         --ffmpeg)                       SRS_FFMPEG_TOOL=$(switch2value $value) ;;",
          "449:         --ffmpeg-tool)                  SRS_FFMPEG_TOOL=$(switch2value $value) ;;",
          "452:             echo \"$0: error: invalid option \\\"$option\\\"\"",
          "453:             exit 1",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "453:         # use cache for build.",
          "454:         --build-cache)                  SRS_BUILD_CACHE=YES         ;;",
          "455:         --without-build-cache)          SRS_BUILD_CACHE=NO          ;;",
          "",
          "---------------"
        ],
        "trunk/research/players/rtc_player.html||trunk/research/players/rtc_player.html": [
          "File: trunk/research/players/rtc_player.html -> trunk/research/players/rtc_player.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             <a id=\"srs_index\" class=\"brand\" href=\"https://github.com/ossrs/srs\">SRS</a>",
          "24:             <div class=\"nav-collapse collapse\">",
          "25:                 <ul class=\"nav\">",
          "27:                     <li class=\"active\"><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "28:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "29:                     <li><a id=\"nav_whip\" href=\"whip.html\">WHIP</a></li>",
          "",
          "[Removed Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/rtc_publisher.html||trunk/research/players/rtc_publisher.html": [
          "File: trunk/research/players/rtc_publisher.html -> trunk/research/players/rtc_publisher.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             <a id=\"srs_index\" class=\"brand\" href=\"https://github.com/ossrs/srs\">SRS</a>",
          "24:             <div class=\"nav-collapse collapse\">",
          "25:                 <ul class=\"nav\">",
          "27:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "28:                     <li class=\"active\"><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "29:                     <li><a id=\"nav_whip\" href=\"whip.html\">WHIP</a></li>",
          "",
          "[Removed Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_bwt.html||trunk/research/players/srs_bwt.html": [
          "File: trunk/research/players/srs_bwt.html -> trunk/research/players/srs_bwt.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "22:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "23:             <div class=\"nav-collapse collapse\">",
          "24:                 <ul class=\"nav\">",
          "26:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "27:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "28:                     <li><a id=\"nav_srs_publisher\" href=\"srs_publisher.html\">SRS\u7f16\u7801\u5668</a></li>",
          "",
          "[Removed Lines]",
          "25:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "25:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_chat.html||trunk/research/players/srs_chat.html": [
          "File: trunk/research/players/srs_chat.html -> trunk/research/players/srs_chat.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "21:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "22:             <div class=\"nav-collapse collapse\">",
          "23:                 <ul class=\"nav\">",
          "25:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "26:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "27:                     <li><a id=\"nav_srs_publisher\" href=\"srs_publisher.html\">SRS\u7f16\u7801\u5668</a></li>",
          "",
          "[Removed Lines]",
          "24:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "24:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_gb28181.html||trunk/research/players/srs_gb28181.html": [
          "File: trunk/research/players/srs_gb28181.html -> trunk/research/players/srs_gb28181.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "35:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "36:             <div class=\"nav-collapse collapse\">",
          "37:                 <ul class=\"nav\">",
          "39:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "40:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "41:                     <li><a  href=\"http://ossrs.net/srs.release/releases/app.html\">iOS/Andriod</a></li>",
          "",
          "[Removed Lines]",
          "38:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "38:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_player.html||trunk/research/players/srs_player.html": [
          "File: trunk/research/players/srs_player.html -> trunk/research/players/srs_player.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "19:             <div class=\"nav-collapse collapse\">",
          "20:                 <ul class=\"nav\">",
          "24:                     <li><a id=\"nav_whip\" href=\"whip.html\">WHIP</a></li>",
          "25:                     <li><a id=\"nav_whep\" href=\"whip.html\">WHEP</a></li>",
          "26:                     <li><a  href=\"http://ossrs.net/srs.release/releases/app.html\">iOS/Andriod</a></li>",
          "",
          "[Removed Lines]",
          "21:                     <li class=\"active\"><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "22:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "23:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "",
          "[Added Lines]",
          "21:                     <li class=\"active\"><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "22:                     <!--<li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>-->",
          "23:                     <!--<li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>-->",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "44:     <div id=\"main_content\">",
          "45:         <div id=\"main_info\" class=\"alert alert-info fade in\">",
          "46:             <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\u00d7</button>",
          "48:         </div>",
          "49:         <div class=\"form-inline\">",
          "50:             <div>",
          "51:                 URL:",
          "52:                 <input type=\"text\" id=\"txt_url\" class=\"input-xxlarge\" value=\"\">",
          "54:             </div>",
          "55:             <p></p>",
          "56:             <div>",
          "",
          "[Removed Lines]",
          "47:             <strong><span>Usage:</span></strong> <span>\u8f93\u5165HTTP-FLV/HLS\u5730\u5740\u540e\u70b9\u51fb\u201c\u64ad\u653e\u89c6\u9891\u201d\u5373\u53ef\u64ad\u653e\u89c6\u9891</span>",
          "53:                 <button class=\"btn btn-primary\" id=\"btn_play\">\u64ad\u653e\u89c6\u9891</button>",
          "",
          "[Added Lines]",
          "47:             <strong><span>Usage:</span></strong> <span>Enter the HTTP-FLV/HLS URL and click \"Play\" to start playing the video.</span>",
          "53:                 <button class=\"btn btn-primary\" id=\"btn_play\">Play</button>",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "58:                 <audio id=\"audio_player\" width=\"100%\" autoplay controls></audio>",
          "59:             </div>",
          "60:             <p>",
          "62:             </p>",
          "63:             <div id=\"main_tips\">",
          "64:                 <p></p>",
          "65:                 <p>",
          "67:                     <ul>",
          "72:                     </ul>",
          "73:                 </p>",
          "74:             </div>",
          "",
          "[Removed Lines]",
          "61:                 \u5206\u4eab\uff1a<a href=\"#\" id=\"link_url\" target=\"_blank\">\u8bf7\u53f3\u952e\u62f7\u8d1d\u6b64\u94fe\u63a5</a>",
          "66:                     \u63a8\u8350\u7684\u5176\u4ed6\u64ad\u653e\u5668\uff1a",
          "68:                         <li><a href=\"https://github.com/xqq/mpegts.js\">flv.js</a>\uff0cH5/MSE\u64ad\u653eHTTP-FLV</li>",
          "69:                         <li><a href=\"https://github.com/xqq/mpegts.js\">mpegts.js</a>\uff0cH5/MSE\u64ad\u653eHTTP-TS</li>",
          "70:                         <li><a href=\"https://github.com/video-dev/hls.js/\">hls.js</a>\uff0cH5/MSE\u64ad\u653eHLS</li>",
          "71:                         <li><a href=\"https://github.com/Dash-Industry-Forum/dash.js\">dash.js</a>\uff0cH5/MSE\u64ad\u653eMPEG-DASH</li>",
          "",
          "[Added Lines]",
          "61:                 Share: <a href=\"#\" id=\"link_url\" target=\"_blank\">Please right-click and copy this link.</a>",
          "66:                     Recommended other players:",
          "68:                         <li><a href=\"https://github.com/xqq/mpegts.js\">flv.js</a>, HTML5/MSE for playing HTTP-FLV</li>",
          "69:                         <li><a href=\"https://github.com/xqq/mpegts.js\">mpegts.js</a>, HTML5/MSE for playing HTTP-TS</li>",
          "70:                         <li><a href=\"https://github.com/video-dev/hls.js/\">hls.js</a>, HTML5/MSE for playing HLS</li>",
          "71:                         <li><a href=\"https://github.com/Dash-Industry-Forum/dash.js\">dash.js</a>, HTML5/MSE for playing MPEG-DASH</li>",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "79:         <div id=\"main_flash_alert\" class=\"alert alert-danger fade in hide\">",
          "80:             <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\u00d7</button>",
          "81:             <p>",
          "84:             </p>",
          "85:             <ul>",
          "90:             </ul>",
          "91:             <p>",
          "92:                 \u66f4\u591a\u4fe1\u606f\uff0c\u53c2\u8003<a href=\"https://mp.weixin.qq.com/s/oYn5q4fF9afaged23Ueudg\" target=\"_blank\">\u6ca1\u6709Flash\u5982\u4f55\u505a\u76f4\u64ad\uff1f</a>",
          "",
          "[Removed Lines]",
          "82:                 <a href=\"https://www.adobe.com/products/flashplayer/end-of-life.html\" target=\"_blank\">Flash\u5df2\u6b7b</a>\uff0c",
          "83:                 \u65e0\u6cd5\u64ad\u653eRTMP\u6d41\uff0c\u53ef\u7528ffplay\u6216VLC\u64ad\u653e\u5668\u64ad\u653e\u3002",
          "86:                 <li>\u82e5\u5e0c\u671b\u505a\u4f4e\u5ef6\u8fdf\u76f4\u64ad\uff083-5\u79d2\uff09\uff0c\u53ef\u7528HTTP-FLV\uff0c\u64ad\u653e\u5668\u7528<a href=\"https://github.com/xqq/mpegts.js\">flv.js</a>\uff0cH5/MSE\u64ad\u653eHTTP-FLV</li>",
          "87:                 <li>\u82e5\u5e0c\u671b\u505a\u4f4e\u5ef6\u8fdf\u76f4\u64ad\uff083-5\u79d2\uff09\uff0c\u53ef\u7528HTTP-TS\uff0c\u64ad\u653e\u5668\u7528<a href=\"https://github.com/xqq/mpegts.js\">mpegts.js</a>\uff0cH5/MSE\u64ad\u653eHTTP-TS</li>",
          "88:                 <li>\u82e5\u5bf9\u5ef6\u8fdf\u4e0d\u654f\u611f\uff085-10\u79d2\uff09\uff0c\u8de8\u5e73\u53f0\u6bd4\u8f83\u597d\uff0c\u53ef\u7528HLS\uff0c\u64ad\u653e\u5668\u7528<a href=\"https://github.com/video-dev/hls.js/\">hls.js</a>\uff0cH5/MSE\u64ad\u653eHLS</li>",
          "89:                 <li>\u82e5\u5e0c\u671b\u8d85\u4f4e\u5ef6\u8fdf\uff081\u79d2\u5185\uff09\uff0c\u53ea\u9700\u8981\u652f\u6301\u4e3b\u6d41\u7684\u6d4f\u89c8\u5668\uff0c\u53ef\u7528WebRTC\uff0c\u64ad\u653e\u5668\u7528<a href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "82:                 <a href=\"https://www.adobe.com/products/flashplayer/end-of-life.html\" target=\"_blank\">Flash is dead</a>\uff0c",
          "83:                 Unable to play RTMP streams, you can use ffplay or VLC player to play.",
          "86:                 <li>If you want low-latency live streaming (3-5 seconds), you can use HTTP-FLV with the <a href=\"https://github.com/xqq/mpegts.js\">flv.js</a> player for H5/MSE playback of HTTP-FLV.</li>",
          "87:                 <li>If you want low-latency live streaming (3-5 seconds), you can use HTTP-TS with the <a href=\"https://github.com/xqq/mpegts.js\">mpegts.js</a> player for H5/MSE playback of HTTP-TS.</li>",
          "88:                 <li>If you are not sensitive to latency (5-10 seconds) and want better cross-platform compatibility, you can use HLS with the <a href=\"https://github.com/video-dev/hls.js/\">hls.js</a> player for H5/MSE playback of HLS.</li>",
          "89:                 <li>If you want ultra-low latency (within 1 second) and only need to support mainstream browsers, you can use WebRTC with the <a href=\"rtc_player.html\">RTC player</a>.</li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_player_deprecated.html||trunk/research/players/srs_player_deprecated.html": [
          "File: trunk/research/players/srs_player_deprecated.html -> trunk/research/players/srs_player_deprecated.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "32:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "33:             <div class=\"nav-collapse collapse\">",
          "34:                 <ul class=\"nav\">",
          "36:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "37:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "38:                     <li><a  href=\"http://ossrs.net/srs.release/releases/app.html\">iOS/Andriod</a></li>",
          "",
          "[Removed Lines]",
          "35:                     <li class=\"active\"><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "35:                     <li class=\"active\"><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_publisher.html||trunk/research/players/srs_publisher.html": [
          "File: trunk/research/players/srs_publisher.html -> trunk/research/players/srs_publisher.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "21:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "22:             <div class=\"nav-collapse collapse\">",
          "23:                 <ul class=\"nav\">",
          "25:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "26:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "27:                 </ul>",
          "",
          "[Removed Lines]",
          "24:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "24:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/srs_publisher_flash.html||trunk/research/players/srs_publisher_flash.html": [
          "File: trunk/research/players/srs_publisher_flash.html -> trunk/research/players/srs_publisher_flash.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "19:             <div class=\"nav-collapse collapse\">",
          "20:                 <ul class=\"nav\">",
          "22:                 </ul>",
          "23:             </div>",
          "24:         </div>",
          "",
          "[Removed Lines]",
          "21:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "21:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/vlc.html||trunk/research/players/vlc.html": [
          "File: trunk/research/players/vlc.html -> trunk/research/players/vlc.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:             <a id=\"srs_index\" class=\"brand\" href=\"#\">SRS</a>",
          "19:             <div class=\"nav-collapse collapse\">",
          "20:                 <ul class=\"nav\">",
          "22:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "23:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "24:                     <li><a id=\"nav_srs_publisher\" href=\"srs_publisher.html\">SRS\u7f16\u7801\u5668</a></li>",
          "",
          "[Removed Lines]",
          "21:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "",
          "[Added Lines]",
          "21:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "",
          "---------------"
        ],
        "trunk/research/players/whep.html||trunk/research/players/whep.html": [
          "File: trunk/research/players/whep.html -> trunk/research/players/whep.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             <a id=\"srs_index\" class=\"brand\" href=\"https://github.com/ossrs/srs\">SRS</a>",
          "24:             <div class=\"nav-collapse collapse\">",
          "25:                 <ul class=\"nav\">",
          "29:                     <li><a id=\"nav_whip\" href=\"whip.html\">WHIP</a></li>",
          "30:                     <li class=\"active\"><a id=\"nav_whep\" href=\"whip.html\">WHEP</a></li>",
          "31:                     <li><a  href=\"http://ossrs.net/srs.release/releases/app.html\">iOS/Andriod</a></li>",
          "",
          "[Removed Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "27:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "28:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "",
          "[Added Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "27:                     <!--<li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>-->",
          "28:                     <!--<li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>-->",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "45:     </div>",
          "46: </div>",
          "47: <div class=\"container\">",
          "48:     <div class=\"form-inline\">",
          "49:         URL:",
          "50:         <input type=\"text\" id=\"txt_url\" class=\"input-xxlarge\" value=\"\">",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "48:     <div id=\"main_info\" class=\"alert alert-info fade in\">",
          "49:         <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\u00d7</button>",
          "50:         <strong><span>Usage:</span></strong> <span>Enter the WebRTC WHEP URL and click \"Play\" to start playing.</span>",
          "51:     </div>",
          "",
          "---------------"
        ],
        "trunk/research/players/whip.html||trunk/research/players/whip.html": [
          "File: trunk/research/players/whip.html -> trunk/research/players/whip.html",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:             <a id=\"srs_index\" class=\"brand\" href=\"https://github.com/ossrs/srs\">SRS</a>",
          "24:             <div class=\"nav-collapse collapse\">",
          "25:                 <ul class=\"nav\">",
          "29:                     <li class=\"active\"><a id=\"nav_whip\" href=\"whip.html\">WHIP</a></li>",
          "30:                     <li><a id=\"nav_whep\" href=\"whip.html\">WHEP</a></li>",
          "31:                     <li><a  href=\"http://ossrs.net/srs.release/releases/app.html\">iOS/Andriod</a></li>",
          "",
          "[Removed Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">SRS\u64ad\u653e\u5668</a></li>",
          "27:                     <li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>",
          "28:                     <li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>",
          "",
          "[Added Lines]",
          "26:                     <li><a id=\"nav_srs_player\" href=\"srs_player.html\">LivePlayer</a></li>",
          "27:                     <!--<li><a id=\"nav_rtc_player\" href=\"rtc_player.html\">RTC\u64ad\u653e\u5668</a></li>-->",
          "28:                     <!--<li><a id=\"nav_rtc_publisher\" href=\"rtc_publisher.html\">RTC\u63a8\u6d41</a></li>-->",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "45:     </div>",
          "46: </div>",
          "47: <div class=\"container\">",
          "48:     <div class=\"form-inline\">",
          "49:         URL:",
          "50:         <input type=\"text\" id=\"txt_url\" class=\"input-xxlarge\" value=\"\">",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "48:     <div id=\"main_info\" class=\"alert alert-info fade in\">",
          "49:         <button type=\"button\" class=\"close\" data-dismiss=\"alert\">\u00d7</button>",
          "50:         <strong><span>Usage:</span></strong> <span>Enter the WebRTC WHIP URL and click \"Publish\" to start publishing.</span>",
          "51:     </div>",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
          "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       5",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    195",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    196",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
          "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       6",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    95",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    96",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "113a3dd85ef704c09889330766a1ad4c948b7b58",
      "candidate_info": {
        "commit_hash": "113a3dd85ef704c09889330766a1ad4c948b7b58",
        "repo": "ossrs/srs",
        "commit_url": "https://github.com/ossrs/srs/commit/113a3dd85ef704c09889330766a1ad4c948b7b58",
        "files": [
          ".github/workflows/test.yml",
          "trunk/doc/CHANGELOG.md",
          "trunk/src/app/srs_app_rtc_conn.cpp",
          "trunk/src/app/srs_app_rtc_conn.hpp",
          "trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp",
          "trunk/src/kernel/srs_kernel_rtc_rtcp.cpp",
          "trunk/src/kernel/srs_kernel_rtc_rtcp.hpp"
        ],
        "message": "Fix crash when process rtcp feedback message. v5.0.159, v6.0.52 (#3591)\n\n---------\n\nCo-authored-by: johzzy <hellojinqiang@gmail.com>",
        "before_after_code_files": [
          "trunk/src/app/srs_app_rtc_conn.cpp||trunk/src/app/srs_app_rtc_conn.cpp",
          "trunk/src/app/srs_app_rtc_conn.hpp||trunk/src/app/srs_app_rtc_conn.hpp",
          "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp",
          "trunk/src/kernel/srs_kernel_rtc_rtcp.cpp||trunk/src/kernel/srs_kernel_rtc_rtcp.cpp",
          "trunk/src/kernel/srs_kernel_rtc_rtcp.hpp||trunk/src/kernel/srs_kernel_rtc_rtcp.hpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ],
          "candidate": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ]
        }
      },
      "candidate_diff": {
        "trunk/src/app/srs_app_rtc_conn.cpp||trunk/src/app/srs_app_rtc_conn.cpp": [
          "File: trunk/src/app/srs_app_rtc_conn.cpp -> trunk/src/app/srs_app_rtc_conn.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "786:         SrsRtcpNack* nack = dynamic_cast<SrsRtcpNack*>(rtcp);",
          "787:         return on_rtcp_nack(nack);",
          "788:     } else if(SrsRtcpType_psfb == rtcp->type()) {",
          "790:         return on_rtcp_ps_feedback(psfb);",
          "791:     } else if(SrsRtcpType_xr == rtcp->type()) {",
          "792:         SrsRtcpXr* xr = dynamic_cast<SrsRtcpXr*>(rtcp);",
          "",
          "[Removed Lines]",
          "789:         SrsRtcpPsfbCommon* psfb = dynamic_cast<SrsRtcpPsfbCommon*>(rtcp);",
          "",
          "[Added Lines]",
          "789:         SrsRtcpFbCommon* psfb = dynamic_cast<SrsRtcpFbCommon*>(rtcp);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "866:     return err;",
          "867: }",
          "870: {",
          "871:     srs_error_t err = srs_success;",
          "",
          "[Removed Lines]",
          "869: srs_error_t SrsRtcPlayStream::on_rtcp_ps_feedback(SrsRtcpPsfbCommon* rtcp)",
          "",
          "[Added Lines]",
          "869: srs_error_t SrsRtcPlayStream::on_rtcp_ps_feedback(SrsRtcpFbCommon* rtcp)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "2066:     if (SrsRtcpType_psfb == rtcp->type()) {",
          "2068:         if (15 == psfb->get_rc()) {",
          "2069:             return on_rtcp_feedback_remb(psfb);",
          "2070:         }",
          "",
          "[Removed Lines]",
          "2067:         SrsRtcpPsfbCommon* psfb = dynamic_cast<SrsRtcpPsfbCommon*>(rtcp);",
          "",
          "[Added Lines]",
          "2067:         SrsRtcpFbCommon* psfb = dynamic_cast<SrsRtcpFbCommon*>(rtcp);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "2092:             required_player_ssrc = nack->get_media_ssrc();",
          "2093:         }",
          "2094:     } else if(SrsRtcpType_psfb == rtcp->type()) {",
          "2096:         required_player_ssrc = psfb->get_media_ssrc();",
          "2097:     }",
          "",
          "[Removed Lines]",
          "2095:         SrsRtcpPsfbCommon* psfb = dynamic_cast<SrsRtcpPsfbCommon*>(rtcp);",
          "",
          "[Added Lines]",
          "2095:         SrsRtcpFbCommon* psfb = dynamic_cast<SrsRtcpFbCommon*>(rtcp);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "2141:     return srs_success;",
          "2142: }",
          "2145: {",
          "2147:     return srs_success;",
          "",
          "[Removed Lines]",
          "2144: srs_error_t SrsRtcConnection::on_rtcp_feedback_remb(SrsRtcpPsfbCommon *rtcp)",
          "",
          "[Added Lines]",
          "2144: srs_error_t SrsRtcConnection::on_rtcp_feedback_remb(SrsRtcpFbCommon *rtcp)",
          "",
          "---------------"
        ],
        "trunk/src/app/srs_app_rtc_conn.hpp||trunk/src/app/srs_app_rtc_conn.hpp": [
          "File: trunk/src/app/srs_app_rtc_conn.hpp -> trunk/src/app/srs_app_rtc_conn.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "269: private:",
          "270:     srs_error_t on_rtcp_xr(SrsRtcpXr* rtcp);",
          "271:     srs_error_t on_rtcp_nack(SrsRtcpNack* rtcp);",
          "273:     srs_error_t on_rtcp_rr(SrsRtcpRR* rtcp);",
          "274:     uint32_t get_video_publish_ssrc(uint32_t play_ssrc);",
          "",
          "[Removed Lines]",
          "272:     srs_error_t on_rtcp_ps_feedback(SrsRtcpPsfbCommon* rtcp);",
          "",
          "[Added Lines]",
          "272:     srs_error_t on_rtcp_ps_feedback(SrsRtcpFbCommon* rtcp);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "513:     srs_error_t dispatch_rtcp(SrsRtcpCommon* rtcp);",
          "514: public:",
          "515:     srs_error_t on_rtcp_feedback_twcc(char* buf, int nb_buf);",
          "517: public:",
          "518:     srs_error_t on_dtls_handshake_done();",
          "519:     srs_error_t on_dtls_alert(std::string type, std::string desc);",
          "",
          "[Removed Lines]",
          "516:     srs_error_t on_rtcp_feedback_remb(SrsRtcpPsfbCommon *rtcp);",
          "",
          "[Added Lines]",
          "516:     srs_error_t on_rtcp_feedback_remb(SrsRtcpFbCommon *rtcp);",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
          "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       5",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    158",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    159",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
          "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       6",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    51",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    52",
          "",
          "---------------"
        ],
        "trunk/src/kernel/srs_kernel_rtc_rtcp.cpp||trunk/src/kernel/srs_kernel_rtc_rtcp.cpp": [
          "File: trunk/src/kernel/srs_kernel_rtc_rtcp.cpp -> trunk/src/kernel/srs_kernel_rtc_rtcp.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "717:     next_base_sn_ = 0;",
          "718: }",
          "724: uint16_t SrsRtcpTWCC::get_base_sn() const",
          "725: {",
          "726:     return base_sn_;",
          "",
          "[Removed Lines]",
          "720: uint32_t SrsRtcpTWCC::get_media_ssrc() const",
          "721: {",
          "722:     return media_ssrc_;",
          "723: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "746:     return pkt_deltas_;",
          "747: }",
          "753: void SrsRtcpTWCC::set_base_sn(uint16_t sn)",
          "754: {",
          "755:     base_sn_ = sn;",
          "",
          "[Removed Lines]",
          "749: void SrsRtcpTWCC::set_media_ssrc(uint32_t ssrc)",
          "750: {",
          "751:     media_ssrc_ = ssrc;",
          "752: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1217: {",
          "1218: }",
          "1225: vector<uint16_t> SrsRtcpNack::get_lost_sns() const",
          "1226: {",
          "1227:     vector<uint16_t> sn;",
          "",
          "[Removed Lines]",
          "1220: uint32_t SrsRtcpNack::get_media_ssrc() const",
          "1221: {",
          "1222:     return media_ssrc_;",
          "1223: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1236:     return lost_sns_.empty();",
          "1237: }",
          "1244: void SrsRtcpNack::add_lost_sn(uint16_t sn)",
          "1245: {",
          "1246:     lost_sns_.insert(sn);",
          "",
          "[Removed Lines]",
          "1239: void SrsRtcpNack::set_media_ssrc(uint32_t ssrc)",
          "1240: {",
          "1241:     media_ssrc_ = ssrc;",
          "1242: }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1377:     return err;",
          "1378: }",
          "1381: {",
          "1382:     header_.padding = 0;",
          "1383:     header_.type = SrsRtcpType_psfb;",
          "",
          "[Removed Lines]",
          "1380: SrsRtcpPsfbCommon::SrsRtcpPsfbCommon()",
          "",
          "[Added Lines]",
          "1362: SrsRtcpFbCommon::SrsRtcpFbCommon()",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1387: }",
          "1390: {",
          "1392: }",
          "1395: {",
          "1396:     return media_ssrc_;",
          "1397: }",
          "1400: {",
          "1401:     media_ssrc_ = ssrc;",
          "1402: }",
          "1405: {",
          "1407:     @doc: https://tools.ietf.org/html/rfc4585#section-6.1",
          "",
          "[Removed Lines]",
          "1389: SrsRtcpPsfbCommon::~SrsRtcpPsfbCommon()",
          "1394: uint32_t SrsRtcpPsfbCommon::get_media_ssrc() const",
          "1399: void SrsRtcpPsfbCommon::set_media_ssrc(uint32_t ssrc)",
          "1404: srs_error_t SrsRtcpPsfbCommon::decode(SrsBuffer *buffer)",
          "",
          "[Added Lines]",
          "1371: SrsRtcpFbCommon::~SrsRtcpFbCommon()",
          "1376: uint32_t SrsRtcpFbCommon::get_media_ssrc() const",
          "1381: void SrsRtcpFbCommon::set_media_ssrc(uint32_t ssrc)",
          "1386: srs_error_t SrsRtcpFbCommon::decode(SrsBuffer *buffer)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1432:     return err;",
          "1433: }",
          "1436: {",
          "1437:     return kRtcpPacketSize;",
          "1438: }",
          "1441: {",
          "1442:     return srs_error_new(ERROR_RTC_RTCP, \"not support\");",
          "1443: }",
          "",
          "[Removed Lines]",
          "1435: uint64_t SrsRtcpPsfbCommon::nb_bytes()",
          "1440: srs_error_t SrsRtcpPsfbCommon::encode(SrsBuffer *buffer)",
          "",
          "[Added Lines]",
          "1417: uint64_t SrsRtcpFbCommon::nb_bytes()",
          "1422: srs_error_t SrsRtcpFbCommon::encode(SrsBuffer *buffer)",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "1762:             } else if (15 == header->rc) {",
          "1764:                 rtcp = new SrsRtcpTWCC();",
          "1765:             }",
          "1766:         } else if(header->type == SrsRtcpType_psfb) {",
          "1767:             if(1 == header->rc) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1747:             } else {",
          "1749:                 rtcp = new SrsRtcpFbCommon();",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "1775:                 rtcp = new SrsRtcpRpsi();",
          "1776:             } else {",
          "1779:             }",
          "1780:         } else if(header->type == SrsRtcpType_xr) {",
          "1781:             rtcp = new SrsRtcpXr();",
          "",
          "[Removed Lines]",
          "1778:                 rtcp = new SrsRtcpPsfbCommon();",
          "",
          "[Added Lines]",
          "1763:                 rtcp = new SrsRtcpFbCommon();",
          "",
          "---------------"
        ],
        "trunk/src/kernel/srs_kernel_rtc_rtcp.hpp||trunk/src/kernel/srs_kernel_rtc_rtcp.hpp": [
          "File: trunk/src/kernel/srs_kernel_rtc_rtcp.hpp -> trunk/src/kernel/srs_kernel_rtc_rtcp.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "207: };",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "212: class SrsRtcpFbCommon : public SrsRtcpCommon",
          "213: {",
          "214: protected:",
          "215:     uint32_t media_ssrc_;",
          "216: public:",
          "217:     SrsRtcpFbCommon();",
          "218:     virtual ~SrsRtcpFbCommon();",
          "220:     uint32_t get_media_ssrc() const;",
          "221:     void set_media_ssrc(uint32_t ssrc);",
          "224: public:",
          "225:     virtual srs_error_t decode(SrsBuffer *buffer);",
          "226:     virtual uint64_t nb_bytes();",
          "227:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "228: };",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "247: #define kTwccFbLargeRecvDeltaBytes 2",
          "248: #define kTwccFbMaxBitElements   kTwccFbOneBitElements",
          "251: {",
          "252: private:",
          "254:     uint16_t base_sn_;",
          "255:     int32_t reference_time_;",
          "256:     uint8_t fb_pkt_count_;",
          "",
          "[Removed Lines]",
          "250: class SrsRtcpTWCC : public SrsRtcpCommon",
          "253:     uint32_t media_ssrc_;",
          "",
          "[Added Lines]",
          "272: class SrsRtcpTWCC : public SrsRtcpFbCommon",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "286:     SrsRtcpTWCC(uint32_t sender_ssrc = 0);",
          "287:     virtual ~SrsRtcpTWCC();",
          "290:     uint16_t get_base_sn() const;",
          "291:     uint32_t get_reference_time() const;",
          "292:     uint8_t get_feedback_count() const;",
          "293:     std::vector<uint16_t> get_packet_chucks() const;",
          "294:     std::vector<uint16_t> get_recv_deltas() const;",
          "297:     void set_base_sn(uint16_t sn);",
          "298:     void set_reference_time(uint32_t time);",
          "299:     void set_feedback_count(uint8_t count);",
          "",
          "[Removed Lines]",
          "289:     uint32_t get_media_ssrc() const;",
          "296:     void set_media_ssrc(uint32_t ssrc);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "312:     srs_error_t do_encode(SrsBuffer *buffer);",
          "313: };",
          "316: {",
          "317: private:",
          "318:     struct SrsPidBlp {",
          "",
          "[Removed Lines]",
          "315: class SrsRtcpNack : public SrsRtcpCommon",
          "",
          "[Added Lines]",
          "334: class SrsRtcpNack : public SrsRtcpFbCommon",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "321:         bool in_use;",
          "322:     };",
          "325:     std::set<uint16_t, SrsSeqCompareLess> lost_sns_;",
          "326: public:",
          "327:     SrsRtcpNack(uint32_t sender_ssrc = 0);",
          "328:     virtual ~SrsRtcpNack();",
          "331:     std::vector<uint16_t> get_lost_sns() const;",
          "332:     bool empty();",
          "335:     void add_lost_sn(uint16_t sn);",
          "337: public:",
          "",
          "[Removed Lines]",
          "324:     uint32_t media_ssrc_;",
          "330:     uint32_t get_media_ssrc() const;",
          "334:     void set_media_ssrc(uint32_t ssrc);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "340:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "341: };",
          "362: {",
          "363: public:",
          "364:     SrsRtcpPli(uint32_t sender_ssrc = 0);",
          "",
          "[Removed Lines]",
          "343: class SrsRtcpPsfbCommon : public SrsRtcpCommon",
          "344: {",
          "345: protected:",
          "346:     uint32_t media_ssrc_;",
          "347: public:",
          "348:     SrsRtcpPsfbCommon();",
          "349:     virtual ~SrsRtcpPsfbCommon();",
          "351:     uint32_t get_media_ssrc() const;",
          "352:     void set_media_ssrc(uint32_t ssrc);",
          "355: public:",
          "356:     virtual srs_error_t decode(SrsBuffer *buffer);",
          "357:     virtual uint64_t nb_bytes();",
          "358:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "359: };",
          "361: class SrsRtcpPli : public SrsRtcpPsfbCommon",
          "",
          "[Added Lines]",
          "359: class SrsRtcpPli : public SrsRtcpFbCommon",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "371:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "372: };",
          "375: {",
          "376: private:",
          "377:     uint16_t first_;",
          "",
          "[Removed Lines]",
          "374: class SrsRtcpSli : public SrsRtcpPsfbCommon",
          "",
          "[Added Lines]",
          "372: class SrsRtcpSli : public SrsRtcpFbCommon",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "388:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "389: };",
          "392: {",
          "393: private:",
          "394:     uint8_t pb_;",
          "",
          "[Removed Lines]",
          "391: class SrsRtcpRpsi : public SrsRtcpPsfbCommon",
          "",
          "[Added Lines]",
          "389: class SrsRtcpRpsi : public SrsRtcpFbCommon",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "407:     virtual srs_error_t encode(SrsBuffer *buffer);",
          "408: };",
          "411: {",
          "412: public:",
          "413:     SrsRtcpXr (uint32_t ssrc = 0);",
          "",
          "[Removed Lines]",
          "410: class SrsRtcpXr : public SrsRtcpCommon",
          "",
          "[Added Lines]",
          "408: class SrsRtcpXr : public SrsRtcpFbCommon",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "84b184dd5309096f9df97967af878ecd7cb36da6",
      "candidate_info": {
        "commit_hash": "84b184dd5309096f9df97967af878ecd7cb36da6",
        "repo": "ossrs/srs",
        "commit_url": "https://github.com/ossrs/srs/commit/84b184dd5309096f9df97967af878ecd7cb36da6",
        "files": [
          "trunk/conf/full.conf",
          "trunk/doc/CHANGELOG.md",
          "trunk/src/app/srs_app_config.cpp",
          "trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp"
        ],
        "message": "System: Disable feature that obtains versions and check features status. v5.0.209 v6.0.115 (#3990)\n\nSee https://github.com/ossrs/srs/issues/2424\n\n---------\n\nCo-authored-by: john <hondaxiao@tencent.com>",
        "before_after_code_files": [
          "trunk/conf/full.conf||trunk/conf/full.conf",
          "trunk/src/app/srs_app_config.cpp||trunk/src/app/srs_app_config.cpp",
          "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ],
          "candidate": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ]
        }
      },
      "candidate_diff": {
        "trunk/conf/full.conf||trunk/conf/full.conf": [
          "File: trunk/conf/full.conf -> trunk/conf/full.conf",
          "--- Hunk 1 ---",
          "[Context before]",
          "705: # @see https://github.com/ossrs/srs/issues/2424",
          "706: # @see https://github.com/ossrs/srs/issues/2508",
          "707: # Overwrite by env SRS_QUERY_LATEST_VERSION",
          "711: # First wait when qlv(query latest version), in seconds.",
          "712: # Only available when qlv is enabled.",
          "",
          "[Removed Lines]",
          "708: # Default: on",
          "709: query_latest_version on;",
          "",
          "[Added Lines]",
          "708: # Default: off",
          "709: query_latest_version off;",
          "",
          "---------------"
        ],
        "trunk/src/app/srs_app_config.cpp||trunk/src/app/srs_app_config.cpp": [
          "File: trunk/src/app/srs_app_config.cpp -> trunk/src/app/srs_app_config.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "3132: bool SrsConfig::whether_query_latest_version()",
          "3133: {",
          "3138:     SrsConfDirective* conf = root->get(\"query_latest_version\");",
          "3139:     if (!conf) {",
          "",
          "[Removed Lines]",
          "3134:     SRS_OVERWRITE_BY_ENV_BOOL2(\"srs.query_latest_version\"); // SRS_QUERY_LATEST_VERSION",
          "3136:     static bool DEFAULT = true;",
          "",
          "[Added Lines]",
          "3134:     SRS_OVERWRITE_BY_ENV_BOOL(\"srs.query_latest_version\"); // SRS_QUERY_LATEST_VERSION",
          "3136:     static bool DEFAULT = false;",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
          "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       5",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    208",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    209",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
          "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       6",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    114",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    115",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "bb9331186bebf3cda02859a12099922ffe14889f",
      "candidate_info": {
        "commit_hash": "bb9331186bebf3cda02859a12099922ffe14889f",
        "repo": "ossrs/srs",
        "commit_url": "https://github.com/ossrs/srs/commit/bb9331186bebf3cda02859a12099922ffe14889f",
        "files": [
          "trunk/doc/CHANGELOG.md",
          "trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp",
          "trunk/src/protocol/srs_protocol_log.cpp"
        ],
        "message": "SrsContextId assignment can be improved without create a duplicated one. v5.0.175 v6.0.70 (#3503)\n\nSrsContextId object creation can be improved on `srs_protocol_log.cpp`,\nNo need to create one, then assign it back. It seems a common mistake\nfor Cpp programmers.\n\n---------\n\nCo-authored-by: john <hondaxiao@tencent.com>",
        "before_after_code_files": [
          "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
          "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp",
          "trunk/src/protocol/srs_protocol_log.cpp||trunk/src/protocol/srs_protocol_log.cpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ],
          "candidate": [
            "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp",
            "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp"
          ]
        }
      },
      "candidate_diff": {
        "trunk/src/core/srs_core_version5.hpp||trunk/src/core/srs_core_version5.hpp": [
          "File: trunk/src/core/srs_core_version5.hpp -> trunk/src/core/srs_core_version5.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       5",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    174",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    175",
          "",
          "---------------"
        ],
        "trunk/src/core/srs_core_version6.hpp||trunk/src/core/srs_core_version6.hpp": [
          "File: trunk/src/core/srs_core_version6.hpp -> trunk/src/core/srs_core_version6.hpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #define VERSION_MAJOR       6",
          "11: #define VERSION_MINOR       0",
          "14: #endif",
          "",
          "[Removed Lines]",
          "12: #define VERSION_REVISION    69",
          "",
          "[Added Lines]",
          "12: #define VERSION_REVISION    70",
          "",
          "---------------"
        ],
        "trunk/src/protocol/srs_protocol_log.cpp||trunk/src/protocol/srs_protocol_log.cpp": [
          "File: trunk/src/protocol/srs_protocol_log.cpp -> trunk/src/protocol/srs_protocol_log.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "34: SrsContextId SrsThreadContext::generate_id()",
          "35: {",
          "37:     return cid.set_value(srs_random_str(8));",
          "38: }",
          "",
          "[Removed Lines]",
          "36:     SrsContextId cid = SrsContextId();",
          "",
          "[Added Lines]",
          "36:     SrsContextId cid;",
          "",
          "---------------"
        ]
      }
    }
  ]
}