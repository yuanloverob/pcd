{
  "cve_id": "CVE-2020-36400",
  "cve_desc": "ZeroMQ libzmq 4.3.3 has a heap-based buffer overflow in zmq::tcp_read, a different vulnerability than CVE-2021-20235.",
  "repo": "zeromq/libzmq",
  "patch_hash": "397ac80850bf8d010fae23dd215db0ee2c677306",
  "patch_info": {
    "commit_hash": "397ac80850bf8d010fae23dd215db0ee2c677306",
    "repo": "zeromq/libzmq",
    "commit_url": "https://github.com/zeromq/libzmq/commit/397ac80850bf8d010fae23dd215db0ee2c677306",
    "files": [
      "src/decoder_allocators.hpp"
    ],
    "message": "Problem: ZMTP v1 static allocator is needlessly resized\n\nSolution: don't do it, resizing the shared allocator makes sense\nas it can take the message buff for zero copy, but the static allocator\nis fixed",
    "before_after_code_files": [
      "src/decoder_allocators.hpp||src/decoder_allocators.hpp"
    ]
  },
  "patch_diff": {
    "src/decoder_allocators.hpp||src/decoder_allocators.hpp": [
      "File: src/decoder_allocators.hpp -> src/decoder_allocators.hpp",
      "--- Hunk 1 ---",
      "[Context before]",
      "59:     std::size_t size () const { return _buf_size; }",
      "63:   private:",
      "64:     std::size_t _buf_size;",
      "",
      "[Removed Lines]",
      "61:     void resize (std::size_t new_size_) { _buf_size = new_size_; }",
      "",
      "[Added Lines]",
      "62:     void resize (std::size_t new_size_) { LIBZMQ_UNUSED (new_size_); }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "98efa79f540aa2094f81d7681058e6561504449b",
      "candidate_info": {
        "commit_hash": "98efa79f540aa2094f81d7681058e6561504449b",
        "repo": "zeromq/libzmq",
        "commit_url": "https://github.com/zeromq/libzmq/commit/98efa79f540aa2094f81d7681058e6561504449b",
        "files": [
          "tests/testutil.cpp"
        ],
        "message": "Problem: ZMQ_DISABLE_TEST_TIMEOUT does not work anymore\n\nSolution: restore it so that it can be set via CPPFLAGS, to avoid\ntests timing out when running in GDB",
        "before_after_code_files": [
          "tests/testutil.cpp||tests/testutil.cpp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/zeromq/libzmq/pull/3902"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "tests/testutil.cpp||tests/testutil.cpp": [
          "File: tests/testutil.cpp -> tests/testutil.cpp",
          "--- Hunk 1 ---",
          "[Context before]",
          "234:     alarm (121);",
          "235: #else",
          "237:     alarm (timeout_seconds_);",
          "238: #endif",
          "239: #endif",
          "240: #if defined __MVS__",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "236: #if !defined ZMQ_DISABLE_TEST_TIMEOUT",
          "241: #endif",
          "",
          "---------------"
        ]
      }
    }
  ]
}