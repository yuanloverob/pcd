{
  "cve_id": "CVE-2024-24042",
  "cve_desc": "Directory Traversal vulnerability in Devan-Kerman ARRP v.0.8.1 and before allows a remote attacker to execute arbitrary code via the dumpDirect in RuntimeResourcePackImpl component.",
  "repo": "Devan-Kerman/ARRP",
  "patch_hash": "7ea80db462c8bf66a0565e84fa49c1f2ecb9287b",
  "patch_info": {
    "commit_hash": "7ea80db462c8bf66a0565e84fa49c1f2ecb9287b",
    "repo": "Devan-Kerman/ARRP",
    "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/7ea80db462c8bf66a0565e84fa49c1f2ecb9287b",
    "files": [
      "gradle.properties",
      "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
      "src/test/java/test/RRPPreTest.java"
    ],
    "message": "oops v0.8.2",
    "before_after_code_files": [
      "gradle.properties||gradle.properties",
      "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
      "src/test/java/test/RRPPreTest.java||src/test/java/test/RRPPreTest.java"
    ]
  },
  "patch_diff": {
    "gradle.properties||gradle.properties": [
      "File: gradle.properties -> gradle.properties",
      "--- Hunk 1 ---",
      "[Context before]",
      "8: fabric_version=0.84.0+1.20.1",
      "10: # Mod Properties",
      "12: maven_group=net.devtech",
      "13: archives_base_name=arrp",
      "14: # Dependencies",
      "",
      "[Removed Lines]",
      "11: mod_version=0.8.0",
      "",
      "[Added Lines]",
      "11: mod_version=0.8.1",
      "",
      "---------------"
    ],
    "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java": [
      "File: src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java -> src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "303:    for(Map.Entry<List<String>, Supplier<byte[]>> e : this.root.entrySet()) {",
      "304:     String pathStr = String.join(\"/\", e.getKey());",
      "305:     Path path = output.resolve(pathStr);",
      "307:      Files.createDirectories(path.getParent());",
      "308:      Files.write(path, e.getValue().get());",
      "309:     } else {",
      "",
      "[Removed Lines]",
      "306:     if(path.startsWith(output)) {",
      "",
      "[Added Lines]",
      "306:     if(path.toAbsolutePath().startsWith(output.toAbsolutePath())) {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "554:    String namespace = identifier.getNamespace();",
      "555:    String path = identifier.getPath();",
      "556:    Path file = dir.resolve(namespace).resolve(path);",
      "558:     Files.createDirectories(file.getParent());",
      "559:     try(OutputStream output = Files.newOutputStream(file)) {",
      "560:      output.write(data);",
      "",
      "[Removed Lines]",
      "557:    if(file.startsWith(dir)) {",
      "",
      "[Added Lines]",
      "557:    if(file.toAbsolutePath().startsWith(dir.toAbsolutePath())) {",
      "",
      "---------------"
    ],
    "src/test/java/test/RRPPreTest.java||src/test/java/test/RRPPreTest.java": [
      "File: src/test/java/test/RRPPreTest.java -> src/test/java/test/RRPPreTest.java",
      "--- Hunk 1 ---",
      "[Context before]",
      "17: import com.google.gson.Gson;",
      "18: import com.google.gson.GsonBuilder;",
      "19: import net.devtech.arrp.impl.RuntimeResourcePackImpl;",
      "20: import net.devtech.arrp.json.blockstate.JMultipart;",
      "21: import net.devtech.arrp.json.blockstate.JState;",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "19: import net.devtech.arrp.api.RuntimeResourcePack;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "28: import net.minecraft.util.Identifier;",
      "29: import net.minecraft.util.math.Direction;",
      "31: public class RRPPreTest {",
      "32:  public static void main(String[] args) {",
      "33:   JState iron_block = state(variant(JState.model(\"block/iron_block\")));",
      "34:   JState oak_fence = state(multipart(JState.model(\"block/oak_fence_post\")),",
      "35:     multipart(JState.model(\"block/oak_fence_side\").uvlock()).when(when().add(\"north\", \"true\")),",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "31: import java.nio.file.Path;",
      "35:   RuntimeResourcePack pack = RuntimeResourcePack.create(\"test:test\");",
      "36:   pack.addLang(new Identifier(\"aaaa:aaaa\"), new JLang().entry(\"aaaa\", \"bbbbb\"));",
      "37:   pack.dumpDirect(Path.of(\"aaaa\"));",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "3a685438960b7fa64adaf71f7f13fba30d9b60f7",
      "candidate_info": {
        "commit_hash": "3a685438960b7fa64adaf71f7f13fba30d9b60f7",
        "repo": "Devan-Kerman/ARRP",
        "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/3a685438960b7fa64adaf71f7f13fba30d9b60f7",
        "files": [
          "gradle/wrapper/gradle-wrapper.properties",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
        ],
        "message": "nip potential security issue in the bud: v0.8.1",
        "before_after_code_files": [
          "gradle/wrapper/gradle-wrapper.properties||gradle/wrapper/gradle-wrapper.properties",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ],
          "candidate": [
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ]
        }
      },
      "candidate_diff": {
        "gradle/wrapper/gradle-wrapper.properties||gradle/wrapper/gradle-wrapper.properties": [
          "File: gradle/wrapper/gradle-wrapper.properties -> gradle/wrapper/gradle-wrapper.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: distributionBase=GRADLE_USER_HOME",
          "2: distributionPath=wrapper/dists",
          "4: zipStoreBase=GRADLE_USER_HOME",
          "5: zipStorePath=wrapper/dists",
          "",
          "[Removed Lines]",
          "3: distributionUrl=https\\://services.gradle.org/distributions/gradle-7.4-bin.zip",
          "",
          "[Added Lines]",
          "3: distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java": [
          "File: src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java -> src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "302:   try {",
          "303:    for(Map.Entry<List<String>, Supplier<byte[]>> e : this.root.entrySet()) {",
          "307:    }",
          "309:    Path assets = output.resolve(\"assets\");",
          "",
          "[Removed Lines]",
          "304:     Path root = output.resolve(String.join(\"/\", e.getKey()));",
          "305:     Files.createDirectories(root.getParent());",
          "306:     Files.write(root, e.getValue().get());",
          "",
          "[Added Lines]",
          "304:     String pathStr = String.join(\"/\", e.getKey());",
          "305:     Path path = output.resolve(pathStr);",
          "306:     if(path.startsWith(output)) {",
          "307:      Files.createDirectories(path.getParent());",
          "308:      Files.write(path, e.getValue().get());",
          "309:     } else {",
          "310:      LOGGER.error(\"RRP contains out-of-directory path! \\\"\" + pathStr + \"\\\"\");",
          "311:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "547:  private void write(Path dir, Identifier identifier, byte[] data) {",
          "548:   try {",
          "553:    }",
          "554:   } catch(IOException e) {",
          "555:    throw new RuntimeException(e);",
          "556:   }",
          "",
          "[Removed Lines]",
          "549:    Path file = dir.resolve(identifier.getNamespace()).resolve(identifier.getPath());",
          "550:    Files.createDirectories(file.getParent());",
          "551:    try(OutputStream output = Files.newOutputStream(file)) {",
          "552:     output.write(data);",
          "",
          "[Added Lines]",
          "554:    String namespace = identifier.getNamespace();",
          "555:    String path = identifier.getPath();",
          "556:    Path file = dir.resolve(namespace).resolve(path);",
          "557:    if(file.startsWith(dir)) {",
          "558:     Files.createDirectories(file.getParent());",
          "559:     try(OutputStream output = Files.newOutputStream(file)) {",
          "560:      output.write(data);",
          "561:     }",
          "562:    } else {",
          "563:     LOGGER.error(\"RRP contains out-of-directory location! \\\"\" + namespace + \"/\" + path + \"\\\"\");",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "3d30d7c4a52278e22c49e6e1106389e571f37fd6",
      "candidate_info": {
        "commit_hash": "3d30d7c4a52278e22c49e6e1106389e571f37fd6",
        "repo": "Devan-Kerman/ARRP",
        "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/3d30d7c4a52278e22c49e6e1106389e571f37fd6",
        "files": [
          "README.md",
          "build.gradle",
          "gradle.properties",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
        ],
        "message": "update readme",
        "before_after_code_files": [
          "build.gradle||build.gradle",
          "gradle.properties||gradle.properties",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "gradle.properties||gradle.properties",
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ],
          "candidate": [
            "gradle.properties||gradle.properties",
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ]
        }
      },
      "candidate_diff": {
        "build.gradle||build.gradle": [
          "File: build.gradle -> build.gradle",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: plugins {",
          "5: }",
          "10: dependencies {",
          "15: }",
          "24:     }",
          "27: }",
          "39: }",
          "41: jar {",
          "42:     from(\"LICENSE\") {",
          "44:     }",
          "45: }",
          "47: publishing {",
          "48:     publications {",
          "49:         mavenJava(MavenPublication) {",
          "51:         }",
          "52:     }",
          "54:     repositories {",
          "55:         maven {",
          "61:             credentials {",
          "64:             }",
          "68:         }",
          "69:     }",
          "70: }",
          "72: unifiedPublishing {",
          "73:     project {",
          "82:             curseforge {",
          "85:             }",
          "86:         }",
          "89:             modrinth {",
          "92:             }",
          "93:         }",
          "94:     }",
          "",
          "[Removed Lines]",
          "2:     id(\"fabric-loom\") version \"1.0-SNAPSHOT\"",
          "3:     id(\"me.shedaniel.unified-publishing\") version \"0.1.+\"",
          "4:     id(\"maven-publish\")",
          "7: group = \"net.devtech\"",
          "8: version = System.getenv(\"ARRP_VERSION\") ?: \"0.0.0\"",
          "11:     minecraft(\"com.mojang:minecraft:${minecraft_version}\")",
          "12:     mappings(\"net.fabricmc:yarn:${yarn_mappings}:v2\")",
          "13:     modImplementation(\"net.fabricmc:fabric-loader:${loader_version}\")",
          "14:     modImplementation(include(fabricApi.module(\"fabric-api-base\", fabric_version)))",
          "17: base {",
          "18:     archivesName.set(\"arrp\")",
          "19: }",
          "21: java {",
          "22:     toolchain {",
          "23:         languageVersion = JavaLanguageVersion.of(17)",
          "26:     withSourcesJar()",
          "29: tasks.withType(JavaCompile) {",
          "30:     options.encoding = \"UTF-8\"",
          "31: }",
          "33: processResources {",
          "34:     inputs.property(\"version\", project.version)",
          "36:     filesMatching(\"fabric.mod.json\") {",
          "37:         expand(\"version\": project.version)",
          "38:     }",
          "43:         rename { \"${it}_${base.archivesName.get()}\"}",
          "50:             from(components.java)",
          "56:             name = \"Project\"",
          "57:             url = uri(\"${buildDir}/repo\")",
          "58:         }",
          "60:         maven {",
          "62:                 username = \"\"",
          "63:                 password = System.getenv(\"MODMAVEN\")",
          "66:             name = \"Modmaven\"",
          "67:             url = \"https://modmaven.dev/artifactory/local-releases/\"",
          "74:         gameVersions.add(minecraft_version)",
          "75:         gameVersions.add(\"fabric\")",
          "77:         changelog.set(\"View changelog at [the release page](https://github.com/Devan-Kerman/ARRP/releases/tag/${version})\")",
          "79:         mainPublication(tasks.remapJar)",
          "81:         System.getenv(\"CURSEFORGE\")?.with { String key ->",
          "83:                 token.set(key)",
          "84:                 id.set(\"463113\")",
          "88:         System.getenv(\"MODRINTH\")?.with { String key ->",
          "90:                 token.set(key)",
          "91:                 id.set(\"USLVyT7V\")",
          "95: }",
          "",
          "[Added Lines]",
          "2:     id 'fabric-loom' version '1.0-SNAPSHOT'",
          "3:     id 'maven-publish'",
          "4:     id \"me.shedaniel.unified-publishing\" version \"0.1.+\"",
          "7: sourceCompatibility = JavaVersion.VERSION_17",
          "8: targetCompatibility = JavaVersion.VERSION_17",
          "10: archivesBaseName = project.archives_base_name",
          "11: version = project.mod_version",
          "12: group = project.maven_group",
          "15:     minecraft \"com.mojang:minecraft:${project.minecraft_version}\"",
          "16:     mappings \"net.fabricmc:yarn:${project.yarn_mappings}:v2\"",
          "17:     modImplementation \"net.fabricmc:fabric-loader:${project.loader_version}\"",
          "18:     modImplementation include(fabricApi.module('fabric-api-base', project.fabric_version))",
          "21: processResources {",
          "22:     inputs.property \"version\", project.version",
          "24:     filesMatching(\"fabric.mod.json\") {",
          "25:         expand \"version\": project.version",
          "30: tasks.withType(JavaCompile).configureEach {",
          "31:     it.options.release = 17",
          "32: }",
          "34: java {",
          "35:     withSourcesJar()",
          "40:         rename { \"${it}_${project.archivesBaseName}\" }",
          "48:             from(components[\"java\"])",
          "54:             url(project.findProperty('maven_url'))",
          "56:                 username(project.findProperty('maven_username'))",
          "57:                 password(project.findProperty('maven_password'))",
          "65:         gameVersions = [minecraft_version]",
          "66:         gameLoaders = [\"fabric\"]",
          "68:         mainPublication tasks.remapJar // Declares the publicated jar",
          "70:         var cfToken = project.findProperty(\"cf_token\")",
          "71:         if (cfToken != null) {",
          "73:                 token = cfToken",
          "74:                 id = \"463113\" // Required, must be a string, ID of CurseForge project",
          "78:         var mrToken = project.findProperty(\"mr_token\")",
          "79:         if (mrToken != null) {",
          "81:                 token = mrToken",
          "82:                 id = \"USLVyT7V\" // Required, must be a string, ID of Modrinth project",
          "86: }",
          "",
          "---------------"
        ],
        "gradle.properties||gradle.properties": [
          "File: gradle.properties -> gradle.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "4: yarn_mappings=1.19.3+build.2",
          "5: loader_version=0.14.11",
          "8: fabric_version=0.68.1+1.19.3",
          "",
          "[Removed Lines]",
          "7: # Fabric api",
          "10: org.gradle.jvmargs=-Xmx2G",
          "",
          "[Added Lines]",
          "7: #Fabric api",
          "10: # Mod Properties",
          "11: mod_version=0.6.7",
          "12: maven_group=net.devtech",
          "13: archives_base_name=arrp",
          "14: # Dependencies",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java": [
          "File: src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java -> src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "416:   this.lock();",
          "417:   Supplier<byte[]> supplier = this.getSys(type).get(id);",
          "418:   if(supplier == null) {",
          "420:    this.waiting.unlock();",
          "421:    return null;",
          "422:   }",
          "",
          "[Removed Lines]",
          "419:    LOGGER.warn(\"No resource found for \" + id);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "431:   for(Identifier identifier : this.getSys(type).keySet()) {",
          "432:    Supplier<byte[]> supplier = this.getSys(type).get(identifier);",
          "433:    if(supplier == null) {",
          "435:     this.waiting.unlock();",
          "436:     continue;",
          "437:    }",
          "",
          "[Removed Lines]",
          "434:     LOGGER.warn(\"No resource found for \" + identifier);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "6f30e20ceb8f44abc089b6881fc1de99b831a31c",
      "candidate_info": {
        "commit_hash": "6f30e20ceb8f44abc089b6881fc1de99b831a31c",
        "repo": "Devan-Kerman/ARRP",
        "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/6f30e20ceb8f44abc089b6881fc1de99b831a31c",
        "files": [
          "build.gradle",
          "gradle.properties",
          "gradle/wrapper/gradle-wrapper.jar",
          "gradle/wrapper/gradle-wrapper.properties",
          "gradlew",
          "gradlew.bat",
          "src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
          "src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java",
          "src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java"
        ],
        "message": "update for 1.20.6",
        "before_after_code_files": [
          "build.gradle||build.gradle",
          "gradle.properties||gradle.properties",
          "gradle/wrapper/gradle-wrapper.properties||gradle/wrapper/gradle-wrapper.properties",
          "gradlew.bat||gradlew.bat",
          "src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java||src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java",
          "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
          "src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java||src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java",
          "src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java||src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "gradle.properties||gradle.properties",
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ],
          "candidate": [
            "gradle.properties||gradle.properties",
            "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java"
          ]
        }
      },
      "candidate_diff": {
        "build.gradle||build.gradle": [
          "File: build.gradle -> build.gradle",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: plugins {",
          "3:     id 'maven-publish'",
          "4:     id \"me.shedaniel.unified-publishing\" version \"0.1.+\"",
          "5: }",
          "10: archivesBaseName = project.archives_base_name",
          "11: version = project.mod_version",
          "",
          "[Removed Lines]",
          "2:     id 'fabric-loom' version '1.0-SNAPSHOT'",
          "7: sourceCompatibility = JavaVersion.VERSION_17",
          "8: targetCompatibility = JavaVersion.VERSION_17",
          "",
          "[Added Lines]",
          "2:     id 'fabric-loom' version '1.6-SNAPSHOT'",
          "7: sourceCompatibility = JavaVersion.VERSION_21",
          "8: targetCompatibility = JavaVersion.VERSION_21",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "30: tasks.withType(JavaCompile).configureEach {",
          "32: }",
          "34: java {",
          "",
          "[Removed Lines]",
          "31:     it.options.release = 17",
          "",
          "[Added Lines]",
          "31:     it.options.release = 21",
          "",
          "---------------"
        ],
        "gradle.properties||gradle.properties": [
          "File: gradle.properties -> gradle.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: # Fabric Properties",
          "2: # check these on https://www.fabricmc.net/develop/",
          "7: #Fabric api",
          "10: # Mod Properties",
          "12: maven_group=net.devtech",
          "13: archives_base_name=arrp",
          "14: # Dependencies",
          "",
          "[Removed Lines]",
          "3: minecraft_version=1.20.1",
          "4: yarn_mappings=1.20.1+build.5",
          "5: loader_version=0.14.21",
          "8: fabric_version=0.84.0+1.20.1",
          "11: mod_version=0.8.1",
          "",
          "[Added Lines]",
          "3: minecraft_version=1.20.6",
          "4: yarn_mappings=1.20.6+build.1",
          "5: loader_version=0.15.10",
          "8: fabric_version=0.97.8+1.20.6",
          "11: mod_version=0.8.2",
          "",
          "---------------"
        ],
        "gradle/wrapper/gradle-wrapper.properties||gradle/wrapper/gradle-wrapper.properties": [
          "File: gradle/wrapper/gradle-wrapper.properties -> gradle/wrapper/gradle-wrapper.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: distributionBase=GRADLE_USER_HOME",
          "2: distributionPath=wrapper/dists",
          "4: zipStoreBase=GRADLE_USER_HOME",
          "5: zipStorePath=wrapper/dists",
          "",
          "[Removed Lines]",
          "3: distributionUrl=https\\://services.gradle.org/distributions/gradle-8.5-bin.zip",
          "",
          "[Added Lines]",
          "3: distributionUrl=https\\://services.gradle.org/distributions/gradle-8.7-bin.zip",
          "4: networkTimeout=10000",
          "5: validateDistributionUrl=true",
          "",
          "---------------"
        ],
        "gradlew.bat||gradlew.bat": [
          "File: gradlew.bat -> gradlew.bat",
          "--- Hunk 1 ---",
          "[Context before]",
          "14: @rem limitations under the License.",
          "15: @rem",
          "18: @rem ##########################################################################",
          "19: @rem",
          "20: @rem  Gradle startup script for Windows",
          "",
          "[Removed Lines]",
          "17: @if \"%DEBUG%\" == \"\" @echo off",
          "",
          "[Added Lines]",
          "17: @if \"%DEBUG%\"==\"\" @echo off",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "25: if \"%OS%\"==\"Windows_NT\" setlocal",
          "27: set DIRNAME=%~dp0",
          "29: set APP_BASE_NAME=%~n0",
          "30: set APP_HOME=%DIRNAME%",
          "",
          "[Removed Lines]",
          "28: if \"%DIRNAME%\" == \"\" set DIRNAME=.",
          "",
          "[Added Lines]",
          "28: if \"%DIRNAME%\"==\"\" set DIRNAME=.",
          "29: @rem This is normally unused",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "41: set JAVA_EXE=java.exe",
          "42: %JAVA_EXE% -version >NUL 2>&1",
          "45: echo.",
          "46: echo ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.",
          "",
          "[Removed Lines]",
          "43: if \"%ERRORLEVEL%\" == \"0\" goto execute",
          "",
          "[Added Lines]",
          "44: if %ERRORLEVEL% equ 0 goto execute",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "76: :end",
          "77: @rem End local scope for the variables with windows NT shell",
          "80: :fail",
          "81: rem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of",
          "82: rem the _cmd.exe /c_ return code!",
          "86: :mainEnd",
          "87: if \"%OS%\"==\"Windows_NT\" endlocal",
          "",
          "[Removed Lines]",
          "78: if \"%ERRORLEVEL%\"==\"0\" goto mainEnd",
          "83: if  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1",
          "84: exit /b 1",
          "",
          "[Added Lines]",
          "79: if %ERRORLEVEL% equ 0 goto mainEnd",
          "84: set EXIT_CODE=%ERRORLEVEL%",
          "85: if %EXIT_CODE% equ 0 set EXIT_CODE=1",
          "86: if not \"\"==\"%GRADLE_EXIT_CONSOLE%\" exit %EXIT_CODE%",
          "87: exit /b %EXIT_CODE%",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java||src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java": [
          "File: src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java -> src/main/java/net/devtech/arrp/api/RuntimeResourcePack.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "229:  default void dump(Path path) {",
          "232:   this.dumpDirect(folder);",
          "233:  }",
          "",
          "[Removed Lines]",
          "230:   Identifier id = this.getId();",
          "231:   Path folder = path.resolve(id.getNamespace() + ';' + id.getPath());",
          "",
          "[Added Lines]",
          "230:   String id = this.getInfo().id();",
          "231:   Path folder = path.resolve(id);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "243:  void load(ZipInputStream stream) throws IOException;",
          "246: }",
          "",
          "[Removed Lines]",
          "245:  Identifier getId();",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java||src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java": [
          "File: src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java -> src/main/java/net/devtech/arrp/impl/RuntimeResourcePackImpl.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "25: import net.minecraft.resource.AbstractFileResourcePack;",
          "26: import net.minecraft.resource.InputSupplier;",
          "27: import net.minecraft.resource.ResourcePack;",
          "28: import net.minecraft.resource.ResourceType;",
          "29: import net.minecraft.resource.metadata.ResourceMetadataReader;",
          "30: import net.minecraft.util.Identifier;",
          "31: import org.apache.logging.log4j.LogManager;",
          "32: import org.jetbrains.annotations.ApiStatus;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "28: import net.minecraft.resource.ResourcePackInfo;",
          "29: import net.minecraft.resource.ResourcePackSource;",
          "32: import net.minecraft.text.Text;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "392:    }",
          "393:   }",
          "394:  }",
          "",
          "[Removed Lines]",
          "396:  @Override",
          "397:  public Identifier getId() {",
          "398:   return this.id;",
          "399:  }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "485:    return null;",
          "486:   }",
          "487:  }",
          "489:  @Override",
          "492:  }",
          "494:  @Override",
          "495:  public void close() {",
          "496:   LOGGER.info(\"closing rrp \" + this.id);",
          "",
          "[Removed Lines]",
          "490:  public String getName() {",
          "491:   return \"Runtime Resource Pack\" + this.id;",
          "",
          "[Added Lines]",
          "488:  public ResourcePackInfo getInfo() {",
          "489:   return new ResourcePackInfo(\"Runtime Resource Pack\" + this.id, Text.of(this.id), new ResourcePackSource() {",
          "490:    @Override",
          "491:    public Text decorate(Text var1) {",
          "492:     return var1;",
          "493:    }",
          "495:    @Override",
          "496:    public boolean canBeEnabledLater() {",
          "497:     return false;",
          "498:    }",
          "499:   }, Optional.empty());",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java||src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java": [
          "File: src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java -> src/main/java/net/devtech/arrp/mixin/FileResourcePackProviderMixin.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: import net.devtech.arrp.ARRP;",
          "4: import net.devtech.arrp.api.RRPCallback;",
          "5: import net.minecraft.resource.*;",
          "6: import net.minecraft.text.Text;",
          "7: import net.minecraft.util.Formatting;",
          "8: import org.apache.logging.log4j.LogManager;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6: import net.minecraft.resource.ResourcePackProfile.InsertionPosition;",
          "7: import net.minecraft.resource.ResourcePackProfile.Metadata;",
          "8: import net.minecraft.resource.ResourcePackProfile.PackFactory;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "22: @Mixin(FileResourcePackProvider.class)",
          "23: public class FileResourcePackProviderMixin {",
          "24:  @Shadow @Final private ResourceType type;",
          "26:  private static final Logger ARRP_LOGGER = LogManager.getLogger(\"ARRP/FileResourcePackProviderMixin\");",
          "28:  private static UnaryOperator<Text> getSourceTextSupplier() {",
          "",
          "[Removed Lines]",
          "25:  private static final ResourcePackSource RUNTIME = ResourcePackSource.create(getSourceTextSupplier(), true);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "43:   for (ResourcePack pack : list) {",
          "44:    adder.accept(ResourcePackProfile.create(",
          "52:    ));",
          "53:   }",
          "54:  }",
          "",
          "[Removed Lines]",
          "45:     pack.getName(),",
          "46:     Text.literal(pack.getName()),",
          "47:     false,",
          "48:     (name) -> pack,",
          "49:     this.type,",
          "50:     ResourcePackProfile.InsertionPosition.TOP,",
          "51:     RUNTIME",
          "",
          "[Added Lines]",
          "47:      pack.getInfo(),",
          "48:      new PackFactory() {",
          "49:       @Override",
          "50:       public ResourcePack openWithOverlays(ResourcePackInfo var1, Metadata var2) {",
          "51:        return pack;",
          "52:       }",
          "54:       @Override",
          "55:       public ResourcePack open(ResourcePackInfo var1) {",
          "56:        return pack;",
          "57:       }",
          "58:      },",
          "59:      this.type,",
          "60:      new ResourcePackPosition(true, InsertionPosition.TOP, false)",
          "",
          "---------------"
        ],
        "src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java||src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java": [
          "File: src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java -> src/main/java/net/devtech/arrp/mixin/LifecycledResourceManagerImplMixin.java",
          "--- Hunk 1 ---",
          "[Context before]",
          "9: import com.google.common.collect.Lists;",
          "10: import net.devtech.arrp.ARRP;",
          "12: import net.devtech.arrp.api.SidedRRPCallback;",
          "14: import org.apache.logging.log4j.LogManager;",
          "15: import org.apache.logging.log4j.Logger;",
          "16: import org.spongepowered.asm.mixin.Mixin;",
          "17: import org.spongepowered.asm.mixin.injection.At;",
          "19: import org.spongepowered.asm.mixin.injection.ModifyVariable;",
          "22: import net.minecraft.resource.LifecycledResourceManagerImpl;",
          "23: import net.minecraft.resource.ResourcePack;",
          "",
          "[Removed Lines]",
          "11: import net.devtech.arrp.api.RRPCallback;",
          "13: import net.devtech.arrp.util.IrremovableList;",
          "18: import org.spongepowered.asm.mixin.injection.Inject;",
          "20: import org.spongepowered.asm.mixin.injection.callback.CallbackInfo;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "34:   ARRP_LOGGER.info(\"ARRP register - before vanilla\");",
          "35:   SidedRRPCallback.BEFORE_VANILLA.invoker().insert(type, Lists.reverse(copy));",
          "39:   if (optionalInt.isPresent()) {",
          "40:    ARRP_LOGGER.info(\"ARRP register - between vanilla and mods\");",
          "",
          "[Removed Lines]",
          "37:   OptionalInt optionalInt = IntStream.range(0, copy.size()).filter(i -> copy.get(i).getName().equals(\"fabric\")).findFirst();",
          "",
          "[Added Lines]",
          "33:   OptionalInt optionalInt = IntStream.range(0, copy.size()).filter(i -> copy.get(i).getInfo().id().equals(\"fabric\")).findFirst();",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "6a788dd76223c0a32a1eb6ff9c34661c90696247",
      "candidate_info": {
        "commit_hash": "6a788dd76223c0a32a1eb6ff9c34661c90696247",
        "repo": "Devan-Kerman/ARRP",
        "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/6a788dd76223c0a32a1eb6ff9c34661c90696247",
        "files": [
          "README.md",
          "gradle.properties"
        ],
        "message": "release 0.8.0",
        "before_after_code_files": [
          "gradle.properties||gradle.properties"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "gradle.properties||gradle.properties"
          ],
          "candidate": [
            "gradle.properties||gradle.properties"
          ]
        }
      },
      "candidate_diff": {
        "gradle.properties||gradle.properties": [
          "File: gradle.properties -> gradle.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "8: fabric_version=0.84.0+1.20.1",
          "10: # Mod Properties",
          "12: maven_group=net.devtech",
          "13: archives_base_name=arrp",
          "14: # Dependencies",
          "",
          "[Removed Lines]",
          "11: mod_version=0.7.0",
          "",
          "[Added Lines]",
          "11: mod_version=0.8.0",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "1e89b0d17a80e55486613b3b223d58027fb225f8",
      "candidate_info": {
        "commit_hash": "1e89b0d17a80e55486613b3b223d58027fb225f8",
        "repo": "Devan-Kerman/ARRP",
        "commit_url": "https://github.com/Devan-Kerman/ARRP/commit/1e89b0d17a80e55486613b3b223d58027fb225f8",
        "files": [
          "README.md",
          "gradle.properties"
        ],
        "message": "release 0.7.0",
        "before_after_code_files": [
          "gradle.properties||gradle.properties"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "gradle.properties||gradle.properties"
          ],
          "candidate": [
            "gradle.properties||gradle.properties"
          ]
        }
      },
      "candidate_diff": {
        "gradle.properties||gradle.properties": [
          "File: gradle.properties -> gradle.properties",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: # Fabric Properties",
          "7: #Fabric api",
          "10: # Mod Properties",
          "12: maven_group=net.devtech",
          "13: archives_base_name=arrp",
          "14: # Dependencies",
          "",
          "[Removed Lines]",
          "2: # check these on https://modmuss50.me/fabric.html",
          "3: minecraft_version=1.19.3",
          "4: yarn_mappings=1.19.3+build.2",
          "5: loader_version=0.14.11",
          "8: fabric_version=0.68.1+1.19.3",
          "11: mod_version=0.6.7",
          "",
          "[Added Lines]",
          "2: # check these on https://www.fabricmc.net/develop/",
          "3: minecraft_version=1.20.1",
          "4: yarn_mappings=1.20.1+build.5",
          "5: loader_version=0.14.21",
          "8: fabric_version=0.84.0+1.20.1",
          "11: mod_version=0.7.0",
          "",
          "---------------"
        ]
      }
    }
  ]
}