{
  "cve_id": "CVE-2024-28236",
  "cve_desc": "Vela is a Pipeline Automation (CI/CD) framework built on Linux container technology written in Golang. Vela pipelines can use variable substitution combined with insensitive fields like `parameters`, `image` and `entrypoint` to inject secrets into a plugin/image and \u2014 by using common substitution string manipulation \u2014 can bypass log masking and expose secrets without the use of the commands block. This unexpected behavior primarily impacts secrets restricted by the \"no commands\" option. This can lead to unintended use of the secret value, and increased risk of exposing the secret during image execution bypassing log masking. **To exploit this** the pipeline author must be supplying the secrets to a plugin that is designed in such a way that will print those parameters in logs. Plugin parameters are not designed for sensitive values and are often intentionally printed throughout execution for informational/debugging purposes. Parameters should therefore be treated as insensitive. While Vela provides secrets masking, secrets exposure is not entirely solved by the masking process. A docker image (plugin) can easily expose secrets if they are not handled properly, or altered in some way. There is a responsibility on the end-user to understand how values injected into a plugin are used. This is a risk that exists for many CICD systems (like GitHub Actions) that handle sensitive runtime variables. Rather, the greater risk is that users who restrict a secret to the \"no commands\" option and use image restriction can still have their secret value exposed via substitution tinkering, which turns the image and command restrictions into a false sense of security. This issue has been addressed in version 0.23.2. Users are advised to upgrade. Users unable to upgrade should not provide sensitive values to plugins that can potentially expose them, especially in `parameters` that are not intended to be used for sensitive values, ensure plugins (especially those that utilize shared secrets) follow best practices to avoid logging parameters that are expected to be sensitive, minimize secrets with `pull_request` events enabled, as this allows users to change pipeline configurations and pull in secrets to steps not typically part of the CI process, make use of the build approval setting, restricting builds from untrusted users, and limit use of shared secrets, as they are less restrictive to access by nature.",
  "repo": "go-vela/worker",
  "patch_hash": "e1572743b008e4fbce31ebb1dcd23bf6a1a30297",
  "patch_info": {
    "commit_hash": "e1572743b008e4fbce31ebb1dcd23bf6a1a30297",
    "repo": "go-vela/worker",
    "commit_url": "https://github.com/go-vela/worker/commit/e1572743b008e4fbce31ebb1dcd23bf6a1a30297",
    "files": [
      "executor/linux/build.go",
      "executor/linux/linux.go",
      "executor/linux/secret.go",
      "executor/linux/service.go",
      "executor/linux/step.go",
      "go.mod",
      "go.sum"
    ],
    "message": "Merge pull request from GHSA-pwx5-6wxg-px5h\n\n* fix(secrets): split env injection based on allow_substitution value\n\n* upgrade sdk server and types",
    "before_after_code_files": [
      "executor/linux/build.go||executor/linux/build.go",
      "executor/linux/linux.go||executor/linux/linux.go",
      "executor/linux/secret.go||executor/linux/secret.go",
      "executor/linux/service.go||executor/linux/service.go",
      "executor/linux/step.go||executor/linux/step.go",
      "go.mod||go.mod",
      "go.sum||go.sum"
    ]
  },
  "patch_diff": {
    "executor/linux/build.go||executor/linux/build.go": [
      "File: executor/linux/build.go -> executor/linux/build.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "200:   _log.AppendData(append(sRaw, \"\\n\"...))",
      "204:  }",
      "",
      "[Removed Lines]",
      "203:   c.Secrets[secret.Name] = s",
      "",
      "[Added Lines]",
      "203:   if s.GetAllowSubstitution() {",
      "204:    c.Secrets[secret.Name] = s",
      "205:   } else {",
      "206:    c.NoSubSecrets[secret.Name] = s",
      "207:   }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "699:  _log := new(library.Log)",
      "701:  lazySecrets := make(map[string]*library.Secret)",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "706:  lazyNoSubSecrets := make(map[string]*library.Secret)",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "797:     return err",
      "798:    }",
      "802:   }",
      "803:  }",
      "",
      "[Removed Lines]",
      "801:    lazySecrets[secret.Name] = s",
      "",
      "[Added Lines]",
      "806:    if s.GetAllowSubstitution() {",
      "807:     lazySecrets[secret.Name] = s",
      "808:    } else {",
      "809:     lazyNoSubSecrets[secret.Name] = s",
      "810:    }",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "836:    return err",
      "837:   }",
      "839:   c.Logger.Debug(\"merge lazy loaded secrets into container\")",
      "841:   err = _step.MergeEnv(tmpStep.Environment)",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "848:   c.Logger.Debug(\"injecting no-sub lazy loaded secrets\")",
      "850:   err = injectSecrets(tmpStep, lazyNoSubSecrets)",
      "851:   if err != nil {",
      "852:    return err",
      "853:   }",
      "",
      "---------------"
    ],
    "executor/linux/linux.go||executor/linux/linux.go": [
      "File: executor/linux/linux.go -> executor/linux/linux.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "20:  client struct {",
      "30:   secret *secretSvc",
      "",
      "[Removed Lines]",
      "22:   Logger   *logrus.Entry",
      "23:   Vela     *vela.Client",
      "24:   Runtime  runtime.Engine",
      "25:   Secrets  map[string]*library.Secret",
      "26:   Hostname string",
      "27:   Version  string",
      "",
      "[Added Lines]",
      "22:   Logger       *logrus.Entry",
      "23:   Vela         *vela.Client",
      "24:   Runtime      runtime.Engine",
      "25:   Secrets      map[string]*library.Secret",
      "26:   NoSubSecrets map[string]*library.Secret",
      "27:   Hostname     string",
      "28:   Version      string",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "67:   reflect.DeepEqual(a.Vela, b.Vela) &&",
      "68:   reflect.DeepEqual(a.Runtime, b.Runtime) &&",
      "69:   reflect.DeepEqual(a.Secrets, b.Secrets) &&",
      "70:   a.Hostname == b.Hostname &&",
      "71:   a.Version == b.Version &&",
      "72:   reflect.DeepEqual(a.init, b.init) &&",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "71:   reflect.DeepEqual(a.NoSubSecrets, b.NoSubSecrets) &&",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "119:  c.Secrets = make(map[string]*library.Secret)",
      "122:  c.secret = &secretSvc{client: c}",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "124:  c.NoSubSecrets = make(map[string]*library.Secret)",
      "",
      "---------------"
    ],
    "executor/linux/secret.go||executor/linux/secret.go": [
      "File: executor/linux/secret.go -> executor/linux/secret.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "67:   return fmt.Errorf(\"unable to substitute container configuration\")",
      "68:  }",
      "70:  return nil",
      "71: }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "70:  logger.Debug(\"injecting non-substituted secrets\")",
      "72:  err = injectSecrets(ctn, s.client.NoSubSecrets)",
      "73:  if err != nil {",
      "74:   return err",
      "75:  }",
      "",
      "---------------"
    ],
    "executor/linux/service.go||executor/linux/service.go": [
      "File: executor/linux/service.go -> executor/linux/service.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "55:   return fmt.Errorf(\"unable to substitute container configuration\")",
      "56:  }",
      "58:  return nil",
      "59: }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "58:  logger.Debug(\"injecting non-substituted secrets\")",
      "60:  err = injectSecrets(ctn, c.NoSubSecrets)",
      "61:  if err != nil {",
      "62:   return err",
      "63:  }",
      "",
      "---------------"
    ],
    "executor/linux/step.go||executor/linux/step.go": [
      "File: executor/linux/step.go -> executor/linux/step.go",
      "--- Hunk 1 ---",
      "[Context before]",
      "65:   return fmt.Errorf(\"unable to substitute container configuration\")",
      "66:  }",
      "68:  return nil",
      "69: }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "68:  logger.Debug(\"injecting non-substituted secrets\")",
      "70:  err = injectSecrets(ctn, c.NoSubSecrets)",
      "71:  if err != nil {",
      "72:   return err",
      "73:  }",
      "",
      "---------------"
    ],
    "go.mod||go.mod": [
      "File: go.mod -> go.mod",
      "--- Hunk 1 ---",
      "[Context before]",
      "8:  github.com/docker/docker v24.0.9+incompatible",
      "9:  github.com/docker/go-units v0.5.0",
      "10:  github.com/gin-gonic/gin v1.9.1",
      "14:  github.com/golang-jwt/jwt/v5 v5.2.0",
      "15:  github.com/google/go-cmp v0.6.0",
      "16:  github.com/joho/godotenv v1.5.1",
      "",
      "[Removed Lines]",
      "11:  github.com/go-vela/sdk-go v0.23.1",
      "12:  github.com/go-vela/server v0.23.1",
      "13:  github.com/go-vela/types v0.23.1",
      "",
      "[Added Lines]",
      "11:  github.com/go-vela/sdk-go v0.23.2-0.20240312184917-e3a34719badf",
      "12:  github.com/go-vela/server v0.23.2-0.20240312184244-a645c822da1d",
      "13:  github.com/go-vela/types v0.23.2-0.20240312183632-2e046fceb8fe",
      "",
      "---------------"
    ],
    "go.sum||go.sum": [
      "File: go.sum -> go.sum",
      "--- Hunk 1 ---",
      "[Context before]",
      "94: github.com/go-playground/validator/v10 v10.14.0/go.mod h1:9iXMNT7sEkjXb0I+enO7QXmzG6QCsPWY4zveKFVRSyU=",
      "95: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572 h1:tfuBGBXKqDEevZMzYi5KSi8KkcZtzBcTgAUUtapy0OI=",
      "96: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572/go.mod h1:9Pwr4B2jHnOSGXyyzV8ROjYa2ojvAY6HCGYYfMoC3Ls=",
      "103: github.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=",
      "104: github.com/goccy/go-json v0.10.2/go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=",
      "105: github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=",
      "",
      "[Removed Lines]",
      "97: github.com/go-vela/sdk-go v0.23.1 h1:4KxfAF1vR8DvtRraBoWQDIm8f8zxXP806lJR3MmTlC8=",
      "98: github.com/go-vela/sdk-go v0.23.1/go.mod h1:zDsZIePtBdpCZwmwAWqGWuIch/oGliX1zd51PARTHBk=",
      "99: github.com/go-vela/server v0.23.1 h1:Y+mGfB79RjIgQ3IEkPjGB6IneB2So3ZXE4XKY+Z02xc=",
      "100: github.com/go-vela/server v0.23.1/go.mod h1:B+A5lRPOlAVYyXBMGCAJKhPQOlfJuWl3qaRcvhsUqSA=",
      "101: github.com/go-vela/types v0.23.1 h1:st4BeDcYVyaaFqblU1YroztNvmYLBgmfZpWq0En0Sg0=",
      "102: github.com/go-vela/types v0.23.1/go.mod h1:AAqgxIw1aRBgPkE/5juGuiwh/JZuOtL8fcPaEkjFWwQ=",
      "",
      "[Added Lines]",
      "97: github.com/go-vela/sdk-go v0.23.2-0.20240312184917-e3a34719badf h1:8Oka4tMHOdy/DsInyg7c/XPY5wqWWE7Yvzx/u67WBuw=",
      "98: github.com/go-vela/sdk-go v0.23.2-0.20240312184917-e3a34719badf/go.mod h1:XjrVfIDw2SZDFBtJ5vqVse/GFj89MF542N20P8U5a3I=",
      "99: github.com/go-vela/server v0.23.2-0.20240312184244-a645c822da1d h1:VynpkAIMt3KTh9BaICQdpu6c76/hHU3d4/Ab44bmFew=",
      "100: github.com/go-vela/server v0.23.2-0.20240312184244-a645c822da1d/go.mod h1:EsDVTqQHQ9snXG2DhUl9uo4+Cf/b9nMiESCkxSjmP90=",
      "101: github.com/go-vela/types v0.23.2-0.20240312183632-2e046fceb8fe h1:Fb28yre0nrX1GNeyPN8i8rruTlW8MnPVF3Fo5xTuOkg=",
      "102: github.com/go-vela/types v0.23.2-0.20240312183632-2e046fceb8fe/go.mod h1:AAqgxIw1aRBgPkE/5juGuiwh/JZuOtL8fcPaEkjFWwQ=",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "041e1a2e4de8ac5d52474c5b7bf1197aabf68fd6",
      "candidate_info": {
        "commit_hash": "041e1a2e4de8ac5d52474c5b7bf1197aabf68fd6",
        "repo": "go-vela/worker",
        "commit_url": "https://github.com/go-vela/worker/commit/041e1a2e4de8ac5d52474c5b7bf1197aabf68fd6",
        "files": [
          "cmd/vela-worker/exec.go",
          "cmd/vela-worker/flags.go",
          "cmd/vela-worker/operate.go",
          "cmd/vela-worker/run.go",
          "cmd/vela-worker/worker.go",
          "docker-compose.yml",
          "executor/linux/build.go",
          "executor/linux/linux.go",
          "executor/linux/opts.go",
          "executor/linux/outputs.go",
          "executor/linux/step.go",
          "executor/linux/test_report_outputs.go",
          "executor/local/step.go",
          "executor/setup.go",
          "executor/setup_test.go",
          "go.mod",
          "go.sum",
          "runtime/docker/test_report.go",
          "runtime/docker/test_report_test.go",
          "runtime/engine.go",
          "runtime/kubernetes/container.go",
          "runtime/kubernetes/test_report_test.go"
        ],
        "message": "working code for upload file but content is empty atm",
        "before_after_code_files": [
          "cmd/vela-worker/exec.go||cmd/vela-worker/exec.go",
          "cmd/vela-worker/flags.go||cmd/vela-worker/flags.go",
          "cmd/vela-worker/operate.go||cmd/vela-worker/operate.go",
          "cmd/vela-worker/run.go||cmd/vela-worker/run.go",
          "cmd/vela-worker/worker.go||cmd/vela-worker/worker.go",
          "executor/linux/build.go||executor/linux/build.go",
          "executor/linux/linux.go||executor/linux/linux.go",
          "executor/linux/opts.go||executor/linux/opts.go",
          "executor/linux/outputs.go||executor/linux/outputs.go",
          "executor/linux/step.go||executor/linux/step.go",
          "executor/linux/test_report_outputs.go||executor/linux/test_report_outputs.go",
          "executor/local/step.go||executor/local/step.go",
          "executor/setup.go||executor/setup.go",
          "executor/setup_test.go||executor/setup_test.go",
          "go.mod||go.mod",
          "go.sum||go.sum",
          "runtime/docker/test_report.go||runtime/docker/test_report.go",
          "runtime/docker/test_report_test.go||runtime/docker/test_report_test.go",
          "runtime/engine.go||runtime/engine.go",
          "runtime/kubernetes/container.go||runtime/kubernetes/container.go",
          "runtime/kubernetes/test_report_test.go||runtime/kubernetes/test_report_test.go"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "executor/linux/build.go||executor/linux/build.go",
            "executor/linux/linux.go||executor/linux/linux.go",
            "executor/linux/step.go||executor/linux/step.go",
            "go.mod||go.mod",
            "go.sum||go.sum"
          ],
          "candidate": [
            "executor/linux/build.go||executor/linux/build.go",
            "executor/linux/linux.go||executor/linux/linux.go",
            "executor/linux/step.go||executor/linux/step.go",
            "go.mod||go.mod",
            "go.sum||go.sum"
          ]
        }
      },
      "candidate_diff": {
        "cmd/vela-worker/exec.go||cmd/vela-worker/exec.go": [
          "File: cmd/vela-worker/exec.go -> cmd/vela-worker/exec.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "150:  execOutputCtn := *w.Config.Executor.OutputCtn",
          "151:  execOutputCtn.ID = fmt.Sprintf(\"outputs_%s\", p.ID)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "153:  execStorage := *w.Config.Executor.Storage",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "163:   \"version\":  v.Semantic(),",
          "164:  })",
          "167:  w.RunningBuildsMutex.Lock()",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "170:  if &execStorage == nil {",
          "171:   logger.Errorf(\"storage config is not set\")",
          "172:  }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "242:   Pipeline:            p.Sanitize(w.Config.Runtime.Driver),",
          "243:   Version:             v.Semantic(),",
          "244:   OutputCtn:           &execOutputCtn,",
          "245:  })",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "253:   Storage:             &execStorage,",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "257:   wg.Wait()",
          "259:   logger.Info(\"destroying build\")",
          "263:   err = _executor.DestroyBuild(context.Background())",
          "264:   if err != nil {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "269:   if _executor == nil {",
          "271:   }",
          "",
          "---------------"
        ],
        "cmd/vela-worker/flags.go||cmd/vela-worker/flags.go": [
          "File: cmd/vela-worker/flags.go -> cmd/vela-worker/flags.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: package main",
          "5: import (",
          "6:  \"time\"",
          "8:  \"github.com/urfave/cli/v2\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "105:  f = append(f, runtime.Flags...)",
          "107:  return f",
          "108: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "110:  f = append(f, storage.Flags...)",
          "",
          "---------------"
        ],
        "cmd/vela-worker/operate.go||cmd/vela-worker/operate.go": [
          "File: cmd/vela-worker/operate.go -> cmd/vela-worker/operate.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "77:   w.updateWorkerStatus(registryWorker, constants.WorkerStatusError)",
          "78:  }",
          "81:  executors.Go(func() error {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "81:  logrus.Trace(\"getting storage s3 creds..\")",
          "83:  stCreds, _, err := w.VelaClient.Storage.GetInfo()",
          "84:  if err != nil {",
          "85:   logrus.Trace(\"error getting storage creds\")",
          "86:   return err",
          "87:  }",
          "90:  if len(w.Config.Executor.Storage.Endpoint) == 0 {",
          "91:   w.Config.Executor.Storage.Endpoint = stCreds.GetStorageAddress()",
          "92:   logrus.Trace(\"storage address: \", w.Config.Executor.Storage.Driver)",
          "93:  }",
          "96:  w.Config.Executor.Storage.AccessKey = stCreds.GetAccessKey()",
          "97:  logrus.Trace(\"access key: \", w.Config.Executor.Storage.AccessKey)",
          "99:  w.Config.Executor.Storage.SecretKey = stCreds.GetSecretKey()",
          "100:  logrus.Trace(\"secret key: \", w.Config.Executor.Storage.SecretKey)",
          "",
          "---------------"
        ],
        "cmd/vela-worker/run.go||cmd/vela-worker/run.go": [
          "File: cmd/vela-worker/run.go -> cmd/vela-worker/run.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: import (",
          "6:  \"fmt\"",
          "7:  \"net/url\"",
          "9:  \"github.com/gin-gonic/gin\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "107:     LogStreamingTimeout: c.Duration(\"executor.log_streaming_timeout\"),",
          "108:     EnforceTrustedRepos: c.Bool(\"executor.enforce-trusted-repos\"),",
          "109:     OutputCtn:           outputsCtn,",
          "112:    Logger: &Logger{",
          "113:     Format: c.String(\"log.format\"),",
          "",
          "[Removed Lines]",
          "110:    },",
          "",
          "[Added Lines]",
          "111:     Storage: &storage.Setup{",
          "112:      Driver:    c.String(\"storage.driver\"),",
          "113:      Endpoint:  c.String(\"storage.endpoint.name\"),",
          "114:      AccessKey: c.String(\"storage.access.key\"),",
          "115:      SecretKey: c.String(\"storage.secret.key\"),",
          "116:      Bucket:    c.String(\"storage.bucket.name\"),",
          "117:     }},",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "142:     Cert: c.String(\"server.cert\"),",
          "143:     Key:  c.String(\"server.cert-key\"),",
          "144:    },",
          "146:    TLSMinVersion: c.String(\"server.tls-min-version\"),",
          "147:   },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "152:    Storage: &storage.Setup{",
          "153:     Driver:    c.String(\"storage.driver\"),",
          "154:     Endpoint:  c.String(\"storage.endpoint.name\"),",
          "155:     AccessKey: c.String(\"storage.access.key\"),",
          "156:     SecretKey: c.String(\"storage.secret.key\"),",
          "157:     Bucket:    c.String(\"storage.bucket.name\"),",
          "158:    },",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "152:   RunningBuilds: make([]*api.Build, 0),",
          "153:  }",
          "156:  if len(w.Config.API.Address.String()) == 0 {",
          "157:   w.Config.API.Address, _ = url.Parse(fmt.Sprintf(\"http://%s\", hostname))",
          "158:  }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "168:  logrus.Infof(\"Storage configuration - Driver: %s, Endpoint: %s, AccessKey: %s, SecretKey: %s\", c.String(\"queue.driver\"), c.String(\"storage.endpoint.name\"), c.String(\"storage.access.key\"), c.String(\"storage.secret.key\")) // set the worker address if no flag was provided",
          "",
          "---------------"
        ],
        "cmd/vela-worker/worker.go||cmd/vela-worker/worker.go": [
          "File: cmd/vela-worker/worker.go -> cmd/vela-worker/worker.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: package main",
          "5: import (",
          "6:  \"net/url\"",
          "7:  \"sync\"",
          "8:  \"time\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "57:   Server        *Server",
          "58:   Certificate   *Certificate",
          "59:   TLSMinVersion string",
          "60:  }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "61:   Storage       *storage.Setup",
          "",
          "---------------"
        ],
        "executor/linux/build.go||executor/linux/build.go": [
          "File: executor/linux/build.go -> executor/linux/build.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "30:  defer func() { build.Snapshot(c.build, c.Vela, c.err, c.Logger) }()",
          "33:  c.build.SetStatus(constants.StatusRunning)",
          "34:  c.build.SetStarted(time.Now().UTC().Unix())",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "33:  if c.Storage == nil {",
          "34:   return fmt.Errorf(\"storage client is not initialized\")",
          "35:  }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "866:   }",
          "867:  }()",
          "870:  for _, _step := range c.pipeline.Steps {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "877:  fileNames, err := c.outputs.pollFiles(ctx, c.OutputCtn)",
          "878:  c.Logger.Infof(\"file names from outputs in before destroy build: %s\", fileNames)",
          "",
          "---------------"
        ],
        "executor/linux/linux.go||executor/linux/linux.go": [
          "File: executor/linux/linux.go -> executor/linux/linux.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: import (",
          "6:  \"errors\"",
          "7:  \"reflect\"",
          "8:  \"sync\"",
          "9:  \"time\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "29:   Hostname     string",
          "30:   Version      string",
          "31:   OutputCtn    *pipeline.Container",
          "34:   secret  *secretSvc",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "33:   Storage      storage.Storage",
          "",
          "---------------"
        ],
        "executor/linux/opts.go||executor/linux/opts.go": [
          "File: executor/linux/opts.go -> executor/linux/opts.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: import (",
          "6:  \"fmt\"",
          "7:  \"time\"",
          "9:  \"github.com/sirupsen/logrus\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "197:  }",
          "198: }",
          "202: func withStreamRequests(s chan message.StreamRequest) Opt {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "202: func WithStorage(s *storage.Setup) Opt {",
          "203:  return func(c *client) error {",
          "204:   c.Logger.Trace(\"configuring storage in linux executor client\")",
          "207:   if &s == nil {",
          "208:    return fmt.Errorf(\"empty storage setup provided\")",
          "209:   }",
          "212:   var err error",
          "213:   c.Storage, err = storage.New(s)",
          "214:   if err != nil {",
          "215:    return fmt.Errorf(\"unable to create storage: %v\", err)",
          "217:   }",
          "218:   if c.Storage == nil {",
          "219:    return fmt.Errorf(\"empty storage setup: %v\", err)",
          "220:   }",
          "222:   return nil",
          "223:  }",
          "224: }",
          "",
          "---------------"
        ],
        "executor/linux/outputs.go||executor/linux/outputs.go": [
          "File: executor/linux/outputs.go -> executor/linux/outputs.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "7:  \"context\"",
          "8:  \"encoding/base64\"",
          "9:  \"fmt\"",
          "11:  envparse \"github.com/hashicorp/go-envparse\"",
          "12:  \"github.com/sirupsen/logrus\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "10:  api \"github.com/go-vela/server/api/types\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "149:  return outputMap, maskMap, nil",
          "150: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "153: func (o *outputSvc) pollFiles(ctx context.Context, ctn *pipeline.Container) ([]string, error) {",
          "155:  if len(ctn.Image) == 0 {",
          "156:   return nil, nil",
          "157:  }",
          "162:  logger := o.client.Logger.WithField(\"test-outputs\", ctn.Name)",
          "164:  logger.Debug(\"tailing container\")",
          "167:  fileNames, err := o.client.Runtime.PollFileNames(ctx, ctn, []string{\"/vela/src/git.target.com/TamHuynh/supvela/cypress/fixtures/*.json\"})",
          "168:  if err != nil {",
          "169:   return nil, err",
          "170:  }",
          "171:  for _, fileName := range fileNames {",
          "172:   logger.Infof(\"fileName: %v\", fileName)",
          "173:   reader, size, err := o.client.Runtime.PollFileContent(ctx, ctn, fileName)",
          "174:   if err != nil {",
          "175:    logger.Errorf(\"unable to poll file content: %v\", err)",
          "176:    return nil, err",
          "177:   }",
          "193:   sc := o.client.Storage",
          "194:   err = sc.UploadObject(ctx, &api.Object{",
          "195:    ObjectName: fileName,",
          "196:    Bucket:     api.Bucket{BucketName: \"vela\"},",
          "197:    FilePath:   fileName,",
          "198:   }, reader, size)",
          "199:   if err != nil {",
          "200:    logger.Errorf(\"unable to upload object: %v\", err)",
          "201:    return nil, err",
          "202:   }",
          "208:  }",
          "209:  logger.Infof(\"fileNames: %v\", fileNames)",
          "210:  if len(fileNames) == 0 {",
          "211:   logger.Debug(\"no files found\")",
          "212:  }",
          "214:  return fileNames, nil",
          "237: }",
          "",
          "---------------"
        ],
        "executor/linux/step.go||executor/linux/step.go": [
          "File: executor/linux/step.go -> executor/linux/step.go"
        ],
        "executor/linux/test_report_outputs.go||executor/linux/test_report_outputs.go": [
          "File: executor/linux/test_report_outputs.go -> executor/linux/test_report_outputs.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3: package linux",
          "5: import (",
          "6:  \"bytes\"",
          "7:  \"context\"",
          "8:  \"encoding/base64\"",
          "9:  \"fmt\"",
          "11:  envparse \"github.com/hashicorp/go-envparse\"",
          "12:  \"github.com/sirupsen/logrus\"",
          "14:  \"github.com/go-vela/server/compiler/types/pipeline\"",
          "15: )",
          "18: type TestReportSvc svc",
          "21: func (o *TestReportSvc) create(ctx context.Context, ctn *pipeline.Container, timeout int64) error {",
          "23:  if len(ctn.Image) == 0 {",
          "24:   return nil",
          "25:  }",
          "28:  logger := o.client.Logger.WithField(\"outputs\", \"outputs\")",
          "31:  script := base64.StdEncoding.EncodeToString(",
          "32:   []byte(fmt.Sprintf(\"mkdir /vela/outputs\\nsleep %d\\n\", timeout)),",
          "33:  )",
          "36:  ctn.Entrypoint = []string{\"/bin/sh\", \"-c\"}",
          "39:  ctn.Commands = []string{\"echo $VELA_BUILD_SCRIPT | base64 -d | /bin/sh -e\"}",
          "42:  ctn.Environment[\"HOME\"] = \"/root\"",
          "43:  ctn.Environment[\"SHELL\"] = \"/bin/sh\"",
          "44:  ctn.Environment[\"VELA_BUILD_SCRIPT\"] = script",
          "46:  logger.Debug(\"setting up outputs container\")",
          "48:  err := o.client.Runtime.SetupContainer(ctx, ctn)",
          "49:  if err != nil {",
          "50:   return err",
          "51:  }",
          "53:  return nil",
          "54: }",
          "57: func (o *TestReportSvc) destroy(ctx context.Context, ctn *pipeline.Container) error {",
          "59:  if len(ctn.Image) == 0 {",
          "60:   return nil",
          "61:  }",
          "66:  logger := o.client.Logger.WithField(\"outputs\", ctn.Name)",
          "68:  logger.Debug(\"inspecting outputs container\")",
          "70:  err := o.client.Runtime.InspectContainer(ctx, ctn)",
          "71:  if err != nil {",
          "72:   return err",
          "73:  }",
          "75:  logger.Debug(\"removing outputs container\")",
          "77:  err = o.client.Runtime.RemoveContainer(ctx, ctn)",
          "78:  if err != nil {",
          "79:   return err",
          "80:  }",
          "82:  return nil",
          "83: }",
          "86: func (o *TestReportSvc) exec(ctx context.Context, _outputs *pipeline.Container) error {",
          "88:  if len(_outputs.Image) == 0 {",
          "89:   return nil",
          "90:  }",
          "92:  logrus.Debug(\"running outputs container\")",
          "94:  err := o.client.Runtime.RunContainer(ctx, _outputs, o.client.pipeline)",
          "95:  if err != nil {",
          "96:   return err",
          "97:  }",
          "99:  logrus.Debug(\"inspecting outputs container\")",
          "101:  err = o.client.Runtime.InspectContainer(ctx, _outputs)",
          "102:  if err != nil {",
          "103:   return err",
          "104:  }",
          "106:  return nil",
          "107: }",
          "110: func (o *TestReportSvc) poll(ctx context.Context, ctn *pipeline.Container) (map[string]string, map[string]string, error) {",
          "112:  if len(ctn.Image) == 0 {",
          "113:   return nil, nil, nil",
          "114:  }",
          "119:  logger := o.client.Logger.WithField(\"outputs\", ctn.Name)",
          "121:  logger.Debug(\"tailing container\")",
          "124:  outputBytes, err := o.client.Runtime.PollOutputsContainer(ctx, ctn, \"/vela/outputs/.env\")",
          "125:  if err != nil {",
          "126:   return nil, nil, err",
          "127:  }",
          "129:  reader := bytes.NewReader(outputBytes)",
          "131:  outputMap, err := envparse.Parse(reader)",
          "132:  if err != nil {",
          "133:   logger.Debugf(\"unable to parse output map: %v\", err)",
          "134:  }",
          "137:  maskedBytes, err := o.client.Runtime.PollOutputsContainer(ctx, ctn, \"/vela/outputs/masked.env\")",
          "138:  if err != nil {",
          "139:   return nil, nil, err",
          "140:  }",
          "142:  reader = bytes.NewReader(maskedBytes)",
          "144:  maskMap, err := envparse.Parse(reader)",
          "145:  if err != nil {",
          "146:   logger.Debugf(\"unable to parse masked output map: %v\", err)",
          "147:  }",
          "149:  return outputMap, maskMap, nil",
          "150: }",
          "",
          "---------------"
        ],
        "executor/local/step.go||executor/local/step.go": [
          "File: executor/local/step.go -> executor/local/step.go"
        ],
        "executor/setup.go||executor/setup.go": [
          "File: executor/setup.go -> executor/setup.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: import (",
          "6:  \"fmt\"",
          "7:  \"strings\"",
          "8:  \"time\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "60:  Pipeline *pipeline.Build",
          "62:  RequestToken string",
          "63: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "65:  Storage *storage.Setup",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "91:   linux.WithVersion(s.Version),",
          "92:   linux.WithLogger(s.Logger),",
          "93:   linux.WithOutputCtn(s.OutputCtn),",
          "94:  )",
          "95: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "97:   linux.WithStorage(s.Storage),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "168:   return fmt.Errorf(\"no Vela user provided in setup\")",
          "169:  }",
          "172:  return nil",
          "173: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "176:  if &s.Storage == nil {",
          "177:   return fmt.Errorf(\"no storage client provided in setup\")",
          "178:  }",
          "",
          "---------------"
        ],
        "executor/setup_test.go||executor/setup_test.go": [
          "File: executor/setup_test.go -> executor/setup_test.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: package executor",
          "5: import (",
          "6:  \"net/http/httptest\"",
          "7:  \"testing\"",
          "8:  \"time\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6:  \"github.com/go-vela/server/storage\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "69:   t.Errorf(\"unable to create runtime engine: %v\", err)",
          "70:  }",
          "72:  want, err := linux.New(",
          "73:   linux.WithBuild(_build),",
          "74:   linux.WithMaxLogSize(2097152),",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "73:  _storage := &storage.Setup{",
          "74:   Enable:    true,",
          "75:   Driver:    \"minio\",",
          "76:   Endpoint:  \"http://localhost:9000\",",
          "77:   AccessKey: \"ad\",",
          "78:   SecretKey: \"asd\",",
          "79:   Bucket:    \"vela\",",
          "80:   Region:    \"\",",
          "81:   Secure:    false,",
          "82:  }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "78:   linux.WithRuntime(_runtime),",
          "79:   linux.WithVelaClient(_client),",
          "80:   linux.WithVersion(\"v1.0.0\"),",
          "81:  )",
          "82:  if err != nil {",
          "83:   t.Errorf(\"unable to create linux engine: %v\", err)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "93:   linux.WithStorage(_storage),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "92:   Pipeline:   _pipeline,",
          "93:   Runtime:    _runtime,",
          "94:   Version:    \"v1.0.0\",",
          "95:  }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "108:   Storage:    _storage,",
          "",
          "---------------"
        ],
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: go 1.23.4",
          "5: require (",
          "6:  github.com/Masterminds/semver/v3 v3.3.1",
          "7:  github.com/distribution/reference v0.6.0",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "5: replace (",
          "6:  github.com/go-vela/sdk-go v0.26.0-rc2 => ../sdk-go",
          "7:  github.com/go-vela/server v0.26.0-rc2 => ../server",
          "8: )",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28: require (",
          "29:  dario.cat/mergo v1.0.1 // indirect",
          "30:  github.com/adhocore/gronx v1.19.5 // indirect",
          "31:  github.com/aymerick/douceur v0.2.0 // indirect",
          "32:  github.com/bahlo/generic-list-go v0.2.0 // indirect",
          "33:  github.com/buger/jsonparser v1.1.1 // indirect",
          "34:  github.com/cenkalti/backoff/v4 v4.3.0 // indirect",
          "35:  github.com/fxamacker/cbor/v2 v2.7.0 // indirect",
          "36:  github.com/google/go-github/v68 v68.0.0 // indirect",
          "37:  github.com/gorilla/css v1.0.1 // indirect",
          "38:  github.com/grpc-ecosystem/grpc-gateway/v2 v2.24.0 // indirect",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "36:  github.com/andybalholm/brotli v1.0.1 // indirect",
          "41:  github.com/dsnet/compress v0.0.2-0.20210315054119-f66993602bf5 // indirect",
          "42:  github.com/dustin/go-humanize v1.0.1 // indirect",
          "44:  github.com/go-ini/ini v1.67.0 // indirect",
          "45:  github.com/go-vela/archiver/v3 v3.4.0 // indirect",
          "46:  github.com/golang/snappy v0.0.2 // indirect",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "43:  github.com/jackc/puddle/v2 v2.2.1 // indirect",
          "44:  github.com/jinzhu/inflection v1.0.0 // indirect",
          "45:  github.com/jinzhu/now v1.1.5 // indirect",
          "47:  github.com/lib/pq v1.10.9 // indirect",
          "48:  github.com/mattn/go-sqlite3 v1.14.22 // indirect",
          "49:  github.com/microcosm-cc/bluemonday v1.0.27 // indirect",
          "50:  github.com/uptrace/opentelemetry-go-extra/otelgorm v0.3.2 // indirect",
          "51:  github.com/uptrace/opentelemetry-go-extra/otelsql v0.3.2 // indirect",
          "52:  github.com/wk8/go-ordered-map/v2 v2.1.8 // indirect",
          "53:  github.com/x448/float16 v0.8.4 // indirect",
          "54:  go.opentelemetry.io/auto/sdk v1.1.0 // indirect",
          "55:  go.opentelemetry.io/contrib/instrumentation/net/http/httptrace/otelhttptrace v0.58.0 // indirect",
          "56:  go.opentelemetry.io/otel/exporters/otlp/otlptrace v1.33.0 // indirect",
          "",
          "[Removed Lines]",
          "46:  github.com/klauspost/compress v1.17.9 // indirect",
          "",
          "[Added Lines]",
          "57:  github.com/klauspost/compress v1.17.11 // indirect",
          "58:  github.com/klauspost/pgzip v1.2.5 // indirect",
          "62:  github.com/minio/md5-simd v1.1.2 // indirect",
          "63:  github.com/minio/minio-go/v7 v7.0.83 // indirect",
          "64:  github.com/nwaples/rardecode v1.1.0 // indirect",
          "65:  github.com/pierrec/lz4/v4 v4.1.2 // indirect",
          "66:  github.com/rs/xid v1.6.0 // indirect",
          "67:  github.com/ulikunitz/xz v0.5.9 // indirect",
          "72:  github.com/xi2/xz v0.0.0-20171230120015-48954b6210f8 // indirect",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "24: github.com/alicebob/gopher-json v0.0.0-20230218143504-906a9b012302/go.mod h1:SGnFV6hVsYE877CKEZ6tDNTjaSXYUk6QqoIK6PrAtcc=",
          "25: github.com/alicebob/miniredis/v2 v2.34.0 h1:mBFWMaJSNL9RwdGRyEDoAAv8OQc5UlEhLDQggTglU/0=",
          "26: github.com/alicebob/miniredis/v2 v2.34.0/go.mod h1:kWShP4b58T1CW0Y5dViCd5ztzrDqRWqM3nksiyXk5s8=",
          "27: github.com/aymerick/douceur v0.2.0 h1:Mv+mAeH1Q+n9Fr+oyamOlAkUNPWPlA8PPGR0QAaYuPk=",
          "28: github.com/aymerick/douceur v0.2.0/go.mod h1:wlT5vV2O3h55X9m7iVYN0TBM0NH/MmbLnd30/FjWUq4=",
          "29: github.com/bahlo/generic-list-go v0.2.0 h1:5sz/EEAK+ls5wF+NeqDpk5+iNdMDXrh3z3nPnH1Wvgk=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "27: github.com/andybalholm/brotli v1.0.1 h1:KqhlKozYbRtJvsPrrEeXcO+N2l6NYT5A2QAFmSULpEc=",
          "28: github.com/andybalholm/brotli v1.0.1/go.mod h1:loMXtMfwqflxFJPmdbJO0a3KNoPuLBgiu3qAvBg8x/Y=",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "79: github.com/docker/go-units v0.5.0/go.mod h1:fgPhTUdO+D/Jk86RDLlptpiXQzgHJF7gydDDbaIK4Dk=",
          "80: github.com/drone/envsubst v1.0.3 h1:PCIBwNDYjs50AsLZPYdfhSATKaRg/FJmDc2D6+C2x8g=",
          "81: github.com/drone/envsubst v1.0.3/go.mod h1:N2jZmlMufstn1KEqvbHjw40h1KyTmnVzHcSc9bFiJ2g=",
          "82: github.com/emicklei/go-restful/v3 v3.11.0 h1:rAQeMHw1c7zTmncogyy8VvRZwtkmkZ4FxERmMY4rD+g=",
          "83: github.com/emicklei/go-restful/v3 v3.11.0/go.mod h1:6n3XBCmQQb25CM2LCACGz8ukIrRry+4bhvbpWn3mrbc=",
          "84: github.com/fatih/color v1.16.0 h1:zmkK9Ngbjj+K0yRhTVONQh1p/HknKYSlNT+vZCzyokM=",
          "85: github.com/fatih/color v1.16.0/go.mod h1:fL2Sau1YI5c0pdGEVCbKQbLXB6edEj1ZgiY4NijnWvE=",
          "86: github.com/felixge/httpsnoop v1.0.4 h1:NFTV2Zj1bL4mc9sqWACXbQFVBBg2W3GPvqp8/ESS2Wg=",
          "87: github.com/felixge/httpsnoop v1.0.4/go.mod h1:m8KPJKqk1gH5J9DgRY2ASl2lWCfGKXixSwevea8zH2U=",
          "88: github.com/frankban/quicktest v1.14.6 h1:7Xjx+VpznH+oBnejlPUj8oUpdxnVs4f8XU8WnHkI4W8=",
          "89: github.com/frankban/quicktest v1.14.6/go.mod h1:4ptaffx2x8+WTWXmUCuVU6aPUX1/Mz7zb5vbUoiM6w0=",
          "90: github.com/fxamacker/cbor/v2 v2.7.0 h1:iM5WgngdRBanHcxugY4JySA0nk1wZorNOpTgCMedv5E=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "84: github.com/dsnet/compress v0.0.2-0.20210315054119-f66993602bf5 h1:iFaUwBSo5Svw6L7HYpRu/0lE3e0BaElwnNO1qkNQxBY=",
          "85: github.com/dsnet/compress v0.0.2-0.20210315054119-f66993602bf5/go.mod h1:qssHWj60/X5sZFNxpG4HBPDHVqxNm4DfnCKgrbZOT+s=",
          "86: github.com/dsnet/golib v0.0.0-20171103203638-1ea166775780/go.mod h1:Lj+Z9rebOhdfkVLjJ8T6VcRQv3SXugXy999NBtR9aFY=",
          "87: github.com/dustin/go-humanize v1.0.1 h1:GzkhY7T5VNhEkwH0PVJgjz+fX1rhBrR7pRT3mDkpeCY=",
          "88: github.com/dustin/go-humanize v1.0.1/go.mod h1:Mu1zIs6XwVuF/gI1OepvI0qD18qycQx+mFykh5fBlto=",
          "95: github.com/frankban/quicktest v1.13.1/go.mod h1:NeW+ay9A/U67EYXNFA1nPE8e/tnQv/09mUdL/ijj8og=",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "97: github.com/gin-contrib/sse v0.1.0/go.mod h1:RHrZQHXnP2xjPF+u1gW/2HnVO7nvIa9PG3Gm+fLHvGI=",
          "98: github.com/gin-gonic/gin v1.10.0 h1:nTuyha1TYqgedzytsKYqna+DfLos46nTv2ygFy86HFU=",
          "99: github.com/gin-gonic/gin v1.10.0/go.mod h1:4PMNQiOhvDRa013RKVbsiNwoyezlm2rm0uX/T7kzp5Y=",
          "100: github.com/go-logr/logr v1.2.2/go.mod h1:jdQByPbusPIv2/zmleS9BjJVeZ6kBagPoEUsqbVz/1A=",
          "101: github.com/go-logr/logr v1.4.2 h1:6pFjapn8bFcIbiKo3XT4j/BhANplGihG6tvd+8rYgrY=",
          "102: github.com/go-logr/logr v1.4.2/go.mod h1:9T104GzyrTigFIr8wt5mBrctHMim0Nb2HLGrmQ40KvY=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "108: github.com/go-ini/ini v1.67.0 h1:z6ZrTEZqSWOTyH2FlglNbNgARyHG8oLW9gMELqKr06A=",
          "109: github.com/go-ini/ini v1.67.0/go.mod h1:ByCAeIL28uOIIG0E3PJtZPDL8WnHpFKFOtgjp+3Ies8=",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "120: github.com/go-playground/validator/v10 v10.23.0/go.mod h1:dbuPbCMFw/DrkbEynArYaCwl3amGuJotoKCe95atGMM=",
          "121: github.com/go-task/slim-sprig/v3 v3.0.0 h1:sUs3vkvUymDpBKi3qH1YSqBQk9+9D/8M2mN1vB6EwHI=",
          "122: github.com/go-task/slim-sprig/v3 v3.0.0/go.mod h1:W848ghGpv3Qj3dhTPRyJypKRiqCdHZiAzKg9hl15HA8=",
          "127: github.com/goccy/go-json v0.10.4 h1:JSwxQzIqKfmFX1swYPpUThQZp/Ka4wzJdK0LWVytLPM=",
          "128: github.com/goccy/go-json v0.10.4/go.mod h1:oq7eo15ShAhp70Anwd5lgX2pLfOS3QCiwU/PULtXL6M=",
          "129: github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=",
          "",
          "[Removed Lines]",
          "123: github.com/go-vela/sdk-go v0.26.0-rc2 h1:1pX2IjxWSR8mTV3RpRp3OXIR9kyJgMR96KB1zXTMcUI=",
          "124: github.com/go-vela/sdk-go v0.26.0-rc2/go.mod h1:tXgDEiN24yLPTsa40/SFAYeewEMB4oidXTmvRRwIao4=",
          "125: github.com/go-vela/server v0.26.0-rc2 h1:Mh1KfEyGEa4m1sWx8J4fKZG+8xIzssPjas/qsBB2Dxg=",
          "126: github.com/go-vela/server v0.26.0-rc2/go.mod h1:dIhVbcswLXxQx1DVIJm6zbvJbONZPdp4AOZ/wbhg0eA=",
          "",
          "[Added Lines]",
          "133: github.com/go-vela/archiver v3.1.1+incompatible h1:xTTMMwKyHwDgNFn+c1XsKHrHFg6UyWmK4oSceSduH7A=",
          "134: github.com/go-vela/archiver v3.1.1+incompatible/go.mod h1:pYn/vJ47tuVltHdnA8YrDWOZ6yix4k0ZSKUBbWmkAFM=",
          "135: github.com/go-vela/archiver/v3 v3.4.0 h1:c6GQRNTzr4Pn8HaxjzslIEiN89+kgZB4hLkXuBCOczI=",
          "136: github.com/go-vela/archiver/v3 v3.4.0/go.mod h1:1HbXVOHBXsfzwSog3x7T6ZU9BUv+VEWnuaPLZS/v0/8=",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "132: github.com/golang-jwt/jwt/v5 v5.2.1/go.mod h1:pqrtFR0X4osieyHYxtmOUWsAWrfe1Q5UVIyoH402zdk=",
          "133: github.com/golang/protobuf v1.5.4 h1:i7eJL8qZTpSEXOPTxNKhASYpMn+8e5Q6AdndVa1dWek=",
          "134: github.com/golang/protobuf v1.5.4/go.mod h1:lnTiLA8Wa4RWRcIUkrtSVa5nRhsEGBg48fD6rSs7xps=",
          "135: github.com/google/gnostic-models v0.6.8 h1:yo/ABAfM5IMRsS1VnXjTBvUb61tFIHozhlYvRgGre9I=",
          "136: github.com/google/gnostic-models v0.6.8/go.mod h1:5n7qKqH0f5wFt+aWF8CW6pZLLNOfYuF5OpfBSENuI8U=",
          "137: github.com/google/go-cmp v0.2.0/go.mod h1:oXzfMopK8JAjlY9xF4vHSVASa0yLyX7SntLO5aqRK0M=",
          "138: github.com/google/go-cmp v0.3.0/go.mod h1:8QqcDgzrUqlUb/G2PQTWiueGozuR1884gddMywk6iLU=",
          "139: github.com/google/go-cmp v0.4.0/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=",
          "140: github.com/google/go-cmp v0.5.2/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=",
          "141: github.com/google/go-cmp v0.5.9/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=",
          "142: github.com/google/go-cmp v0.6.0 h1:ofyhxvXcZhMsU5ulbFiLKl/XBFqE1GSq7atu8tAmTRI=",
          "143: github.com/google/go-cmp v0.6.0/go.mod h1:17dUlkBOakJ0+DkrSSNjCkIjxS6bF9zb3elmeNGIjoY=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "145: github.com/golang/snappy v0.0.2 h1:aeE13tS0IiQgFjYdoL8qN3K1N2bXXtI6Vi51/y7BpMw=",
          "146: github.com/golang/snappy v0.0.2/go.mod h1:/XxbfmMg8lxefKM7IXC3fBNl/7bRcc72aCRzEWrmP2Q=",
          "153: github.com/google/go-cmp v0.5.5/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=",
          "154: github.com/google/go-cmp v0.5.6/go.mod h1:v8dTdLbMG2kIc/vJvl+f65V22dbkXbowE6jgT/gNBxE=",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "195: github.com/json-iterator/go v1.1.12/go.mod h1:e30LSqwooZae/UwlEbR2852Gd8hjQvJoHmT4TnhNGBo=",
          "196: github.com/kisielk/errcheck v1.5.0/go.mod h1:pFxgyoBC7bSaBwPgfKdkLd5X25qrDl4LWUI2bnpBCr8=",
          "197: github.com/kisielk/gotool v1.0.0/go.mod h1:XhKaO+MFFWcvkIS/tQcRk01m1F5IRFswLeQ+oQHNcck=",
          "200: github.com/klauspost/cpuid/v2 v2.0.9/go.mod h1:FInQzS24/EEf25PyTYn52gqo7WaD8xa0213Md/qVLRg=",
          "201: github.com/klauspost/cpuid/v2 v2.2.9 h1:66ze0taIn2H33fBvCkXuv9BmCwDfafmiIVpKV9kKGuY=",
          "202: github.com/klauspost/cpuid/v2 v2.2.9/go.mod h1:rqkxqrZ1EhYM9G+hXH7YdowN5R5RGN6NK4QwQ3WMXF8=",
          "203: github.com/knz/go-libedit v1.10.1/go.mod h1:MZTVkCWyz0oBc7JOWP3wNAzd002ZbM/5hgShxwh4x8M=",
          "204: github.com/kr/pretty v0.2.1/go.mod h1:ipq/a2n7PKx3OHsz4KJII5eveXtPO4qwEXGdVfWzfnI=",
          "205: github.com/kr/pretty v0.3.1 h1:flRD4NNwYAUpkphVc1HcthR4KEIFJ65n8Mw5qdRn3LE=",
          "206: github.com/kr/pretty v0.3.1/go.mod h1:hoEshYVHaxMs3cyo3Yncou5ZscifuDolrwPKZanG3xk=",
          "207: github.com/kr/pty v1.1.1/go.mod h1:pFQYn66WHrOpPYNljwOMqo10TkYh1fy3cYio2l3bCsQ=",
          "",
          "[Removed Lines]",
          "198: github.com/klauspost/compress v1.17.9 h1:6KIumPrER1LHsvBVuDa0r5xaG0Es51mhhB9BQB2qeMA=",
          "199: github.com/klauspost/compress v1.17.9/go.mod h1:Di0epgTjJY877eYKx5yC51cX2A2Vl2ibi7bDH9ttBbw=",
          "",
          "[Added Lines]",
          "212: github.com/klauspost/compress v1.4.1/go.mod h1:RyIbtBH6LamlWaDj8nUwkbUhJ87Yi3uG0guNDohfE1A=",
          "213: github.com/klauspost/compress v1.11.4/go.mod h1:aoV0uJVorq1K+umq18yTdKaF57EivdYsUV+/s2qKfXs=",
          "214: github.com/klauspost/compress v1.17.11 h1:In6xLpyWOi1+C7tXUUWv2ot1QvBjxevKAaI6IXrJmUc=",
          "215: github.com/klauspost/compress v1.17.11/go.mod h1:pMDklpSncoRMuLFrf1W9Ss9KT+0rH90U12bZKk7uwG0=",
          "216: github.com/klauspost/cpuid v1.2.0/go.mod h1:Pj4uuM528wm8OyEC2QMXAi2YiTZ96dNQPGgoMS4s3ek=",
          "217: github.com/klauspost/cpuid/v2 v2.0.1/go.mod h1:FInQzS24/EEf25PyTYn52gqo7WaD8xa0213Md/qVLRg=",
          "221: github.com/klauspost/pgzip v1.2.5 h1:qnWYvvKqedOF2ulHpMG72XQol4ILEJ8k2wwRl/Km8oE=",
          "222: github.com/klauspost/pgzip v1.2.5/go.mod h1:Ch1tH69qFZu15pkjo5kYi6mth2Zzwzt50oCQKQE9RUs=",
          "224: github.com/kr/pretty v0.1.0/go.mod h1:dAy3ld7l9f0ibDNOQOHHMYYIIbhfbHSm3C4ZsoJORNo=",
          "226: github.com/kr/pretty v0.3.0/go.mod h1:640gp4NfQd8pI5XOwp5fnNeVWj67G7CFk/SaSQn7NBk=",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "236: github.com/mattn/go-sqlite3 v1.14.22/go.mod h1:Uh1q+B4BYcTPb+yiD3kU8Ct7aC0hY9fxUwlHK0RXw+Y=",
          "237: github.com/microcosm-cc/bluemonday v1.0.27 h1:MpEUotklkwCSLeH+Qdx1VJgNqLlpY2KXwXFM08ygZfk=",
          "238: github.com/microcosm-cc/bluemonday v1.0.27/go.mod h1:jFi9vgW+H7c3V0lb6nR74Ib/DIB5OBs92Dimizgw2cA=",
          "239: github.com/mitchellh/copystructure v1.2.0 h1:vpKXTN4ewci03Vljg/q9QvCGUDttBOGBIa15WveJJGw=",
          "240: github.com/mitchellh/copystructure v1.2.0/go.mod h1:qLl+cE2AmVv+CoeAwDPye/v+N2HKCj9FbZEVFJRxO9s=",
          "241: github.com/mitchellh/reflectwalk v1.0.2 h1:G2LzWKi524PWgd3mLHV8Y5k7s6XUvT0Gef6zxSIeXaQ=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "261: github.com/minio/md5-simd v1.1.2 h1:Gdi1DZK69+ZVMoNHRXJyNcxrMA4dSxoYHZSQbirFg34=",
          "262: github.com/minio/md5-simd v1.1.2/go.mod h1:MzdKDxYpY2BT9XQFocsiZf/NKVtR7nkE4RoEpN+20RM=",
          "263: github.com/minio/minio-go/v7 v7.0.83 h1:W4Kokksvlz3OKf3OqIlzDNKd4MERlC2oN8YptwJ0+GA=",
          "264: github.com/minio/minio-go/v7 v7.0.83/go.mod h1:57YXpvc5l3rjPdhqNrDsvVlY0qPI6UTk1bflAe+9doY=",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "253: github.com/morikuni/aec v1.0.0/go.mod h1:BbKIizmSmc5MMPqRYbxO4ZU0S0+P200+tUnFx7PXmsc=",
          "254: github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822 h1:C3w9PqII01/Oq1c1nUAm88MOHcQC9l5mIlSMApZMrHA=",
          "255: github.com/munnerz/goautoneg v0.0.0-20191010083416-a7dc8b61c822/go.mod h1:+n7T8mK8HuQTcFwEeznm/DIxMOiR9yIdICNftLE1DvQ=",
          "256: github.com/onsi/ginkgo/v2 v2.21.0 h1:7rg/4f3rB88pb5obDgNZrNHrQ4e6WpjonchcpuBRnZM=",
          "257: github.com/onsi/ginkgo/v2 v2.21.0/go.mod h1:7Du3c42kxCUegi0IImZ1wUQzMBVecgIHjR1C+NkhLQo=",
          "258: github.com/onsi/gomega v1.35.1 h1:Cwbd75ZBPxFSuZ6T+rN/WCb/gOc6YgFBXLlZLhC7Ds4=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "282: github.com/nwaples/rardecode v1.1.0 h1:vSxaY8vQhOcVr4mm5e8XllHWTiM4JF507A0Katqw7MQ=",
          "283: github.com/nwaples/rardecode v1.1.0/go.mod h1:5DzqNKiOdpKKBH87u8VlvAnPZMXcGRhxWkRpHbbfGS0=",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "263: github.com/opencontainers/image-spec v1.1.0/go.mod h1:W4s4sFTMaBeK1BQLXbG4AdM2szdn85PY75RI83NrTrM=",
          "264: github.com/pelletier/go-toml/v2 v2.2.3 h1:YmeHyLY8mFWbdkNWwpr+qIL2bEqT0o95WSdkNHvL12M=",
          "265: github.com/pelletier/go-toml/v2 v2.2.3/go.mod h1:MfCQTFTvCcUyyvvwm1+G6H/jORL20Xlb6rzQu9GuUkc=",
          "266: github.com/pkg/errors v0.8.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=",
          "267: github.com/pkg/errors v0.9.1 h1:FEBLx1zS214owpjy7qsBeixbURkuhQAwrK5UwLGTwt4=",
          "268: github.com/pkg/errors v0.9.1/go.mod h1:bwawxfHBFNV+L2hUp1rHADufV3IMtnDRdf1r5NINEl0=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "294: github.com/pierrec/lz4 v2.6.1+incompatible h1:9UY3+iC23yxF0UfGaYrGplQ+79Rg+h/q9FV9ix19jjM=",
          "295: github.com/pierrec/lz4 v2.6.1+incompatible/go.mod h1:pdkljMzZIN41W+lC3N2tnIh5sFi+IEE17M5jbnwPHcY=",
          "296: github.com/pierrec/lz4/v4 v4.1.2 h1:qvY3YFXRQE/XB8MlLzJH7mSzBs74eA2gg52YTk6jUPM=",
          "297: github.com/pierrec/lz4/v4 v4.1.2/go.mod h1:gZWDp/Ze/IJXGXf23ltt2EXimqmTUXEy0GFuRQyBid4=",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "279: github.com/prometheus/procfs v0.15.1/go.mod h1:fB45yRUv8NstnjriLhBQLuOUt+WW4BsoGhij/e3PBqk=",
          "280: github.com/redis/go-redis/v9 v9.7.0 h1:HhLSs+B6O021gwzl+locl0zEDnyNkxMtf/Z3NNBMa9E=",
          "281: github.com/redis/go-redis/v9 v9.7.0/go.mod h1:f6zhXITC7JUJIlPEiBOTXxJgPLdZcA93GewI7inzyWw=",
          "282: github.com/rogpeppe/go-internal v1.13.1 h1:KvO1DLK/DRN07sQ1LQKScxyZJuNnedQ5/wKSR38lUII=",
          "283: github.com/rogpeppe/go-internal v1.13.1/go.mod h1:uMEvuHeurkdAXX61udpOXGD/AzZDWNMNyH2VO9fmH0o=",
          "284: github.com/russross/blackfriday/v2 v2.1.0 h1:JIOH55/0cWyOuilr9/qlrm0BSXldqnqwMsf35Ld67mk=",
          "285: github.com/russross/blackfriday/v2 v2.1.0/go.mod h1:+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM=",
          "286: github.com/segmentio/asm v1.2.0 h1:9BQrFxC+YOHJlTlHGkTrFWf59nbL3XnCoFLTwDCI7ys=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "314: github.com/rogpeppe/go-internal v1.6.1/go.mod h1:xXDCJY+GAPziupqXw64V24skbSoqbTEfhy4qGm1nDQc=",
          "317: github.com/rs/xid v1.6.0 h1:fV591PaemRlL6JfRxGDEPl69wICngIQ3shQtzfy2gxU=",
          "318: github.com/rs/xid v1.6.0/go.mod h1:7XoLgs4eV+QndskICGsho+ADou8ySMSjJKDIan90Nz0=",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "311: github.com/twitchyliquid64/golang-asm v0.15.1/go.mod h1:a1lVb/DtPvCB8fslRZhAngC2+aY1QWCk3Cedj/Gdt08=",
          "312: github.com/ugorji/go/codec v1.2.12 h1:9LC83zGrHhuUA9l16C9AHXAqEV/2wBQ4nkvumAE65EE=",
          "313: github.com/ugorji/go/codec v1.2.12/go.mod h1:UNopzCgEMSXjBc6AOMqYvWC1ktqTAfzJZUZgYf6w6lg=",
          "314: github.com/uptrace/opentelemetry-go-extra/otelgorm v0.3.2 h1:Jjn3zoRz13f8b1bR6LrXWglx93Sbh4kYfwgmPju3E2k=",
          "315: github.com/uptrace/opentelemetry-go-extra/otelgorm v0.3.2/go.mod h1:wocb5pNrj/sjhWB9J5jctnC0K2eisSdz/nJJBNFHo+A=",
          "316: github.com/uptrace/opentelemetry-go-extra/otelsql v0.3.2 h1:ZjUj9BLYf9PEqBn8W/OapxhPjVRdC6CsXTdULHsyk5c=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "349: github.com/ulikunitz/xz v0.5.8/go.mod h1:nbz6k7qbPmH4IRqmfOplQw/tblSgqTqBwxkY0oWt/14=",
          "350: github.com/ulikunitz/xz v0.5.9 h1:RsKRIA2MO8x56wkkcd3LbtcE/uMszhb6DpRf+3uwa3I=",
          "351: github.com/ulikunitz/xz v0.5.9/go.mod h1:nbz6k7qbPmH4IRqmfOplQw/tblSgqTqBwxkY0oWt/14=",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "321: github.com/wk8/go-ordered-map/v2 v2.1.8/go.mod h1:5nJHM5DyteebpVlHnWMV0rPz6Zp7+xBAnxjb1X5vnTw=",
          "322: github.com/x448/float16 v0.8.4 h1:qLwI1I70+NjRFUR3zs1JPUCgaCXSh3SW62uAKT1mSBM=",
          "323: github.com/x448/float16 v0.8.4/go.mod h1:14CWIYCyZA/cWjXOioeEpHeN/83MdbZDRQHoFcYsOfg=",
          "324: github.com/xrash/smetrics v0.0.0-20240521201337-686a1a2994c1 h1:gEOO8jv9F4OT7lGCjxCBTO/36wtF6j2nSip77qHd4x4=",
          "325: github.com/xrash/smetrics v0.0.0-20240521201337-686a1a2994c1/go.mod h1:Ohn+xnUBiLI6FVj/9LpzZWtj1/D6lUovWYBkxHVV3aM=",
          "326: github.com/yuin/goldmark v1.1.27/go.mod h1:3hX8gzYuyVAZsxl0MRgGTJEmQBFcNTphYh9decYSb74=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "362: github.com/xi2/xz v0.0.0-20171230120015-48954b6210f8 h1:nIPpBwaJSVYIxUFsDv3M8ofmx9yWTog9BfvIu0q41lo=",
          "363: github.com/xi2/xz v0.0.0-20171230120015-48954b6210f8/go.mod h1:HUYIGzjTL3rfEspMxjDjgmT5uz5wzYJKVo23qUhYTos=",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "411: google.golang.org/protobuf v1.36.1 h1:yBPeRvTftaleIgM3PZ/WBIZ7XM/eEYAaEyCwvyjq/gk=",
          "412: google.golang.org/protobuf v1.36.1/go.mod h1:9fA7Ob0pmnwhb644+1+CVWFRbNajQ6iRojtC/QF5bRE=",
          "413: gopkg.in/check.v1 v0.0.0-20161208181325-20d25e280405/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=",
          "414: gopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c h1:Hei/4ADfdWqJk1ZMxUNpqntNwaWcugrBjAiHlqqRiVk=",
          "415: gopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c/go.mod h1:JHkPIbrfpd72SG/EVd6muEfDQjcINNoR0C8j2r3qZ4Q=",
          "416: gopkg.in/evanphx/json-patch.v4 v4.12.0 h1:n6jtcsulIzXPJaxegRbvFNNrZDjbij7ny3gmSPG+6V4=",
          "417: gopkg.in/evanphx/json-patch.v4 v4.12.0/go.mod h1:p8EYWUEYMpynmqDbY58zCKCFZw8pRWMG4EsWvDvM72M=",
          "418: gopkg.in/inf.v0 v0.9.1 h1:73M5CoZyi3ZLMOyDlQh031Cx6N9NDJ2Vvfl76EDAgDc=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "454: gopkg.in/check.v1 v1.0.0-20180628173108-788fd7840127/go.mod h1:Co6ibVJAznAaIkqp8huTwlJQCZ016jof/cbN4VW5Yz0=",
          "457: gopkg.in/errgo.v2 v2.1.0/go.mod h1:hNsd1EY+bozCKY1Ytp96fpM3vjJbqLJn88ws8XvfDNI=",
          "",
          "---------------"
        ],
        "runtime/docker/test_report.go||runtime/docker/test_report.go": [
          "File: runtime/docker/test_report.go -> runtime/docker/test_report.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package docker",
          "3: import (",
          "4:  \"bytes\"",
          "5:  \"context\"",
          "6:  \"fmt\"",
          "7:  \"github.com/docker/docker/api/types\"",
          "8:  \"github.com/docker/docker/pkg/stdcopy\"",
          "9:  \"github.com/go-vela/server/compiler/types/pipeline\"",
          "10:  \"io\"",
          "11:  \"path/filepath\"",
          "12:  \"strings\"",
          "13: )",
          "17: func (c *client) PollFileNames(ctx context.Context, ctn *pipeline.Container, paths []string) ([]string, error) {",
          "18:  c.Logger.Tracef(\"gathering test results and attachments from container %s\", ctn.ID)",
          "20:  var fullFilePaths []string",
          "21:  if len(ctn.Image) == 0 {",
          "22:   return nil, nil",
          "23:  }",
          "26:  for _, path := range paths {",
          "27:   dir, filename := filepath.Split(path)",
          "28:   c.Logger.Tracef(\"searching for file %s in %s\", filename, dir)",
          "30:   execConfig := types.ExecConfig{",
          "31:    Tty:          true,",
          "32:    Cmd:          []string{\"sh\", \"-c\", fmt.Sprintf(\"find %s -type f -name %s\", dir, filename)},",
          "33:    AttachStderr: true,",
          "34:    AttachStdout: true,",
          "35:   }",
          "37:   c.Logger.Infof(\"executing command: %v\", execConfig.Cmd)",
          "38:   responseExec, err := c.Docker.ContainerExecCreate(ctx, ctn.ID, execConfig)",
          "39:   if err != nil {",
          "40:    c.Logger.Errorf(\"unable to create exec for container: %v\", err)",
          "41:    return nil, err",
          "42:   }",
          "44:   hijackedResponse, err := c.Docker.ContainerExecAttach(ctx, responseExec.ID, types.ExecStartCheck{})",
          "45:   if err != nil {",
          "46:    c.Logger.Errorf(\"unable to attach to exec for container: %v\", err)",
          "47:    return nil, err",
          "48:   }",
          "50:   defer func() {",
          "51:    if hijackedResponse.Conn != nil {",
          "52:     hijackedResponse.Close()",
          "53:    }",
          "54:   }()",
          "56:   outputStdout := new(bytes.Buffer)",
          "57:   outputStderr := new(bytes.Buffer)",
          "59:   if hijackedResponse.Reader != nil {",
          "60:    _, err := stdcopy.StdCopy(outputStdout, outputStderr, hijackedResponse.Reader)",
          "61:    if err != nil {",
          "62:     c.Logger.Errorf(\"unable to copy logs for container: %v\", err)",
          "63:    }",
          "64:   }",
          "66:   if outputStderr.Len() > 0 {",
          "67:    return nil, fmt.Errorf(\"error: %s\", outputStderr.String())",
          "68:   }",
          "70:   data := outputStdout.String()",
          "71:   c.Logger.Infof(\"found files: %s\", data)",
          "73:   filePaths := strings.Split(data, \"\\n\")",
          "74:   for _, filePath := range filePaths {",
          "75:    if filePath != \"\" {",
          "76:     fullFilePaths = append(fullFilePaths, filePath)",
          "77:     c.Logger.Infof(\"full file: %s\", filePath)",
          "78:    }",
          "79:   }",
          "80:  }",
          "81:  if len(fullFilePaths) == 0 {",
          "82:   return nil, fmt.Errorf(\"no matching files found for any provided paths\")",
          "83:  }",
          "85:  return fullFilePaths, nil",
          "107: }",
          "110: func (c *client) PollFileContent(ctx context.Context, ctn *pipeline.Container, path string) (io.Reader, int64, error) {",
          "111:  c.Logger.Tracef(\"gathering test results and attachments from container %s\", ctn.ID)",
          "113:  if len(ctn.Image) == 0 {",
          "114:   return nil, 0, nil",
          "115:  }",
          "116:  cmd := []string{\"sh\", \"-c\", fmt.Sprintf(\"cat %s\", path)}",
          "117:  execConfig := types.ExecConfig{",
          "118:   Cmd:          cmd,",
          "119:   AttachStdout: true,",
          "120:   AttachStderr: true,",
          "121:  }",
          "123:  c.Logger.Infof(\"executing command for content: %v\", execConfig.Cmd)",
          "124:  execID, err := c.Docker.ContainerExecCreate(ctx, ctn.ID, execConfig)",
          "125:  if err != nil {",
          "126:   return nil, 0, fmt.Errorf(\"failed to create exec instance: %w\", err)",
          "127:  }",
          "128:  resp, err := c.Docker.ContainerExecAttach(ctx, execID.ID, types.ExecStartCheck{})",
          "129:  if err != nil {",
          "130:   return nil, 0, fmt.Errorf(\"failed to attach to exec instance: %w\", err)",
          "131:  }",
          "138:  return resp.Reader, -1, nil",
          "139: }",
          "",
          "---------------"
        ],
        "runtime/docker/test_report_test.go||runtime/docker/test_report_test.go": [
          "File: runtime/docker/test_report_test.go -> runtime/docker/test_report_test.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package docker",
          "",
          "---------------"
        ],
        "runtime/engine.go||runtime/engine.go": [
          "File: runtime/engine.go -> runtime/engine.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "96:  RemoveVolume(context.Context, *pipeline.Build) error",
          "97: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "102:  PollFileNames(ctx context.Context, ctn *pipeline.Container, paths []string) ([]string, error)",
          "105:  PollFileContent(ctx context.Context, ctn *pipeline.Container, path string) (io.Reader, int64, error)",
          "",
          "---------------"
        ],
        "runtime/kubernetes/container.go||runtime/kubernetes/container.go": [
          "File: runtime/kubernetes/container.go -> runtime/kubernetes/container.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "77:  return nil, nil",
          "78: }",
          "81: func (c *client) RunContainer(ctx context.Context, ctn *pipeline.Container, _ *pipeline.Build) error {",
          "82:  c.Logger.Tracef(\"running container %s\", ctn.ID)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "82: func (c *client) PollFileNames(ctx context.Context, ctn *pipeline.Container, paths []string) ([]string, error) {",
          "83:  c.Logger.Tracef(\"no-op: gathering test results and attachments from container %s\", ctn.ID)",
          "85:  return nil, nil",
          "86: }",
          "90: func (c *client) PollFileContent(ctx context.Context, ctn *pipeline.Container, path string) (io.Reader, int64, error) {",
          "91:  c.Logger.Tracef(\"no-op: gathering test results and attachments from container %s\", ctn.ID)",
          "93:  return nil, 0, nil",
          "94: }",
          "",
          "---------------"
        ],
        "runtime/kubernetes/test_report_test.go||runtime/kubernetes/test_report_test.go": [
          "File: runtime/kubernetes/test_report_test.go -> runtime/kubernetes/test_report_test.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: package kubernetes",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "0e512a669b367db850020c684489799130c7b37e",
      "candidate_info": {
        "commit_hash": "0e512a669b367db850020c684489799130c7b37e",
        "repo": "go-vela/worker",
        "commit_url": "https://github.com/go-vela/worker/commit/0e512a669b367db850020c684489799130c7b37e",
        "files": [
          "go.mod",
          "go.sum"
        ],
        "message": "chore(release): upgrade types, server, sdk to v0.24.0-rc2 (#586)",
        "before_after_code_files": [
          "go.mod||go.mod",
          "go.sum||go.sum"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ],
          "candidate": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ]
        }
      },
      "candidate_diff": {
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "10:  github.com/docker/docker v26.1.4+incompatible",
          "11:  github.com/docker/go-units v0.5.0",
          "12:  github.com/gin-gonic/gin v1.10.0",
          "16:  github.com/golang-jwt/jwt/v5 v5.2.1",
          "17:  github.com/google/go-cmp v0.6.0",
          "18:  github.com/joho/godotenv v1.5.1",
          "",
          "[Removed Lines]",
          "13:  github.com/go-vela/sdk-go v0.24.0-rc1",
          "14:  github.com/go-vela/server v0.24.0-rc1",
          "15:  github.com/go-vela/types v0.24.0-rc1",
          "",
          "[Added Lines]",
          "13:  github.com/go-vela/sdk-go v0.24.0-rc2",
          "14:  github.com/go-vela/server v0.24.0-rc2",
          "15:  github.com/go-vela/types v0.24.0-rc2",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "23:  golang.org/x/sync v0.7.0",
          "24:  gotest.tools/v3 v3.5.1",
          "25:  k8s.io/api v0.30.1",
          "27:  k8s.io/client-go v0.30.1",
          "28:  sigs.k8s.io/yaml v1.4.0",
          "29: )",
          "",
          "[Removed Lines]",
          "26:  k8s.io/apimachinery v0.30.1",
          "",
          "[Added Lines]",
          "26:  k8s.io/apimachinery v0.30.2",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "85:  github.com/json-iterator/go v1.1.12 // indirect",
          "86:  github.com/klauspost/cpuid/v2 v2.2.7 // indirect",
          "87:  github.com/leodido/go-urn v1.4.0 // indirect",
          "89:  github.com/lestrrat-go/blackmagic v1.0.2 // indirect",
          "90:  github.com/lestrrat-go/httpcc v1.0.1 // indirect",
          "91:  github.com/lestrrat-go/iter v1.0.2 // indirect",
          "93:  github.com/lestrrat-go/option v1.0.1 // indirect",
          "94:  github.com/mailru/easyjson v0.7.7 // indirect",
          "95:  github.com/mattn/go-isatty v0.0.20 // indirect",
          "",
          "[Removed Lines]",
          "88:  github.com/lestrrat-go/backoff/v2 v2.0.8 // indirect",
          "92:  github.com/lestrrat-go/jwx v1.2.29 // indirect",
          "",
          "[Added Lines]",
          "90:  github.com/lestrrat-go/httprc v1.0.5 // indirect",
          "92:  github.com/lestrrat-go/jwx/v2 v2.0.21 // indirect",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "107:  github.com/prometheus/client_model v0.5.0 // indirect",
          "108:  github.com/prometheus/common v0.48.0 // indirect",
          "109:  github.com/prometheus/procfs v0.12.0 // indirect",
          "111:  github.com/russross/blackfriday/v2 v2.1.0 // indirect",
          "112:  github.com/shopspring/decimal v1.2.0 // indirect",
          "113:  github.com/spf13/afero v1.11.0 // indirect",
          "114:  github.com/spf13/cast v1.3.1 // indirect",
          "",
          "[Removed Lines]",
          "110:  github.com/redis/go-redis/v9 v9.5.2 // indirect",
          "",
          "[Added Lines]",
          "110:  github.com/redis/go-redis/v9 v9.5.3 // indirect",
          "112:  github.com/segmentio/asm v1.2.0 // indirect",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "52: github.com/davecgh/go-spew v1.1.0/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=",
          "53: github.com/davecgh/go-spew v1.1.1 h1:vj9j/u1bqnvCEfJOwUhtlOARqs3+rkHYY13jYWTU97c=",
          "54: github.com/davecgh/go-spew v1.1.1/go.mod h1:J7Y8YcW2NihsgmVo/mv3lAwl/skON4iLHjSsI+c5H38=",
          "56: github.com/decred/dcrd/dcrec/secp256k1/v4 v4.2.0 h1:8UrgZ3GkP4i/CLijOJx79Yu+etlyjdBU4sfcs2WYQMs=",
          "57: github.com/decred/dcrd/dcrec/secp256k1/v4 v4.2.0/go.mod h1:v57UDF4pDQJcEfFUCRop3lJL149eHGSe9Jvczhzjo/0=",
          "58: github.com/dgryski/go-rendezvous v0.0.0-20200823014737-9f7001d12a5f h1:lO4WD4F/rVNCu3HqELle0jiPLLBs70cWOduZpkS1E78=",
          "",
          "[Removed Lines]",
          "55: github.com/decred/dcrd/crypto/blake256 v1.0.1/go.mod h1:2OfgNZ5wDpcsFmHmCK5gZTPcCXqlm2ArzUIkw9czNJo=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "104: github.com/go-playground/validator/v10 v10.20.0/go.mod h1:dbuPbCMFw/DrkbEynArYaCwl3amGuJotoKCe95atGMM=",
          "105: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572 h1:tfuBGBXKqDEevZMzYi5KSi8KkcZtzBcTgAUUtapy0OI=",
          "106: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572/go.mod h1:9Pwr4B2jHnOSGXyyzV8ROjYa2ojvAY6HCGYYfMoC3Ls=",
          "113: github.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=",
          "114: github.com/goccy/go-json v0.10.2/go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=",
          "115: github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=",
          "",
          "[Removed Lines]",
          "107: github.com/go-vela/sdk-go v0.24.0-rc1 h1:b01g/gElBm5ilY6ZuS3GQqBE8k06vr4rbPSH4819SWA=",
          "108: github.com/go-vela/sdk-go v0.24.0-rc1/go.mod h1:46k4HKrRZrjU4vPACgGH3uLvzvRxn2tTQlmwd46PTrQ=",
          "109: github.com/go-vela/server v0.24.0-rc1 h1:oqzxuX07fo1Oy423I816ZshD0AxulGgbG6izeOejWLs=",
          "110: github.com/go-vela/server v0.24.0-rc1/go.mod h1:XnJoKFI1WhUvH7nZoiJkw0NPO0PHL0WjtiQb6Tvr5Yo=",
          "111: github.com/go-vela/types v0.24.0-rc1 h1:4NeH+YF8fVbs6ukilKySIY3uD2SVYgBz1yqREjgZaOw=",
          "112: github.com/go-vela/types v0.24.0-rc1/go.mod h1:YWj6BIapl9Kbj4yHq/fp8jltXdGiwD/gTy1ez32Rzag=",
          "",
          "[Added Lines]",
          "106: github.com/go-vela/sdk-go v0.24.0-rc2 h1:PKumiT2abXcJ66NZJfKa0FpxlUlQJTlNxQiRp3QS2LM=",
          "107: github.com/go-vela/sdk-go v0.24.0-rc2/go.mod h1:D6FIaZ4b1tt4SGPcJhOxwZHbtitv1mDt9tsci41pAdw=",
          "108: github.com/go-vela/server v0.24.0-rc2 h1:bM319+e+xZDwtEfsyUcVVVev583bLvS0+jxSLpd4R/k=",
          "109: github.com/go-vela/server v0.24.0-rc2/go.mod h1:yIaa48hyyzsb62JWriHT9CWyo7OC02JXXzKV0ilTcD0=",
          "110: github.com/go-vela/types v0.24.0-rc2 h1:sdOtUL+pBjgD+4hFDrHN/8ZFXSICTnl+eYcRP2IZ0Wk=",
          "111: github.com/go-vela/types v0.24.0-rc2/go.mod h1:YWj6BIapl9Kbj4yHq/fp8jltXdGiwD/gTy1ez32Rzag=",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "180: github.com/kr/text v0.2.0/go.mod h1:eLer722TekiGuMkidMxC/pM04lWEeraHUUmBw8l2grE=",
          "181: github.com/leodido/go-urn v1.4.0 h1:WT9HwE9SGECu3lg4d/dIA+jxlljEa1/ffXKmRjqdmIQ=",
          "182: github.com/leodido/go-urn v1.4.0/go.mod h1:bvxc+MVxLKB4z00jd1z+Dvzr47oO32F/QSNjSBOlFxI=",
          "185: github.com/lestrrat-go/blackmagic v1.0.2 h1:Cg2gVSc9h7sz9NOByczrbUvLopQmXrfFx//N+AkAr5k=",
          "186: github.com/lestrrat-go/blackmagic v1.0.2/go.mod h1:UrEqBzIR2U6CnzVyUtfM6oZNMt/7O7Vohk2J0OGSAtU=",
          "187: github.com/lestrrat-go/httpcc v1.0.1 h1:ydWCStUeJLkpYyjLDHihupbn2tYmZ7m22BGkcvZZrIE=",
          "188: github.com/lestrrat-go/httpcc v1.0.1/go.mod h1:qiltp3Mt56+55GPVCbTdM9MlqhvzyuL6W/NMDA8vA5E=",
          "189: github.com/lestrrat-go/iter v1.0.2 h1:gMXo1q4c2pHmC3dn8LzRhJfP1ceCbgSiT9lUydIzltI=",
          "190: github.com/lestrrat-go/iter v1.0.2/go.mod h1:Momfcq3AnRlRjI5b5O8/G5/BvpzrhoFTZcn06fEOPt4=",
          "194: github.com/lestrrat-go/option v1.0.1 h1:oAzP2fvZGQKWkvHa1/SAcFolBEca1oN+mQ7eooNBEYU=",
          "195: github.com/lestrrat-go/option v1.0.1/go.mod h1:5ZHFbivi4xwXxhxY9XHDe2FHo6/Z7WWmtT7T5nBBp3I=",
          "196: github.com/mailru/easyjson v0.7.7 h1:UGYAvKxe3sBsEDzO8ZeWOSlIQfWFlxbzLZe7hwFURr0=",
          "",
          "[Removed Lines]",
          "183: github.com/lestrrat-go/backoff/v2 v2.0.8 h1:oNb5E5isby2kiro9AgdHLv5N5tint1AnDVVf2E2un5A=",
          "184: github.com/lestrrat-go/backoff/v2 v2.0.8/go.mod h1:rHP/q/r9aT27n24JQLa7JhSQZCKBBOiM/uP402WwN8Y=",
          "191: github.com/lestrrat-go/jwx v1.2.29 h1:QT0utmUJ4/12rmsVQrJ3u55bycPkKqGYuGT4tyRhxSQ=",
          "192: github.com/lestrrat-go/jwx v1.2.29/go.mod h1:hU8k2l6WF0ncx20uQdOmik/Gjg6E3/wIRtXSNFeZuB8=",
          "193: github.com/lestrrat-go/option v1.0.0/go.mod h1:5ZHFbivi4xwXxhxY9XHDe2FHo6/Z7WWmtT7T5nBBp3I=",
          "",
          "[Added Lines]",
          "186: github.com/lestrrat-go/httprc v1.0.5 h1:bsTfiH8xaKOJPrg1R+E3iE/AWZr/x0Phj9PBTG/OLUk=",
          "187: github.com/lestrrat-go/httprc v1.0.5/go.mod h1:mwwz3JMTPBjHUkkDv/IGJ39aALInZLrhBp0X7KGUZlo=",
          "190: github.com/lestrrat-go/jwx/v2 v2.0.21 h1:jAPKupy4uHgrHFEdjVjNkUgoBKtVDgrQPB/h55FHrR0=",
          "191: github.com/lestrrat-go/jwx/v2 v2.0.21/go.mod h1:09mLW8zto6bWL9GbwnqAli+ArLf+5M33QLQPDggkUWM=",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "240: github.com/prometheus/common v0.48.0/go.mod h1:0/KsvlIEfPQCQ5I2iNSAWKPZziNCvRs5EC6ILDTlAPc=",
          "241: github.com/prometheus/procfs v0.12.0 h1:jluTpSng7V9hY0O2R9DzzJHYb2xULk9VTR1V1R/k6Bo=",
          "242: github.com/prometheus/procfs v0.12.0/go.mod h1:pcuDEFsWDnvcgNzo4EEweacyhjeA9Zk3cnaOZAZEfOo=",
          "245: github.com/rogpeppe/go-internal v1.11.0 h1:cWPaGQEPrBb5/AsnsZesgZZ9yb1OQ+GOISoDNXVBh4M=",
          "246: github.com/rogpeppe/go-internal v1.11.0/go.mod h1:ddIwULY96R17DhadqLgMfk9H9tvdUzkipdSkR5nkCZA=",
          "247: github.com/russross/blackfriday/v2 v2.1.0 h1:JIOH55/0cWyOuilr9/qlrm0BSXldqnqwMsf35Ld67mk=",
          "248: github.com/russross/blackfriday/v2 v2.1.0/go.mod h1:+Rmxgy9KzJVeS9/2gXHxylqXiyQDYRxCVz55jmeOWTM=",
          "249: github.com/shopspring/decimal v1.2.0 h1:abSATXmQEYyShuxI4/vyW3tV1MrKAJzCZ/0zLUXYbsQ=",
          "250: github.com/shopspring/decimal v1.2.0/go.mod h1:DKyhrW/HYNuLGql+MJL6WCR6knT2jwCFRcu2hWCYk4o=",
          "251: github.com/sirupsen/logrus v1.9.3 h1:dueUQJ1C2q9oE3F7wvmSGAaVtTmUizReu6fjN8uqzbQ=",
          "",
          "[Removed Lines]",
          "243: github.com/redis/go-redis/v9 v9.5.2 h1:L0L3fcSNReTRGyZ6AqAEN0K56wYeYAwapBIhkvh0f3E=",
          "244: github.com/redis/go-redis/v9 v9.5.2/go.mod h1:hdY0cQFCN4fnSYT6TkisLufl/4W5UIXyv0b/CLO2V2M=",
          "",
          "[Added Lines]",
          "241: github.com/redis/go-redis/v9 v9.5.3 h1:fOAp1/uJG+ZtcITgZOfYFmTKPE7n4Vclj1wZFgRciUU=",
          "242: github.com/redis/go-redis/v9 v9.5.3/go.mod h1:hdY0cQFCN4fnSYT6TkisLufl/4W5UIXyv0b/CLO2V2M=",
          "247: github.com/segmentio/asm v1.2.0 h1:9BQrFxC+YOHJlTlHGkTrFWf59nbL3XnCoFLTwDCI7ys=",
          "248: github.com/segmentio/asm v1.2.0/go.mod h1:BqMnlJP91P8d+4ibuonYZw9mfnzI9HfxselHZr5aAcs=",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "311: golang.org/x/crypto v0.0.0-20200622213623-75b288015ac9/go.mod h1:LzIPMQfyMNhhGPhUkYOs5KpL4U8rLKemX1yGLhDgUto=",
          "312: golang.org/x/crypto v0.0.0-20210921155107-089bfa567519/go.mod h1:GvvjBRRGRdwPK5ydBHafDWAxML/pGHZbMvKqRZ5+Abc=",
          "313: golang.org/x/crypto v0.3.0/go.mod h1:hebNnKkNXi2UzZN1eVRvBB7co0a+JxK6XbPiWVs/3J4=",
          "316: golang.org/x/crypto v0.24.0 h1:mnl8DM0o513X8fdIkmyFE/5hTYxbwYOjDS/+rK6qpRI=",
          "317: golang.org/x/crypto v0.24.0/go.mod h1:Z1PMYSOR5nyMcyAVAIQSKCDwalqy85Aqn1x3Ws4L5DM=",
          "318: golang.org/x/mod v0.2.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=",
          "319: golang.org/x/mod v0.3.0/go.mod h1:s0Qsj1ACt9ePp/hMypM3fl4fZqREWJwdYDEqhRiZZUA=",
          "320: golang.org/x/mod v0.6.0-dev.0.20220419223038-86c51ed26bb4/go.mod h1:jJ57K6gSWd91VN4djpZkiMVwK6gcyfeH4XE8wZrZaV4=",
          "322: golang.org/x/mod v0.17.0 h1:zY54UmvipHiNd+pm+m0x9KhZ9hl1/7QNMyxXbc6ICqA=",
          "323: golang.org/x/mod v0.17.0/go.mod h1:hTbmBsO62+eylJbnUtE2MGJUyE7QWk4xUqPFrRgJ+7c=",
          "324: golang.org/x/net v0.0.0-20190213061140-3a22650c66bd/go.mod h1:mL1N/T3taQHkDXs73rZJwtUhF3w3ftmwwsq0BUmARs4=",
          "",
          "[Removed Lines]",
          "314: golang.org/x/crypto v0.19.0/go.mod h1:Iy9bg/ha4yyC70EfRS8jz+B6ybOBKMaSxLj6P6oBDfU=",
          "315: golang.org/x/crypto v0.21.0/go.mod h1:0BP7YvVV9gBbVKyeTG0Gyn+gZm94bibOW5BjDEYAOMs=",
          "321: golang.org/x/mod v0.8.0/go.mod h1:iBbtSCu2XBx23ZKBPSOrRkjjQPZFPuis4dIYUhu/chs=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "330: golang.org/x/net v0.0.0-20210226172049-e18ecbb05110/go.mod h1:m0MpNAwzfU5UDzcl9v0D8zg8gWTRqZa9RBIspLL5mdg=",
          "331: golang.org/x/net v0.0.0-20220722155237-a158d28d115b/go.mod h1:XRhObCWvk6IyKnWLug+ECip1KBveYUHfp+8e9klMJ9c=",
          "332: golang.org/x/net v0.2.0/go.mod h1:KqCZLdyyvdV855qA2rE3GC2aiw5xGR5TEjj8smXukLY=",
          "336: golang.org/x/net v0.25.0 h1:d/OCCoBEUq33pjydKrGQhw7IlUPI2Oylr+8qLx49kac=",
          "337: golang.org/x/net v0.25.0/go.mod h1:JkAGAh7GEvH74S6FOH42FLoXpXbE/aqXSrIQjXgsiwM=",
          "338: golang.org/x/oauth2 v0.21.0 h1:tsimM75w1tF/uws5rbeHzIWxEqElMehnc+iW793zsZs=",
          "",
          "[Removed Lines]",
          "333: golang.org/x/net v0.6.0/go.mod h1:2Tu9+aMcznHK/AK1HMvgo6xiTLG5rD5rZLDS+rp2Bjs=",
          "334: golang.org/x/net v0.10.0/go.mod h1:0qNGK6F8kojg2nk9dLZ2mShWaEBan6FAoqfSigmmuDg=",
          "335: golang.org/x/net v0.21.0/go.mod h1:bIjVDfnllIU7BJ2DNgfnXvpSvtn8VRwhlsaeUTyUS44=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "341: golang.org/x/sync v0.0.0-20190911185100-cd5d95a43a6e/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=",
          "342: golang.org/x/sync v0.0.0-20201020160332-67f06af15bc9/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=",
          "343: golang.org/x/sync v0.0.0-20220722155255-886fb9371eb4/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=",
          "345: golang.org/x/sync v0.7.0 h1:YsImfSBoP9QPYL0xyKJPq0gcaJdG3rInoqxTWbfQu9M=",
          "346: golang.org/x/sync v0.7.0/go.mod h1:Czt+wKu1gCyEFDUtn0jG5QVvpJ6rzVqr5aXyt9drQfk=",
          "347: golang.org/x/sys v0.0.0-20190215142949-d0b11bdaac8a/go.mod h1:STP8DvDyc/dI5b8T5hshtkjS+E42TnysNCUPdjciGhY=",
          "",
          "[Removed Lines]",
          "344: golang.org/x/sync v0.1.0/go.mod h1:RxMgew5VJxzue5/jJTE5uejpjVlOe/izrB70Jof72aM=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "356: golang.org/x/sys v0.2.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=",
          "357: golang.org/x/sys v0.5.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=",
          "358: golang.org/x/sys v0.6.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=",
          "362: golang.org/x/sys v0.21.0 h1:rF+pYz3DAGSQAxAu1CbC7catZg4ebC4UIeIhKxBZvws=",
          "363: golang.org/x/sys v0.21.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=",
          "364: golang.org/x/term v0.0.0-20201126162022-7de9c90e9dd1/go.mod h1:bj7SfCRtBDWHUb9snDiAeCFNEtKQo2Wmx5Cou7ajbmo=",
          "365: golang.org/x/term v0.0.0-20210927222741-03fcf44c2211/go.mod h1:jbD1KX2456YbFQfuXm/mYQcufACuNUgVhRMnK/tPxf8=",
          "366: golang.org/x/term v0.2.0/go.mod h1:TVmDHMZPmdnySmBfhjOoOdhjzdE1h4u1VwSiw2l1Nuc=",
          "371: golang.org/x/term v0.21.0 h1:WVXCp+/EBEHOj53Rvu+7KiT/iElMrO8ACK16SMZ3jaA=",
          "372: golang.org/x/term v0.21.0/go.mod h1:ooXLefLobQVslOqselCNF4SxFAaoS6KujMbsGzSDmX0=",
          "373: golang.org/x/text v0.3.0/go.mod h1:NqM8EUOU14njkJ3fqMW+pc6Ldnwhi/IjpwHt7yyuwOQ=",
          "374: golang.org/x/text v0.3.3/go.mod h1:5Zoc/QRtKVWzQhOtBMvqHzDpF6irO9z98xDceosuGiQ=",
          "375: golang.org/x/text v0.3.7/go.mod h1:u+2+/6zg+i71rQMx5EYifcz6MCKuco9NR6JIITiCfzQ=",
          "376: golang.org/x/text v0.4.0/go.mod h1:mrYo+phRRbMaCq/xk9113O4dZlRixOauAjOtrjsXDZ8=",
          "380: golang.org/x/text v0.16.0 h1:a94ExnEXNtEwYLGJSIUxnWoxoRz/ZcCsV63ROupILh4=",
          "381: golang.org/x/text v0.16.0/go.mod h1:GhwF1Be+LQoKShO3cGOHzqOgRrGaYc9AvblQOmPVHnI=",
          "382: golang.org/x/time v0.5.0 h1:o7cqy6amK/52YcAKIPlM3a+Fpj35zvRj2TP+e1xFSfk=",
          "",
          "[Removed Lines]",
          "359: golang.org/x/sys v0.8.0/go.mod h1:oPkhp1MJrh7nUepCBck5+mAzfO9JrbApNNgaTdGDITg=",
          "360: golang.org/x/sys v0.17.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=",
          "361: golang.org/x/sys v0.18.0/go.mod h1:/VUhepiaJMQUp4+oa/7Zr1D23ma6VTLIYjOOTFZPUcA=",
          "367: golang.org/x/term v0.5.0/go.mod h1:jMB1sMXY+tzblOD4FWmEbocvup2/aLOaQEp7JmGp78k=",
          "368: golang.org/x/term v0.8.0/go.mod h1:xPskH00ivmX89bAKVGSKKtLOWNx2+17Eiy94tnKShWo=",
          "369: golang.org/x/term v0.17.0/go.mod h1:lLRBjIVuehSbZlaOtGMbcMncT+aqLLLmKrsjNrUguwk=",
          "370: golang.org/x/term v0.18.0/go.mod h1:ILwASektA3OnRv7amZ1xhE/KTR+u50pbXfZ03+6Nx58=",
          "377: golang.org/x/text v0.7.0/go.mod h1:mrYo+phRRbMaCq/xk9113O4dZlRixOauAjOtrjsXDZ8=",
          "378: golang.org/x/text v0.9.0/go.mod h1:e1OnstbJyHTd6l/uOt8jFFHp6TRDWZR/bV3emEE/zU8=",
          "379: golang.org/x/text v0.14.0/go.mod h1:18ZOQIKpY8NJVqYksKHtTdi31H5itFRjB5/qKTNYzSU=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "387: golang.org/x/tools v0.0.0-20200619180055-7c47624df98f/go.mod h1:EkVYQZoAsY45+roYkvgYkIh4xh/qjgUK9TdY2XT94GE=",
          "388: golang.org/x/tools v0.0.0-20210106214847-113979e3529a/go.mod h1:emZCQorbCU4vsT4fOWvOPXz4eW1wZW4PmDk9uLelYpA=",
          "389: golang.org/x/tools v0.1.12/go.mod h1:hNGJHUnrk76NpqgfD5Aqm5Crs+Hm0VOH/i9J2+nxYbc=",
          "391: golang.org/x/tools v0.21.1-0.20240508182429-e35e4ccd0d2d h1:vU5i/LfpvrRCpgM/VPfJLg5KjxD3E+hfT1SH+d9zLwg=",
          "392: golang.org/x/tools v0.21.1-0.20240508182429-e35e4ccd0d2d/go.mod h1:aiJjzUbINMkxbQROHiO6hDPo2LHcIPhhQsa9DLh0yGk=",
          "393: golang.org/x/xerrors v0.0.0-20190717185122-a985d3407aa7/go.mod h1:I/5z698sn9Ka8TeJc9MKroUUfqBBauWjQqLJ2OPfmY0=",
          "",
          "[Removed Lines]",
          "390: golang.org/x/tools v0.6.0/go.mod h1:Xwgl3UAJ/d3gWutnCtw505GrjyAbvKui8lOU390QaIU=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "408: gopkg.in/check.v1 v1.0.0-20201130134442-10cb98267c6c/go.mod h1:JHkPIbrfpd72SG/EVd6muEfDQjcINNoR0C8j2r3qZ4Q=",
          "409: gopkg.in/inf.v0 v0.9.1 h1:73M5CoZyi3ZLMOyDlQh031Cx6N9NDJ2Vvfl76EDAgDc=",
          "410: gopkg.in/inf.v0 v0.9.1/go.mod h1:cWUDdTG/fYaXco+Dcufb5Vnc6Gp2YChqWtbxRZE0mXw=",
          "413: gopkg.in/yaml.v2 v2.2.2/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=",
          "414: gopkg.in/yaml.v2 v2.2.8/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=",
          "415: gopkg.in/yaml.v2 v2.3.0/go.mod h1:hI93XBmqTisBFMUTm0b8Fm+jr3Dg1NNxqwp+5A1VGuI=",
          "",
          "[Removed Lines]",
          "411: gopkg.in/square/go-jose.v2 v2.6.0 h1:NGk74WTnPKBNUhNzQX7PYcTLUjoq7mzKk2OKbvwk2iI=",
          "412: gopkg.in/square/go-jose.v2 v2.6.0/go.mod h1:M9dMgbHiYLoDGQrXy7OpJDJWiKiU//h+vD76mk0e1AI=",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "424: gotest.tools/v3 v3.5.1/go.mod h1:isy3WKz7GK6uNw/sbHzfKBLvlvXwUyV06n6brMxxopU=",
          "425: k8s.io/api v0.30.1 h1:kCm/6mADMdbAxmIh0LBjS54nQBE+U4KmbCfIkF5CpJY=",
          "426: k8s.io/api v0.30.1/go.mod h1:ddbN2C0+0DIiPntan/bye3SW3PdwLa11/0yqwvuRrJM=",
          "429: k8s.io/client-go v0.30.1 h1:uC/Ir6A3R46wdkgCV3vbLyNOYyCJ8oZnjtJGKfytl/Q=",
          "430: k8s.io/client-go v0.30.1/go.mod h1:wrAqLNs2trwiCH/wxxmT/x3hKVH9PuV0GGW0oDoHVqc=",
          "431: k8s.io/klog/v2 v2.120.1 h1:QXU6cPEOIslTGvZaXvFWiP9VKyeet3sawzTOvdXb4Vw=",
          "",
          "[Removed Lines]",
          "427: k8s.io/apimachinery v0.30.1 h1:ZQStsEfo4n65yAdlGTfP/uSHMQSoYzU/oeEbkmF7P2U=",
          "428: k8s.io/apimachinery v0.30.1/go.mod h1:iexa2somDaxdnj7bha06bhb43Zpa6eWH8N8dbqVjTUc=",
          "",
          "[Added Lines]",
          "407: k8s.io/apimachinery v0.30.2 h1:fEMcnBj6qkzzPGSVsAZtQThU62SmQ4ZymlXRC5yFSCg=",
          "408: k8s.io/apimachinery v0.30.2/go.mod h1:iexa2somDaxdnj7bha06bhb43Zpa6eWH8N8dbqVjTUc=",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "7a77ed7bffc85e377bda5fe80554c2d1a52b638e",
      "candidate_info": {
        "commit_hash": "7a77ed7bffc85e377bda5fe80554c2d1a52b638e",
        "repo": "go-vela/worker",
        "commit_url": "https://github.com/go-vela/worker/commit/7a77ed7bffc85e377bda5fe80554c2d1a52b638e",
        "files": [
          ".github/workflows/codeql-analysis.yml",
          ".github/workflows/reviewdog.yml",
          ".github/workflows/test.yml",
          "Dockerfile",
          "Dockerfile-alpine",
          "go.mod",
          "go.sum"
        ],
        "message": "chore(deps): update all non-major dependencies (#541)\n\nCo-authored-by: renovate[bot] <29139614+renovate[bot]@users.noreply.github.com>",
        "before_after_code_files": [
          "go.mod||go.mod",
          "go.sum||go.sum"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ],
          "candidate": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ]
        }
      },
      "candidate_diff": {
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "9:  github.com/docker/go-units v0.5.0",
          "10:  github.com/gin-gonic/gin v1.9.1",
          "11:  github.com/go-vela/sdk-go v0.22.0",
          "13:  github.com/go-vela/types v0.22.0",
          "14:  github.com/golang-jwt/jwt/v5 v5.2.0",
          "15:  github.com/google/go-cmp v0.6.0",
          "",
          "[Removed Lines]",
          "12:  github.com/go-vela/server v0.22.0",
          "",
          "[Added Lines]",
          "12:  github.com/go-vela/server v0.22.2",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "150: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572/go.mod h1:9Pwr4B2jHnOSGXyyzV8ROjYa2ojvAY6HCGYYfMoC3Ls=",
          "151: github.com/go-vela/sdk-go v0.22.0 h1:zuFa9BVACP5d5hwbm1o4DVny4amcweGYJgSBDV6En8o=",
          "152: github.com/go-vela/sdk-go v0.22.0/go.mod h1:7N0SW+5L4iboP+B6VQ2PlKvW5Tcj/8zRXJVob9nrSko=",
          "155: github.com/go-vela/types v0.22.0 h1:JmAQ9Hy4HnOgbgNsNz5x1wu3Myv47KoC0rxR9x36OQ4=",
          "156: github.com/go-vela/types v0.22.0/go.mod h1:ljNY36D6YkpObBbNF7Xslv3oxN4mGuQAwWhnnK/V06I=",
          "157: github.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=",
          "",
          "[Removed Lines]",
          "153: github.com/go-vela/server v0.22.0 h1:zzr7g7sm2Z2mn8hAGlD3wqFHzj8rnQCb4KiCIjTyX1I=",
          "154: github.com/go-vela/server v0.22.0/go.mod h1:DidWsP+FCWot5ePim0jjvQqhaheOKjSMoVtAfXeNTyU=",
          "",
          "[Added Lines]",
          "153: github.com/go-vela/server v0.22.2 h1:jDlkQBqi4vxmnJkUVIUTdZeUAEoEVejdd6Mkm25QMrs=",
          "154: github.com/go-vela/server v0.22.2/go.mod h1:DidWsP+FCWot5ePim0jjvQqhaheOKjSMoVtAfXeNTyU=",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "bcdf8e448bdfedb0b90b8e0e6da599b4c726a0ab",
      "candidate_info": {
        "commit_hash": "bcdf8e448bdfedb0b90b8e0e6da599b4c726a0ab",
        "repo": "go-vela/worker",
        "commit_url": "https://github.com/go-vela/worker/commit/bcdf8e448bdfedb0b90b8e0e6da599b4c726a0ab",
        "files": [
          "executor/linux/build.go",
          "executor/linux/stage.go",
          "executor/local/build.go",
          "executor/local/stage.go",
          "go.mod",
          "go.sum",
          "internal/step/skip.go",
          "internal/step/skip_test.go"
        ],
        "message": "fix(skip): surface error when failing to determine whether a container should execute (#524)",
        "before_after_code_files": [
          "executor/linux/build.go||executor/linux/build.go",
          "executor/linux/stage.go||executor/linux/stage.go",
          "executor/local/build.go||executor/local/build.go",
          "executor/local/stage.go||executor/local/stage.go",
          "go.mod||go.mod",
          "go.sum||go.sum",
          "internal/step/skip.go||internal/step/skip.go",
          "internal/step/skip_test.go||internal/step/skip_test.go"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "executor/linux/build.go||executor/linux/build.go",
            "go.mod||go.mod",
            "go.sum||go.sum"
          ],
          "candidate": [
            "executor/linux/build.go||executor/linux/build.go",
            "go.mod||go.mod",
            "go.sum||go.sum"
          ]
        }
      },
      "candidate_diff": {
        "executor/linux/build.go||executor/linux/build.go": [
          "File: executor/linux/build.go -> executor/linux/build.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "515:    continue",
          "516:   }",
          "",
          "[Removed Lines]",
          "514:   if step.Skip(_step, c.build, c.repo) {",
          "",
          "[Added Lines]",
          "514:   skip, err := step.Skip(_step, c.build, c.repo)",
          "515:   if err != nil {",
          "516:    return fmt.Errorf(\"unable to plan step: %w\", c.err)",
          "517:   }",
          "519:   if skip {",
          "",
          "---------------"
        ],
        "executor/linux/stage.go||executor/linux/stage.go": [
          "File: executor/linux/stage.go -> executor/linux/stage.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "144:    continue",
          "145:   }",
          "147:   logger.Debugf(\"planning %s step\", _step.Name)",
          "150:   if err != nil {",
          "151:    return fmt.Errorf(\"unable to plan step %s: %w\", _step.Name, err)",
          "152:   }",
          "",
          "[Removed Lines]",
          "143:   if step.Skip(_step, c.build, c.repo) {",
          "149:   err := c.PlanStep(ctx, _step)",
          "",
          "[Added Lines]",
          "143:   skip, err := step.Skip(_step, c.build, c.repo)",
          "144:   if err != nil {",
          "145:    return fmt.Errorf(\"unable to plan step: %w\", c.err)",
          "146:   }",
          "148:   if skip {",
          "154:   err = c.PlanStep(ctx, _step)",
          "",
          "---------------"
        ],
        "executor/local/build.go||executor/local/build.go": [
          "File: executor/local/build.go -> executor/local/build.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "278:    logrus.Infof(\"Skipping step %s due to ruleset\", _step.Name)",
          "279:    continue",
          "280:   }",
          "",
          "[Removed Lines]",
          "277:   if step.Skip(_step, c.build, c.repo) {",
          "",
          "[Added Lines]",
          "277:   skip, err := step.Skip(_step, c.build, c.repo)",
          "278:   if err != nil {",
          "279:    return fmt.Errorf(\"unable to plan step: %w\", c.err)",
          "280:   }",
          "282:   if skip {",
          "",
          "---------------"
        ],
        "executor/local/stage.go||executor/local/stage.go": [
          "File: executor/local/stage.go -> executor/local/stage.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "94:    logrus.Infof(\"Skipping step %s due to ruleset\", _step.Name)",
          "95:    continue",
          "96:   }",
          "100:   if err != nil {",
          "101:    return fmt.Errorf(\"unable to plan step %s: %w\", _step.Name, err)",
          "102:   }",
          "",
          "[Removed Lines]",
          "93:   if step.Skip(_step, c.build, c.repo) {",
          "99:   err := c.PlanStep(ctx, _step)",
          "",
          "[Added Lines]",
          "93:   skip, err := step.Skip(_step, c.build, c.repo)",
          "94:   if err != nil {",
          "95:    return fmt.Errorf(\"unable to plan step: %w\", c.err)",
          "96:   }",
          "98:   if skip {",
          "104:   err = c.PlanStep(ctx, _step)",
          "",
          "---------------"
        ],
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "9:  github.com/docker/go-units v0.5.0",
          "10:  github.com/gin-gonic/gin v1.9.1",
          "11:  github.com/go-vela/sdk-go v0.21.0",
          "14:  github.com/golang-jwt/jwt/v5 v5.0.0",
          "15:  github.com/google/go-cmp v0.5.9",
          "16:  github.com/joho/godotenv v1.5.1",
          "",
          "[Removed Lines]",
          "12:  github.com/go-vela/server v0.21.0",
          "13:  github.com/go-vela/types v0.21.0",
          "",
          "[Added Lines]",
          "12:  github.com/go-vela/server v0.21.1-0.20231017135815-bb35e76f6056",
          "13:  github.com/go-vela/types v0.21.1-0.20231012142227-0c0b890487af",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "152: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572/go.mod h1:9Pwr4B2jHnOSGXyyzV8ROjYa2ojvAY6HCGYYfMoC3Ls=",
          "153: github.com/go-vela/sdk-go v0.21.0 h1:Hedak1Yk9rGn3ZBOvLvxLrMcyvBf3+RB6/wMgHNxyxw=",
          "154: github.com/go-vela/sdk-go v0.21.0/go.mod h1:fNMQxSqBCXQH6bK3Ej0aCj/iugEDZNEIWW3Xj/m22AQ=",
          "159: github.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=",
          "160: github.com/goccy/go-json v0.10.2/go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=",
          "161: github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=",
          "",
          "[Removed Lines]",
          "155: github.com/go-vela/server v0.21.0 h1:tBSUMp1rni2i1wOzP2uxh7o6uTkzjrYfRe0fKJBOcNA=",
          "156: github.com/go-vela/server v0.21.0/go.mod h1:3pp/hg5NUZ6VbbDC6JO97H7Ry7vv/qKA8GpWsaUpZ1M=",
          "157: github.com/go-vela/types v0.21.0 h1:yZrVUw4jKO0JHaUBkOIZZdniDGyDOpTMbKriemdm1jg=",
          "158: github.com/go-vela/types v0.21.0/go.mod h1:Jn8K28uj7mACc55fkFgaIzL0q45iXydOFGEeoSeHUtQ=",
          "",
          "[Added Lines]",
          "155: github.com/go-vela/server v0.21.1-0.20231017135815-bb35e76f6056 h1:TqLmvWRU3sqflw7kRUxDRw4H5g9JupLIp0JAGI8biG8=",
          "156: github.com/go-vela/server v0.21.1-0.20231017135815-bb35e76f6056/go.mod h1:SFAAje/TsPxW+9iDo38CotLX0ralvPRLxbaS9fffT+A=",
          "157: github.com/go-vela/types v0.21.1-0.20231012142227-0c0b890487af h1:qiP6pXFDyPDDP+hy8zY+nhmoWv9aoQrrnNmfAAT6yCA=",
          "158: github.com/go-vela/types v0.21.1-0.20231012142227-0c0b890487af/go.mod h1:Jn8K28uj7mACc55fkFgaIzL0q45iXydOFGEeoSeHUtQ=",
          "",
          "---------------"
        ],
        "internal/step/skip.go||internal/step/skip.go": [
          "File: internal/step/skip.go -> internal/step/skip.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:  if c == nil {",
          "20:  }",
          "22:  event := b.GetEvent()",
          "",
          "[Removed Lines]",
          "16: func Skip(c *pipeline.Container, b *library.Build, r *library.Repo) bool {",
          "19:   return true",
          "",
          "[Added Lines]",
          "16: func Skip(c *pipeline.Container, b *library.Build, r *library.Repo) (bool, error) {",
          "19:   return true, nil",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "68: }",
          "",
          "[Removed Lines]",
          "67:  return !c.Execute(ruledata)",
          "",
          "[Added Lines]",
          "67:  exec, err := c.Execute(ruledata)",
          "69:  return !exec, err",
          "",
          "---------------"
        ],
        "internal/step/skip_test.go||internal/step/skip_test.go": [
          "File: internal/step/skip_test.go -> internal/step/skip_test.go",
          "--- Hunk 1 ---",
          "[Context before]",
          "271:  for _, test := range tests {",
          "272:   t.Run(test.name, func(t *testing.T) {",
          "275:    if got != test.want {",
          "276:     t.Errorf(\"Skip is %v, want %v\", got, test.want)",
          "",
          "[Removed Lines]",
          "273:    got := Skip(test.container, test.build, test.repo)",
          "",
          "[Added Lines]",
          "273:    got, err := Skip(test.container, test.build, test.repo)",
          "274:    if err != nil {",
          "275:     t.Errorf(\"Skip returned error: %s\", err)",
          "276:    }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "a318c37a0101b30020231b57a4134dde893dde91",
      "candidate_info": {
        "commit_hash": "a318c37a0101b30020231b57a4134dde893dde91",
        "repo": "go-vela/worker",
        "commit_url": "https://github.com/go-vela/worker/commit/a318c37a0101b30020231b57a4134dde893dde91",
        "files": [
          "go.mod",
          "go.sum"
        ],
        "message": "chore(release): v0.21.0-rc2 (#519)",
        "before_after_code_files": [
          "go.mod||go.mod",
          "go.sum||go.sum"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ],
          "candidate": [
            "go.mod||go.mod",
            "go.sum||go.sum"
          ]
        }
      },
      "candidate_diff": {
        "go.mod||go.mod": [
          "File: go.mod -> go.mod",
          "--- Hunk 1 ---",
          "[Context before]",
          "8:  github.com/docker/docker v20.10.26+incompatible",
          "9:  github.com/docker/go-units v0.5.0",
          "10:  github.com/gin-gonic/gin v1.9.1",
          "14:  github.com/golang-jwt/jwt/v5 v5.0.0",
          "15:  github.com/google/go-cmp v0.5.9",
          "16:  github.com/joho/godotenv v1.5.1",
          "",
          "[Removed Lines]",
          "11:  github.com/go-vela/sdk-go v0.21.0-rc1",
          "12:  github.com/go-vela/server v0.21.0-rc1",
          "13:  github.com/go-vela/types v0.21.0-rc1",
          "",
          "[Added Lines]",
          "11:  github.com/go-vela/sdk-go v0.21.0-rc2",
          "12:  github.com/go-vela/server v0.21.0-rc2",
          "13:  github.com/go-vela/types v0.21.0-rc2",
          "",
          "---------------"
        ],
        "go.sum||go.sum": [
          "File: go.sum -> go.sum",
          "--- Hunk 1 ---",
          "[Context before]",
          "150: github.com/go-playground/validator/v10 v10.14.0/go.mod h1:9iXMNT7sEkjXb0I+enO7QXmzG6QCsPWY4zveKFVRSyU=",
          "151: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572 h1:tfuBGBXKqDEevZMzYi5KSi8KkcZtzBcTgAUUtapy0OI=",
          "152: github.com/go-task/slim-sprig v0.0.0-20230315185526-52ccab3ef572/go.mod h1:9Pwr4B2jHnOSGXyyzV8ROjYa2ojvAY6HCGYYfMoC3Ls=",
          "159: github.com/goccy/go-json v0.10.2 h1:CrxCmQqYDkv1z7lO7Wbh2HN93uovUHgrECaO5ZrCXAU=",
          "160: github.com/goccy/go-json v0.10.2/go.mod h1:6MelG93GURQebXPDq3khkgXZkazVtN9CRI+MGFi0w8I=",
          "161: github.com/gogo/protobuf v1.3.2 h1:Ov1cvc58UF3b5XjBnZv7+opcTcQFZebYjWzi34vdm4Q=",
          "",
          "[Removed Lines]",
          "153: github.com/go-vela/sdk-go v0.21.0-rc1 h1:Wz+S8Nu0H6Y2/cw7Tbs92SFtaUqjwtWm4bYOE6uDLpo=",
          "154: github.com/go-vela/sdk-go v0.21.0-rc1/go.mod h1:eVEUsWGggRvjcMheedhRcXPoQau/KKTDzyoA4+TrQH0=",
          "155: github.com/go-vela/server v0.21.0-rc1 h1:3hfCqHV2vms7O4MkwAZKtq0GcXhDtseGuXxsxg3Bt9A=",
          "156: github.com/go-vela/server v0.21.0-rc1/go.mod h1:lx0BjaTKWY1u45qrm4tZvL6ndDlecxHTS8+PCssBqPk=",
          "157: github.com/go-vela/types v0.21.0-rc1 h1:k5XgPh4h5oVGwto7qPELoSp6Y8OL/z/z6FCjqTNZQHE=",
          "158: github.com/go-vela/types v0.21.0-rc1/go.mod h1:Jn8K28uj7mACc55fkFgaIzL0q45iXydOFGEeoSeHUtQ=",
          "",
          "[Added Lines]",
          "153: github.com/go-vela/sdk-go v0.21.0-rc2 h1:7bzhRNkzWEKHCmvL/FuTuxbunSZWgYzIntbNMqCOEdw=",
          "154: github.com/go-vela/sdk-go v0.21.0-rc2/go.mod h1:ECjZOLO1+Zia0Gy5nxAWGMy5tbGPqHCrCyZXDq4OMms=",
          "155: github.com/go-vela/server v0.21.0-rc2 h1:kE67EJegxKjE/BODlkbriy+s0agQIwPqJNyVub2uMG0=",
          "156: github.com/go-vela/server v0.21.0-rc2/go.mod h1:jP1fVtnov/tP4jvBIsDI7bFNmWWsSyDMsqkCOMDfqQk=",
          "157: github.com/go-vela/types v0.21.0-rc2 h1:xzavL5pTmuu1OBAy7QmJ6YSarcjvIBfzHCyCgaps0R8=",
          "158: github.com/go-vela/types v0.21.0-rc2/go.mod h1:Jn8K28uj7mACc55fkFgaIzL0q45iXydOFGEeoSeHUtQ=",
          "",
          "---------------"
        ]
      }
    }
  ]
}