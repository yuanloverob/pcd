{
  "cve_id": "CVE-2019-19924",
  "cve_desc": "SQLite 3.30.1 mishandles certain parser-tree rewriting, related to expr.c, vdbeaux.c, and window.c. This is caused by incorrect sqlite3WindowRewrite() error handling.",
  "repo": "sqlite/sqlite",
  "patch_hash": "8654186b0236d556aa85528c2573ee0b6ab71be3",
  "patch_info": {
    "commit_hash": "8654186b0236d556aa85528c2573ee0b6ab71be3",
    "repo": "sqlite/sqlite",
    "commit_url": "https://github.com/sqlite/sqlite/commit/8654186b0236d556aa85528c2573ee0b6ab71be3",
    "files": [
      "manifest",
      "manifest.uuid",
      "src/expr.c",
      "src/vdbeaux.c",
      "src/window.c"
    ],
    "message": "When an error occurs while rewriting the parser tree for window functions in the sqlite3WindowRewrite() routine, make sure that pParse->nErr is set, and make sure that this shuts down any subsequent code generation that might depend on the transformations that were implemented.  This fixes a problem discovered by the Yongheng and Rui fuzzer.\n\nFossilOrigin-Name: e2bddcd4c55ba3cbe0130332679ff4b048630d0ced9a8899982edb5a3569ba7f",
    "before_after_code_files": [
      "manifest.uuid||manifest.uuid",
      "src/expr.c||src/expr.c",
      "src/vdbeaux.c||src/vdbeaux.c",
      "src/window.c||src/window.c"
    ]
  },
  "patch_diff": {
    "manifest.uuid||manifest.uuid": [
      "File: manifest.uuid -> manifest.uuid",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "1: 4417c5bf0aabb34ed174f01afd981c924ae965a42128719d8d6735536631d12f",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "src/expr.c||src/expr.c": [
      "File: src/expr.c -> src/expr.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "376:   int addr;",
      "377:   CollSeq *p4;",
      "379:   if( isCommuted ){",
      "380:     p4 = sqlite3BinaryCompareCollSeq(pParse, pRight, pLeft);",
      "381:   }else{",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "379:   if( pParse->nErr ) return 0;",
      "",
      "---------------"
    ],
    "src/vdbeaux.c||src/vdbeaux.c": [
      "File: src/vdbeaux.c -> src/vdbeaux.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1304: static void vdbeVComment(Vdbe *p, const char *zFormat, va_list ap){",
      "1305:   assert( p->nOp>0 || p->aOp==0 );",
      "1307:   if( p->nOp ){",
      "1308:     assert( p->aOp );",
      "1309:     sqlite3DbFree(p->db, p->aOp[p->nOp-1].zComment);",
      "",
      "[Removed Lines]",
      "1306:   assert( p->aOp==0 || p->aOp[p->nOp-1].zComment==0 || p->db->mallocFailed );",
      "",
      "[Added Lines]",
      "1306:   assert( p->aOp==0 || p->aOp[p->nOp-1].zComment==0 || p->db->mallocFailed",
      "1307:           || p->pParse->nErr>0 );",
      "",
      "---------------"
    ],
    "src/window.c||src/window.c": [
      "File: src/window.c -> src/window.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "935:     pTab = sqlite3DbMallocZero(db, sizeof(Table));",
      "936:     if( pTab==0 ){",
      "938:     }",
      "940:     p->pSrc = 0;",
      "",
      "[Removed Lines]",
      "937:       return SQLITE_NOMEM;",
      "",
      "[Added Lines]",
      "937:       return sqlite3ErrorToParser(db, SQLITE_NOMEM);",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1039:     sqlite3DbFree(db, pTab);",
      "1040:   }",
      "1042:   return rc;",
      "1043: }",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1042:   if( rc && pParse->nErr==0 ){",
      "1043:     assert( pParse->db->mallocFailed );",
      "1044:     return sqlite3ErrorToParser(pParse->db, SQLITE_NOMEM);",
      "1045:   }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "9b0da8319c30161b6e371e57d784f343b0a5a697",
      "candidate_info": {
        "commit_hash": "9b0da8319c30161b6e371e57d784f343b0a5a697",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/9b0da8319c30161b6e371e57d784f343b0a5a697",
        "files": [
          "ext/fts5/fts5_index.c",
          "ext/fts5/test/fts5corrupt3.test",
          "manifest",
          "manifest.uuid"
        ],
        "message": "Fix another fts5 problem caused by a corrupt database.\n\nFossilOrigin-Name: 911342f7512145a8a189bb0ec59e70e4c9ddc9f20f3e84816ab25139ead5dc45",
        "before_after_code_files": [
          "ext/fts5/fts5_index.c||ext/fts5/fts5_index.c",
          "ext/fts5/test/fts5corrupt3.test||ext/fts5/test/fts5corrupt3.test",
          "manifest.uuid||manifest.uuid"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "ext/fts5/fts5_index.c||ext/fts5/fts5_index.c": [
          "File: ext/fts5/fts5_index.c -> ext/fts5/fts5_index.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "910:             break;",
          "911:           }",
          "912:         }",
          "913:       }",
          "914:     }",
          "915:     if( nSegment!=0 && rc==SQLITE_OK ) rc = FTS5_CORRUPT;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "913:         if( iLvl>0 && pLvl[-1].nMerge && nTotal==0 ) rc = FTS5_CORRUPT;",
          "914:         if( iLvl==nLevel-1 && pLvl->nMerge ) rc = FTS5_CORRUPT;",
          "",
          "---------------"
        ],
        "ext/fts5/test/fts5corrupt3.test||ext/fts5/test/fts5corrupt3.test": [
          "File: ext/fts5/test/fts5corrupt3.test -> ext/fts5/test/fts5corrupt3.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "1765:   DELETE FROM t1 WHERE t1 MATCH 'ab*ndon';",
          "1766: } {1 {database disk image is malformed}}",
          "1768: sqlite3_fts5_may_be_corrupt 0",
          "1769: finish_test",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1768: #-------------------------------------------------------------------------",
          "1769: #",
          "1770: reset_db",
          "1771: do_test 22.0 {",
          "1772:   sqlite3 db {}",
          "1773:   db deserialize [decode_hexdb {",
          "1774: | size 28672 pagesize 4096 filename c22b.db",
          "1775: | page 1 offset 0",
          "1776: |      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.",
          "1777: |     16: 10 00 01 01 00 40 20 20 00 00 00 02 00 00 00 07   .....@  ........",
          "1778: |     32: 00 00 00 00 00 00 00 00 00 00 00 02 00 00 00 00   ................",
          "1779: |     48: 00 00 00 00 00 00 00 01 00 00 00 00 00 00 00 00   ................",
          "1780: |     80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 02   ................",
          "1781: |     96: 00 2e 30 38 0d 00 00 00 07 0d d2 00 0f c4 0f 6d   ..08...........m",
          "1782: |    112: 0f 02 0e ab 0e 4e 0d f6 0d d2 00 00 00 00 00 00   .....N..........",
          "1783: |   3536: 00 00 22 07 06 17 11 11 01 31 74 61 62 6c 65 74   .........1tablet",
          "1784: |   3552: 32 74 32 07 43 52 45 41 54 45 20 54 41 42 4c 45   2t2.CREATE TABLE",
          "1785: |   3568: 20 74 32 28 78 29 56 06 06 17 1f 1f 01 7d 74 61    t2(x)V.......ta",
          "1786: |   3584: 62 6c 65 74 31 5f 63 6f 6e 66 69 67 74 31 5f 63   blet1_configt1_c",
          "1787: |   3600: 6f 6e 66 69 67 06 43 52 45 41 54 45 20 54 41 42   onfig.CREATE TAB",
          "1788: |   3616: 4c 45 20 27 74 31 5f 63 6f 6e 66 69 67 27 28 6b   LE 't1_config'(k",
          "1789: |   3632: 20 50 52 49 4d 41 52 59 20 4b 45 59 2c 20 76 29    PRIMARY KEY, v)",
          "1790: |   3648: 20 57 49 54 48 4f 55 54 20 52 4f 57 49 44 5b 05    WITHOUT ROWID[.",
          "1791: |   3664: 07 17 21 21 01 81 01 74 41 62 6c 65 74 31 5f 64   ..!!...tAblet1_d",
          "1792: |   3680: 6f 63 73 69 7a 65 74 31 5f 64 6f 63 73 69 7a 65   ocsizet1_docsize",
          "1793: |   3696: 05 43 52 45 41 54 45 20 54 41 42 4c 45 20 27 74   .CREATE TABLE 't",
          "1794: |   3712: 31 5f 64 6f 63 73 69 7a 65 27 28 69 64 20 49 4e   1_docsize'(id IN",
          "1795: |   3728: 54 45 47 45 52 20 50 52 49 4d 41 52 59 20 4b 45   TEGER PRIMARY KE",
          "1796: |   3744: 59 2c 20 73 7a 20 42 4c 4f 42 29 55 04 06 17 21   Y, sz BLOB)U...!",
          "1797: |   3760: 21 01 77 74 61 62 6c 65 74 31 5f 63 6f 6e 74 65   !.wtablet1_conte",
          "1798: |   3776: 6e 74 74 31 5f 63 6f 6e 74 65 6e 74 04 43 52 45   ntt1_content.CRE",
          "1799: |   3792: 41 54 45 20 54 41 42 4c 45 20 27 74 31 5f 63 6f   ATE TABLE 't1_co",
          "1800: |   3808: 6e 74 65 6e 74 27 28 69 64 20 49 4e 54 45 47 45   ntent'(id INTEGE",
          "1801: |   3824: 52 20 50 52 49 4d 41 52 59 20 4b 45 59 2c 20 63   R PRIMARY KEY, c",
          "1802: |   3840: 30 29 69 03 07 17 19 19 01 81 2d 74 61 62 6c 65   0)i.......-table",
          "1803: |   3856: 74 31 5f 69 64 78 74 31 5f 69 64 78 03 43 52 45   t1_idxt1_idx.CRE",
          "1804: |   3872: 41 54 45 20 54 41 42 4c 45 20 27 74 31 5f 69 64   ATE TABLE 't1_id",
          "1805: |   3888: 78 27 28 73 65 67 69 64 2c 20 74 65 72 6d 2c 20   x'(segid, term,",
          "1806: |   3904: 70 67 6e 6f 2c 20 50 52 49 4d 41 52 59 20 4b 45   pgno, PRIMARY KE",
          "1807: |   3920: 59 28 73 65 67 69 64 2c 20 74 65 72 6d 29 29 20   Y(segid, term))",
          "1808: |   3936: 57 49 54 48 4f 55 54 20 52 4f 57 49 44 55 02 07   WITHOUT ROWIDU..",
          "1809: |   3952: 17 1b 1b 01 81 01 74 61 62 6c 65 74 31 5f 64 61   ......tablet1_da",
          "1810: |   3968: 74 61 74 31 5f 64 61 74 61 02 43 52 45 41 54 45   tat1_data.CREATE",
          "1811: |   3984: 20 54 41 42 4c 45 20 27 74 31 5f 64 61 74 61 27    TABLE 't1_data'",
          "1812: |   4000: 28 69 64 20 49 4e 54 45 47 45 52 20 50 52 49 4d   (id INTEGER PRIM",
          "1813: |   4016: 41 52 59 20 4b 45 59 2c 20 62 6c 6f 63 6b 20 42   ARY KEY, block B",
          "1814: |   4032: 4c 4f 42 29 3a 01 06 17 11 11 08 63 74 61 62 6c   LOB):......ctabl",
          "1815: |   4048: 65 74 31 74 31 43 52 45 41 54 45 20 56 49 52 54   et1t1CREATE VIRT",
          "1816: |   4064: 75 41 4c 20 54 41 42 4c 45 20 74 31 20 55 53 49   uAL TABLE t1 USI",
          "1817: |   4080: 4e 47 20 66 74 73 35 28 63 6f 6e 74 65 6e 74 29   NG fts5(content)",
          "1818: | page 2 offset 4096",
          "1819: |      0: 0d 0f 15 00 05 08 4e 00 0f e8 08 4e 0f bd 0f 29   ......N....N...)",
          "1820: |     16: 08 65 00 00 00 00 00 00 00 00 00 00 00 00 00 00   .e..............",
          "1821: |   2112: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 15 0a   ................",
          "1822: |   2128: 03 00 30 00 00 00 00 01 03 02 01 03 01 01 01 02   ..0.............",
          "1823: |   2144: 01 01 03 01 01 8d 28 8c 80 80 80 80 01 04 00 9a   ......(.........",
          "1824: |   2160: 54 00 00 06 77 19 30 30 30 30 30 30 33 30 66 65   T...w.00000030fe",
          "1825: |   2176: 65 30 30 30 66 66 61 30 66 66 34 30 66 65 65 05   e000ffa0ff40fee.",
          "1826: |   2192: 02 19 02 0b 31 30 66 66 61 30 30 30 66 66 61 05   ....10ffa000ffa.",
          "1827: |   2208: 06 13 18 09 02 25 33 34 33 35 32 34 35 34 31 35   .....%3435245415",
          "1828: |   2224: 34 34 35 32 30 35 34 34 31 34 32 34 63 34 35 32   445205441424c452",
          "1829: |   2240: 30 32 37 37 34 33 31 35 66 36 39 05 02 07 02 37   02774315f69....7",
          "1830: |   2256: 34 30 33 30 33 30 30 30 65 30 31 30 34 30 32 30   40303000e0104020",
          "1831: |   2272: 33 30 30 30 65 30 31 30 34 30 31 30 33 30 30 30   3000e01040103000",
          "1832: |   2288: 65 30 31 30 61 30 30 30 30 30 30 30 31 30 66 66   e010a000000010ff",
          "1833: |   2304: 34 30 30 30 66 66 34 05 02 1b 02 27 35 30 34 30   4000ff4....'5040",
          "1834: |   2320: 39 30 63 30 31 30 32 30 64 30 30 30 30 30 30 30   90c01020d0000000",
          "1835: |   2336: 33 30 66 65 30 30 30 30 66 66 36 30 66 65 63 30   30fe0000ff60fec0",
          "1836: |   2352: 66 65 30 05 02 2c 27 02 66 30 05 02 16 02 1d 36   fe0..,'.f0.....6",
          "1837: |   2368: 31 37 31 31 31 31 30 38 36 33 37 34 36 31 36 32   1711110863746162",
          "1838: |   2384: 36 63 36 35 37 34 33 31 37 34 33 31 05 02 0d 02   6c6574317431....",
          "1839: |   2400: 29 39 30 33 30 32 31 62 37 32 36 35 36 32 37 35   )903021b72656275",
          "1840: |   2416: 36 34 36 31 37 34 36 31 37 34 33 31 35 66 36 34   6461746174315f64",
          "1841: |   2432: 36 31 37 34 36 31 30 32 34 33 05 02 1f 02 43 61   6174610243....Ca",
          "1842: |   2448: 30 33 30 33 30 30 31 62 36 31 36 32 36 31 36 65   0303001b6162616e",
          "1843: |   2464: 36 34 36 66 36 65 30 38 30 32 30 33 30 30 31 37   646f6e0802030017",
          "1844: |   2480: 36 31 36 32 36 31 36 36 37 34 30 38 30 31 30 33   6162616674080103",
          "1845: |   2496: 30 30 31 37 36 31 36 32 36 31 36 33 36 62 30 64   0017616261636b0d",
          "1846: |   2512: 30 30 05 02 18 34 1d 33 36 62 30 31 30 32 30 32   00...4.36b010202",
          "1847: |   2528: 30 34 30 32 36 36 37 34 30 32 30 32 30 32 30 34   0402667402020204",
          "1848: |   2544: 30 34 36 65 05 02 2e 02 33 62 30 33 31 62 30 31   046e....3b031b01",
          "1849: |   2560: 37 36 36 35 37 32 37 33 36 39 36 66 36 65 30 34   76657273696f6e04",
          "1850: |   2576: 30 64 30 30 30 30 30 30 30 33 30 66 64 36 30 30   0d000000030fd600",
          "1851: |   2592: 30 66 66 34 30 66 65 31 30 66 64 36 05 02 1d 01   0ff40fe10fd6....",
          "1852: |   2608: 04 31 66 62 64 05 04 10 18 01 01 32 05 02 14 02   .1fbd......2....",
          "1853: |   2624: 43 34 38 34 38 30 38 30 38 30 38 30 30 31 30 33   C484808080800103",
          "1854: |   2640: 30 30 34 65 30 30 30 30 30 30 31 65 30 36 33 30   004e0000001e0630",
          "1855: |   2656: 36 31 36 32 36 31 36 33 36 62 30 31 30 32 30 32   616261636b010202",
          "1856: |   2672: 30 34 30 32 36 36 37 34 30 32 30 32 30 32 30 34   0402667402020204",
          "1857: |   2688: 30 34 36 65 05 04 11 18 02 01 66 05 02 2a 03 02   046e......f..*..",
          "1858: |   2704: 65 72 05 02 31 01 08 33 35 32 38 36 33 36 66 05   er..1..3528636f.",
          "1859: |   2720: 02 24 02 03 66 65 30 05 04 17 18 01 2b 34 31 35   .$..fe0.....+415",
          "1860: |   2736: 32 35 39 32 30 34 62 34 35 35 39 32 63 32 30 36   259204b45592c206",
          "1861: |   2752: 32 36 63 36 66 36 33 36 62 32 30 34 32 34 63 34   26c6f636b20424c4",
          "1862: |   2768: 66 34 32 32 39 33 61 30 05 02 0c 2c 1f 31 30 36   f42293a0...,.106",
          "1863: |   2784: 31 37 31 31 31 31 30 38 36 33 37 34 36 31 36 32   1711110863746162",
          "1864: |   2800: 36 63 36 35 37 34 33 31 37 34 33 31 05 02 22 02   6c6574317431....",
          "1865: |   2816: 40 33 35 32 34 35 34 31 35 34 34 35 32 30 35 36   @352454154452056",
          "1866: |   2832: 34 39 35 32 35 34 37 35 34 31 34 63 32 30 35 34   49525475414c2054",
          "1867: |   2848: 34 31 34 32 34 63 34 35 32 30 37 34 33 31 32 30   41424c4520743120",
          "1868: |   2864: 35 35 35 33 34 39 34 65 34 37 32 30 36 36 37 34   5553494e47206674",
          "1869: |   2880: 37 05 02 23 42 09 33 33 35 32 38 36 33 36 66 05   7..#B.33528636f.",
          "1870: |   2896: 02 0e 02 03 66 65 65 05 02 1a 01 34 35 32 34 35   ....fee....45245",
          "1871: |   2912: 34 31 35 34 34 35 32 30 35 34 34 31 34 32 34 63   415445205441424c",
          "1872: |   2928: 34 35 32 30 32 37 37 34 33 31 35 66 36 34 36 31   45202774315f6461",
          "1873: |   2944: 37 34 36 31 32 37 32 38 36 39 36 34 32 30 34 39   7461272869642049",
          "1874: |   2960: 05 02 20 16 37 c3 b0 35 32 30 32 37 37 34 33 31   .. .7..520277431",
          "1875: |   2976: 35 66 36 34 36 31 37 34 36 31 32 37 32 38 36 39   5f64617461272869",
          "1876: |   2992: 36 34 32 30 34 39 34 65 35 34 34 35 34 37 34 35   6420494e54454745",
          "1877: |   3008: 35 32 32 30 35 30 35 32 34 39 34 64 05 02 0b 03   52205052494d....",
          "1878: |   3024: 48 35 39 32 30 34 62 34 35 35 39 32 63 32 30 36   H59204b45592c206",
          "1879: |   3040: 33 33 30 32 39 36 39 30 33 30 30 30 31 35 37 35   3302969030001575",
          "1880: |   3056: 33 31 31 39 32 36 64 37 34 36 31 36 32 36 63 36   311926d7461626c6",
          "1881: |   3072: 35 37 34 33 31 35 66 36 39 36 34 37 38 37 34 33   574315f696478743",
          "1882: |   3088: 31 35 66 36 39 36 34 37 38 05 02 06 02 38 34 32   15f696478....842",
          "1883: |   3104: 30 35 32 34 66 35 37 34 39 34 34 35 35 30 32 30   0524f57494455020",
          "1884: |   3120: 37 31 37 31 62 31 62 30 31 38 31 30 31 37 34 36   7171b1b018101746",
          "1885: |   3136: 31 36 32 36 63 36 35 37 34 33 31 35 66 31 37 34   1626c6574315f174",
          "1886: |   3152: 36 31 30 32 34 33 05 02 0a 02 03 66 66 34 05 02   610243.....ff4..",
          "1887: |   3168: 1c 01 4a 36 34 36 66 36 65 30 33 30 32 30 32 30   ..J646f6e0302020",
          "1888: |   3184: 34 30 61 30 37 30 35 30 31 30 33 30 30 31 30 30   40a0705010300100",
          "1889: |   3200: 33 30 33 30 66 30 61 30 33 30 30 32 34 30 30 30   3030f0a030024000",
          "1890: |   3216: 30 30 30 30 30 30 31 30 31 30 31 30 30 30 31 30   0000001010100010",
          "1891: |   3232: 31 30 31 30 30 39 61 30 30 30 30 30 30 05 02 2f   101009a000000../",
          "1892: |   3248: 42 09 31 30 61 30 30 30 30 30 30 05 02 28 08 43   B.10a000000..(.C",
          "1893: |   3264: 74 30 32 30 32 30 34 30 61 30 37 30 35 30 31 30   t0202040a0705010",
          "1894: |   3280: 33 30 30 31 30 30 33 30 33 30 66 30 61 30 33 30   3001003030f0a030",
          "1895: |   3296: 30 32 34 30 30 30 30 30 30 30 30 30 31 30 31 30   0240000000001010",
          "1896: |   3312: 31 30 30 30 31 30 31 30 31 30 31 30 61 30 30 30   100010101010a000",
          "1897: |   3328: 30 30 30 05 02 12 02 49 37 36 65 36 66 32 63 32   000....I76e6f2c2",
          "1898: |   3344: 30 35 30 35 32 34 39 34 64 34 31 35 32 35 39 32   05052494d4152592",
          "1899: |   3360: 30 34 62 34 35 35 39 32 38 37 33 36 35 36 37 36   04b4559287365676",
          "1900: |   3376: 39 36 34 32 63 32 30 37 34 36 35 37 32 36 64 32   9642c207465726d2",
          "1901: |   3392: 39 32 39 32 30 35 37 34 39 35 34 34 38 34 66 35   92920574954484f5",
          "1902: |   3408: 35 05 02 09 02 4c 39 37 61 36 35 37 34 33 31 35   5....L97a6574315",
          "1903: |   3424: 66 36 34 36 66 36 33 37 33 36 39 37 61 36 35 30   f646f6373697a650",
          "1904: |   3440: 35 34 33 35 32 34 35 34 31 35 34 34 35 32 30 35   5435245415445205",
          "1905: |   3456: 34 38 36 39 36 34 32 30 34 39 34 65 35 34 34 35   48696420494e5445",
          "1906: |   3472: 34 37 34 35 35 32 32 30 35 30 35 32 34 39 34 34   4745522050524944",
          "1907: |   3488: 64 31 05 02 05 02 27 65 37 34 36 35 36 65 37 34   d1....'e74656e74",
          "1908: |   3504: 32 39 30 64 30 30 30 30 30 30 30 33 30 66 62 64   290d000000030fbd",
          "1909: |   3520: 30 30 30 62 65 38 30 66 65 66 30 66 62 64 05 02   000be80fef0fbd..",
          "1910: |   3536: 0f 1e 0b 66 65 38 30 66 65 66 30 66 62 64 05 02   ...fe80fef0fbd..",
          "1911: |   3552: 25 02 03 66 64 36 05 02 1e 01 4a 37 36 32 39 32   %..fd6....J76292",
          "1912: |   3568: 30 35 37 34 39 35 34 34 38 34 66 35 35 35 34 32   0574954484f55542",
          "1913: |   3584: 30 35 32 34 66 35 37 34 39 34 34 35 62 30 35 30   0524f5749445b050",
          "1914: |   3600: 37 31 37 32 31 32 31 30 31 38 31 30 31 37 34 36   7172121018101746",
          "1915: |   3616: 31 36 32 36 63 36 35 37 34 33 31 35 66 36 34 36   1626c6574315f646",
          "1916: |   3632: 66 36 33 37 33 05 02 04 02 21 38 32 37 32 38 37   f6373....!827287",
          "1917: |   3648: 33 36 35 36 37 36 39 36 34 32 63 32 30 37 34 36   3656769642c20746",
          "1918: |   3664: 35 37 32 36 64 32 63 32 30 37 30 05 02 08 01 01   5726d2c2070.....",
          "1919: |   3680: 61 05 02 2b 01 06 62 61 63 6b 75 70 05 02 32 02   a..+..backup..2.",
          "1920: |   3696: 05 65 61 6d 65 72 05 02 02 02 05 6f 6f 6d 65 72   .eamer.....oomer",
          "1921: |   3712: 05 01 02 40 75 6d 6d 32 34 63 34 35 32 30 32 37   ...@umm24c452027",
          "1922: |   3728: 37 34 33 31 35 66 36 33 36 66 36 65 36 36 36 39   74315f636f6e6669",
          "1923: |   3744: 36 37 32 37 32 38 36 62 32 30 35 30 35 32 34 39   6727286b20505249",
          "1924: |   3760: 34 64 34 31 35 32 35 39 32 30 34 62 34 35 35 39   4d415259204b4559",
          "1925: |   3776: 32 63 32 30 05 02 03 01 15 65 35 34 34 35 34 37   2c20.....e544547",
          "1926: |   3792: 34 35 35 32 32 30 35 30 35 32 34 39 34 64 05 02   4552205052494d..",
          "1927: |   3808: 21 01 02 66 61 05 02 15 04 1d 12 2a 3c 2c 07 22   !..fa......*<,..",
          "1928: |   3824: 2e 48 22 38 0a 06 49 06 07 0d 09 30 24 45 0e 08   .H.8..I....0$E..",
          "1929: |   3840: 39 3c 4d 3d 08 4f 0e 48 4e 51 2c 10 08 4f 26 06   9<M=.O.HNQ,..O&.",
          "1930: |   3856: 0b 0a 09 45 1a 0f ef 00 14 2a 00 00 00 00 01 02   ...E.....*......",
          "1931: |   3872: 01 01 02 01 01 01 02 01 01 81 0c 88 80 80 80 80   ................",
          "1932: |   3888: 01 04 00 82 1c 00 00 00 7c 08 30 61 62 61 6e 64   ........|.0aband",
          "1933: |   3904: 6f 6e 08 02 05 02 05 63 74 69 76 65 04 02 02 04   on.....ctive....",
          "1934: |   3920: 02 0b 02 04 6c 70 68 61 08 04 02 0a 02 03 74 6b   ....lpha......tk",
          "1935: |   3936: 6d 06 02 02 03 02 6f 6d 08 02 09 05 02 69 63 07   m.....om.....ic.",
          "1936: |   3952: 02 02 01 06 62 61 63 6b 75 70 08 02 04 02 05 6f   ....backup.....o",
          "1937: |   3968: 6f 6d 65 72 05 02 02 01 0c 63 68 61 6e 6e 65 62   omer.....channeb",
          "1938: |   3984: 6f 6f 6d 65 72 08 02 08 07 01 6c 08 02 03 01 06   oomer.....l.....",
          "1939: |   4000: 73 74 61 61 63 6b 08 02 07 01 03 74 65 62 08 02   staack.....teb..",
          "1940: |   4016: 06 04 0c 0d 0a 08 07 07 0b 0a 11 06 0b 24 84 80   .............$..",
          "1941: |   4032: 80 80 80 01 03 00 4e 00 00 00 1e 06 30 61 62 61   ......N.....0aba",
          "1942: |   4048: 63 6b 01 02 02 04 02 66 74 02 02 02 04 04 6e 64   ck.....ft.....nd",
          "1943: |   4064: 6f 6e 03 02 02 04 0a 07 05 01 03 00 10 08 41 00   on............A.",
          "1944: |   4080: 00 00 11 24 00 00 00 00 01 01 00 01 01 01 01 01   ...$............",
          "1945: | page 3 offset 8192",
          "1946: |      0: 0a 00 00 00 03 0f ec 00 ff 00 0f f3 0f ec 00 00   ................",
          "1947: |   4064: 00 00 00 00 00 00 00 00 00 00 00 00 06 04 01 0c   ................",
          "1948: |   4080: 01 03 02 06 04 01 0c 01 02 02 05 04 09 0c 01 02   ................",
          "1949: | page 4 offset 12288",
          "1950: |      0: 0d 0f ca 00 08 07 e1 00 0f f6 0f ec 0f e0 0f d5   ................",
          "1951: |     16: 07 e1 0f c1 0f b6 0f 6a 00 00 00 00 00 00 00 00   .......j........",
          "1952: |   2016: 00 8f 06 05 04 00 9e 11 62 65 61 6d 65 72 20 62   ........beamer b",
          "1953: |   2032: 75 6d 6d 32 34 63 34 35 32 30 32 37 37 34 33 31   umm24c4520277431",
          "1954: |   2048: 35 66 36 33 36 66 36 65 36 36 36 39 36 37 32 37   5f636f6e66696727",
          "1955: |   2064: 32 38 36 62 32 30 35 30 35 32 34 39 34 64 34 31   286b205052494d41",
          "1956: |   2080: 35 32 35 39 32 30 34 62 34 35 35 39 32 63 32 30   5259204b45592c20",
          "1957: |   2096: 0a 37 36 32 39 32 30 35 37 34 39 35 34 34 38 34   .762920574954484",
          "1958: |   2112: 66 35 35 35 34 32 30 35 32 34 66 35 37 34 39 34   f555420524f57494",
          "1959: |   2128: 34 35 62 30 35 30 37 31 37 32 31 32 31 30 31 38   45b0507172121018",
          "1960: |   2144: 31 30 31 37 34 36 31 36 32 36 63 36 35 37 34 33   1017461626c65743",
          "1961: |   2160: 31 35 66 36 34 36 66 36 33 37 33 0a 36 39 37 61   15f646f6373.697a",
          "1962: |   2176: 36 35 37 34 33 31 35 66 36 34 36 66 36 33 37 33   6574315f646f6373",
          "1963: |   2192: 36 39 37 61 36 35 30 35 34 33 35 32 34 35 34 31   697a650543524541",
          "1964: |   2208: 35 34 34 35 32 30 35 34 38 36 39 36 34 32 30 34   5445205486964204",
          "1965: |   2224: 39 34 65 35 34 34 35 34 37 34 35 35 32 32 30 35   94e5445474552205",
          "1966: |   2240: 30 35 32 34 39 34 34 64 31 0a 35 32 35 39 32 30   0524944d1.525920",
          "1967: |   2256: 34 62 34 35 35 39 32 63 32 30 36 33 33 30 32 39   4b45592c20633029",
          "1968: |   2272: 36 39 30 33 30 30 30 31 35 37 35 33 31 31 39 32   6903000157531192",
          "1969: |   2288: 36 64 37 34 36 31 36 32 36 63 36 35 37 34 33 31   6d7461626c657431",
          "1970: |   2304: 35 66 36 39 36 34 37 38 37 34 33 31 35 66 36 39   5f69647874315f69",
          "1971: |   2320: 36 34 37 38 0a 30 33 34 33 35 32 34 35 34 31 35   6478.03435245415",
          "1972: |   2336: 34 34 35 32 30 35 34 34 31 34 32 34 63 34 35 32   445205441424c452",
          "1973: |   2352: 30 32 37 37 34 33 31 35 66 36 39 01 0e 37 38 32   02774315f69..782",
          "1974: |   2368: 37 32 38 37 33 36 35 36 37 36 39 36 34 32 63 32   72873656769642c2",
          "1975: |   2384: 30 37 34 36 35 37 32 36 64 32 63 32 30 37 30 0a   07465726d2c2070.",
          "1976: |   2400: 36 37 36 65 36 66 32 63 32 30 35 30 35 32 34 39   676e6f2c20505249",
          "1977: |   2416: 34 64 34 31 35 32 35 39 32 30 34 62 34 35 35 39   4d415259204b4559",
          "1978: |   2432: 32 38 37 33 36 35 36 37 36 39 36 34 32 63 32 30   2873656769642c20",
          "1979: |   2448: 37 34 36 35 37 32 36 64 32 39 32 39 32 30 35 37   7465726d29292057",
          "1980: |   2464: 34 39 35 34 34 38 34 66 35 35 0a 35 34 32 30 35   4954484f55.54205",
          "1981: |   2480: 32 34 66 35 37 34 39 34 34 35 35 30 32 30 37 31   24f5749445502071",
          "1982: |   2496: 37 31 62 31 62 30 31 38 31 30 31 37 34 36 31 36   71b1b01810174616",
          "1983: |   2512: 32 36 63 36 35 37 34 33 31 35 66 31 37 34 36 31   26c6574315f17461",
          "1984: |   2528: 30 32 34 33 0a 35 32 34 35 34 31 35 34 34 35 32   0243.52454154452",
          "1985: |   2544: 30 35 34 34 31 34 32 34 63 34 c3 b0 35 32 30 32   05441424c4..5202",
          "1986: |   2560: 37 37 34 33 31 35 66 36 34 36 31 37 34 36 31 32   774315f646174612",
          "1987: |   2576: 37 32 38 36 39 36 34 32 30 34 39 34 65 35 34 34   728696420494e544",
          "1988: |   2592: 35 34 37 34 35 35 32 32 30 35 30 35 32 34 39 34   5474552205052494",
          "1989: |   2608: 64 0a 34 31 35 32 35 39 32 30 34 62 34 35 35 39   d.415259204b4559",
          "1990: |   2624: 32 63 32 30 36 32 36 63 36 66 36 33 36 62 32 30   2c20626c6f636b20",
          "1991: |   2640: 34 32 34 63 34 66 34 32 32 39 33 61 30 21 30 36   424c4f42293a0!06",
          "1992: |   2656: 31 37 31 31 31 31 30 38 36 33 37 34 36 31 36 32   1711110863746162",
          "1993: |   2672: 36 63 36 35 37 34 33 31 37 34 33 31 0a 34 33 35   6c6574317431.435",
          "1994: |   2688: 32 34 35 34 31 35 34 34 35 32 30 35 36 34 39 35   2454154452056495",
          "1995: |   2704: 32 35 34 37 35 34 31 34 63 32 30 35 34 34 31 34   25475414c2054414",
          "1996: |   2720: 32 34 63 34 35 32 30 37 34 33 31 32 30 35 35 35   24c4520743120555",
          "1997: |   2736: 33 34 39 34 65 34 37 32 30 36 36 37 34 37 33 33   3494e47206674733",
          "1998: |   2752: 35 32 38 36 33 36 66 0a 36 65 37 34 36 35 36 65   528636f.6e74656e",
          "1999: |   2768: 37 34 32 39 30 64 30 30 30 30 30 30 30 33 30 66   74290d000000030f",
          "2000: |   2784: 62 64 30 30 30 62 65 38 30 66 65 66 30 66 62 64   bd000be80fef0fbd",
          "2001: |   2800: 0a 5b 31 66 62 64 5d 32 34 38 34 38 30 38 30 38   .[1fbd]248480808",
          "2002: |   2816: 30 38 30 30 31 30 33 30 30 34 65 30 30 30 30 30   0800103004e00000",
          "2003: |   2832: 30 31 65 30 36 33 30 36 31 36 32 36 31 36 33 36   01e0630616261636",
          "2004: |   2848: 62 30 31 30 32 30 32 30 34 30 32 36 36 37 34 30   b010202040266740",
          "2005: |   2864: 32 30 32 30 32 30 34 30 34 36 65 0a 36 34 36 66   2020204046e.646f",
          "2006: |   2880: 36 65 30 54 30 32 30 32 30 34 30 61 30 37 30 35   6e0T0202040a0705",
          "2007: |   2896: 30 31 30 33 30 30 31 30 30 33 30 33 30 66 30 61   0103001003030f0a",
          "2008: |   2912: 30 33 30 30 32 34 30 30 30 30 30 30 30 30 30 31   0300240000000001",
          "2009: |   2928: 30 31 30 31 30 30 30 31 30 31 30 31 30 31 30 61   010100010101010a",
          "2010: |   2944: 30 30 30 30 30 30 0a 30 31 30 66 66 61 30 30 30   000000.010ffa000",
          "2011: |   2960: 66 66 61 0a 5b 32 21 66 61 5d 30 35 30 34 30 39   ffa.[2!fa]050409",
          "2012: |   2976: 30 63 30 31 30 32 30 64 30 30 30 30 30 30 30 33   0c01020d00000003",
          "2013: |   2992: 30 66 65 30 30 30 30 66 66 36 30 66 65 63 30 66   0fe0000ff60fec0f",
          "2014: |   3008: 66 30 0a 5b 33 66 65 30 5d 30 61 30 33 30 33 30   f0.[3fe0]0a03030",
          "2015: |   3024: 30 31 62 36 31 36 32 36 31 36 65 36 34 36 66 36   01b6162616e646f6",
          "2016: |   3040: 65 30 38 30 32 30 33 30 30 31 37 36 31 36 32 36   e080203001761626",
          "2017: |   3056: 31 36 36 37 34 30 38 30 31 30 33 30 30 31 37 36   1667408010300176",
          "2018: |   3072: 31 36 32 36 31 36 33 36 62 30 64 30 30 0a 30 30   16261636b0d00.00",
          "2019: |   3088: 30 30 30 33 30 66 65 65 30 30 30 66 66 61 30 66   00030fee000ffa0f",
          "2020: |   3104: 66 34 30 66 65 65 0a 5b 34 66 65 65 5d 30 34 30   f40fee.[4fee]040",
          "2021: |   3120: 33 30 33 30 30 30 65 30 31 30 34 30 32 30 33 30   303000e010402030",
          "2022: |   3136: 30 30 65 30 31 30 34 30 31 30 33 30 30 30 65 30   00e01040103000e0",
          "2023: |   3152: 31 30 61 30 30 30 30 30 30 30 31 30 66 66 34 30   10a000000010ff40",
          "2024: |   3168: 30 30 66 66 34 0a 5b 35 66 66 34 5d 30 62 30 33   00ff4.[5ff4]0b03",
          "2025: |   3184: 31 62 30 31 37 36 36 35 37 32 37 33 36 39 36 66   1b0176657273696f",
          "2026: |   3200: 36 65 30 34 30 64 30 30 30 30 30 30 30 33 30 66   6e040d000000030f",
          "2027: |   3216: 64 36 30 30 30 66 66 34 30 66 65 31 30 66 64 36   d6000ff40fe10fd6",
          "2028: |   3232: 0a 5b 36 66 64 36 5d 30 39 30 33 30 32 31 62 37   .[6fd6]0903021b7",
          "2029: |   3248: 32 36 35 36 32 37 35 36 34 36 31 37 34 36 31 37   2656275646174617",
          "2030: |   3264: 34 33 31 35 66 36 34 36 31 37 34 36 31 30 32 34   4315f64617461024",
          "2031: |   3280: 33 0a 35 32 34 35 34 31 35 34 34 35 32 30 35 34   3.52454154452054",
          "2032: |   3296: 34 31 34 32 34 63 34 35 32 30 32 37 37 34 33 31   41424c4520277431",
          "2033: |   3312: 35 66 36 34 36 31 37 34 36 31 32 37 32 38 36 39   5f64617461272869",
          "2034: |   3328: 36 34 32 30 34 39 c2 81 65 35 34 34 35 34 37 34   642049..e5445474",
          "2035: |   3344: 35 35 32 32 30 35 30 35 32 34 39 34 64 0a 34 31   552205052494d.41",
          "2036: |   3360: 35 32 35 39 32 30 34 62 34 35 35 39 32 63 32 30   5259204b45592c20",
          "2037: |   3376: 36 32 36 63 36 66 36 33 36 62 32 30 34 32 34 63   626c6f636b20424c",
          "2038: |   3392: 34 66 34 32 32 39 33 61 30 31 30 36 31 37 31 31   4f42293a01061711",
          "2039: |   3408: 31 31 30 38 36 33 37 34 36 31 36 32 36 63 36 35   1108637461626c65",
          "2040: |   3424: 37 34 33 31 37 34 33 31 0a 34 33 35 32 34 35 34   74317431.4352454",
          "2041: |   3440: 31 35 34 34 35 32 30 35 36 34 39 35 32 35 34 37   1544520564952547",
          "2042: |   3456: 35 34 31 34 63 32 30 35 34 34 31 34 32 34 63 34   5414c205441424c4",
          "2043: |   3472: 35 32 30 37 34 33 31 32 30 35 35 35 33 34 39 34   5207431205553494",
          "2044: |   3488: 65 34 37 32 30 36 36 37 34 37 3b 33 35 32 38 36   e472066747;35286",
          "2045: |   3504: 33 36 66 0a 36 65 37 34 36 35 36 65 37 34 32 39   36f.6e74656e7429",
          "2046: |   3520: 30 64 30 30 30 30 30 30 30 33 30 66 62 64 30 30   0d000000030fbd00",
          "2047: |   3536: 30 66 65 38 30 66 65 66 30 66 62 64 0a 5b 31 66   0fe80fef0fbd.[1f",
          "2048: |   3552: 62 64 5d 32 34 38 34 38 30 38 30 38 30 38 30 30   bd]2484808080800",
          "2049: |   3568: 31 30 33 30 30 34 65 30 30 30 30 30 30 31 65 30   103004e0000001e0",
          "2050: |   3584: 36 33 30 36 31 36 32 36 31 36 33 36 62 30 31 30   630616261636b010",
          "2051: |   3600: 32 30 32 30 34 30 32 36 36 37 34 30 32 30 32 30   2020402667402020",
          "2052: |   3616: 32 30 34 30 34 36 65 0a 36 34 36 66 36 65 30 33   204046e.646f6e03",
          "2053: |   3632: 30 32 30 32 30 34 30 61 30 37 30 35 30 31 30 33   0202040a07050103",
          "2054: |   3648: 30 30 31 30 30 33 30 33 30 66 30 61 30 33 30 30   001003030f0a0300",
          "2055: |   3664: 32 34 30 30 30 30 30 30 30 30 30 31 30 31 30 31   2400000000010101",
          "2056: |   3680: 30 30 30 31 30 31 30 31 30 31 30 61 30 30 30 30   00010101010a0000",
          "2057: |   3696: 30 30 0a 30 31 30 66 66 61 30 30 30 66 66 61 0a   00.010ffa000ffa.",
          "2058: |   3712: 5b 32 66 29 61 5d 30 35 30 34 30 39 30 63 30 31   [2f)a]0504090c01",
          "2059: |   3728: 30 32 30 64 30 30 30 30 30 30 30 33 30 66 65 30   020d000000030fe0",
          "2060: |   3744: 30 30 30 66 66 36 30 66 65 63 30 66 65 30 0a 5b   000ff60fec0fe0.[",
          "2061: |   3760: 33 66 65 30 5d 30 61 30 33 30 33 30 30 31 62 36   3fe0]0a0303001b6",
          "2062: |   3776: 31 36 32 36 31 36 65 36 34 36 66 36 65 30 38 30   162616e646f6e080",
          "2063: |   3792: 32 30 33 30 30 31 37 36 31 36 32 36 31 36 36 37   2030017616261667",
          "2064: |   3808: 34 30 38 30 31 30 33 30 33 36 62 30 31 30 32 30   4080103036b01020",
          "2065: |   3824: 32 30 34 30 32 36 36 37 34 30 32 30 32 30 32 30   2040266740202020",
          "2066: |   3840: 34 30 34 36 65 0a 36 34 36 66 36 65 30 33 30 32   4046e.646f6e0302",
          "2067: |   3856: 30 32 30 34 30 61 30 37 30 35 30 31 30 33 30 30   02040a0705010300",
          "2068: |   3872: 31 30 30 33 30 33 30 66 30 61 30 33 30 30 32 34   1003030f0a030024",
          "2069: |   3888: 30 30 30 30 30 30 30 30 30 31 30 31 30 31 30 30   0000000001010100",
          "2070: |   3904: 30 31 30 31 30 31 30 30 39 61 30 30 30 30 30 30   010101009a000000",
          "2071: |   3920: 0a 30 31 30 66 66 61 30 30 30 66 66 61 0a 5b 32   .010ffa000ffa.[2",
          "2072: |   3936: 66 65 72 20 62 61 63 6b 75 70 4a 08 04 00 81 19   fer backupJ.....",
          "2073: |   3952: 61 6c 70 68 61 20 63 68 61 6e 6e 65 6c 20 62 61   alpha channel ba",
          "2074: |   3968: 63 6b 75 70 20 61 62 61 6e 64 6f 6e 20 74 65 62   ckup abandon teb",
          "2075: |   3984: 20 73 74 61 61 63 6b 20 63 68 61 6e 6e 65 62 6f    staack channebo",
          "2076: |   4000: 6f 6d 65 72 20 61 74 6f 6d 20 61 6c 70 68 61 20   omer atom alpha",
          "2077: |   4016: 61 63 74 69 76 65 09 07 03 00 19 61 74 6f 6d 69   active.....atomi",
          "2078: |   4032: 63 07 06 03 00 15 61 74 6b 6d 00 00 00 0b 19 62   c.....atkm.....b",
          "2079: |   4048: 6f 6f 6d 65 72 09 04 03 00 19 61 63 74 69 76 65   oomer.....active",
          "2080: |   4064: 0a 03 03 00 1b 61 62 61 6e 64 6f 6e 08 02 03 00   .....abandon....",
          "2081: |   4080: 17 61 62 61 66 74 08 01 03 00 17 61 62 61 63 6b   .abaft.....aback",
          "2082: | page 5 offset 16384",
          "2083: |      0: 0d 00 00 00 08 0f d0 00 0f fa 0f f4 0f ee 0f e8   ................",
          "2084: |     16: 0f e2 0f dc 0f d6 0f d0 00 00 00 00 00 00 00 00   ................",
          "2085: |   4048: 04 08 03 00 0e 0a 04 07 03 00 0e 01 04 06 03 00   ................",
          "2086: |   4064: 0e 01 04 05 03 00 0e 31 04 04 03 00 0e 01 04 03   .......1........",
          "2087: |   4080: 03 00 0e 01 04 02 03 00 0e 01 04 01 03 00 0e 01   ................",
          "2088: | page 6 offset 20480",
          "2089: |      0: 0a 00 00 00 01 0f f4 00 0f f4 00 00 00 00 00 00   ................",
          "2090: |   4080: 00 00 00 00 0b 03 1b 01 76 65 72 73 69 6f 6e 04   ........version.",
          "2091: | page 7 offset 24576",
          "2092: |      0: 0d 00 00 00 03 0f d6 00 0f f4 0f e1 0f d6 00 00   ................",
          "2093: |   4048: 00 00 00 00 00 00 09 03 02 1b 72 65 62 75 69 6c   ..........rebuil",
          "2094: |   4064: 64 11 02 02 2b 69 6e 74 65 67 72 69 74 79 2d 63   d...+integrity-c",
          "2095: |   4080: 68 65 63 6b 0a 01 02 1d 6f 70 74 69 6d 69 7a 65   heck....optimize",
          "2096: | end c22b.db",
          "2097: }]} {}",
          "2100: do_catchsql_test 22.1 {",
          "2101:   INSERT INTO t1(t1) VALUES('optimize');",
          "2102: } {1 {vtable constructor failed: t1}}",
          "",
          "---------------"
        ],
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 5c188361a91407805c0feb4bf6d3214522ce3e55013efcf63a4613ecd416bcbc",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "51d35b0fa9f636e4df2cb8751912dd01c310acd7",
      "candidate_info": {
        "commit_hash": "51d35b0fa9f636e4df2cb8751912dd01c310acd7",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/51d35b0fa9f636e4df2cb8751912dd01c310acd7",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/expr.c",
          "src/parse.y",
          "src/sqliteInt.h",
          "src/util.c"
        ],
        "message": "The keywords TRUE and FALSE should only act as boolean literal values if unquoted.\n\nFossilOrigin-Name: 5547f39de993c708f72301ef25df190a2f007e0c4253799bdd9e86bb1ae41777",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/expr.c||src/expr.c",
          "src/parse.y||src/parse.y",
          "src/sqliteInt.h||src/sqliteInt.h",
          "src/util.c||src/util.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid",
            "src/expr.c||src/expr.c"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid",
            "src/expr.c||src/expr.c"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: ea119641a7edcd0e1ec14371d93e35f860971888bd98cb0019253358a2ef123b",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/expr.c||src/expr.c": [
          "File: src/expr.c -> src/expr.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "780:         if( pToken->n ) memcpy(pNew->u.zToken, pToken->z, pToken->n);",
          "781:         pNew->u.zToken[pToken->n] = 0;",
          "782:         if( dequote && sqlite3Isquote(pNew->u.zToken[0]) ){",
          "785:         }",
          "786:       }",
          "787:     }",
          "",
          "[Removed Lines]",
          "783:           if( pNew->u.zToken[0]=='\"' ) pNew->flags |= EP_DblQuoted;",
          "784:           sqlite3Dequote(pNew->u.zToken);",
          "",
          "[Added Lines]",
          "783:           sqlite3DequoteExpr(pNew);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1813: int sqlite3ExprIdToTrueFalse(Expr *pExpr){",
          "1814:   assert( pExpr->op==TK_ID || pExpr->op==TK_STRING );",
          "1817:   ){",
          "1818:     pExpr->op = TK_TRUEFALSE;",
          "1819:     return 1;",
          "",
          "[Removed Lines]",
          "1815:   if( sqlite3StrICmp(pExpr->u.zToken, \"true\")==0",
          "1816:    || sqlite3StrICmp(pExpr->u.zToken, \"false\")==0",
          "",
          "[Added Lines]",
          "1814:   if( !ExprHasProperty(pExpr, EP_Quoted)",
          "1815:    && (sqlite3StrICmp(pExpr->u.zToken, \"true\")==0",
          "1816:        || sqlite3StrICmp(pExpr->u.zToken, \"false\")==0)",
          "",
          "---------------"
        ],
        "src/parse.y||src/parse.y": [
          "File: src/parse.y -> src/parse.y",
          "--- Hunk 1 ---",
          "[Context before]",
          "955:       memcpy(p->u.zToken, t.z, t.n);",
          "956:       p->u.zToken[t.n] = 0;",
          "957:       if( sqlite3Isquote(p->u.zToken[0]) ){",
          "960:       }",
          "961: #if SQLITE_MAX_EXPR_DEPTH>0",
          "962:       p->nHeight = 1;",
          "",
          "[Removed Lines]",
          "958:         if( p->u.zToken[0]=='\"' ) p->flags |= EP_DblQuoted;",
          "959:         sqlite3Dequote(p->u.zToken);",
          "",
          "[Added Lines]",
          "958:         sqlite3DequoteExpr(p);",
          "",
          "---------------"
        ],
        "src/sqliteInt.h||src/sqliteInt.h": [
          "File: src/sqliteInt.h -> src/sqliteInt.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "3814: void sqlite3SetString(char **, sqlite3*, const char*);",
          "3815: void sqlite3ErrorMsg(Parse*, const char*, ...);",
          "3816: void sqlite3Dequote(char*);",
          "3817: void sqlite3TokenInit(Token*,char*);",
          "3818: int sqlite3KeywordCode(const unsigned char*, int);",
          "3819: int sqlite3RunParser(Parse*, const char*, char **);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3818: void sqlite3DequoteExpr(Expr*);",
          "",
          "---------------"
        ],
        "src/util.c||src/util.c": [
          "File: src/util.c -> src/util.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "264:   }",
          "265:   z[j] = 0;",
          "266: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "267: void sqlite3DequoteExpr(Expr *p){",
          "268:   assert( sqlite3Isquote(p->u.zToken[0]) );",
          "269:   p->flags |= p->u.zToken[0]=='\"' ? EP_Quoted|EP_DblQuoted : EP_Quoted;",
          "270:   sqlite3Dequote(p->u.zToken);",
          "271: }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "f135cb7d7f123a42940ddbb4dadc91e86f84cb35",
      "candidate_info": {
        "commit_hash": "f135cb7d7f123a42940ddbb4dadc91e86f84cb35",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/f135cb7d7f123a42940ddbb4dadc91e86f84cb35",
        "files": [
          "manifest",
          "manifest.uuid",
          "tool/lemon.c"
        ],
        "message": "Fix an error message in the Lemon parser generator.\n\nFossilOrigin-Name: b6d7d42b7426622a26b67809cd1f21285fea120aa1897377b9946840463b41f1",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "tool/lemon.c||tool/lemon.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: f97626f921dafe596b615a168ef31987f4a1c0b52956443e1a5c1148b49cab74",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "tool/lemon.c||tool/lemon.c": [
          "File: tool/lemon.c -> tool/lemon.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "3848:           ErrorMsg(lemp->filename,rp->ruleline,",
          "3849:             \"%s(%s) has the same label as the LHS but is not the left-most \"",
          "3850:             \"symbol on the RHS.\",",
          "3852:           lemp->errorcnt++;",
          "3853:         }",
          "3854:         for(j=0; j<i; j++){",
          "",
          "[Removed Lines]",
          "3851:             rp->rhs[i]->name, rp->rhsalias);",
          "",
          "[Added Lines]",
          "3851:             rp->rhs[i]->name, rp->rhsalias[i]);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "7eb2c9176a96af35be69436fa4aef436c06284fc",
      "candidate_info": {
        "commit_hash": "7eb2c9176a96af35be69436fa4aef436c06284fc",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/7eb2c9176a96af35be69436fa4aef436c06284fc",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/treeview.c"
        ],
        "message": "In the treeview debugging output, provide additional details for the Table object associated with each FROM clause term.\n\nFossilOrigin-Name: 11d4682d2eec133ccca99ca9cf2620cd249b4afe55918f3ebf93b454431f9c55",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/treeview.c||src/treeview.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 6821c61f1d71be2be7f867e59fd94582a1eaf45a4d1fb88be995807a77cc22ea",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/treeview.c||src/treeview.c": [
          "File: src/treeview.c -> src/treeview.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "138:       sqlite3_str_appendf(&x, \" %s\", pItem->zName);",
          "139:     }",
          "140:     if( pItem->pTab ){",
          "142:     }",
          "143:     if( pItem->zAlias ){",
          "144:       sqlite3_str_appendf(&x, \" (AS %s)\", pItem->zAlias);",
          "",
          "[Removed Lines]",
          "141:       sqlite3_str_appendf(&x, \" tabname=%Q\", pItem->pTab->zName);",
          "",
          "[Added Lines]",
          "141:       sqlite3_str_appendf(&x, \" tab=%Q nCol=%d ptr=%p\",",
          "142:            pItem->pTab->zName, pItem->pTab->nCol, pItem->pTab);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "255a81f10a5885a17d99ea20e13e1641029e6e3b",
      "candidate_info": {
        "commit_hash": "255a81f10a5885a17d99ea20e13e1641029e6e3b",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/255a81f10a5885a17d99ea20e13e1641029e6e3b",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/printf.c",
          "test/printf.test"
        ],
        "message": "Modify sqlite3_str_finish() and sqlite3VMPrintf() so that they always return NULL on any OOM or SQLITE_LIMIT_LENGTH error.\n\nFossilOrigin-Name: e7144ffd21294d7aebbfa6aa5a262797a6d16de11193f1bf6b75f5f27b04c940",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/printf.c||src/printf.c",
          "test/printf.test||test/printf.test"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: c13d563925db12bc2c91ff9432050261e5bd39d960e2739777a66bf804df2e31",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/printf.c||src/printf.c": [
          "File: src/printf.c -> src/printf.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "136: static void setStrAccumError(StrAccum *p, u8 eError){",
          "137:   assert( eError==SQLITE_NOMEM || eError==SQLITE_TOOBIG );",
          "138:   p->accError = eError;",
          "140: }",
          "",
          "[Removed Lines]",
          "139:   p->nAlloc = 0;",
          "",
          "[Added Lines]",
          "139:   if( p->mxAlloc ) sqlite3_str_reset(p);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "167: static char *printfTempBuf(sqlite3_str *pAccum, sqlite3_int64 n){",
          "168:   char *z;",
          "169:   if( n>pAccum->nAlloc && n>pAccum->mxAlloc ){",
          "170:     setStrAccumError(pAccum, SQLITE_TOOBIG);",
          "171:     return 0;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "169:   if( pAccum->accError ) return 0;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "885:     return 0;",
          "886:   }",
          "887:   if( p->mxAlloc==0 ){",
          "889:     setStrAccumError(p, SQLITE_TOOBIG);",
          "891:   }else{",
          "892:     char *zOld = isMalloced(p) ? p->zText : 0;",
          "893:     i64 szNew = p->nChar;",
          "",
          "[Removed Lines]",
          "888:     N = p->nAlloc - p->nChar - 1;",
          "890:     return N;",
          "",
          "[Added Lines]",
          "890:     return p->nAlloc - p->nChar - 1;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "959:   assert( z!=0 || N==0 );",
          "960:   assert( p->zText!=0 || p->nChar==0 || p->accError );",
          "961:   assert( N>=0 );",
          "963:   if( p->nChar+N >= p->nAlloc ){",
          "964:     enlargeAndAppend(p,z,N);",
          "965:   }else if( N ){",
          "",
          "[Removed Lines]",
          "962:   assert( p->accError==0 || p->nAlloc==0 );",
          "",
          "[Added Lines]",
          "962:   assert( p->accError==0 || p->nAlloc==0 || p->mxAlloc==0 );",
          "",
          "---------------"
        ],
        "test/printf.test||test/printf.test": [
          "File: test/printf.test -> test/printf.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "540: } {abc: 1 1 (1e-20) :xyz}",
          "541: do_test printf-2.1.2.10 {",
          "542:   sqlite3_mprintf_double {abc: %*.*f}  2000000000 1000000000 1.0e-20",
          "544: do_test printf-2.1.3.1 {",
          "545:   sqlite3_mprintf_double {abc: (%*.*f) :xyz} 1 1 1.0",
          "546: } {abc: (1.0) :xyz}",
          "",
          "[Removed Lines]",
          "543: } {abc: }",
          "",
          "[Added Lines]",
          "543: } {}",
          "",
          "---------------"
        ]
      }
    }
  ]
}