{
  "cve_id": "CVE-2015-8896",
  "cve_desc": "Integer truncation issue in coders/pict.c in ImageMagick before 7.0.5-0 allows remote attackers to cause a denial of service (application crash) via a crafted .pict file.",
  "repo": "ImageMagick/ImageMagick",
  "patch_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
  "patch_info": {
    "commit_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "repo": "ImageMagick/ImageMagick",
    "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "files": [
      "MagickCore/memory.c",
      "MagickCore/studio.h",
      "MagickCore/version.c",
      "MagickCore/version.h",
      "MagickWand/studio.h",
      "coders/icon.c",
      "coders/pict.c",
      "configure",
      "configure.ac"
    ],
    "message": "",
    "before_after_code_files": [
      "MagickCore/memory.c||MagickCore/memory.c",
      "MagickCore/studio.h||MagickCore/studio.h",
      "MagickCore/version.c||MagickCore/version.c",
      "MagickCore/version.h||MagickCore/version.h",
      "MagickWand/studio.h||MagickWand/studio.h",
      "coders/icon.c||coders/icon.c",
      "coders/pict.c||coders/pict.c",
      "configure.ac||configure.ac"
    ]
  },
  "patch_diff": {
    "MagickCore/memory.c||MagickCore/memory.c": [
      "File: MagickCore/memory.c -> MagickCore/memory.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "606:     }",
      "607:   if ((memory_info->blob == NULL) &&",
      "608:       (AcquireMagickResource(MapResource,length) != MagickFalse))",
      "611:         Heap memory failed, try anonymous memory mapping.",
      "",
      "[Removed Lines]",
      "609:     {",
      "",
      "[Added Lines]",
      "609:     {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "615:         memory_info->type=MapVirtualMemory;",
      "616:       else",
      "617:         RelinquishMagickResource(MapResource,length);",
      "619:   if (memory_info->blob == NULL)",
      "621:       int",
      "627:       file=AcquireUniqueFileResource(memory_info->filename);",
      "628:       if (file != -1)",
      "629:         {",
      "",
      "[Removed Lines]",
      "618:     }",
      "620:     {",
      "622:         file;",
      "625:         Anonymous memory mapping failed, try file-backed memory mapping.",
      "",
      "[Added Lines]",
      "619:   if ((memory_info->blob == NULL) &&",
      "620:       (AcquireMagickResource(DiskResource,length) != MagickFalse))",
      "621:     {",
      "623:         file;",
      "628:       file=AcquireUniqueFileResource(memory_info->filename);",
      "629:       if (file == -1)",
      "631:       else",
      "632:         {",
      "633:           if ((lseek(file,length-1,SEEK_SET) < 0) || (write(file,\"\",1) != 1))",
      "634:             RelinquishMagickResource(DiskResource,length);",
      "635:           else",
      "636:             {",
      "637:               if (AcquireMagickResource(MapResource,length) == MagickFalse)",
      "638:                 RelinquishMagickResource(DiskResource,length);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1033: %",
      "1035: MagickExport MemoryInfo *RelinquishVirtualMemory(MemoryInfo *memory_info)",
      "1037:   assert(memory_info != (MemoryInfo *) NULL);",
      "1038:   assert(memory_info->signature == MagickSignature);",
      "1039:   if (memory_info->blob != (void *) NULL)",
      "",
      "[Removed Lines]",
      "1036: {",
      "",
      "[Added Lines]",
      "1048: {",
      "1049:   assert(memory_info != (MemoryInfo *) NULL);",
      "1050:   assert(memory_info->signature == MagickSignature);",
      "1051:   if (memory_info->blob != (void *) NULL)",
      "",
      "---------------"
    ],
    "MagickCore/studio.h||MagickCore/studio.h": [
      "File: MagickCore/studio.h -> MagickCore/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline  _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "75: #  include <stdlib.h>",
      "76: # endif",
      "77: #endif",
      "78: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "79: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "80: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "75: #if defined(_magickcore_restrict) && !defined(restrict)",
      "76: # define restrict  _magickcore_restrict",
      "77: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.c||MagickCore/version.c": [
      "File: MagickCore/version.c -> MagickCore/version.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "219: %      const char *GetMagickFeatures(void)",
      "220: %",
      "221: %  No parameters are required.",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "227: #if defined(MAGICKCORE_BUILD_MODULES) || defined(_DLL)",
      "228:   \" Modules\"",
      "229: #endif",
      "230: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "231:   \" HDRI\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "234:   \" OpenCL\"",
      "235: #endif",
      "",
      "[Removed Lines]",
      "222: %",
      "",
      "[Added Lines]",
      "222: %",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "231:   \" Cipher\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "239: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "240:   \" OpenCL\"",
      "241: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.h||MagickCore/version.h": [
      "File: MagickCore/version.h -> MagickCore/version.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "28: #define MagickPackageName \"ImageMagick\"",
      "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
      "31: #define MagickLibVersion  0x700",
      "32: #define MagickLibVersionText  \"7.0.0\"",
      "33: #define MagickLibVersionNumber  0,0,0",
      "",
      "[Removed Lines]",
      "30: #define MagickSVNRevision  \"18658:18662M\"",
      "",
      "[Added Lines]",
      "30: #define MagickSVNRevision  \"18670M\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "48: #define MagickppLibAddendum  \"-0\"",
      "49: #define MagickppLibInterface  0",
      "50: #define MagickppLibMinInterface  0",
      "52: #define MagickChangeDate   \"20120427\"",
      "53: #define MagickAuthoritativeLicense  \\",
      "54:   \"http://www.imagemagick.org/script/license.php\"",
      "55: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
      "57: #define MagickDelegates \"bzlib djvu mpeg fftw fpx fontconfig freetype jbig jng jpeg lcms lzma openexr pango png ps tiff webp x xml zlib\"",
      "58: #define MagickHomeURL  \"file:///usr/local/share/doc/ImageMagick-7/index.html\"",
      "59: #if (MAGICKCORE_QUANTUM_DEPTH == 8)",
      "",
      "[Removed Lines]",
      "51: #define MagickReleaseDate  \"2015-05-26\"",
      "56: #define MagickFeatures \"DPC HDRI OpenMP\"",
      "",
      "[Added Lines]",
      "51: #define MagickReleaseDate  \"2015-05-29\"",
      "56: #define MagickFeatures \"DPC HDRI Cipher OpenMP\"",
      "",
      "---------------"
    ],
    "MagickWand/studio.h||MagickWand/studio.h": [
      "File: MagickWand/studio.h -> MagickWand/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "77: #  include <stdlib.h>",
      "78: # endif",
      "79: #endif",
      "80: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "81: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "82: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "77: #if defined(_magickcore_restrict) && !defined(restrict)",
      "78: # define restrict  _magickcore_restrict",
      "79: #endif",
      "",
      "---------------"
    ],
    "coders/icon.c||coders/icon.c": [
      "File: coders/icon.c -> coders/icon.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "183:     size_t",
      "184:       size;",
      "189:     size=(size_t)strtol(p,&q,10);",
      "190:     if (p == q || size < 16 || size > 256)",
      "",
      "[Removed Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "[Added Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "355:         unsigned char",
      "359:           Icon image encoded as a compressed PNG image.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "coders/pict.c||coders/pict.c": [
      "File: coders/pict.c -> coders/pict.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1637:     source_rectangle;",
      "1639:   register const Quantum",
      "1642:   register ssize_t",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1649:     storage_class;",
      "1651:   ssize_t",
      "1654:   unsigned char",
      "",
      "[Removed Lines]",
      "1652:     y;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1682:     Initialize image info.",
      "1685:   size_rectangle.left=0;",
      "1686:   size_rectangle.bottom=(short) image->rows;",
      "1687:   size_rectangle.right=(short) image->columns;",
      "",
      "[Removed Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "[Added Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "1711:   y_resolution=image->resolution.y != 0.0 ? image->resolution.y :",
      "1712:     DefaultResolution;",
      "1713:   storage_class=image->storage_class;",
      "1715:     storage_class=DirectClass;",
      "1716:   if (storage_class == DirectClass)",
      "1717:     {",
      "",
      "[Removed Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "[Added Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "---------------"
    ],
    "configure.ac||configure.ac": [
      "File: configure.ac -> configure.ac",
      "--- Hunk 1 ---",
      "[Context before]",
      "643: if test \"$enable_cipher\" = 'yes'; then",
      "644:     AC_DEFINE(CIPHER_SUPPORT,1,[permit enciphering and deciphering image pixels])",
      "645: fi",
      "647: # Build a zero-configuration version of ImageMagick.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "645:     MAGICK_FEATURES=\"Cipher $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "654: if test \"$enable_zero_configuration\" = 'yes'; then",
      "655:     AC_DEFINE(ZERO_CONFIGURATION_SUPPORT,1,[Build self-contained, embeddable, zero-configuration ImageMagick])",
      "657: fi",
      "659: # Build a high dynamic range version of ImageMagick.",
      "",
      "[Removed Lines]",
      "656:     MAGICK_FEATURES=\"Zero-Configuration $MAGICK_FEATURES\"",
      "",
      "[Added Lines]",
      "657:     MAGICK_FEATURES=\"Zero-configuration $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "3996: if test \"$build_modules\" != 'no'; then",
      "3997:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "3998: else",
      "4000: fi",
      "4001: AC_SUBST(MAGICK_DEP_LIBS)",
      "",
      "[Removed Lines]",
      "3999:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "[Added Lines]",
      "4000:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIB $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "385d8662774e84cbcd0957322e81990cddffa4fe",
      "candidate_info": {
        "commit_hash": "385d8662774e84cbcd0957322e81990cddffa4fe",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/385d8662774e84cbcd0957322e81990cddffa4fe",
        "files": [
          "MagickCore/magick-baseconfig.h",
          "MagickCore/version.h",
          "PerlMagick/Makefile.PL",
          "PerlMagick/check.sh",
          "coders/dds.c"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/version.h||MagickCore/version.h",
          "PerlMagick/Makefile.PL||PerlMagick/Makefile.PL",
          "PerlMagick/check.sh||PerlMagick/check.sh",
          "coders/dds.c||coders/dds.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "1055: #ifndef MAGICKCORE_HAVE__EXIT",
          "",
          "[Removed Lines]",
          "1050: #ifndef MAGICKCORE_HAVE__BOOL",
          "1051: #define MAGICKCORE_HAVE__BOOL 1",
          "1052: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-12-21\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-12-22\"",
          "",
          "---------------"
        ],
        "PerlMagick/Makefile.PL||PerlMagick/Makefile.PL": [
          "File: PerlMagick/Makefile.PL -> PerlMagick/Makefile.PL",
          "--- Hunk 1 ---",
          "[Context before]",
          "206:    'INC' => $INC_magick,",
          "208:    # C compiler",
          "211:    # C pre-processor flags (e.g. -I & -D options)",
          "212:    # 'CPPFLAGS' => \"$Config{'cppflags'} -pthread -I/usr/include/pango-1.0 -I/usr/include/cairo -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libpng16 -I/usr/include/freetype2 -I/usr/include/libdrm -I/usr/include/libpng16 -I/usr/include/freetype2 -I/usr/include/libpng16 -I/usr/include/freetype2 -I/usr/include/libpng16 -DMAGICKCORE_HDRI_ENABLE=1 -DMAGICKCORE_QUANTUM_DEPTH=16 -I/usr/include/libxml2\",",
          "",
          "[Removed Lines]",
          "209:    #'CC' => 'gcc -std=gnu99 -std=gnu99',",
          "",
          "[Added Lines]",
          "209:    #'CC' => 'g++',",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "215:    'CCFLAGS' => $CCFLAGS_magick,",
          "217:    # Linker",
          "220:    # Linker flags for building an executable",
          "221:    'LDFLAGS' =>  $LDFLAGS_magick,",
          "",
          "[Removed Lines]",
          "218:    #'LD' => $Config{'ld'} == $Config{'cc'} ? 'gcc -std=gnu99 -std=gnu99' : $Config{'ld'},",
          "",
          "[Added Lines]",
          "218:    #'LD' => $Config{'ld'} == $Config{'cc'} ? 'g++' : $Config{'ld'},",
          "",
          "---------------"
        ],
        "PerlMagick/check.sh||PerlMagick/check.sh": [
          "File: PerlMagick/check.sh -> PerlMagick/check.sh",
          "--- Hunk 1 ---",
          "[Context before]",
          "43: if test -x PerlMagick -a -f Makefile.aperl ; then",
          "44:   # Static build test incantation",
          "46: elif test -f Makefile -a -f Magick.o; then",
          "47:   # Shared build test incantation",
          "49: else",
          "50:   echo 'PerlMagick has not been built!'",
          "51:   exit 1",
          "",
          "[Removed Lines]",
          "45:   ${MAKE} -f Makefile.aperl CC='gcc -std=gnu99 -std=gnu99' TEST_VERBOSE=1 test",
          "48:   ${MAKE} CC='gcc -std=gnu99 -std=gnu99' TEST_VERBOSE=1 test",
          "",
          "[Added Lines]",
          "45:   ${MAKE} -f Makefile.aperl CC='g++' TEST_VERBOSE=1 test",
          "48:   ${MAKE} CC='g++' TEST_VERBOSE=1 test",
          "",
          "---------------"
        ],
        "coders/dds.c||coders/dds.c": [
          "File: coders/dds.c -> coders/dds.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1269:       break;",
          "1270:   }",
          "1275:     unordered[o[i]] = 0;",
          "1277:     unordered[o[i]] = 2;",
          "1279:     unordered[o[i]] = 3;",
          "1280:   for (i=bestk; i < count; i++)",
          "1281:     unordered[o[i]] = 1;",
          "",
          "[Removed Lines]",
          "1272:   o = order + (16*bestIteration);",
          "1274:   for (i=0; i < besti; i++)",
          "1276:   for (i=besti; i < bestj; i++)",
          "1278:   for (i=bestj; i < bestk; i++)",
          "",
          "[Added Lines]",
          "1272:   o = order + (16*bestIteration);",
          "1274:   for (i=0; i < (ssize_t) besti; i++)",
          "1276:   for (i=besti; i < (ssize_t) bestj; i++)",
          "1278:   for (i=bestj; i < (ssize_t) bestk; i++)",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "b054e07f69b853019a922f77c03910a021f2195e",
      "candidate_info": {
        "commit_hash": "b054e07f69b853019a922f77c03910a021f2195e",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/b054e07f69b853019a922f77c03910a021f2195e",
        "files": [
          "MagickCore/profile.c",
          "MagickCore/property.c",
          "MagickCore/version.h",
          "Makefile.in",
          "configure",
          "configure.ac"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/profile.c||MagickCore/profile.c",
          "MagickCore/property.c||MagickCore/property.c",
          "MagickCore/version.h||MagickCore/version.h",
          "Makefile.in||Makefile.in",
          "configure.ac||configure.ac"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/profile.c||MagickCore/profile.c": [
          "File: MagickCore/profile.c -> MagickCore/profile.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "67: #include \"MagickCore/thread-private.h\"",
          "68: #include \"MagickCore/token.h\"",
          "69: #include \"MagickCore/utility.h\"",
          "74: #elif defined(MAGICKCORE_HAVE_LCMS2_H)",
          "75: #include <wchar.h>",
          "80: #include \"lcms.h\"",
          "81: #endif",
          "82: #endif",
          "",
          "[Removed Lines]",
          "70: #if defined(MAGICKCORE_LCMS_DELEGATE)",
          "71: #if defined(MAGICKCORE_HAVE_LCMS_LCMS2_H)",
          "72: #include <wchar.h>",
          "73: #include <lcms/lcms2.h>",
          "76: #include \"lcms2.h\"",
          "77: #elif defined(MAGICKCORE_HAVE_LCMS_LCMS_H)",
          "78: #include <lcms/lcms.h>",
          "79: #else",
          "",
          "[Added Lines]",
          "70: #if defined(MAGICKCORE_LCMS_DELEGATE)",
          "71: #if defined(LCMS_VERSION) && (LCMS_VERSION < 2000)",
          "72: #include \"lcms.h\"",
          "",
          "---------------"
        ],
        "MagickCore/property.c||MagickCore/property.c": [
          "File: MagickCore/property.c -> MagickCore/property.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "85: #include \"MagickCore/xml-tree.h\"",
          "86: #include \"MagickCore/xml-tree-private.h\"",
          "87: #if defined(MAGICKCORE_LCMS_DELEGATE)",
          "95: #include \"lcms.h\"",
          "96: #endif",
          "97: #endif",
          "",
          "[Removed Lines]",
          "88: #if defined(MAGICKCORE_HAVE_LCMS_LCMS2_H)",
          "89: #include <lcms/lcms2.h>",
          "90: #elif defined(MAGICKCORE_HAVE_LCMS2_H)",
          "91: #include \"lcms2.h\"",
          "92: #elif defined(MAGICKCORE_HAVE_LCMS_LCMS_H)",
          "93: #include <lcms/lcms.h>",
          "94: #else",
          "",
          "[Added Lines]",
          "88: #if defined(LCMS_VERSION) && (LCMS_VERSION < 2000)",
          "90: #else",
          "91: #include \"lcms2.h\"",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  0,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"18729M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"18729:18731M\"",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "2685: JPEG_LIBS = @JPEG_LIBS@",
          "2686: JXRDecodeDelegate = @JXRDecodeDelegate@",
          "2687: JXREncodeDelegate = @JXREncodeDelegate@",
          "2688: LCMS_CFLAGS = @LCMS_CFLAGS@",
          "2689: LCMS_LIBS = @LCMS_LIBS@",
          "2690: LD = @LD@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2688: LCMS2_CFLAGS = @LCMS2_CFLAGS@",
          "2689: LCMS2_LIBS = @LCMS2_LIBS@",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "2257: LCMS_PKG=\"\"",
          "2258: if test \"x$with_lcms\" = \"xyes\"; then",
          "2259:   AC_MSG_RESULT([-------------------------------------------------------------])",
          "2261:   AC_MSG_RESULT([])",
          "2262: fi",
          "2264: if test \"$have_lcms\" = 'yes'; then",
          "2265:   AC_DEFINE(LCMS_DELEGATE,1,Define if you have LCMS library)",
          "2267: fi",
          "2269: AM_CONDITIONAL(LCMS_DELEGATE, test \"$have_lcms\" = 'yes')",
          "",
          "[Removed Lines]",
          "2260:   PKG_CHECK_MODULES(LCMS,[lcms >= 1.0.0], have_lcms=yes, have_lcms=no)",
          "2266:   CFLAGS=\"$LCMS_CFLAGS $CFLAGS\"",
          "",
          "[Added Lines]",
          "2260:   PKG_CHECK_MODULES(LCMS2,[lcms2 >= 2.0.0], have_lcms=yes, have_lcms=no)",
          "2266:   CFLAGS=\"$LCMS2_CFLAGS $CFLAGS\"",
          "2267: else",
          "2268:   PKG_CHECK_MODULES(LCMS,[lcms >= 1.0.0], have_lcms=yes, have_lcms=no)",
          "2269:   if test \"$have_lcms\" = 'yes'; then",
          "2270:     AC_DEFINE(LCMS_DELEGATE,1,Define if you have LCMS library)",
          "2271:     CFLAGS=\"$LCMS_CFLAGS $CFLAGS\"",
          "2272:   fi",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3677: #",
          "3679: if test \"$build_modules\" != 'no'; then",
          "3681: else",
          "3683: fi",
          "3684: AC_SUBST(MAGICK_DEP_LIBS)",
          "",
          "[Removed Lines]",
          "3680:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $fftw3_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "3682:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DDJVUAP_LIBS $fftw3_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "",
          "[Added Lines]",
          "3686:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $LCMS2_LIBS $FREETYPE_LIBS $LQR_LIBS $fftw3_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "3688:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $LCMS2_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DDJVUAP_LIBS $fftw3_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "26842027345d2b15ec697414c10dece3ef36684f",
      "candidate_info": {
        "commit_hash": "26842027345d2b15ec697414c10dece3ef36684f",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/26842027345d2b15ec697414c10dece3ef36684f",
        "files": [
          "MagickCore/magick-baseconfig.h",
          "MagickCore/version.h",
          "PerlMagick/Makefile.PL",
          "PerlMagick/check.sh",
          "coders/pdf.c",
          "coders/ps.c"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/version.h||MagickCore/version.h",
          "PerlMagick/Makefile.PL||PerlMagick/Makefile.PL",
          "PerlMagick/check.sh||PerlMagick/check.sh",
          "coders/pdf.c||coders/pdf.c",
          "coders/ps.c||coders/ps.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "1055: #ifndef MAGICKCORE_HAVE__EXIT",
          "",
          "[Removed Lines]",
          "1050: #ifndef MAGICKCORE_HAVE__BOOL",
          "1051: #define MAGICKCORE_HAVE__BOOL 1",
          "1052: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-10-04\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-10-05\"",
          "",
          "---------------"
        ],
        "PerlMagick/Makefile.PL||PerlMagick/Makefile.PL": [
          "File: PerlMagick/Makefile.PL -> PerlMagick/Makefile.PL",
          "--- Hunk 1 ---",
          "[Context before]",
          "206:    'INC' => $INC_magick,",
          "208:    # C compiler",
          "211:    # C pre-processor flags (e.g. -I & -D options)",
          "212:    # 'CPPFLAGS' => \"$Config{'cppflags'} -pthread -I/usr/include/pango-1.0 -I/usr/include/cairo -I/usr/include/glib-2.0 -I/usr/lib64/glib-2.0/include -I/usr/include/pixman-1 -I/usr/include/freetype2 -I/usr/include/libdrm -I/usr/include/libpng16 -I/usr/include/freetype2 -DMAGICKCORE_HDRI_ENABLE=1 -DMAGICKCORE_QUANTUM_DEPTH=16 -I/usr/include/libxml2\",",
          "",
          "[Removed Lines]",
          "209:    #'CC' => 'gcc -std=gnu99 -std=gnu99',",
          "",
          "[Added Lines]",
          "209:    #'CC' => 'g++',",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "215:    'CCFLAGS' => $CCFLAGS_magick,",
          "217:    # Linker",
          "220:    # Linker flags for building an executable",
          "221:    'LDFLAGS' =>  $LDFLAGS_magick,",
          "",
          "[Removed Lines]",
          "218:    #'LD' => $Config{'ld'} == $Config{'cc'} ? 'gcc -std=gnu99 -std=gnu99' : $Config{'ld'},",
          "",
          "[Added Lines]",
          "218:    #'LD' => $Config{'ld'} == $Config{'cc'} ? 'g++' : $Config{'ld'},",
          "",
          "---------------"
        ],
        "PerlMagick/check.sh||PerlMagick/check.sh": [
          "File: PerlMagick/check.sh -> PerlMagick/check.sh",
          "--- Hunk 1 ---",
          "[Context before]",
          "43: if test -x PerlMagick -a -f Makefile.aperl ; then",
          "44:   # Static build test incantation",
          "46: elif test -f Makefile -a -f Magick.o; then",
          "47:   # Shared build test incantation",
          "49: else",
          "50:   echo 'PerlMagick has not been built!'",
          "51:   exit 1",
          "",
          "[Removed Lines]",
          "45:   ${MAKE} -f Makefile.aperl CC='gcc -std=gnu99 -std=gnu99' TEST_VERBOSE=1 test",
          "48:   ${MAKE} CC='gcc -std=gnu99 -std=gnu99' TEST_VERBOSE=1 test",
          "",
          "[Added Lines]",
          "45:   ${MAKE} -f Makefile.aperl CC='g++' TEST_VERBOSE=1 test",
          "48:   ${MAKE} CC='g++' TEST_VERBOSE=1 test",
          "",
          "---------------"
        ],
        "coders/pdf.c||coders/pdf.c": [
          "File: coders/pdf.c -> coders/pdf.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "126: %    o command: the address of a character string containing the command to",
          "127: %      execute.",
          "128: %",
          "132: #if defined(MAGICKCORE_GS_DELEGATE) || defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "133: static int MagickDLLCall PDFDelegateMessage(void *handle,const char *msg,",
          "134:   int len)",
          "136:   char",
          "139:   size_t offset;",
          "141:   offset=0;",
          "142:   messages=(char **)handle;",
          "143:   if (*messages == (char *) NULL)",
          "145:   else",
          "146:     {",
          "150:     }",
          "151:   (void) memcpy(*messages+offset,msg,len);",
          "152:   (*messages)[offset+len] ='\\0';",
          "",
          "[Removed Lines]",
          "129: %    o exception: return any errors or warnings in this structure.",
          "130: %",
          "135: {",
          "147:       offset=strlen(*messages);",
          "149:         sizeof(char *));",
          "",
          "[Added Lines]",
          "129: %    o exception: return any errors or warnings in this structure.",
          "130: %",
          "135: {",
          "136:   char",
          "139:   ssize_t",
          "148:       offset=strlen(*messages);",
          "150:         sizeof(char *));",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "157: static MagickBooleanType InvokePDFDelegate(const MagickBooleanType verbose,",
          "158:   const char *command,ExceptionInfo *exception)",
          "159: {",
          "161:     status;",
          "164: #define SetArgsStart \\",
          "165:   if (args_start == (const char *) NULL) \\",
          "166:     { \\",
          "",
          "[Removed Lines]",
          "160:   int",
          "163: #if defined(MAGICKCORE_GS_DELEGATE) || defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "",
          "[Added Lines]",
          "161:   int",
          "164: #if defined(MAGICKCORE_GS_DELEGATE) || defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "170:         { \\",
          "171:           args_start=strchr(command+1,'\"'); \\",
          "172:           if (args_start != (const char *) NULL) \\",
          "182:     if (status < 0) \\",
          "184:     (void) ThrowMagickException(exception,GetMagickModule(),DelegateError, \\",
          "185:       \"FailedToExecuteCommand\",\"`%s' (%d)\",command,status); \\",
          "186:     return(MagickFalse); \\",
          "187:   }",
          "189:   char",
          "193:   const char",
          "",
          "[Removed Lines]",
          "173:             args_start++; \\",
          "174:         } \\",
          "175:     }",
          "177: #define ExecuteGhostscriptCommand \\",
          "178:   { \\",
          "179:     status=SystemCommand(MagickFalse,verbose,command,exception); \\",
          "180:     if (status == 0) \\",
          "181:       return(MagickTrue); \\",
          "183:       return(MagickFalse); \\",
          "",
          "[Added Lines]",
          "174:             args_start++; \\",
          "175:         } \\",
          "176:     }",
          "178: #define ExecuteGhostscriptCommand(command,status) \\",
          "179: { \\",
          "181:   if (status == 0) \\",
          "182:     return(MagickTrue); \\",
          "183:   if (status < 0) \\",
          "184:     return(MagickFalse); \\",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "224:   ghost_info_struct.run_string=(int (*)(gs_main_instance *,const char *,int,",
          "225:     int *)) gsapi_run_string;",
          "226:   ghost_info_struct.set_stdio=(int (*)(gs_main_instance *,int(*)(void *,char *,",
          "228:     gsapi_set_stdio;",
          "229: #endif",
          "230:   if (ghost_info == (GhostInfo *) NULL)",
          "232:   if (verbose != MagickFalse)",
          "233:     {",
          "234:       (void) fputs(\"[ghostscript library]\",stdout);",
          "235:       SetArgsStart",
          "236:       (void) fputs(args_start,stdout);",
          "238:   errors=(char *) NULL;",
          "239:   status=(ghost_info->new_instance)(&interpreter,(void *) &errors);",
          "240:   if (status < 0)",
          "",
          "[Removed Lines]",
          "227:     int),int(*)(void *,const char *,int),int(*)(void *, const char *, int)))",
          "231:    ExecuteGhostscriptCommand",
          "237:     }",
          "",
          "[Added Lines]",
          "228:     int),int(*)(void *,const char *,int),int(*)(void *, const char *, int)))",
          "232:    ExecuteGhostscriptCommand(command,status);",
          "238:     }",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "252:   (ghost_info->exit)(interpreter);",
          "253:   (ghost_info->delete_instance)(interpreter);",
          "254:   for (i=0; i < (ssize_t) argc; i++)",
          "256:   argv=(char **) RelinquishMagickMemory(argv);",
          "257:   if ((status != 0) && (status != -101))",
          "258:     {",
          "",
          "[Removed Lines]",
          "255:     argv[i]=DestroyString(argv[i]);",
          "",
          "[Added Lines]",
          "256:     argv[i]=DestroyString(argv[i]);",
          "",
          "---------------"
        ],
        "coders/ps.c||coders/ps.c": [
          "File: coders/ps.c -> coders/ps.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "116: %",
          "117: %    o exception: return any errors or warnings in this structure.",
          "118: %",
          "120: #if defined(MAGICKCORE_GS_DELEGATE) || defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "121: static int MagickDLLCall PostscriptDelegateMessage(void *handle,",
          "122:   const char *msg,int len)",
          "123: {",
          "129:   offset=0;",
          "130:   messages=(char **)handle;",
          "131:   if (*messages == (char *) NULL)",
          "133:   else",
          "134:     {",
          "135:       offset=strlen(*messages);",
          "139:   (void) memcpy(*messages+offset,msg,len);",
          "140:   (*messages)[offset+len] ='\\0';",
          "141:   return(len);",
          "",
          "[Removed Lines]",
          "124:   char",
          "127:   size_t offset;",
          "137:         sizeof(char *));",
          "138:     }",
          "",
          "[Added Lines]",
          "124:   char",
          "128:     offset;",
          "138:         sizeof(char *));",
          "139:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "146:   const MagickBooleanType verbose,const char *command,ExceptionInfo *exception)",
          "147: {",
          "148:   int",
          "151: #if defined(MAGICKCORE_GS_DELEGATE) || defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "153:   if (args_start == (const char *) NULL) \\",
          "154:     { \\",
          "155:       if (command[0] != '\"') \\",
          "",
          "[Removed Lines]",
          "149:     status;",
          "152: #define SetArgsStart \\",
          "",
          "[Added Lines]",
          "150:     status;",
          "153: #define SetArgsStart(command,args_start) \\",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "159:           args_start=strchr(command+1,'\"'); \\",
          "160:           if (args_start != (const char *) NULL) \\",
          "161:             args_start++; \\",
          "171:       return(MagickFalse); \\",
          "173:       \"FailedToExecuteCommand\",\"`%s' (%d)\",command,status); \\",
          "174:     return(MagickFalse); \\",
          "175:   }",
          "177:   char",
          "181:   const char",
          "",
          "[Removed Lines]",
          "162:         } \\",
          "163:     }",
          "165: #define ExecuteGhostscriptCommand \\",
          "166:   { \\",
          "167:     status=SystemCommand(MagickFalse,verbose,command,exception); \\",
          "168:     if (status == 0) \\",
          "169:       return(MagickTrue); \\",
          "170:     if (status < 0) \\",
          "172:     (void) ThrowMagickException(exception,GetMagickModule(),DelegateError, \\",
          "",
          "[Added Lines]",
          "163:         } \\",
          "164:     }",
          "166: #define ExecuteGhostscriptCommand(command,status) \\",
          "167: { \\",
          "168:   status=SystemCommand(MagickFalse,verbose,command,exception); \\",
          "170:     return(MagickTrue); \\",
          "171:   if (status < 0) \\",
          "172:     return(MagickFalse); \\",
          "173:   (void) ThrowMagickException(exception,GetMagickModule(),DelegateError, \\",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "213:     int *)) gsapi_run_string;",
          "214:   ghost_info_struct.set_stdio=(int (*)(gs_main_instance *,int(*)(void *,char *,",
          "215:     int),int(*)(void *,const char *,int),int(*)(void *, const char *, int)))",
          "217: #endif",
          "218:   if (ghost_info == (GhostInfo *) NULL)",
          "219:     ExecuteGhostscriptCommand",
          "221:     {",
          "222:       (void) fputs(\"[ghostscript library]\",stdout);",
          "223:       SetArgsStart",
          "224:       (void) fputs(args_start,stdout);",
          "225:     }",
          "227:   status=(ghost_info->new_instance)(&interpreter,(void *) &errors);",
          "228:   if (status < 0)",
          "229:     ExecuteGhostscriptCommand",
          "",
          "[Removed Lines]",
          "216:     gsapi_set_stdio;",
          "220:   if (verbose != MagickFalse)",
          "226:   errors=(char *) NULL;",
          "",
          "[Added Lines]",
          "217:     gsapi_set_stdio;",
          "221:   if (verbose != MagickFalse)",
          "227:   errors=(char *) NULL;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "241:   (ghost_info->delete_instance)(interpreter);",
          "242:   for (i=0; i < (ssize_t) argc; i++)",
          "243:     argv[i]=DestroyString(argv[i]);",
          "245:   if ((status != 0) && (status != -101))",
          "246:     {",
          "247:       SetArgsStart",
          "",
          "[Removed Lines]",
          "244:   argv=(char **) RelinquishMagickMemory(argv);",
          "",
          "[Added Lines]",
          "245:   argv=(char **) RelinquishMagickMemory(argv);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "f279b698e47b8dcf7eff285c30c7a3b59ff805b1",
      "candidate_info": {
        "commit_hash": "f279b698e47b8dcf7eff285c30c7a3b59ff805b1",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/f279b698e47b8dcf7eff285c30c7a3b59ff805b1",
        "files": [
          "Magick++/Makefile.am",
          "MagickCore/version.h",
          "configure",
          "configure.ac"
        ],
        "message": "",
        "before_after_code_files": [
          "Magick++/Makefile.am||Magick++/Makefile.am",
          "MagickCore/version.h||MagickCore/version.h",
          "configure.ac||configure.ac"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "Magick++/Makefile.am||Magick++/Makefile.am": [
          "File: Magick++/Makefile.am -> Magick++/Makefile.am",
          "--- Hunk 1 ---",
          "[Context before]",
          "110:  Magick++/lib/Magick++/Thread.h \\",
          "111:  Magick++/lib/Magick++/TypeMetric.h",
          "114:  $(MAGICKPP_CPPFLAGS) $(LIBRARY_EXTRA_CPPFLAGS)",
          "116: magickpptopincdir = $(INCLUDE_PATH)",
          "",
          "[Removed Lines]",
          "113: Magick___lib_libMagick___@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = \\",
          "",
          "[Added Lines]",
          "113: Magick___lib_libMagick___@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = \\",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"16207:16231M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"16302:16304M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-07-25\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-08-13\"",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "160: # Enable support for silent build rules",
          "161: m4_ifdef([AM_SILENT_RULES],[AM_SILENT_RULES([yes])])",
          "164: MAGICK_LIB_VERSION=\"0x\"",
          "165: if test ${MAGICK_LIBRARY_CURRENT} -lt 10 ; then",
          "166:   MAGICK_LIB_VERSION=${MAGICK_LIB_VERSION}0",
          "",
          "[Removed Lines]",
          "163: # versionning of library",
          "",
          "[Added Lines]",
          "163: # versioning of library",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "a9e02e5a70b18eaa446f71c47284cafa6ed10ee8",
      "candidate_info": {
        "commit_hash": "a9e02e5a70b18eaa446f71c47284cafa6ed10ee8",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/a9e02e5a70b18eaa446f71c47284cafa6ed10ee8",
        "files": [
          "MagickCore/version.h",
          "MagickWand/Makefile.am",
          "Makefile.in",
          "configure"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "MagickWand/Makefile.am||MagickWand/Makefile.am",
          "Makefile.in||Makefile.in"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"15957:15959\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"16049M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-06-07\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-06-22\"",
          "",
          "---------------"
        ],
        "MagickWand/Makefile.am||MagickWand/Makefile.am": [
          "File: MagickWand/Makefile.am -> MagickWand/Makefile.am",
          "--- Hunk 1 ---",
          "[Context before]",
          "130: MAGICKWAND_LIBS = MagickWand/libMagickWand-@MAGICK_MAJOR_VERSION@.@MAGICK_ABI_SUFFIX@.la",
          "132: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_SOURCES = $(MAGICKWAND_SOURCES)",
          "135: if HAVE_LD_VERSION_SCRIPT",
          "136: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_LDFLAGS_VERSION =  -Wl,--version-script=$(top_srcdir)/MagickWand/libMagickWand.map",
          "",
          "[Removed Lines]",
          "133: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = $(MAGICKWAND_CPPFLAGS)",
          "",
          "[Added Lines]",
          "133: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = $(MAGICKWAND_CPPFLAGS) $(LIBRARY_EXTRA_CPPFLAGS)",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "4676: MAGICKWAND_BUILT_SRCS =",
          "4677: MAGICKWAND_LIBS = MagickWand/libMagickWand-@MAGICK_MAJOR_VERSION@.@MAGICK_ABI_SUFFIX@.la",
          "4678: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_SOURCES = $(MAGICKWAND_SOURCES)",
          "4680: @HAVE_LD_VERSION_SCRIPT_FALSE@MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_LDFLAGS_VERSION = -export-symbols-regex \".*\"",
          "4681: @HAVE_LD_VERSION_SCRIPT_TRUE@MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_LDFLAGS_VERSION = -Wl,--version-script=$(top_srcdir)/MagickWand/libMagickWand.map",
          "4682: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_LDFLAGS = -no-undefined \\",
          "",
          "[Removed Lines]",
          "4679: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = $(MAGICKWAND_CPPFLAGS)",
          "",
          "[Added Lines]",
          "4679: MagickWand_libMagickWand_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS = $(MAGICKWAND_CPPFLAGS) $(LIBRARY_EXTRA_CPPFLAGS)",
          "",
          "---------------"
        ]
      }
    }
  ]
}