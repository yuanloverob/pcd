{
  "cve_id": "CVE-2019-19244",
  "cve_desc": "sqlite3Select in select.c in SQLite 3.30.1 allows a crash if a sub-select uses both DISTINCT and window functions, and also has certain ORDER BY usage.",
  "repo": "sqlite/sqlite",
  "patch_hash": "e59c562b3f6894f84c715772c4b116d7b5c01348",
  "patch_info": {
    "commit_hash": "e59c562b3f6894f84c715772c4b116d7b5c01348",
    "repo": "sqlite/sqlite",
    "commit_url": "https://github.com/sqlite/sqlite/commit/e59c562b3f6894f84c715772c4b116d7b5c01348",
    "files": [
      "manifest",
      "manifest.uuid",
      "src/select.c",
      "test/window1.test"
    ],
    "message": "Fix a crash that could occur if a sub-select that uses both DISTINCT and window functions also used an ORDER BY that is the same as its select list.\n\nFossilOrigin-Name: bcdd66c1691955c697f3d756c2b035acfe98f6aad72e90b0021bab6e9023b3ba",
    "before_after_code_files": [
      "manifest.uuid||manifest.uuid",
      "src/select.c||src/select.c",
      "test/window1.test||test/window1.test"
    ]
  },
  "patch_diff": {
    "manifest.uuid||manifest.uuid": [
      "File: manifest.uuid -> manifest.uuid",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "1: 6a64fb6a2da6c98f1e87b55ad5689967e1db4eae2e08345471d95e28cd567e0f",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "src/select.c||src/select.c": [
      "File: src/select.c -> src/select.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "6065:   if( (p->selFlags & (SF_Distinct|SF_Aggregate))==SF_Distinct",
      "6066:    && sqlite3ExprListCompare(sSort.pOrderBy, pEList, -1)==0",
      "6067:   ){",
      "6068:     p->selFlags &= ~SF_Distinct;",
      "6069:     pGroupBy = p->pGroupBy = sqlite3ExprListDup(db, pEList, 0);",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "6067:    && p->pWin==0",
      "",
      "---------------"
    ],
    "test/window1.test||test/window1.test": [
      "File: test/window1.test -> test/window1.test",
      "--- Hunk 1 ---",
      "[Context before]",
      "1243:   ALTER TABLE a0 RENAME TO S;",
      "1244: } {1 {error in view a: 1st ORDER BY term does not match any column in the result set}}",
      "1246: finish_test",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1246: reset_db",
      "1247: do_execsql_test 33.1 {",
      "1248:   CREATE TABLE t1(aa, bb);",
      "1249:   INSERT INTO t1 VALUES(1, 2);",
      "1250:   INSERT INTO t1 VALUES(5, 6);",
      "1251:   CREATE TABLE t2(x);",
      "1252:   INSERT INTO t2 VALUES(1);",
      "1253: }",
      "1254: do_execsql_test 33.2 {",
      "1255:   SELECT (SELECT DISTINCT sum(aa) OVER() FROM t1 ORDER BY 1), x FROM t2",
      "1256:   ORDER BY 1;",
      "1257: } {6 1}",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "aadf8327be6e54d52a8887897bd65983c6dc3a4e",
      "candidate_info": {
        "commit_hash": "aadf8327be6e54d52a8887897bd65983c6dc3a4e",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/aadf8327be6e54d52a8887897bd65983c6dc3a4e",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/os_unix.c"
        ],
        "message": "Back out the change to support Fuchsia, since it turns out fuchsia does not like dot-file locks.\n\nFossilOrigin-Name: 1d801a3b2c48dc8a918d6da047bc877acf033d5f5c4e1d4b412ba7678ed6f8b3",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/os_unix.c||src/os_unix.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 73c4abc90264355f3ea6e8c34e5aad6ed665b70fb136c4d416e2a98e46562bbd",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/os_unix.c||src/os_unix.c": [
          "File: src/os_unix.c -> src/os_unix.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "7822:     UNIXVFS(\"unix\",          autolockIoFinder ),",
          "7823: #elif OS_VXWORKS",
          "7824:     UNIXVFS(\"unix\",          vxworksIoFinder ),",
          "7828: #else",
          "7829:     UNIXVFS(\"unix\",          posixIoFinder ),",
          "7830: #endif",
          "",
          "[Removed Lines]",
          "7825: #elif __Fuchsia__",
          "7827:     UNIXVFS(\"unix\",          dotlockIoFinder ),",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "9e9374b2e20a2221f8fdfb940d6d82064d641283",
      "candidate_info": {
        "commit_hash": "9e9374b2e20a2221f8fdfb940d6d82064d641283",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/9e9374b2e20a2221f8fdfb940d6d82064d641283",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/update.c"
        ],
        "message": "Avoid an excess register allocation in UPDATE, when possible.  This improves speed (slightly) and reduces the code footprint.\n\nFossilOrigin-Name: 8658574e3f435f03a87c04f398bd05078ebc53ecb4a477d3b24902d701d935c4",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/update.c||src/update.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: ecb56b75a0e66462acdcce285b93f9fc56944c42902d886d6bada419059519a9",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/update.c||src/update.c": [
          "File: src/update.c -> src/update.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "357:   if( onError==OE_Replace ) bReplace = 1;",
          "359:     int reg;",
          "360:     if( chngKey || hasFK>1 || pIdx==pPk",
          "361:      || indexWhereClauseMightChange(pIdx,aXRef,chngRowid)",
          "",
          "[Removed Lines]",
          "358:   for(j=0, pIdx=pTab->pIndex; pIdx; pIdx=pIdx->pNext, j++){",
          "",
          "[Added Lines]",
          "359:   for(nAllIdx=0, pIdx=pTab->pIndex; pIdx; pIdx=pIdx->pNext, nAllIdx++){",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "375:         }",
          "376:       }",
          "377:     }",
          "380:   }",
          "382:   if( bReplace ){",
          "",
          "[Removed Lines]",
          "378:     if( reg==0 ) aToOpen[j+1] = 0;",
          "379:     aRegIdx[j] = reg;",
          "",
          "[Added Lines]",
          "379:     if( reg==0 ) aToOpen[nAllIdx+1] = 0;",
          "380:     aRegIdx[nAllIdx] = reg;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "395:   if( !IsVirtual(pTab) ){",
          "397:     regOldRowid = regNewRowid = ++pParse->nMem;",
          "398:     if( chngPk || pTrigger || hasFK ){",
          "399:       regOld = pParse->nMem + 1;",
          "",
          "[Removed Lines]",
          "396:     regRowSet = ++pParse->nMem;",
          "",
          "[Added Lines]",
          "402:     assert( aRegIdx[nAllIdx]==pParse->nMem );",
          "403:     regRowSet = aRegIdx[nAllIdx];",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "524:     sqlite3VdbeAddOp2(v, OP_Rowid, iDataCur, regOldRowid);",
          "525:     if( eOnePass==ONEPASS_OFF ){",
          "526:       sqlite3VdbeAddOp2(v, OP_RowSetAdd, regRowSet, regOldRowid);",
          "527:     }",
          "528:   }else{",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "534:       aRegIdx[nAllIdx] = ++pParse->nMem;",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "fffaf2301346190479d9febd4b563cf117bd47cb",
      "candidate_info": {
        "commit_hash": "fffaf2301346190479d9febd4b563cf117bd47cb",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/fffaf2301346190479d9febd4b563cf117bd47cb",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/btree.c",
          "test/dbfuzz001.test"
        ],
        "message": "When saving the position of a cursor at the b-tree layer, allocate a few extra bytes at the end of the buffer used to save the key. Otherwise, if the key is corrupt, the code that restores the cursor position may overread the buffer by a little.\n\nFossilOrigin-Name: 160b1e31c0f27257c06c2987af9ec3a64abfacb2150325b72e8ccd3d217b5baa",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/btree.c||src/btree.c",
          "test/dbfuzz001.test||test/dbfuzz001.test"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 7e4ed8b5c2047b69bbb037497111e56e465a4d9f8afca3b337f9ac744471dc4a",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/btree.c||src/btree.c": [
          "File: src/btree.c -> src/btree.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "661:     pCur->nKey = sqlite3BtreeIntegerKey(pCur);",
          "662:   }else{",
          "664:     void *pKey;",
          "665:     pCur->nKey = sqlite3BtreePayloadSize(pCur);",
          "667:     if( pKey ){",
          "668:       rc = sqlite3BtreePayload(pCur, 0, (int)pCur->nKey, pKey);",
          "669:       if( rc==SQLITE_OK ){",
          "",
          "[Removed Lines]",
          "666:     pKey = sqlite3Malloc( pCur->nKey );",
          "",
          "[Added Lines]",
          "671:     pKey = sqlite3Malloc( pCur->nKey + 9 + 8 );",
          "",
          "---------------"
        ],
        "test/dbfuzz001.test||test/dbfuzz001.test": [
          "File: test/dbfuzz001.test -> test/dbfuzz001.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "269:   catchsql {INSERT INTO t3 SELECT * FROM t2;}",
          "270: } {1 {database disk image is malformed}}",
          "272: finish_test",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "273: do_test dbfuzz001-110 {",
          "274:   sqlite3 db {}",
          "275:   db deserialize [decode_hexdb {",
          "276: | size 3584 pagesize 512 filename x/c02.db",
          "277: | page 1 offset 0",
          "278: |      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.",
          "279: |     16: 02 00 01 01 00 40 20 20 00 00 00 0c 00 00 00 07   .....@  ........",
          "280: |     32: 00 00 00 00 00 00 00 00 00 00 00 08 00 00 00 04   ................",
          "281: |     48: 00 00 00 00 00 00 00 04 00 00 00 01 00 00 00 00   ................",
          "282: |     80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0c   ................",
          "283: |     96: 00 2e 2c 50 0d 00 00 00 06 01 06 00 01 da 01 b0   ..,P............",
          "284: |    112: 01 56 01 86 01 2a 01 06 00 00 00 00 00 00 00 00   .V...*..........",
          "285: |    256: 00 00 00 00 00 00 22 07 06 17 11 11 01 31 74 61   ......\"......1ta",
          "286: |    272: 62 6c 65 74 34 74 34 07 43 52 45 41 54 45 20 54   blet4t4.CREATE T",
          "287: |    288: 41 42 4c 45 20 74 34 28 78 29 2a 06 06 17 13 11   ABLE t4(x)*.....",
          "288: |    304: 01 3f 69 6e 64 65 78 74 33 78 74 33 05 43 52 45   .?indext3xt3.CRE",
          "289: |    320: 41 54 45 20 49 4e 44 45 58 20 74 33 78 20 4f 4e   ATE INDEX t3x ON",
          "290: |    336: 20 74 33 28 78 29 2e 04 06 17 15 11 01 45 69 6e    t3(x).......Ein",
          "291: |    352: 64 65 78 74 32 63 64 74 32 05 43 52 45 41 54 45   dext2cdt2.CREATE",
          "292: |    368: 20 49 4e 44 45 58 20 74 32 63 64 20 4f 4e 20 74    INDEX t2cd ON t",
          "293: |    384: 32 28 63 2c 64 29 28 05 06 17 11 11 01 3d 74 61   2(c,d)(......=ta",
          "294: |    400: 62 6c 65 74 33 74 33 07 43 52 45 41 54 45 20 54   blet3t3.CREATE T",
          "295: |    416: 41 42 4c 45 20 74 33 28 63 2c 78 2c 65 2c 66 29   ABLE t3(c,x,e,f)",
          "296: |    432: 28 02 06 17 11 11 01 3d 74 61 74 65 6c 03 62 74   (......=tatel.bt",
          "297: |    448: 32 32 43 52 45 41 54 45 20 54 41 42 4c 45 20 74   22CREATE TABLE t",
          "298: |    464: 32 28 63 2c 64 2c 65 2c 66 29 24 01 06 17 11 11   2(c,d,e,f)$.....",
          "299: |    480: 01 35 74 61 62 6c 65 74 31 74 31 02 43 52 45 41   .5tablet1t1.CREA",
          "300: |    496: 54 45 20 54 41 42 4c 45 20 74 31 28 61 2c 62 29   TE TABLE t1(a,b)",
          "301: | page 2 offset 512",
          "302: |      0: 0d 00 00 00 04 01 cf 00 01 fa 01 f3 01 de 01 cf   ................",
          "303: |    160: 00 00 20 00 00 00 00 00 00 00 00 00 00 00 00 00   .. .............",
          "304: |    448: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0d   ................",
          "305: |    464: 04 03 17 17 73 65 76 65 6e 65 69 67 68 74 13 03   ....seveneight..",
          "306: |    480: 03 07 07 40 14 00 00 00 00 00 00 40 18 00 00 00   ...@.......@....",
          "307: |    496: 00 00 00 05 02 03 01 01 03 04 04 01 03 09 01 02   ................",
          "308: | page 3 offset 1024",
          "309: |      0: 0d 00 00 00 08 01 54 00 01 f7 01 ec 01 c5 01 aa   ......T.........",
          "310: |     16: 01 a1 01 96 01 6f 01 54 00 00 00 00 00 00 00 00   .....o.T........",
          "311: |    112: 00 00 dd 00 00 00 00 00 00 00 00 00 00 00 00 00   ................",
          "312: |    336: 00 00 00 00 19 08 05 17 17 17 17 65 69 67 68 74   ...........eight",
          "313: |    352: 65 69 67 68 74 73 65 76 65 6e 73 65 76 65 6e 25   eightsevenseven%",
          "314: |    368: 07 05 07 07 07 07 40 18 00 00 00 00 00 00 40 18   ......@.......@.",
          "315: |    384: 00 00 00 00 00 00 40 14 00 00 00 00 00 00 40 14   ......@.......@.",
          "316: |    400: 00 00 00 00 00 00 09 06 05 01 01 01 01 04 04 03   ................",
          "317: |    416: 03 07 05 05 01 01 09 09 02 02 19 04 05 17 17 17   ................",
          "318: |    432: 17 73 65 76 65 6e 65 69 67 68 74 65 69 67 68 74   .seveneighteight",
          "319: |    448: 73 65 76 65 6e 25 03 05 07 07 07 07 40 14 00 00   seven%......@...",
          "320: |    464: 00 00 00 00 40 18 00 00 00 00 00 00 40 18 00 00   ....@.......@...",
          "321: |    480: 00 00 00 00 40 14 00 00 00 00 00 00 09 02 05 01   ....@...........",
          "322: |    496: 01 01 01 03 04 04 03 07 01 05 09 01 01 09 02 02   ................",
          "323: | page 4 offset 1536",
          "324: |      0: 0d 00 00 00 00 02 00 00 00 00 00 00 00 00 00 00   ................",
          "325: |    192: 00 00 00 00 00 00 7f 00 00 00 00 00 00 00 00 00   ................",
          "326: |    208: 00 e5 00 00 00 00 00 00 00 00 00 00 00 00 00 00   ................",
          "327: | page 5 offset 2048",
          "328: |      0: 0a 00 00 00 08 01 96 00 01 fa 01 c4 01 f2 01 bc   ................",
          "329: |     16: 01 dc 01 a6 01 96 01 cc 00 00 00 00 00 00 00 00   ................",
          "330: |    240: 00 00 00 00 00 00 00 00 00 00 00 00 00 0e 00 00   ................",
          "331: |    400: 00 00 00 00 00 00 0f 04 17 07 01 65 69 67 68 74   ...........eight",
          "332: |    416: 65 69 67 68 74 08 15 04 07 07 01 40 18 00 00 00   eight......@....",
          "333: |    432: 00 00 00 40 18 00 00 00 00 00 00 07 07 04 01 01   ...@............",
          "334: |    448: 01 04 04 06 07 04 01 01 01 02 02 05 0f 04 17 17   ................",
          "335: |    464: 01 73 65 76 65 6e 65 69 67 68 74 04 15 04 07 07   .seveneight.....",
          "336: |    480: 01 40 14 00 00 00 00 00 00 40 18 00 00 00 00 00   .@.......@......",
          "337: |    496: 00 03 07 04 01 01 01 03 04 02 05 04 09 01 09 02   ................",
          "338: | page 6 offset 2560",
          "339: |      0: 0a 00 00 00 00 02 00 00 00 00 00 00 00 00 00 00   ................",
          "340: |    464: 00 00 00 00 00 00 00 00 00 00 7f 00 00 00 00 00   ................",
          "341: | page 7 offset 3072",
          "342: |      0: 0d 00 00 00 08 01 c2 00 01 fb 01 f6 01 f1 01 ec   ................",
          "343: |     16: 01 e0 01 d4 01 cb 01 c2 00 00 00 00 00 00 00 00   ................",
          "344: |    448: 00 00 07 08 02 17 65 69 67 68 74 07 07 02 17 65   ......eight....e",
          "345: |    464: 69 67 68 74 0a 06 02 07 40 18 00 00 00 00 00 00   ight....@.......",
          "346: |    480: 0a 05 02 07 40 18 00 00 00 00 00 00 03 04 02 01   ....@...........",
          "347: |    496: 04 03 03 02 01 04 03 02 02 01 02 03 01 02 01 02   ................",
          "348: | end x/c02.db",
          "349:   }]",
          "350:   execsql {",
          "351:     DELETE FROM t3 WHERE x IN (SELECT x FROM t4);",
          "352:   }",
          "353: } {}",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "7971b7fe92cf262e5a6a4964b5acdfa683945872",
      "candidate_info": {
        "commit_hash": "7971b7fe92cf262e5a6a4964b5acdfa683945872",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/7971b7fe92cf262e5a6a4964b5acdfa683945872",
        "files": [
          "manifest",
          "manifest.uuid",
          "test/corruptL.test",
          "test/releasetest_data.tcl"
        ],
        "message": "More minor test file fixes.\n\nFossilOrigin-Name: 352878fe1cbcf7b6803624544bba5a95565d1638d4dd09e91764ddad17889301",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "test/corruptL.test||test/corruptL.test",
          "test/releasetest_data.tcl||test/releasetest_data.tcl"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: e768179baacb2423205a774cc8149fe58ed86a9320102aff4844b1d8933aa1db",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "test/corruptL.test||test/corruptL.test": [
          "File: test/corruptL.test -> test/corruptL.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "377: | end crash-6b48ba69806134.db",
          "378: }]} {}",
          "380: do_catchsql_test 4.1 {",
          "381:   PRAGMA writable_schema=ON; -- bypass improved sqlite_master consistency checking",
          "382:   INSERT INTO t3 SELECT * FROM t2;",
          "386: #-------------------------------------------------------------------------",
          "387: reset_db",
          "",
          "[Removed Lines]",
          "383: } {1 {database disk image is malformed}}",
          "",
          "[Added Lines]",
          "380: set res {1 {database disk image is malformed}}",
          "381: ifcapable oversize_cell_check {",
          "382:   set res {1 {no such table: t3}}",
          "383: }",
          "387: } $res",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "835: | end a.db",
          "836: }]} {}",
          "839: do_catchsql_test 8.1 {",
          "840:   PRAGMA writable_schema=ON; -- bypass improved sqlite_master consistency checking",
          "841:   INSERT INTO t3 SELECT * FROM t2;",
          "844: #-------------------------------------------------------------------------",
          "845: reset_db",
          "",
          "[Removed Lines]",
          "842: } {1 {database disk image is malformed}}",
          "",
          "[Added Lines]",
          "841: set res {1 {database disk image is malformed}}",
          "842: ifcapable oversize_cell_check {",
          "843:   set res {1 {no such table: t3}}",
          "844: }",
          "848: } $res",
          "",
          "---------------"
        ],
        "test/releasetest_data.tcl||test/releasetest_data.tcl": [
          "File: test/releasetest_data.tcl -> test/releasetest_data.tcl",
          "--- Hunk 1 ---",
          "[Context before]",
          "578:     puts \"$config \\\"$target\\\"\"",
          "579:     if {$bNodebug==0 && $bNosynthetic==0} {",
          "580:       set iHas [string first SQLITE_DEBUG $::Configs($config)]",
          "581:       if {$iHas>=0} {",
          "583:       } else {",
          "585:       }",
          "586:     }",
          "587:   }",
          "",
          "[Removed Lines]",
          "582:         puts \"$config-ndebug \\\"test\\\"\"",
          "584:         puts \"$config-debug \\\"test\\\"\"",
          "",
          "[Added Lines]",
          "581:       set dtarget test",
          "582:       if {$target==\"tcltest\"} {",
          "583:         set dtarget tcltest",
          "584:       }",
          "586:         puts \"$config-ndebug \\\"$dtarget\\\"\"",
          "588:         puts \"$config-debug \\\"$dtarget\\\"\"",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "6cbbcd8ad61c09c85a2e465047e3b89a269820c7",
      "candidate_info": {
        "commit_hash": "6cbbcd8ad61c09c85a2e465047e3b89a269820c7",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/6cbbcd8ad61c09c85a2e465047e3b89a269820c7",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/vdbe.c"
        ],
        "message": "Fix a defect in the VDBE branch coverage testing logic.\n\nFossilOrigin-Name: 1fcf3307d37f0e8e0c8c54491c609b73c7add6eaa38409a41c7cd6614a877a19",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/vdbe.c||src/vdbe.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 6cf8b18ec20f11c25ff7396f29c742404d3a88d5e97a5fd53ccfaff51dec3f33",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/vdbe.c||src/vdbe.c": [
          "File: src/vdbe.c -> src/vdbe.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2044:     pOut->u.i = res2;",
          "2045:     REGISTER_TRACE(pOp->p2, pOut);",
          "2046:   }else{",
          "2048:     if( res2 ){",
          "2049:       goto jump_to_p2;",
          "2050:     }",
          "",
          "[Removed Lines]",
          "2047:     VdbeBranchTaken(res!=0, (pOp->p5 & SQLITE_NULLEQ)?2:3);",
          "",
          "[Added Lines]",
          "2047:     VdbeBranchTaken(res2!=0, (pOp->p5 & SQLITE_NULLEQ)?2:3);",
          "",
          "---------------"
        ]
      }
    }
  ]
}