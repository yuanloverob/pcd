{
  "cve_id": "CVE-2012-2330",
  "cve_desc": "The Update method in src/node_http_parser.cc in Node.js before 0.6.17 and 0.7 before 0.7.8 does not properly check the length of a string, which allows remote attackers to obtain sensitive information (request header contents) and possibly spoof HTTP headers via a zero length string.",
  "repo": "joyent/node",
  "patch_hash": "c9a231db0e59658be419d926b1dfa17b939ba158",
  "patch_info": {
    "commit_hash": "c9a231db0e59658be419d926b1dfa17b939ba158",
    "repo": "joyent/node",
    "commit_url": "https://github.com/joyent/node/commit/c9a231d",
    "files": [
      "src/node_http_parser.cc"
    ],
    "message": "typo in node_http_parser",
    "before_after_code_files": [
      "src/node_http_parser.cc||src/node_http_parser.cc"
    ]
  },
  "patch_diff": {
    "src/node_http_parser.cc||src/node_http_parser.cc": [
      "File: src/node_http_parser.cc -> src/node_http_parser.cc",
      "--- Hunk 1 ---",
      "[Context before]",
      "191:   void Update(const char* str, size_t size) {",
      "192:     if (str_ == NULL)",
      "193:       str_ = str;",
      "197:       char* s = new char[size_ + size];",
      "",
      "[Removed Lines]",
      "194:     else if (on_heap_ || str_ + size != str) {",
      "",
      "[Added Lines]",
      "194:     else if (on_heap_ || str_ + size_ != str) {",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "0a347559bf6dc2832aa9802d346f351dd9354e71",
      "candidate_info": {
        "commit_hash": "0a347559bf6dc2832aa9802d346f351dd9354e71",
        "repo": "joyent/node",
        "commit_url": "https://github.com/joyent/node/commit/0a347559bf6dc2832aa9802d346f351dd9354e71",
        "files": [
          "common.gypi",
          "deps/openssl/config/k8/openssl/opensslconf-posix.h",
          "deps/openssl/config/k8/openssl/opensslconf-win32.h",
          "deps/openssl/config/k8/openssl/opensslconf.h",
          "deps/openssl/openssl.gyp",
          "node.gyp",
          "tools/gyp_node",
          "vcbuild.bat"
        ],
        "message": "enable x64 windows build use \"vcbuild x64\" to do x64 build of node.exe",
        "before_after_code_files": [
          "common.gypi||common.gypi",
          "deps/openssl/config/k8/openssl/opensslconf-posix.h||deps/openssl/config/k8/openssl/opensslconf-posix.h",
          "deps/openssl/config/k8/openssl/opensslconf-win32.h||deps/openssl/config/k8/openssl/opensslconf-win32.h",
          "deps/openssl/config/k8/openssl/opensslconf.h||deps/openssl/config/k8/openssl/opensslconf.h",
          "deps/openssl/openssl.gyp||deps/openssl/openssl.gyp",
          "node.gyp||node.gyp",
          "vcbuild.bat||vcbuild.bat"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/roamm/node/pull/1",
          "https://github.com/kingzone/node/pull/1",
          "https://github.com/OpenFPGAduino/node/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "common.gypi||common.gypi": [
          "File: common.gypi -> common.gypi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: {",
          "2:   'variables': {",
          "3:     'visibility%': 'hidden',         # V8's visibility setting",
          "6:     'library%': 'static_library',    # allow override to 'shared_library' for DLL/.so builds",
          "7:     'component%': 'static_library',  # NB. these names match with what V8 expects",
          "8:     'msvs_multi_core_compile': '0',  # we do enable multicore compiles, but not using the V8 way",
          "",
          "[Removed Lines]",
          "4:     'target_arch%': 'ia32',          # set v8's target architecture",
          "5:     'host_arch%': 'ia32',            # set v8's host architecture",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "14:       'Debug': {",
          "15:         'defines': [ 'DEBUG', '_DEBUG' ],",
          "16:         'cflags': [ '-g', '-O0' ],",
          "17:         'msvs_settings': {",
          "18:           'VCCLCompilerTool': {",
          "19:             'target_conditions': [",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "15:         'conditions': [",
          "16:           ['target_arch==\"x64\"', {",
          "17:             'msvs_configuration_platform': 'x64',",
          "18:           }],",
          "19:         ],",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "36:       'Release': {",
          "37:         'defines': [ 'NDEBUG' ],",
          "38:         'cflags': [ '-O3', '-fomit-frame-pointer', '-fdata-sections', '-ffunction-sections' ],",
          "39:         'msvs_settings': {",
          "40:           'VCCLCompilerTool': {",
          "41:             'target_conditions': [",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "42:         'conditions': [",
          "43:           ['target_arch==\"x64\"', {",
          "44:             'msvs_configuration_platform': 'x64',",
          "45:           }],",
          "46:         ],",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "83:       'VCLibrarianTool': {",
          "84:       },",
          "85:       'VCLinkerTool': {",
          "86:         'GenerateDebugInformation': 'true',",
          "87:         'RandomizedBaseAddress': 2, # enable ASLR",
          "88:         'DataExecutionPrevention': 2, # enable DEP",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "94:         'conditions': [",
          "95:           ['target_arch==\"x64\"', {",
          "96:             'TargetMachine' : 17 # /MACHINE:X64",
          "97:           }],",
          "98:         ],",
          "",
          "---------------"
        ],
        "deps/openssl/config/k8/openssl/opensslconf-posix.h||deps/openssl/config/k8/openssl/opensslconf-posix.h": [
          "File: deps/openssl/config/k8/openssl/opensslconf-posix.h -> deps/openssl/config/k8/openssl/opensslconf-posix.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "5: #ifndef OPENSSL_DOING_MAKEDEPEND",
          "8: #ifndef OPENSSL_NO_CAMELLIA",
          "9: # define OPENSSL_NO_CAMELLIA",
          "10: #endif",
          "11: #ifndef OPENSSL_NO_CAPIENG",
          "12: # define OPENSSL_NO_CAPIENG",
          "13: #endif",
          "14: #ifndef OPENSSL_NO_CMS",
          "15: # define OPENSSL_NO_CMS",
          "16: #endif",
          "17: #ifndef OPENSSL_NO_FIPS",
          "18: # define OPENSSL_NO_FIPS",
          "19: #endif",
          "20: #ifndef OPENSSL_NO_GMP",
          "21: # define OPENSSL_NO_GMP",
          "22: #endif",
          "23: #ifndef OPENSSL_NO_IDEA",
          "24: # define OPENSSL_NO_IDEA",
          "25: #endif",
          "26: #ifndef OPENSSL_NO_JPAKE",
          "27: # define OPENSSL_NO_JPAKE",
          "28: #endif",
          "29: #ifndef OPENSSL_NO_KRB5",
          "30: # define OPENSSL_NO_KRB5",
          "31: #endif",
          "32: #ifndef OPENSSL_NO_MDC2",
          "33: # define OPENSSL_NO_MDC2",
          "34: #endif",
          "35: #ifndef OPENSSL_NO_RC5",
          "36: # define OPENSSL_NO_RC5",
          "37: #endif",
          "38: #ifndef OPENSSL_NO_RFC3779",
          "39: # define OPENSSL_NO_RFC3779",
          "40: #endif",
          "41: #ifndef OPENSSL_NO_SEED",
          "42: # define OPENSSL_NO_SEED",
          "43: #endif",
          "44: #ifndef OPENSSL_NO_ASM",
          "45: # define OPENSSL_NO_ASM",
          "46: #endif",
          "50: #ifndef OPENSSL_THREADS",
          "51: # define OPENSSL_THREADS",
          "52: #endif",
          "53: #ifndef OPENSSL_NO_DYNAMIC_ENGINE",
          "54: # define OPENSSL_NO_DYNAMIC_ENGINE",
          "55: #endif",
          "58:    asks for it.  This is a transient feature that is provided for those",
          "59:    who haven't had the time to do the appropriate changes in their",
          "61: #ifdef OPENSSL_ALGORITHM_DEFINES",
          "62: # if defined(OPENSSL_NO_CAMELLIA) && !defined(NO_CAMELLIA)",
          "63: #  define NO_CAMELLIA",
          "64: # endif",
          "65: # if defined(OPENSSL_NO_CAPIENG) && !defined(NO_CAPIENG)",
          "66: #  define NO_CAPIENG",
          "67: # endif",
          "68: # if defined(OPENSSL_NO_CMS) && !defined(NO_CMS)",
          "69: #  define NO_CMS",
          "70: # endif",
          "71: # if defined(OPENSSL_NO_FIPS) && !defined(NO_FIPS)",
          "72: #  define NO_FIPS",
          "73: # endif",
          "74: # if defined(OPENSSL_NO_GMP) && !defined(NO_GMP)",
          "75: #  define NO_GMP",
          "76: # endif",
          "77: # if defined(OPENSSL_NO_IDEA) && !defined(NO_IDEA)",
          "78: #  define NO_IDEA",
          "79: # endif",
          "80: # if defined(OPENSSL_NO_JPAKE) && !defined(NO_JPAKE)",
          "81: #  define NO_JPAKE",
          "82: # endif",
          "83: # if defined(OPENSSL_NO_KRB5) && !defined(NO_KRB5)",
          "84: #  define NO_KRB5",
          "85: # endif",
          "86: # if defined(OPENSSL_NO_MDC2) && !defined(NO_MDC2)",
          "87: #  define NO_MDC2",
          "88: # endif",
          "89: # if defined(OPENSSL_NO_RC5) && !defined(NO_RC5)",
          "90: #  define NO_RC5",
          "91: # endif",
          "92: # if defined(OPENSSL_NO_RFC3779) && !defined(NO_RFC3779)",
          "93: #  define NO_RFC3779",
          "94: # endif",
          "95: # if defined(OPENSSL_NO_SEED) && !defined(NO_SEED)",
          "96: #  define NO_SEED",
          "97: # endif",
          "98: #endif",
          "100: #define OPENSSL_CPUID_OBJ",
          "104: #ifdef OPENSSL_DOING_MAKEDEPEND",
          "113: #ifndef OPENSSL_FIPS",
          "114: #define OPENSSL_FIPS",
          "115: #endif",
          "117: #endif",
          "120: #undef I386_ONLY",
          "123: #if defined(HEADER_CRYPTLIB_H) && !defined(OPENSSLDIR)",
          "124: #define ENGINESDIR \"/usr/local/ssl/lib/engines\"",
          "125: #define OPENSSLDIR \"/usr/local/ssl\"",
          "126: #endif",
          "127: #endif",
          "129: #undef OPENSSL_UNISTD",
          "130: #define OPENSSL_UNISTD <unistd.h>",
          "131: #if !defined(SWIG)",
          "132: #include <unistd.h>",
          "133: #endif",
          "135: #undef OPENSSL_EXPORT_VAR_AS_FUNCTION",
          "137: #if defined(HEADER_IDEA_H) && !defined(IDEA_INT)",
          "138: #define IDEA_INT unsigned int",
          "139: #endif",
          "141: #if defined(HEADER_MD2_H) && !defined(MD2_INT)",
          "142: #define MD2_INT unsigned int",
          "143: #endif",
          "145: #if defined(HEADER_RC2_H) && !defined(RC2_INT)",
          "147: #define RC2_INT unsigned int",
          "148: #endif",
          "150: #if defined(HEADER_RC4_H)",
          "151: #if !defined(RC4_INT)",
          "159: #define RC4_INT unsigned int",
          "160: #endif",
          "161: #if !defined(RC4_CHUNK)",
          "166: #define RC4_CHUNK unsigned long",
          "167: #endif",
          "168: #endif",
          "170: #if (defined(HEADER_NEW_DES_H) || defined(HEADER_DES_H)) && !defined(DES_LONG)",
          "173: #ifndef DES_LONG",
          "174: #define DES_LONG unsigned int",
          "175: #endif",
          "176: #endif",
          "178: #if defined(HEADER_BN_H) && !defined(CONFIG_HEADER_BN_H)",
          "179: #define CONFIG_HEADER_BN_H",
          "180: #undef BN_LLONG",
          "188: #define SIXTY_FOUR_BIT_LONG",
          "189: #undef SIXTY_FOUR_BIT",
          "190: #undef THIRTY_TWO_BIT",
          "191: #undef SIXTEEN_BIT",
          "192: #undef EIGHT_BIT",
          "193: #endif",
          "195: #if defined(HEADER_RC4_LOCL_H) && !defined(CONFIG_HEADER_RC4_LOCL_H)",
          "196: #define CONFIG_HEADER_RC4_LOCL_H",
          "199: #undef RC4_INDEX",
          "200: #endif",
          "202: #if defined(HEADER_BF_LOCL_H) && !defined(CONFIG_HEADER_BF_LOCL_H)",
          "203: #define CONFIG_HEADER_BF_LOCL_H",
          "204: #undef BF_PTR",
          "207: #if defined(HEADER_DES_LOCL_H) && !defined(CONFIG_HEADER_DES_LOCL_H)",
          "208: #define CONFIG_HEADER_DES_LOCL_H",
          "209: #ifndef DES_DEFAULT_OPTIONS",
          "212: #ifndef DES_PTR",
          "213: #undef DES_PTR",
          "214: #endif",
          "219: #ifndef DES_RISC1",
          "220: #undef DES_RISC1",
          "221: #endif",
          "223: #ifndef DES_RISC2",
          "224: #undef DES_RISC2",
          "225: #endif",
          "227: #if defined(DES_RISC1) && defined(DES_RISC2)",
          "228: YOU SHOULD NOT HAVE BOTH DES_RISC1 AND DES_RISC2 DEFINED!!!!!",
          "229: #endif",
          "233: #ifndef DES_UNROLL",
          "234: #define DES_UNROLL",
          "235: #endif",
          "240: #if !defined(DES_PTR) && !defined(DES_RISC1) && !defined(DES_RISC2) && !defined(DES_UNROLL)",
          "242:    CPU and OS.  For SGI machines you can use _MIPS_SZLONG (32 or 64) to find",
          "243:    even newer MIPS CPU's, but at the moment one size fits all for",
          "244:    optimization options.  Older Sparc's work better with only UNROLL, but",
          "248: #  define DES_PTR",
          "249: #  define DES_RISC1",
          "250: #  define DES_UNROLL",
          "252: #  define DES_PTR",
          "253: #  define DES_RISC2",
          "254: #  define DES_UNROLL",
          "256: #  define DES_PTR",
          "257: #  define DES_RISC2",
          "265: #  define DES_UNROLL",
          "267: #  define DES_PTR",
          "268: #  define DES_RISC2",
          "269: #  define DES_UNROLL",
          "271: #  define DES_PTR",
          "272: #  define DES_RISC1",
          "273: #  define DES_UNROLL",
          "275: #endif",
          "",
          "---------------"
        ],
        "deps/openssl/config/k8/openssl/opensslconf-win32.h||deps/openssl/config/k8/openssl/opensslconf-win32.h": [
          "File: deps/openssl/config/k8/openssl/opensslconf-win32.h -> deps/openssl/config/k8/openssl/opensslconf-win32.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "5: #ifndef OPENSSL_SYSNAME_WIN32",
          "6: # define OPENSSL_SYSNAME_WIN32",
          "7: #endif",
          "8: #ifndef OPENSSL_DOING_MAKEDEPEND",
          "11: #ifndef OPENSSL_NO_CAMELLIA",
          "12: # define OPENSSL_NO_CAMELLIA",
          "13: #endif",
          "14: #ifndef OPENSSL_NO_CAPIENG",
          "15: # define OPENSSL_NO_CAPIENG",
          "16: #endif",
          "17: #ifndef OPENSSL_NO_CMS",
          "18: # define OPENSSL_NO_CMS",
          "19: #endif",
          "20: #ifndef OPENSSL_NO_GMP",
          "21: # define OPENSSL_NO_GMP",
          "22: #endif",
          "23: #ifndef OPENSSL_NO_IDEA",
          "24: # define OPENSSL_NO_IDEA",
          "25: #endif",
          "26: #ifndef OPENSSL_NO_JPAKE",
          "27: # define OPENSSL_NO_JPAKE",
          "28: #endif",
          "29: #ifndef OPENSSL_NO_KRB5",
          "30: # define OPENSSL_NO_KRB5",
          "31: #endif",
          "32: #ifndef OPENSSL_NO_MDC2",
          "33: # define OPENSSL_NO_MDC2",
          "34: #endif",
          "35: #ifndef OPENSSL_NO_RC5",
          "36: # define OPENSSL_NO_RC5",
          "37: #endif",
          "38: #ifndef OPENSSL_NO_RFC3779",
          "39: # define OPENSSL_NO_RFC3779",
          "40: #endif",
          "41: #ifndef OPENSSL_NO_SEED",
          "42: # define OPENSSL_NO_SEED",
          "43: #endif",
          "47: #ifndef OPENSSL_THREADS",
          "48: # define OPENSSL_THREADS",
          "49: #endif",
          "52:    asks for it.  This is a transient feature that is provided for those",
          "53:    who haven't had the time to do the appropriate changes in their",
          "55: #ifdef OPENSSL_ALGORITHM_DEFINES",
          "56: # if defined(OPENSSL_NO_CAMELLIA) && !defined(NO_CAMELLIA)",
          "57: #  define NO_CAMELLIA",
          "58: # endif",
          "59: # if defined(OPENSSL_NO_CAPIENG) && !defined(NO_CAPIENG)",
          "60: #  define NO_CAPIENG",
          "61: # endif",
          "62: # if defined(OPENSSL_NO_CMS) && !defined(NO_CMS)",
          "63: #  define NO_CMS",
          "64: # endif",
          "65: # if defined(OPENSSL_NO_GMP) && !defined(NO_GMP)",
          "66: #  define NO_GMP",
          "67: # endif",
          "68: # if defined(OPENSSL_NO_JPAKE) && !defined(NO_JPAKE)",
          "69: #  define NO_JPAKE",
          "70: # endif",
          "71: # if defined(OPENSSL_NO_KRB5) && !defined(NO_KRB5)",
          "72: #  define NO_KRB5",
          "73: # endif",
          "74: # if defined(OPENSSL_NO_MDC2) && !defined(NO_MDC2)",
          "75: #  define NO_MDC2",
          "76: # endif",
          "77: # if defined(OPENSSL_NO_RC5) && !defined(NO_RC5)",
          "78: #  define NO_RC5",
          "79: # endif",
          "80: # if defined(OPENSSL_NO_RFC3779) && !defined(NO_RFC3779)",
          "81: #  define NO_RFC3779",
          "82: # endif",
          "83: # if defined(OPENSSL_NO_SEED) && !defined(NO_SEED)",
          "84: #  define NO_SEED",
          "85: # endif",
          "86: #endif",
          "90: #ifdef OPENSSL_DOING_MAKEDEPEND",
          "99: #ifndef OPENSSL_FIPS",
          "100: #define OPENSSL_FIPS",
          "101: #endif",
          "103: #endif",
          "106: #undef I386_ONLY",
          "109: #if defined(HEADER_CRYPTLIB_H) && !defined(OPENSSLDIR)",
          "110: #define ENGINESDIR \"ssl/lib/engines\"",
          "111: #define OPENSSLDIR \"ssl\"",
          "112: #endif",
          "113: #endif",
          "115: #undef OPENSSL_UNISTD",
          "116: #define OPENSSL_UNISTD <unistd.h>",
          "118: #undef OPENSSL_EXPORT_VAR_AS_FUNCTION",
          "119: #define OPENSSL_EXPORT_VAR_AS_FUNCTION",
          "121: #if defined(HEADER_IDEA_H) && !defined(IDEA_INT)",
          "122: #define IDEA_INT unsigned int",
          "123: #endif",
          "125: #if defined(HEADER_MD2_H) && !defined(MD2_INT)",
          "126: #define MD2_INT unsigned int",
          "127: #endif",
          "129: #if defined(HEADER_RC2_H) && !defined(RC2_INT)",
          "131: #define RC2_INT unsigned int",
          "132: #endif",
          "134: #if defined(HEADER_RC4_H)",
          "135: #if !defined(RC4_INT)",
          "143: #define RC4_INT unsigned int",
          "144: #endif",
          "145: #if !defined(RC4_CHUNK)",
          "150: #define RC4_CHUNK unsigned long long",
          "151: #endif",
          "152: #endif",
          "154: #if (defined(HEADER_NEW_DES_H) || defined(HEADER_DES_H)) && !defined(DES_LONG)",
          "157: #ifndef DES_LONG",
          "158: #define DES_LONG unsigned int",
          "159: #endif",
          "160: #endif",
          "162: #if defined(HEADER_BN_H) && !defined(CONFIG_HEADER_BN_H)",
          "163: #define CONFIG_HEADER_BN_H",
          "164: #undef BN_LLONG",
          "172: #undef SIXTY_FOUR_BIT_LONG",
          "173: #define SIXTY_FOUR_BIT",
          "174: #undef THIRTY_TWO_BIT",
          "175: #undef SIXTEEN_BIT",
          "176: #undef EIGHT_BIT",
          "177: #endif",
          "179: #if defined(HEADER_RC4_LOCL_H) && !defined(CONFIG_HEADER_RC4_LOCL_H)",
          "180: #define CONFIG_HEADER_RC4_LOCL_H",
          "183: #undef RC4_INDEX",
          "184: #endif",
          "186: #if defined(HEADER_BF_LOCL_H) && !defined(CONFIG_HEADER_BF_LOCL_H)",
          "187: #define CONFIG_HEADER_BF_LOCL_H",
          "188: #undef BF_PTR",
          "191: #if defined(HEADER_DES_LOCL_H) && !defined(CONFIG_HEADER_DES_LOCL_H)",
          "192: #define CONFIG_HEADER_DES_LOCL_H",
          "193: #ifndef DES_DEFAULT_OPTIONS",
          "196: #ifndef DES_PTR",
          "197: #undef DES_PTR",
          "198: #endif",
          "203: #ifndef DES_RISC1",
          "204: #undef DES_RISC1",
          "205: #endif",
          "207: #ifndef DES_RISC2",
          "208: #undef DES_RISC2",
          "209: #endif",
          "211: #if defined(DES_RISC1) && defined(DES_RISC2)",
          "212: YOU SHOULD NOT HAVE BOTH DES_RISC1 AND DES_RISC2 DEFINED!!!!!",
          "213: #endif",
          "217: #ifndef DES_UNROLL",
          "218: #undef DES_UNROLL",
          "219: #endif",
          "224: #if !defined(DES_PTR) && !defined(DES_RISC1) && !defined(DES_RISC2) && !defined(DES_UNROLL)",
          "226:    CPU and OS.  For SGI machines you can use _MIPS_SZLONG (32 or 64) to find",
          "227:    even newer MIPS CPU's, but at the moment one size fits all for",
          "228:    optimization options.  Older Sparc's work better with only UNROLL, but",
          "232: #  define DES_PTR",
          "233: #  define DES_RISC1",
          "234: #  define DES_UNROLL",
          "236: #  define DES_PTR",
          "237: #  define DES_RISC2",
          "238: #  define DES_UNROLL",
          "240: #  define DES_PTR",
          "241: #  define DES_RISC2",
          "249: #  define DES_UNROLL",
          "251: #  define DES_PTR",
          "252: #  define DES_RISC2",
          "253: #  define DES_UNROLL",
          "255: #  define DES_PTR",
          "256: #  define DES_RISC1",
          "257: #  define DES_UNROLL",
          "259: #endif",
          "",
          "---------------"
        ],
        "deps/openssl/config/k8/openssl/opensslconf.h||deps/openssl/config/k8/openssl/opensslconf.h": [
          "File: deps/openssl/config/k8/openssl/opensslconf.h -> deps/openssl/config/k8/openssl/opensslconf.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "10: #endif",
          "",
          "[Removed Lines]",
          "5: #ifndef OPENSSL_DOING_MAKEDEPEND",
          "8: #ifndef OPENSSL_NO_CAMELLIA",
          "9: # define OPENSSL_NO_CAMELLIA",
          "11: #ifndef OPENSSL_NO_CAPIENG",
          "12: # define OPENSSL_NO_CAPIENG",
          "13: #endif",
          "14: #ifndef OPENSSL_NO_CMS",
          "15: # define OPENSSL_NO_CMS",
          "16: #endif",
          "17: #ifndef OPENSSL_NO_FIPS",
          "18: # define OPENSSL_NO_FIPS",
          "19: #endif",
          "20: #ifndef OPENSSL_NO_GMP",
          "21: # define OPENSSL_NO_GMP",
          "22: #endif",
          "23: #ifndef OPENSSL_NO_IDEA",
          "24: # define OPENSSL_NO_IDEA",
          "25: #endif",
          "26: #ifndef OPENSSL_NO_JPAKE",
          "27: # define OPENSSL_NO_JPAKE",
          "28: #endif",
          "29: #ifndef OPENSSL_NO_KRB5",
          "30: # define OPENSSL_NO_KRB5",
          "31: #endif",
          "32: #ifndef OPENSSL_NO_MDC2",
          "33: # define OPENSSL_NO_MDC2",
          "34: #endif",
          "35: #ifndef OPENSSL_NO_RC5",
          "36: # define OPENSSL_NO_RC5",
          "37: #endif",
          "38: #ifndef OPENSSL_NO_RFC3779",
          "39: # define OPENSSL_NO_RFC3779",
          "40: #endif",
          "41: #ifndef OPENSSL_NO_SEED",
          "42: # define OPENSSL_NO_SEED",
          "43: #endif",
          "44: #ifndef OPENSSL_NO_ASM",
          "45: # define OPENSSL_NO_ASM",
          "46: #endif",
          "50: #ifndef OPENSSL_THREADS",
          "51: # define OPENSSL_THREADS",
          "52: #endif",
          "53: #ifndef OPENSSL_NO_DYNAMIC_ENGINE",
          "54: # define OPENSSL_NO_DYNAMIC_ENGINE",
          "55: #endif",
          "58:    asks for it.  This is a transient feature that is provided for those",
          "59:    who haven't had the time to do the appropriate changes in their",
          "61: #ifdef OPENSSL_ALGORITHM_DEFINES",
          "62: # if defined(OPENSSL_NO_CAMELLIA) && !defined(NO_CAMELLIA)",
          "63: #  define NO_CAMELLIA",
          "64: # endif",
          "65: # if defined(OPENSSL_NO_CAPIENG) && !defined(NO_CAPIENG)",
          "66: #  define NO_CAPIENG",
          "67: # endif",
          "68: # if defined(OPENSSL_NO_CMS) && !defined(NO_CMS)",
          "69: #  define NO_CMS",
          "70: # endif",
          "71: # if defined(OPENSSL_NO_FIPS) && !defined(NO_FIPS)",
          "72: #  define NO_FIPS",
          "73: # endif",
          "74: # if defined(OPENSSL_NO_GMP) && !defined(NO_GMP)",
          "75: #  define NO_GMP",
          "76: # endif",
          "77: # if defined(OPENSSL_NO_IDEA) && !defined(NO_IDEA)",
          "78: #  define NO_IDEA",
          "79: # endif",
          "80: # if defined(OPENSSL_NO_JPAKE) && !defined(NO_JPAKE)",
          "81: #  define NO_JPAKE",
          "82: # endif",
          "83: # if defined(OPENSSL_NO_KRB5) && !defined(NO_KRB5)",
          "84: #  define NO_KRB5",
          "85: # endif",
          "86: # if defined(OPENSSL_NO_MDC2) && !defined(NO_MDC2)",
          "87: #  define NO_MDC2",
          "88: # endif",
          "89: # if defined(OPENSSL_NO_RC5) && !defined(NO_RC5)",
          "90: #  define NO_RC5",
          "91: # endif",
          "92: # if defined(OPENSSL_NO_RFC3779) && !defined(NO_RFC3779)",
          "93: #  define NO_RFC3779",
          "94: # endif",
          "95: # if defined(OPENSSL_NO_SEED) && !defined(NO_SEED)",
          "96: #  define NO_SEED",
          "97: # endif",
          "98: #endif",
          "100: #define OPENSSL_CPUID_OBJ",
          "104: #ifdef OPENSSL_DOING_MAKEDEPEND",
          "113: #ifndef OPENSSL_FIPS",
          "114: #define OPENSSL_FIPS",
          "115: #endif",
          "117: #endif",
          "120: #undef I386_ONLY",
          "123: #if defined(HEADER_CRYPTLIB_H) && !defined(OPENSSLDIR)",
          "124: #define ENGINESDIR \"/usr/local/ssl/lib/engines\"",
          "125: #define OPENSSLDIR \"/usr/local/ssl\"",
          "126: #endif",
          "127: #endif",
          "129: #undef OPENSSL_UNISTD",
          "130: #define OPENSSL_UNISTD <unistd.h>",
          "131: #if !defined(SWIG)",
          "132: #include <unistd.h>",
          "133: #endif",
          "135: #undef OPENSSL_EXPORT_VAR_AS_FUNCTION",
          "137: #if defined(HEADER_IDEA_H) && !defined(IDEA_INT)",
          "138: #define IDEA_INT unsigned int",
          "139: #endif",
          "141: #if defined(HEADER_MD2_H) && !defined(MD2_INT)",
          "142: #define MD2_INT unsigned int",
          "143: #endif",
          "145: #if defined(HEADER_RC2_H) && !defined(RC2_INT)",
          "147: #define RC2_INT unsigned int",
          "148: #endif",
          "150: #if defined(HEADER_RC4_H)",
          "151: #if !defined(RC4_INT)",
          "159: #define RC4_INT unsigned int",
          "160: #endif",
          "161: #if !defined(RC4_CHUNK)",
          "166: #define RC4_CHUNK unsigned long",
          "167: #endif",
          "168: #endif",
          "170: #if (defined(HEADER_NEW_DES_H) || defined(HEADER_DES_H)) && !defined(DES_LONG)",
          "173: #ifndef DES_LONG",
          "174: #define DES_LONG unsigned int",
          "175: #endif",
          "176: #endif",
          "178: #if defined(HEADER_BN_H) && !defined(CONFIG_HEADER_BN_H)",
          "179: #define CONFIG_HEADER_BN_H",
          "180: #undef BN_LLONG",
          "188: #define SIXTY_FOUR_BIT_LONG",
          "189: #undef SIXTY_FOUR_BIT",
          "190: #undef THIRTY_TWO_BIT",
          "191: #undef SIXTEEN_BIT",
          "192: #undef EIGHT_BIT",
          "193: #endif",
          "195: #if defined(HEADER_RC4_LOCL_H) && !defined(CONFIG_HEADER_RC4_LOCL_H)",
          "196: #define CONFIG_HEADER_RC4_LOCL_H",
          "199: #undef RC4_INDEX",
          "200: #endif",
          "202: #if defined(HEADER_BF_LOCL_H) && !defined(CONFIG_HEADER_BF_LOCL_H)",
          "203: #define CONFIG_HEADER_BF_LOCL_H",
          "204: #undef BF_PTR",
          "207: #if defined(HEADER_DES_LOCL_H) && !defined(CONFIG_HEADER_DES_LOCL_H)",
          "208: #define CONFIG_HEADER_DES_LOCL_H",
          "209: #ifndef DES_DEFAULT_OPTIONS",
          "212: #ifndef DES_PTR",
          "213: #undef DES_PTR",
          "214: #endif",
          "219: #ifndef DES_RISC1",
          "220: #undef DES_RISC1",
          "221: #endif",
          "223: #ifndef DES_RISC2",
          "224: #undef DES_RISC2",
          "225: #endif",
          "227: #if defined(DES_RISC1) && defined(DES_RISC2)",
          "228: YOU SHOULD NOT HAVE BOTH DES_RISC1 AND DES_RISC2 DEFINED!!!!!",
          "229: #endif",
          "233: #ifndef DES_UNROLL",
          "234: #define DES_UNROLL",
          "235: #endif",
          "240: #if !defined(DES_PTR) && !defined(DES_RISC1) && !defined(DES_RISC2) && !defined(DES_UNROLL)",
          "242:    CPU and OS.  For SGI machines you can use _MIPS_SZLONG (32 or 64) to find",
          "243:    even newer MIPS CPU's, but at the moment one size fits all for",
          "244:    optimization options.  Older Sparc's work better with only UNROLL, but",
          "248: #  define DES_PTR",
          "249: #  define DES_RISC1",
          "250: #  define DES_UNROLL",
          "252: #  define DES_PTR",
          "253: #  define DES_RISC2",
          "254: #  define DES_UNROLL",
          "256: #  define DES_PTR",
          "257: #  define DES_RISC2",
          "265: #  define DES_UNROLL",
          "267: #  define DES_PTR",
          "268: #  define DES_RISC2",
          "269: #  define DES_UNROLL",
          "271: #  define DES_PTR",
          "272: #  define DES_RISC1",
          "273: #  define DES_UNROLL",
          "275: #endif",
          "",
          "[Added Lines]",
          "1: #ifdef WIN32",
          "2: #include \"opensslconf-win32.h\"",
          "3: #else",
          "4: #include \"opensslconf-posix.h\"",
          "",
          "---------------"
        ],
        "deps/openssl/openssl.gyp||deps/openssl/openssl.gyp": [
          "File: deps/openssl/openssl.gyp -> deps/openssl/openssl.gyp",
          "--- Hunk 1 ---",
          "[Context before]",
          "48:               'config/piii',",
          "49:             ],",
          "50:           },",
          "65:       ],",
          "67:       'copts': [",
          "",
          "[Removed Lines]",
          "51:         }",
          "52:         # commented out until we have node producing 64-bit builds.",
          "53:         #, {",
          "54:         #  'include_dirs': [",
          "55:         #    'config/k8',",
          "56:         #  ],",
          "57:         #  'direct_dependent_settings': {",
          "58:         #    'include_dirs': [",
          "59:         #      'openssl/include',",
          "60:         #      'config/k8',",
          "61:         #    ],",
          "62:         #  },",
          "63:         #}",
          "64:         ],",
          "",
          "[Added Lines]",
          "51:         }],",
          "52:         ['target_arch==\"x64\"', {",
          "53:           'include_dirs': [",
          "54:             'config/k8',",
          "55:           ],",
          "56:           'direct_dependent_settings': {",
          "57:             'include_dirs': [",
          "58:               'openssl/include',",
          "59:               'config/k8',",
          "60:             ],",
          "61:           },",
          "62:         }],",
          "",
          "---------------"
        ],
        "node.gyp||node.gyp": [
          "File: node.gyp -> node.gyp",
          "--- Hunk 1 ---",
          "[Context before]",
          "4:     # Turn off -Werror in V8",
          "5:     # See http://codereview.chromium.org/8159015",
          "6:     'werror': '',",
          "8:     'node_use_dtrace': 'false',",
          "9:     'node_use_openssl%': 'true',",
          "10:     'node_use_system_openssl%': 'false',",
          "",
          "[Removed Lines]",
          "7:     'target_arch': 'ia32',",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "vcbuild.bat||vcbuild.bat": [
          "File: vcbuild.bat -> vcbuild.bat",
          "--- Hunk 1 ---",
          "[Context before]",
          "14: @rem Process arguments.",
          "15: set config=Debug",
          "16: set target=Build",
          "17: set noprojgen=",
          "18: set nobuild=",
          "19: set nosign=",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "17: set target_arch=ia32",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28: if /i \"%1\"==\"debug\"        set config=Debug&goto arg-ok",
          "29: if /i \"%1\"==\"release\"      set config=Release&goto arg-ok",
          "30: if /i \"%1\"==\"clean\"        set target=Clean&goto arg-ok",
          "31: if /i \"%1\"==\"noprojgen\"    set noprojgen=1&goto arg-ok",
          "32: if /i \"%1\"==\"nobuild\"      set nobuild=1&goto arg-ok",
          "33: if /i \"%1\"==\"nosign\"       set nosign=1&goto arg-ok",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "32: if /i \"%1\"==\"ia32\"         set target_arch=ia32&goto arg-ok",
          "33: if /i \"%1\"==\"x86\"          set target_arch=ia32&goto arg-ok",
          "34: if /i \"%1\"==\"x64\"          set target_arch=x64&goto arg-ok",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "57: @rem Generate the VS project.",
          "58: if defined nosnapshot goto nosnapshotgen",
          "60: if errorlevel 1 goto create-msvs-files-failed",
          "61: if not exist node.sln goto create-msvs-files-failed",
          "62: echo Project files generated.",
          "63: goto msbuild",
          "65: :nosnapshotgen",
          "67: if errorlevel 1 goto create-msvs-files-failed",
          "68: if not exist node.sln goto create-msvs-files-failed",
          "69: echo Project files generated.",
          "",
          "[Removed Lines]",
          "59: python tools\\gyp_node -f msvs -G msvs_version=2010",
          "66: python tools\\gyp_node -f msvs -G msvs_version=2010 -D v8_use_snapshot='false'",
          "",
          "[Added Lines]",
          "63: python tools\\gyp_node -f msvs -G msvs_version=2010 -Dtarget_arch=%target_arch%",
          "70: python tools\\gyp_node -f msvs -G msvs_version=2010 -D v8_use_snapshot='false' -Dtarget_arch=%target_arch%",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "546870edd8779db78d687a751d716c293928089d",
      "candidate_info": {
        "commit_hash": "546870edd8779db78d687a751d716c293928089d",
        "repo": "joyent/node",
        "commit_url": "https://github.com/joyent/node/commit/546870edd8779db78d687a751d716c293928089d",
        "files": [
          "common.gypi"
        ],
        "message": "build: use proper `-arch` for target_arch on OS X",
        "before_after_code_files": [
          "common.gypi||common.gypi"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/roamm/node/pull/1",
          "https://github.com/kingzone/node/pull/1",
          "https://github.com/OpenFPGAduino/node/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "common.gypi||common.gypi": [
          "File: common.gypi -> common.gypi",
          "--- Hunk 1 ---",
          "[Context before]",
          "170:             'xcode_settings': {'OTHER_LDFLAGS': ['-Wl,-search_paths_first']},",
          "171:           }],",
          "172:         ],",
          "173:       }],",
          "174:     ],",
          "175:   }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "173:         'conditions': [",
          "174:           ['target_arch==\"ia32\"', {",
          "175:             'xcode_settings': {'ARCHS': ['i386']},",
          "176:           }],",
          "177:           ['target_arch==\"x64\"', {",
          "178:             'xcode_settings': {'ARCHS': ['x86_64']},",
          "179:           }],",
          "180:         ],",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "30b29d8f8745263475d67576c4b81ff164482676",
      "candidate_info": {
        "commit_hash": "30b29d8f8745263475d67576c4b81ff164482676",
        "repo": "joyent/node",
        "commit_url": "https://github.com/joyent/node/commit/30b29d8f8745263475d67576c4b81ff164482676",
        "files": [
          "common.gypi",
          "configure"
        ],
        "message": "build: disable -fstrict-aliasing if gcc < 4.6.0\n\nA compiler bug in older versions of gcc makes it do unsafe optimizations at -O1\nand higher. This manifested itself with (at least) gcc 4.5.2 on SmartOS because\nit made V8 hang in a busy loop.\n\nSee http://gcc.gnu.org/bugzilla/show_bug.cgi?id=45883",
        "before_after_code_files": [
          "common.gypi||common.gypi"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/roamm/node/pull/1",
          "https://github.com/kingzone/node/pull/1",
          "https://github.com/OpenFPGAduino/node/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "common.gypi||common.gypi": [
          "File: common.gypi -> common.gypi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: {",
          "2:   'variables': {",
          "3:     'visibility%': 'hidden',         # V8's visibility setting",
          "4:     'target_arch%': 'ia32',          # set v8's target architecture",
          "5:     'host_arch%': 'ia32',            # set v8's host architecture",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3:     'strict_aliasing%': 'false',     # turn on/off -fstrict-aliasing",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "34:         },",
          "35:       },",
          "36:       'Release': {",
          "37:         'conditions': [",
          "47:           ['target_arch==\"x64\"', {",
          "48:             'msvs_configuration_platform': 'x64',",
          "49:           }],",
          "50:         ],",
          "51:         'msvs_settings': {",
          "52:           'VCCLCompilerTool': {",
          "",
          "[Removed Lines]",
          "38:           [ 'OS!=\"solaris\"', {",
          "39:               'cflags': [ '-O3','-fomit-frame-pointer', '-fdata-sections', '-ffunction-sections' ],",
          "40:           }],",
          "41:           [ 'OS==\"solaris\" and gcc_optimize_level ==\"-O3\"', {",
          "42:               'cflags': [ '-O3', '-fdata-sections', '-ffunction-sections' ],",
          "43:           }],",
          "44:           [ 'OS==\"solaris\" and gcc_optimize_level ==\"-O\"', {",
          "45:               'cflags': [ '-O', '-fdata-sections', '-ffunction-sections' ], # For bug fix of #2830",
          "46:           }],",
          "",
          "[Added Lines]",
          "38:         'cflags': [ '-O3', '-fdata-sections', '-ffunction-sections' ],",
          "43:           ['OS==\"solaris\"', {",
          "44:             'cflags': [ '-fno-omit-frame-pointer' ],",
          "45:           }],",
          "46:           ['strict_aliasing!=\"true\"', {",
          "47:             'cflags': [ '-fno-strict-aliasing' ],",
          "48:           }],",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "1bcf29ef33386e0973ca4bea2105c84aa597b986",
      "candidate_info": {
        "commit_hash": "1bcf29ef33386e0973ca4bea2105c84aa597b986",
        "repo": "joyent/node",
        "commit_url": "https://github.com/joyent/node/commit/1bcf29ef33386e0973ca4bea2105c84aa597b986",
        "files": [
          "deps/openssl/openssl.gyp"
        ],
        "message": "openssl: disable EC_NISTP_64_GCC_128 on ia32\n\nuint128_t won't work on 32-bit platform\n\nCloses #4008.",
        "before_after_code_files": [
          "deps/openssl/openssl.gyp||deps/openssl/openssl.gyp"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/roamm/node/pull/1",
          "https://github.com/kingzone/node/pull/1",
          "https://github.com/OpenFPGAduino/node/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "deps/openssl/openssl.gyp||deps/openssl/openssl.gyp": [
          "File: deps/openssl/openssl.gyp -> deps/openssl/openssl.gyp",
          "--- Hunk 1 ---",
          "[Context before]",
          "686:         }],",
          "687:         ['target_arch==\"ia32\"', {",
          "688:           'variables': {'openssl_config_path': 'config/piii'},",
          "689:           'sources': [",
          "690:             'openssl/crypto/bn/bn_asm.c',",
          "691:           ]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "689:           'defines': [",
          "690:             'OPENSSL_NO_EC_NISTP_64_GCC_128'",
          "691:           ],",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "45bb10cc325d86637fe01c36c2ef6e8d1900bd13",
      "candidate_info": {
        "commit_hash": "45bb10cc325d86637fe01c36c2ef6e8d1900bd13",
        "repo": "joyent/node",
        "commit_url": "https://github.com/joyent/node/commit/45bb10cc325d86637fe01c36c2ef6e8d1900bd13",
        "files": [
          "src/node.cc",
          "src/node_isolate.cc",
          "src/node_isolate.h"
        ],
        "message": "move thread_id to node_isolate.cc",
        "before_after_code_files": [
          "src/node.cc||src/node.cc",
          "src/node_isolate.cc||src/node_isolate.cc",
          "src/node_isolate.h||src/node_isolate.h"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_pr": 1,
        "olp_pr_links": [
          "https://github.com/roamm/node/pull/1",
          "https://github.com/kingzone/node/pull/1",
          "https://github.com/OpenFPGAduino/node/pull/1"
        ],
        "olp_code_files": {
          "patch": [],
          "candidate": []
        }
      },
      "candidate_diff": {
        "src/node.cc||src/node.cc": [
          "File: src/node.cc -> src/node.cc",
          "--- Hunk 1 ---",
          "[Context before]",
          "140: static bool print_eval;",
          "142: static void CheckStatus(uv_timer_t* watcher, int status);",
          "147:                  int argc,",
          "148:                  char** argv);",
          "",
          "[Removed Lines]",
          "143: static unsigned long NewThreadId();",
          "145: void StartThread(unsigned long thread_id,",
          "146:                  Isolate* isolate,",
          "",
          "[Added Lines]",
          "144: void StartThread(Isolate* isolate,",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1851: }",
          "1871: struct ThreadInfo {",
          "1873:   uv_thread_t thread_;",
          "1874:   char** argv_;",
          "1875:   int argc_;",
          "",
          "[Removed Lines]",
          "1854: static struct {",
          "1855:   uv_mutex_t lock_;",
          "1856:   unsigned long counter_;",
          "1857: } thread_id_generator_;",
          "1860: static unsigned long NewThreadId() {",
          "1861:   unsigned long thread_id;",
          "1863:   uv_mutex_lock(&thread_id_generator_.lock_);",
          "1864:   thread_id = ++thread_id_generator_.counter_;",
          "1865:   uv_mutex_unlock(&thread_id_generator_.lock_);",
          "1867:   return thread_id;",
          "1868: }",
          "1872:   unsigned long thread_id_;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1914:   uv_loop_t* loop = uv_loop_new();",
          "1915:   Isolate* isolate = Isolate::New(loop);",
          "1918:   delete ti;",
          "1919: }",
          "",
          "[Removed Lines]",
          "1917:   StartThread(ti->thread_id_, isolate, ti->argc_, ti->argv_);",
          "",
          "[Added Lines]",
          "1897:   StartThread(isolate, ti->argc_, ti->argv_);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1931:   assert(argv->Length() >= 2);",
          "1933:   ThreadInfo* ti = new ThreadInfo(argv);",
          "1936:   if (uv_thread_create(&ti->thread_, RunIsolate, ti)) {",
          "1937:     delete ti;",
          "",
          "[Removed Lines]",
          "1934:   ti->thread_id_ = NewThreadId();",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "2715:                  int argc,",
          "2716:                  char** argv) {",
          "2717:   HandleScope scope;",
          "",
          "[Removed Lines]",
          "2713: void StartThread(unsigned long thread_id,",
          "2714:                  Isolate* isolate,",
          "",
          "[Added Lines]",
          "2692: void StartThread(node::Isolate* isolate,",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "2773:   Handle<Object> process_l = SetupProcessObject(argc, argv);",
          "2775:   process_l->Set(String::NewSymbol(\"tid\"),",
          "",
          "[Removed Lines]",
          "2776:                  Integer::NewFromUnsigned(thread_id));",
          "",
          "[Added Lines]",
          "2754:                  Integer::NewFromUnsigned(isolate->id_));",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "2796: int Start(int argc, char *argv[]) {",
          "2800:   argv = ProcessInit(argc, argv);",
          "",
          "[Removed Lines]",
          "2797:   if (uv_mutex_init(&thread_id_generator_.lock_)) abort();",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "2803:   v8::HandleScope handle_scope;",
          "2808:   isolate->Dispose();",
          "2810: #ifndef NDEBUG",
          "",
          "[Removed Lines]",
          "2806:   Isolate* isolate = Isolate::New(uv_default_loop());",
          "2807:   StartThread(NewThreadId(), isolate, argc, argv);",
          "",
          "[Added Lines]",
          "2782:   node::Isolate::Initialize();",
          "2783:   Isolate* isolate = node::Isolate::New(uv_default_loop());",
          "2784:   StartThread(isolate, argc, argv);",
          "",
          "---------------"
        ],
        "src/node_isolate.cc||src/node_isolate.cc": [
          "File: src/node_isolate.cc -> src/node_isolate.cc",
          "--- Hunk 1 ---",
          "[Context before]",
          "26: #include <assert.h>",
          "29: namespace node {",
          "32: Isolate* Isolate::New(uv_loop_t* loop) {",
          "33:   return new Isolate(loop);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "32: static volatile bool initialized;",
          "33: static volatile int id;",
          "34: static uv_mutex_t id_lock;",
          "36: void Isolate::Initialize() {",
          "37:   if (!initialized) {",
          "38:     initialized = true;",
          "39:     if (uv_mutex_init(&id_lock)) abort();",
          "40:   }",
          "41: }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "37: Isolate::Isolate(uv_loop_t* loop) {",
          "38:   ngx_queue_init(&at_exit_callbacks_);",
          "39:   loop_ = loop;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "49:   assert(initialized && \"node::Isolate::Initialize() hasn't been called\");",
          "51:   uv_mutex_lock(&id_lock);",
          "52:   id_ = ++id;",
          "53:   uv_mutex_unlock(&id_lock);",
          "",
          "---------------"
        ],
        "src/node_isolate.h||src/node_isolate.h": [
          "File: src/node_isolate.h -> src/node_isolate.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "44: class Isolate {",
          "45: public:",
          "46:   typedef void (*AtExitCallback)(void* arg);",
          "48:   static Isolate* New(uv_loop_t* loop);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "47:   static void Initialize();",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "77:   struct globals* Globals();",
          "79: private:",
          "80:   Isolate(uv_loop_t* loop);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "82:   unsigned int id_;",
          "",
          "---------------"
        ]
      }
    }
  ]
}