{
  "cve_id": "CVE-2015-8896",
  "cve_desc": "Integer truncation issue in coders/pict.c in ImageMagick before 7.0.5-0 allows remote attackers to cause a denial of service (application crash) via a crafted .pict file.",
  "repo": "ImageMagick/ImageMagick",
  "patch_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
  "patch_info": {
    "commit_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "repo": "ImageMagick/ImageMagick",
    "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "files": [
      "MagickCore/memory.c",
      "MagickCore/studio.h",
      "MagickCore/version.c",
      "MagickCore/version.h",
      "MagickWand/studio.h",
      "coders/icon.c",
      "coders/pict.c",
      "configure",
      "configure.ac"
    ],
    "message": "",
    "before_after_code_files": [
      "MagickCore/memory.c||MagickCore/memory.c",
      "MagickCore/studio.h||MagickCore/studio.h",
      "MagickCore/version.c||MagickCore/version.c",
      "MagickCore/version.h||MagickCore/version.h",
      "MagickWand/studio.h||MagickWand/studio.h",
      "coders/icon.c||coders/icon.c",
      "coders/pict.c||coders/pict.c",
      "configure.ac||configure.ac"
    ]
  },
  "patch_diff": {
    "MagickCore/memory.c||MagickCore/memory.c": [
      "File: MagickCore/memory.c -> MagickCore/memory.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "606:     }",
      "607:   if ((memory_info->blob == NULL) &&",
      "608:       (AcquireMagickResource(MapResource,length) != MagickFalse))",
      "611:         Heap memory failed, try anonymous memory mapping.",
      "",
      "[Removed Lines]",
      "609:     {",
      "",
      "[Added Lines]",
      "609:     {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "615:         memory_info->type=MapVirtualMemory;",
      "616:       else",
      "617:         RelinquishMagickResource(MapResource,length);",
      "619:   if (memory_info->blob == NULL)",
      "621:       int",
      "627:       file=AcquireUniqueFileResource(memory_info->filename);",
      "628:       if (file != -1)",
      "629:         {",
      "",
      "[Removed Lines]",
      "618:     }",
      "620:     {",
      "622:         file;",
      "625:         Anonymous memory mapping failed, try file-backed memory mapping.",
      "",
      "[Added Lines]",
      "619:   if ((memory_info->blob == NULL) &&",
      "620:       (AcquireMagickResource(DiskResource,length) != MagickFalse))",
      "621:     {",
      "623:         file;",
      "628:       file=AcquireUniqueFileResource(memory_info->filename);",
      "629:       if (file == -1)",
      "631:       else",
      "632:         {",
      "633:           if ((lseek(file,length-1,SEEK_SET) < 0) || (write(file,\"\",1) != 1))",
      "634:             RelinquishMagickResource(DiskResource,length);",
      "635:           else",
      "636:             {",
      "637:               if (AcquireMagickResource(MapResource,length) == MagickFalse)",
      "638:                 RelinquishMagickResource(DiskResource,length);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1033: %",
      "1035: MagickExport MemoryInfo *RelinquishVirtualMemory(MemoryInfo *memory_info)",
      "1037:   assert(memory_info != (MemoryInfo *) NULL);",
      "1038:   assert(memory_info->signature == MagickSignature);",
      "1039:   if (memory_info->blob != (void *) NULL)",
      "",
      "[Removed Lines]",
      "1036: {",
      "",
      "[Added Lines]",
      "1048: {",
      "1049:   assert(memory_info != (MemoryInfo *) NULL);",
      "1050:   assert(memory_info->signature == MagickSignature);",
      "1051:   if (memory_info->blob != (void *) NULL)",
      "",
      "---------------"
    ],
    "MagickCore/studio.h||MagickCore/studio.h": [
      "File: MagickCore/studio.h -> MagickCore/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline  _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "75: #  include <stdlib.h>",
      "76: # endif",
      "77: #endif",
      "78: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "79: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "80: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "75: #if defined(_magickcore_restrict) && !defined(restrict)",
      "76: # define restrict  _magickcore_restrict",
      "77: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.c||MagickCore/version.c": [
      "File: MagickCore/version.c -> MagickCore/version.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "219: %      const char *GetMagickFeatures(void)",
      "220: %",
      "221: %  No parameters are required.",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "227: #if defined(MAGICKCORE_BUILD_MODULES) || defined(_DLL)",
      "228:   \" Modules\"",
      "229: #endif",
      "230: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "231:   \" HDRI\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "234:   \" OpenCL\"",
      "235: #endif",
      "",
      "[Removed Lines]",
      "222: %",
      "",
      "[Added Lines]",
      "222: %",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "231:   \" Cipher\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "239: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "240:   \" OpenCL\"",
      "241: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.h||MagickCore/version.h": [
      "File: MagickCore/version.h -> MagickCore/version.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "28: #define MagickPackageName \"ImageMagick\"",
      "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
      "31: #define MagickLibVersion  0x700",
      "32: #define MagickLibVersionText  \"7.0.0\"",
      "33: #define MagickLibVersionNumber  0,0,0",
      "",
      "[Removed Lines]",
      "30: #define MagickSVNRevision  \"18658:18662M\"",
      "",
      "[Added Lines]",
      "30: #define MagickSVNRevision  \"18670M\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "48: #define MagickppLibAddendum  \"-0\"",
      "49: #define MagickppLibInterface  0",
      "50: #define MagickppLibMinInterface  0",
      "52: #define MagickChangeDate   \"20120427\"",
      "53: #define MagickAuthoritativeLicense  \\",
      "54:   \"http://www.imagemagick.org/script/license.php\"",
      "55: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
      "57: #define MagickDelegates \"bzlib djvu mpeg fftw fpx fontconfig freetype jbig jng jpeg lcms lzma openexr pango png ps tiff webp x xml zlib\"",
      "58: #define MagickHomeURL  \"file:///usr/local/share/doc/ImageMagick-7/index.html\"",
      "59: #if (MAGICKCORE_QUANTUM_DEPTH == 8)",
      "",
      "[Removed Lines]",
      "51: #define MagickReleaseDate  \"2015-05-26\"",
      "56: #define MagickFeatures \"DPC HDRI OpenMP\"",
      "",
      "[Added Lines]",
      "51: #define MagickReleaseDate  \"2015-05-29\"",
      "56: #define MagickFeatures \"DPC HDRI Cipher OpenMP\"",
      "",
      "---------------"
    ],
    "MagickWand/studio.h||MagickWand/studio.h": [
      "File: MagickWand/studio.h -> MagickWand/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "77: #  include <stdlib.h>",
      "78: # endif",
      "79: #endif",
      "80: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "81: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "82: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "77: #if defined(_magickcore_restrict) && !defined(restrict)",
      "78: # define restrict  _magickcore_restrict",
      "79: #endif",
      "",
      "---------------"
    ],
    "coders/icon.c||coders/icon.c": [
      "File: coders/icon.c -> coders/icon.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "183:     size_t",
      "184:       size;",
      "189:     size=(size_t)strtol(p,&q,10);",
      "190:     if (p == q || size < 16 || size > 256)",
      "",
      "[Removed Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "[Added Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "355:         unsigned char",
      "359:           Icon image encoded as a compressed PNG image.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "coders/pict.c||coders/pict.c": [
      "File: coders/pict.c -> coders/pict.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1637:     source_rectangle;",
      "1639:   register const Quantum",
      "1642:   register ssize_t",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1649:     storage_class;",
      "1651:   ssize_t",
      "1654:   unsigned char",
      "",
      "[Removed Lines]",
      "1652:     y;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1682:     Initialize image info.",
      "1685:   size_rectangle.left=0;",
      "1686:   size_rectangle.bottom=(short) image->rows;",
      "1687:   size_rectangle.right=(short) image->columns;",
      "",
      "[Removed Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "[Added Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "1711:   y_resolution=image->resolution.y != 0.0 ? image->resolution.y :",
      "1712:     DefaultResolution;",
      "1713:   storage_class=image->storage_class;",
      "1715:     storage_class=DirectClass;",
      "1716:   if (storage_class == DirectClass)",
      "1717:     {",
      "",
      "[Removed Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "[Added Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "---------------"
    ],
    "configure.ac||configure.ac": [
      "File: configure.ac -> configure.ac",
      "--- Hunk 1 ---",
      "[Context before]",
      "643: if test \"$enable_cipher\" = 'yes'; then",
      "644:     AC_DEFINE(CIPHER_SUPPORT,1,[permit enciphering and deciphering image pixels])",
      "645: fi",
      "647: # Build a zero-configuration version of ImageMagick.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "645:     MAGICK_FEATURES=\"Cipher $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "654: if test \"$enable_zero_configuration\" = 'yes'; then",
      "655:     AC_DEFINE(ZERO_CONFIGURATION_SUPPORT,1,[Build self-contained, embeddable, zero-configuration ImageMagick])",
      "657: fi",
      "659: # Build a high dynamic range version of ImageMagick.",
      "",
      "[Removed Lines]",
      "656:     MAGICK_FEATURES=\"Zero-Configuration $MAGICK_FEATURES\"",
      "",
      "[Added Lines]",
      "657:     MAGICK_FEATURES=\"Zero-configuration $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "3996: if test \"$build_modules\" != 'no'; then",
      "3997:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "3998: else",
      "4000: fi",
      "4001: AC_SUBST(MAGICK_DEP_LIBS)",
      "",
      "[Removed Lines]",
      "3999:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "[Added Lines]",
      "4000:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIB $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "3b0097d3a6a4c56cde046a2fa01c6c419f2e7f91",
      "candidate_info": {
        "commit_hash": "3b0097d3a6a4c56cde046a2fa01c6c419f2e7f91",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/3b0097d3a6a4c56cde046a2fa01c6c419f2e7f91",
        "files": [
          "MagickCore/magick-baseconfig.h",
          "MagickCore/version.h",
          "Makefile.in",
          "aclocal.m4",
          "config/config.h.in",
          "configure",
          "configure.ac",
          "m4/jemalloc.m4"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/version.h||MagickCore/version.h",
          "Makefile.in||Makefile.in",
          "aclocal.m4||aclocal.m4",
          "config/config.h.in||config/config.h.in",
          "configure.ac||configure.ac",
          "m4/jemalloc.m4||m4/jemalloc.m4"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "1606:    nothing if this is not supported.  Do not define if restrict is",
          "",
          "[Removed Lines]",
          "1601: #ifndef _magickcore_prefix_jemalloc",
          "1602: #define _magickcore_prefix_jemalloc",
          "1603: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"16921:16931M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"16921:16936M\"",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "327:  $(top_srcdir)/m4/ax_pthread.m4 \\",
          "328:  $(top_srcdir)/m4/ax_require_defined.m4 \\",
          "329:  $(top_srcdir)/m4/cxx_have_std_libs.m4 \\",
          "331:  $(top_srcdir)/m4/ld-version-script.m4 \\",
          "332:  $(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \\",
          "333:  $(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \\",
          "",
          "[Removed Lines]",
          "330:  $(top_srcdir)/m4/framework.m4 $(top_srcdir)/m4/jemalloc.m4 \\",
          "",
          "[Added Lines]",
          "330:  $(top_srcdir)/m4/framework.m4 \\",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "2643: INT64_T = @INT64_T@",
          "2644: INT8_T = @INT8_T@",
          "2645: JBIG_LIBS = @JBIG_LIBS@",
          "2646: JPEG_LIBS = @JPEG_LIBS@",
          "2647: JXRDecodeDelegate = @JXRDecodeDelegate@",
          "2648: JXREncodeDelegate = @JXREncodeDelegate@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2646: JEMALLOC_LIBS = @JEMALLOC_LIBS@",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "2884: dvidir = @dvidir@",
          "2885: exec_prefix = @exec_prefix@",
          "2886: ghostscript_font_dir = @ghostscript_font_dir@",
          "2888: host = @host@",
          "2889: host_alias = @host_alias@",
          "2890: host_cpu = @host_cpu@",
          "",
          "[Removed Lines]",
          "2887: has_jemalloc = @has_jemalloc@",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "aclocal.m4||aclocal.m4": [
          "File: aclocal.m4 -> aclocal.m4",
          "--- Hunk 1 ---",
          "[Context before]",
          "1340: m4_include([m4/ax_require_defined.m4])",
          "1341: m4_include([m4/cxx_have_std_libs.m4])",
          "1342: m4_include([m4/framework.m4])",
          "1344: m4_include([m4/ld-version-script.m4])",
          "1345: m4_include([m4/libtool.m4])",
          "1346: m4_include([m4/ltoptions.m4])",
          "",
          "[Removed Lines]",
          "1343: m4_include([m4/jemalloc.m4])",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "config/config.h.in||config/config.h.in": [
          "File: config/config.h.in -> config/config.h.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "243: #undef HAVE_J1",
          "249: #undef HAVE_LCMS2_H",
          "",
          "[Removed Lines]",
          "246: #undef HAVE_JEMALLOC_JEMALLOC_H",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "710: #undef HDRI_ENABLE_OBSOLETE_IN_H",
          "713: #undef HasUMEM",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "710: #undef HasJEMALLOC",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1054: #undef gid_t",
          "1061: #ifndef __cplusplus",
          "",
          "[Removed Lines]",
          "1057: #undef has_jemalloc",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1099: #undef pid_t",
          "1105:    nothing if this is not supported.  Do not define if restrict is",
          "",
          "[Removed Lines]",
          "1102: #undef prefix_jemalloc",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "864: PERL_MAKE_OPTIONS=$withval)",
          "865: AC_SUBST(PERL_MAKE_OPTIONS)",
          "867: # Enable umem, object-caching memory allocation library.",
          "868: AC_ARG_WITH(umem,",
          "869:         [  --with-umem             enable umem memory allocation library support],",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "867: # Enable jemalloc, object-caching memory allocation library.",
          "868: AC_ARG_WITH(jemalloc,",
          "869:         [  --with-jemalloc         enable jemalloc memory allocation library support],",
          "870:         [with_jemalloc=$withval],",
          "871:         [with_jemalloc='no'])",
          "872: if test \"$with_jemalloc\" != 'yes' ; then",
          "873:     DISTCHECK_CONFIG_FLAGS=\"${DISTCHECK_CONFIG_FLAGS} --with-jemalloc=$with_jemalloc \"",
          "874: fi",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1427: AC_SUBST(GOMP_LIBS)",
          "1429: #",
          "1431: #",
          "1435: #",
          "1436: # Check for umem.",
          "",
          "[Removed Lines]",
          "1430: # Check for jemalloc().",
          "1432: TS_CHECK_JEMALLOC",
          "1433: AS_IF([test \"x$jemalloc_have_libs\" != \"x0\"],[JE_LIBS=\"-ljemalloc\"])",
          "",
          "[Added Lines]",
          "1439: # Check for jemalloc.",
          "1441: have_jemalloc='no'",
          "1442: JEMALLOC_LIBS=''",
          "1443: if test \"$with_jemalloc\" != 'no'; then",
          "1444:   AC_MSG_CHECKING(for JEMALLOC support )",
          "1445:   AC_MSG_RESULT()",
          "1446:   failed=0",
          "1447:   passed=0",
          "1448:   AC_CHECK_HEADER([jemalloc/jemalloc.h],[passed=`expr $passed + 1`,failed=`expr $failed + 1`])",
          "1449:   AC_CHECK_LIB(jemalloc,[malloc_stats_print],[passed=`expr $passed + 1`,failed=`expr $failed + 1`],)",
          "1450:   AC_MSG_CHECKING(if jemalloc memory allocation library is complete)",
          "1451:   if test $passed -gt 0; then",
          "1452:     if test $failed -gt 0; then",
          "1453:       AC_MSG_RESULT(no -- some components failed test)",
          "1454:       have_jemalloc='no (failed tests)'",
          "1455:     else",
          "1456:       JEMALLOC_LIBS='-ljemalloc'",
          "1457:       LIBS=\"$JEMALLOC_LIBS $LIBS\"",
          "1458:       AC_DEFINE(HasJEMALLOC,1,Define if you have jemalloc memory allocation library)",
          "1459:       AC_MSG_RESULT(yes)",
          "1460:       have_jemalloc='yes'",
          "1461:     fi",
          "1462:   else",
          "1463:     AC_MSG_RESULT(no)",
          "1464:   fi",
          "1465: fi",
          "1466: AM_CONDITIONAL(HasJEMALLOC, test \"$have_jemalloc\" = 'yes')",
          "1467: AC_SUBST(JEMALLOC_LIBS)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "3938: #",
          "3940: if test \"$build_modules\" != 'no'; then",
          "3942: else",
          "3944: fi",
          "3945: AC_SUBST(MAGICK_DEP_LIBS)",
          "",
          "[Removed Lines]",
          "3941:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JE_LIBS $THREAD_LIBS\"",
          "3943:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JE_LIBS $THREAD_LIBS\"",
          "",
          "[Added Lines]",
          "3975:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "3977:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
          "",
          "---------------"
        ],
        "m4/jemalloc.m4||m4/jemalloc.m4": [
          "File: m4/jemalloc.m4 -> m4/jemalloc.m4",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "6e0b3bcf62017e48472ee5721a7bcc4b10546b12",
      "candidate_info": {
        "commit_hash": "6e0b3bcf62017e48472ee5721a7bcc4b10546b12",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/6e0b3bcf62017e48472ee5721a7bcc4b10546b12",
        "files": [
          "MagickCore/MagickCore.h",
          "MagickCore/Makefile.am",
          "MagickCore/version.h",
          "MagickCore/vision.c",
          "MagickCore/vision.h",
          "MagickWand/convert.c",
          "MagickWand/mogrify.c",
          "MagickWand/operation.c",
          "Makefile.in",
          "PerlMagick/Magick.xs",
          "PerlMagick/quantum/quantum.xs.in",
          "configure",
          "utilities/convert.1.in",
          "utilities/mogrify.1.in"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/MagickCore.h||MagickCore/MagickCore.h",
          "MagickCore/Makefile.am||MagickCore/Makefile.am",
          "MagickCore/version.h||MagickCore/version.h",
          "MagickCore/vision.c||MagickCore/vision.c",
          "MagickCore/vision.h||MagickCore/vision.h",
          "MagickWand/convert.c||MagickWand/convert.c",
          "MagickWand/mogrify.c||MagickWand/mogrify.c",
          "MagickWand/operation.c||MagickWand/operation.c",
          "Makefile.in||Makefile.in",
          "PerlMagick/Magick.xs||PerlMagick/Magick.xs",
          "PerlMagick/quantum/quantum.xs.in||PerlMagick/quantum/quantum.xs.in",
          "utilities/convert.1.in||utilities/convert.1.in",
          "utilities/mogrify.1.in||utilities/mogrify.1.in"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/MagickCore.h||MagickCore/MagickCore.h": [
          "File: MagickCore/MagickCore.h -> MagickCore/MagickCore.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "154: #include \"MagickCore/type.h\"",
          "155: #include \"MagickCore/utility.h\"",
          "156: #include \"MagickCore/version.h\"",
          "157: #include \"MagickCore/xml-tree.h\"",
          "158: #include \"MagickCore/xwindow.h\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "157: #include \"MagickCore/vision.h\"",
          "",
          "---------------"
        ],
        "MagickCore/Makefile.am||MagickCore/Makefile.am": [
          "File: MagickCore/Makefile.am -> MagickCore/Makefile.am",
          "--- Hunk 1 ---",
          "[Context before]",
          "286:  MagickCore/version.c \\",
          "287:  MagickCore/version.h \\",
          "288:  MagickCore/version-private.h \\",
          "289:  MagickCore/vms.h \\",
          "290:  MagickCore/widget.c \\",
          "291:  MagickCore/widget.h \\",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "289:  MagickCore/vision.c \\",
          "290:  MagickCore/vision.h \\",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "407:  MagickCore/type.h \\",
          "408:  MagickCore/utility.h \\",
          "409:  MagickCore/version.h \\",
          "410:  MagickCore/widget.h \\",
          "411:  MagickCore/xml-tree.h \\",
          "412:  MagickCore/xwindow.h",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "412:  MagickCore/vision.h \\",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"16730:16732M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"16730:16750M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-10-18\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-10-19\"",
          "",
          "---------------"
        ],
        "MagickCore/vision.c||MagickCore/vision.c": [
          "File: MagickCore/vision.c -> MagickCore/vision.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "3: %                                                                             %",
          "4: %                                                                             %",
          "5: %                                                                             %",
          "6: %                   V   V  IIIII  SSSSS  IIIII   OOO   N   N                  %",
          "7: %                   V   V    I    SS       I    O   O  NN  N                  %",
          "8: %                   V   V    I     SSS     I    O   O  N N N                  %",
          "9: %                    V V     I       SS    I    O   O  N  NN                  %",
          "10: %                     V    IIIII  SSSSS  IIIII   OOO   N   N                  %",
          "11: %                                                                             %",
          "12: %                                                                             %",
          "13: %                      MagickCore Computer Vision Methods                     %",
          "14: %                                                                             %",
          "15: %                              Software Design                                %",
          "16: %                                   Cristy                                    %",
          "17: %                               September 2014                                %",
          "18: %                                                                             %",
          "19: %                                                                             %",
          "20: %  Copyright 1999-2014 ImageMagick Studio LLC, a non-profit organization      %",
          "21: %  dedicated to making software imaging solutions freely available.           %",
          "22: %                                                                             %",
          "23: %  You may not use this file except in compliance with the License.  You may  %",
          "24: %  obtain a copy of the License at                                            %",
          "25: %                                                                             %",
          "26: %    http://www.imagemagick.org/script/license.php                            %",
          "27: %                                                                             %",
          "28: %  Unless required by applicable law or agreed to in writing, software        %",
          "29: %  distributed under the License is distributed on an \"AS IS\" BASIS,          %",
          "30: %  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   %",
          "31: %  See the License for the specific language governing permissions and        %",
          "32: %  limitations under the License.                                             %",
          "33: %                                                                             %",
          "34: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "35: %",
          "36: %",
          "40: #include \"MagickCore/studio.h\"",
          "41: #include \"MagickCore/accelerate.h\"",
          "42: #include \"MagickCore/blob.h\"",
          "43: #include \"MagickCore/cache-view.h\"",
          "44: #include \"MagickCore/color.h\"",
          "45: #include \"MagickCore/color-private.h\"",
          "46: #include \"MagickCore/colorspace.h\"",
          "47: #include \"MagickCore/constitute.h\"",
          "48: #include \"MagickCore/decorate.h\"",
          "49: #include \"MagickCore/distort.h\"",
          "50: #include \"MagickCore/draw.h\"",
          "51: #include \"MagickCore/enhance.h\"",
          "52: #include \"MagickCore/exception.h\"",
          "53: #include \"MagickCore/exception-private.h\"",
          "54: #include \"MagickCore/effect.h\"",
          "55: #include \"MagickCore/gem.h\"",
          "56: #include \"MagickCore/geometry.h\"",
          "57: #include \"MagickCore/image-private.h\"",
          "58: #include \"MagickCore/list.h\"",
          "59: #include \"MagickCore/log.h\"",
          "60: #include \"MagickCore/matrix.h\"",
          "61: #include \"MagickCore/memory_.h\"",
          "62: #include \"MagickCore/memory-private.h\"",
          "63: #include \"MagickCore/monitor.h\"",
          "64: #include \"MagickCore/monitor-private.h\"",
          "65: #include \"MagickCore/montage.h\"",
          "66: #include \"MagickCore/morphology.h\"",
          "67: #include \"MagickCore/morphology-private.h\"",
          "68: #include \"MagickCore/opencl-private.h\"",
          "69: #include \"MagickCore/paint.h\"",
          "70: #include \"MagickCore/pixel-accessor.h\"",
          "71: #include \"MagickCore/pixel-private.h\"",
          "72: #include \"MagickCore/property.h\"",
          "73: #include \"MagickCore/quantum.h\"",
          "74: #include \"MagickCore/resource_.h\"",
          "75: #include \"MagickCore/signature-private.h\"",
          "76: #include \"MagickCore/string_.h\"",
          "77: #include \"MagickCore/thread-private.h\"",
          "78: #include \"MagickCore/vision.h\"",
          "82: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "83: %                                                                             %",
          "84: %                                                                             %",
          "85: %                                                                             %",
          "86: %     C o n n e c t e d C o m p o n e n t s I m a g e                         %",
          "87: %                                                                             %",
          "88: %                                                                             %",
          "89: %                                                                             %",
          "90: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "91: %",
          "92: %  ConnectedComponentsImage() returns the connected-components of the image",
          "93: %  uniquely labeled.  Choose from 4 or 8-way connectivity.",
          "94: %",
          "95: %  The format of the ConnectedComponentsImage method is:",
          "96: %",
          "97: %      Image *ConnectedComponentsImage(const Image *image,",
          "98: %        const size_t connectivity,ExceptionInfo *exception)",
          "99: %",
          "100: %  A description of each parameter follows:",
          "101: %",
          "102: %    o image: the image.",
          "103: %",
          "104: %    o connectivity: how many neighbors to visit.",
          "105: %",
          "106: %    o exception: return any errors or warnings in this structure.",
          "107: %",
          "109: MagickExport Image *ConnectedComponentsImage(const Image *image,",
          "110:   const size_t connectivity,ExceptionInfo *exception)",
          "111: {",
          "112: #define ConnectedComponentsImageTag  \"ConnectedComponents/Image\"",
          "114:   CacheView",
          "118:   Image",
          "121:   MagickBooleanType",
          "122:     status;",
          "124:   MagickOffsetType",
          "125:     progress;",
          "127:   ssize_t",
          "128:     y;",
          "131:     Initialize connected components image attributes.",
          "133:   assert(image != (Image *) NULL);",
          "134:   assert(image->signature == MagickSignature);",
          "135:   if (image->debug != MagickFalse)",
          "136:     (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"%s\",image->filename);",
          "137:   assert(exception != (ExceptionInfo *) NULL);",
          "138:   assert(exception->signature == MagickSignature);",
          "139:   component_image=CloneImage(image,image->columns,image->rows,MagickTrue,",
          "140:     exception);",
          "141:   if (component_image == (Image *) NULL)",
          "142:     return((Image *) NULL);",
          "143:   if (SetImageStorageClass(component_image,DirectClass,exception) == MagickFalse)",
          "144:     {",
          "145:       component_image=DestroyImage(component_image);",
          "146:       return((Image *) NULL);",
          "147:     }",
          "149:     ConnectedComponents image.",
          "151:   status=MagickTrue;",
          "152:   progress=0;",
          "153:   image_view=AcquireVirtualCacheView(image,exception);",
          "154:   component_view=AcquireAuthenticCacheView(component_image,exception);",
          "155: #if defined(MAGICKCORE_OPENMP_SUPPORT)",
          "156:   #pragma omp parallel for schedule(static,4) shared(progress,status) \\",
          "157:     magick_threads(image,component_image,component_image->rows,1)",
          "158: #endif",
          "159:   for (y=0; y < (ssize_t) component_image->rows; y++)",
          "160:   {",
          "161:     register Quantum",
          "164:     register ssize_t",
          "165:       x;",
          "167:     if (status == MagickFalse)",
          "168:       continue;",
          "169:     q=QueueCacheViewAuthenticPixels(component_view,0,y,component_image->columns,",
          "170:       1,exception);",
          "171:     if (q == (Quantum *) NULL)",
          "172:       {",
          "173:         status=MagickFalse;",
          "174:         continue;",
          "175:       }",
          "176:     for (x=0; x < (ssize_t) component_image->columns; x++)",
          "177:     {",
          "178:       q++;",
          "179:     }",
          "180:     if (SyncCacheViewAuthenticPixels(component_view,exception) == MagickFalse)",
          "181:       status=MagickFalse;",
          "182:     if (image->progress_monitor != (MagickProgressMonitor) NULL)",
          "183:       {",
          "184:         MagickBooleanType",
          "185:           proceed;",
          "187: #if defined(MAGICKCORE_OPENMP_SUPPORT)",
          "188:         #pragma omp critical (MagickCore_ConnectedComponentsImage)",
          "189: #endif",
          "190:         proceed=SetImageProgress(image,ConnectedComponentsImageTag,progress++,",
          "191:           image->rows);",
          "192:         if (proceed == MagickFalse)",
          "193:           status=MagickFalse;",
          "194:       }",
          "195:   }",
          "196:   component_view=DestroyCacheView(component_view);",
          "197:   image_view=DestroyCacheView(image_view);",
          "198:   if (status == MagickFalse)",
          "199:     component_image=DestroyImage(component_image);",
          "200:   return(component_image);",
          "201: }",
          "",
          "---------------"
        ],
        "MagickCore/vision.h||MagickCore/vision.h": [
          "File: MagickCore/vision.h -> MagickCore/vision.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2:   Copyright 1999-2014 ImageMagick Studio LLC, a non-profit organization",
          "3:   dedicated to making software imaging solutions freely available.",
          "5:   You may not use this file except in compliance with the License.",
          "6:   obtain a copy of the License at",
          "8:     http://www.imagemagick.org/script/license.php",
          "10:   Unless required by applicable law or agreed to in writing, software",
          "11:   distributed under the License is distributed on an \"AS IS\" BASIS,",
          "12:   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",
          "13:   See the License for the specific language governing permissions and",
          "14:   limitations under the License.",
          "16:   MagickCore computer vision methods.",
          "18: #ifndef _MAGICKCORE_VISION_H",
          "19: #define _MAGICKCORE_VISION_H",
          "21: #if defined(__cplusplus) || defined(c_plusplus)",
          "22: extern \"C\" {",
          "23: #endif",
          "25: extern MagickExport Image",
          "28: #if defined(__cplusplus) || defined(c_plusplus)",
          "29: }",
          "30: #endif",
          "32: #endif",
          "",
          "---------------"
        ],
        "MagickWand/convert.c||MagickWand/convert.c": [
          "File: MagickWand/convert.c -> MagickWand/convert.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "181:       \"-border geometry     surround image with a border of color\",",
          "182:       \"-bordercolor color   border color\",",
          "183:       \"-brightness-contrast geometry\",",
          "184:       \"                     improve brightness / contrast of the image\",",
          "185:       \"-canny geometry      detect edges in the image\",",
          "186:       \"-cdl filename        color correct with a color decision list\",",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "184:       \"                     improve brightness / contrast of the image\",",
          "185:       \"-canny geometry      detect edges in the image\",",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1126:                 argv[i]);",
          "1127:             break;",
          "1128:           }",
          "1129:         if (LocaleCompare(\"concurrent\",option+1) == 0)",
          "1130:           break;",
          "1131:         if (LocaleCompare(\"contrast\",option+1) == 0)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1131:         if (LocaleCompare(\"concurrent\",option+1) == 0)",
          "1132:           break;",
          "1133:         if (LocaleCompare(\"connected-component\",option+1) == 0)",
          "1134:           {",
          "1135:             i++;",
          "1136:             if (i == (ssize_t) argc)",
          "1137:               ThrowConvertException(OptionError,\"MissingArgument\",option);",
          "1138:             if (IsGeometry(argv[i]) == MagickFalse)",
          "1139:               ThrowConvertInvalidArgumentException(option,argv[i]);",
          "",
          "---------------"
        ],
        "MagickWand/mogrify.c||MagickWand/mogrify.c": [
          "File: MagickWand/mogrify.c -> MagickWand/mogrify.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1194:           }",
          "1195:         if (LocaleCompare(\"compose\",option+1) == 0)",
          "1196:           {",
          "1197:             (void) SyncImageSettings(mogrify_info,*image,exception);",
          "1198:             compose=(CompositeOperator) ParseCommandOption(MagickComposeOptions,",
          "1199:               MagickFalse,argv[i+1]);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1197:             (void) SyncImageSettings(mogrify_info,*image,exception);",
          "1198:             compose=(CompositeOperator) ParseCommandOption(MagickComposeOptions,",
          "1199:               MagickFalse,argv[i+1]);",
          "1200:             break;",
          "1201:           }",
          "1202:         if (LocaleCompare(\"connected-component\",option+1) == 0)",
          "1203:           {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3354:       \"-black-threshold value\",",
          "3355:       \"                     force all pixels below the threshold into black\",",
          "3356:       \"-blue-shift          simulate a scene at nighttime in the moonlight\",",
          "3357:       \"-blur geometry       reduce image noise and reduce detail levels\",",
          "3358:       \"-border geometry     surround image with a border of color\",",
          "3359:       \"-bordercolor color   border color\",",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3364:       \"-blur geometry       reduce image noise and reduce detail levels\",",
          "3365:       \"-border geometry     surround image with a border of color\",",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "4285:             compress=ParseCommandOption(MagickCompressOptions,MagickFalse,",
          "4286:               argv[i]);",
          "4287:             if (compress < 0)",
          "4288:               ThrowMogrifyException(OptionError,\"UnrecognizedImageCompression\",",
          "4289:                 argv[i]);",
          "4290:             break;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4297:               ThrowMogrifyException(OptionError,\"UnrecognizedImageCompression\",",
          "4298:                 argv[i]);",
          "4299:             break;",
          "4300:           }",
          "4301:         if (LocaleCompare(\"concurrent\",option+1) == 0)",
          "4302:           break;",
          "4303:         if (LocaleCompare(\"connected-components\",option+1) == 0)",
          "4304:           {",
          "4305:             i++;",
          "",
          "---------------"
        ],
        "MagickWand/operation.c||MagickWand/operation.c": [
          "File: MagickWand/operation.c -> MagickWand/operation.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2096:              Note that +colorspace sets \"undefined\" or no effect on",
          "2097:              new images, but forces images already in memory back to RGB!",
          "2098:              That seems to be a little strange!",
          "2100:           (void) TransformImageColorspace(_image,",
          "2101:                     IfNormalOp ? _image_info->colorspace : sRGBColorspace,",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2097:              new images, but forces images already in memory back to RGB!",
          "2098:              That seems to be a little strange!",
          "2100:           (void) TransformImageColorspace(_image,",
          "2101:                     IfNormalOp ? _image_info->colorspace : sRGBColorspace,",
          "2102:                     _exception);",
          "2103:           break;",
          "2104:         }",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "533:  MagickCore/utility.c MagickCore/utility.h \\",
          "534:  MagickCore/utility-private.h MagickCore/version.c \\",
          "535:  MagickCore/version.h MagickCore/version-private.h \\",
          "537:  MagickCore/widget-private.h MagickCore/xml-tree.c \\",
          "538:  MagickCore/xml-tree.h MagickCore/xml-tree-private.h \\",
          "539:  MagickCore/xwindow.c MagickCore/xwindow.h \\",
          "",
          "[Removed Lines]",
          "536:  MagickCore/vms.h MagickCore/widget.c MagickCore/widget.h \\",
          "",
          "[Added Lines]",
          "536:  MagickCore/vision.c MagickCore/vision.h MagickCore/vms.h \\",
          "537:  MagickCore/widget.c MagickCore/widget.h \\",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "658:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-type.lo \\",
          "659:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-utility.lo \\",
          "660:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-version.lo \\",
          "661:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.lo \\",
          "662:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-xml-tree.lo \\",
          "663:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-xwindow.lo",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "662:  MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo \\",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "4387:  MagickCore/version.c \\",
          "4388:  MagickCore/version.h \\",
          "4389:  MagickCore/version-private.h \\",
          "4390:  MagickCore/vms.h \\",
          "4391:  MagickCore/widget.c \\",
          "4392:  MagickCore/widget.h \\",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4392:  MagickCore/vision.c \\",
          "4393:  MagickCore/vision.h \\",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "4503:  MagickCore/type.h \\",
          "4504:  MagickCore/utility.h \\",
          "4505:  MagickCore/version.h \\",
          "4506:  MagickCore/widget.h \\",
          "4507:  MagickCore/xml-tree.h \\",
          "4508:  MagickCore/xwindow.h",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4510:  MagickCore/vision.h \\",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "5778: MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-version.lo:  \\",
          "5779:  MagickCore/$(am__dirstamp) \\",
          "5780:  MagickCore/$(DEPDIR)/$(am__dirstamp)",
          "5781: MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.lo:  \\",
          "5782:  MagickCore/$(am__dirstamp) \\",
          "5783:  MagickCore/$(DEPDIR)/$(am__dirstamp)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "5786: MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo:  \\",
          "5787:  MagickCore/$(am__dirstamp) \\",
          "5788:  MagickCore/$(DEPDIR)/$(am__dirstamp)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "7271: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-type.Plo@am__quote@",
          "7272: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-utility.Plo@am__quote@",
          "7273: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-version.Plo@am__quote@",
          "7274: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.Plo@am__quote@",
          "7275: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-xml-tree.Plo@am__quote@",
          "7276: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-xwindow.Plo@am__quote@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7282: @AMDEP_TRUE@@am__include@ @am__quote@MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.Plo@am__quote@",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "8206: @AMDEP_TRUE@@am__fastdepCC_FALSE@ DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@",
          "8207: @am__fastdepCC_FALSE@ $(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-version.lo `test -f 'MagickCore/version.c' || echo '$(srcdir)/'`MagickCore/version.c",
          "8209: MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.lo: MagickCore/widget.c",
          "8210: @am__fastdepCC_TRUE@ $(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.lo -MD -MP -MF MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.Tpo -c -o MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.lo `test -f 'MagickCore/widget.c' || echo '$(srcdir)/'`MagickCore/widget.c",
          "8211: @am__fastdepCC_TRUE@ $(AM_V_at)$(am__mv) MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.Tpo MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-widget.Plo",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "8218: MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo: MagickCore/vision.c",
          "8219: @am__fastdepCC_TRUE@ $(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo -MD -MP -MF MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.Tpo -c -o MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo `test -f 'MagickCore/vision.c' || echo '$(srcdir)/'`MagickCore/vision.c",
          "8220: @am__fastdepCC_TRUE@ $(AM_V_at)$(am__mv) MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.Tpo MagickCore/$(DEPDIR)/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.Plo",
          "8221: @AMDEP_TRUE@@am__fastdepCC_FALSE@ $(AM_V_CC)source='MagickCore/vision.c' object='MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo' libtool=yes @AMDEPBACKSLASH@",
          "8222: @AMDEP_TRUE@@am__fastdepCC_FALSE@ DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@",
          "8223: @am__fastdepCC_FALSE@ $(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o MagickCore/MagickCore_libMagickCore_@MAGICK_MAJOR_VERSION@_@MAGICK_ABI_SUFFIX@_la-vision.lo `test -f 'MagickCore/vision.c' || echo '$(srcdir)/'`MagickCore/vision.c",
          "",
          "---------------"
        ],
        "PerlMagick/Magick.xs||PerlMagick/Magick.xs": [
          "File: PerlMagick/Magick.xs -> PerlMagick/Magick.xs",
          "--- Hunk 1 ---",
          "[Context before]",
          "555:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "556:       {\"threshold\", IntegerReference} } },",
          "557:     { \"MeanShift\", { {\"geometry\", StringReference},",
          "558:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "559:       {\"distance\", RealReference} } },",
          "560:     { \"Kuwahara\", { {\"geometry\", StringReference}, {\"radius\", RealReference},",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "558:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "7547:     Function           = 239",
          "7548:     FunctionImage      = 240",
          "7549:     SelectiveBlur      = 241",
          "7550:     SelectiveBlurImage = 242",
          "7551:     HaldClut           = 243",
          "7552:     HaldClutImage      = 244",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7551:     SelectiveBlurImage = 242",
          "7552:     HaldClut           = 243",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "11217:         }",
          "11219:         {",
          "11220:           if (attribute_flag[0] != 0)",
          "11221:             {",
          "11222:               flags=ParseGeometry(argument_list[0].string_reference,",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "11224:             {",
          "11225:               flags=ParseGeometry(argument_list[0].string_reference,",
          "11226:                 &geometry_info);",
          "11227:               if ((flags & SigmaValue) == 0)",
          "11228:                 geometry_info.sigma=geometry_info.rho;",
          "11229:               if ((flags & XiValue) == 0)",
          "11230:                 geometry_info.xi=0.10*QuantumRange;",
          "11231:               if ((flags & PercentValue) != 0)",
          "11232:                 geometry_info.xi=QuantumRange*geometry_info.xi/100.0;",
          "11233:             }",
          "",
          "---------------"
        ],
        "PerlMagick/quantum/quantum.xs.in||PerlMagick/quantum/quantum.xs.in": [
          "File: PerlMagick/quantum/quantum.xs.in -> PerlMagick/quantum/quantum.xs.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "555:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "556:       {\"threshold\", IntegerReference} } },",
          "557:     { \"MeanShift\", { {\"geometry\", StringReference},",
          "558:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "559:       {\"double\", RealReference} } },",
          "560:     { \"Kuwahara\", { {\"geometry\", StringReference}, {\"radius\", RealReference},",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "558:       {\"width\", IntegerReference}, {\"height\", IntegerReference},",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "7547:     Function           = 239",
          "7548:     FunctionImage      = 240",
          "7549:     SelectiveBlur      = 241",
          "7550:     SelectiveBlurImage = 242",
          "7551:     HaldClut           = 243",
          "7552:     HaldClutImage      = 244",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7551:     SelectiveBlurImage = 242",
          "7552:     HaldClut           = 243",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "11215:             geometry_info.sigma,(size_t) geometry_info.xi,exception);",
          "11216:           break;",
          "11217:         }",
          "11219:         {",
          "11220:           if (attribute_flag[0] != 0)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "11222:         {",
          "11223:           if (attribute_flag[0] != 0)",
          "11224:             {",
          "11225:               flags=ParseGeometry(argument_list[0].string_reference,",
          "11226:                 &geometry_info);",
          "11227:               if ((flags & SigmaValue) == 0)",
          "11228:                 geometry_info.sigma=geometry_info.rho;",
          "11229:               if ((flags & PercentValue) != 0)",
          "11230:                 geometry_info.xi=QuantumRange*geometry_info.xi/100.0;",
          "11231:             }",
          "",
          "---------------"
        ],
        "utilities/convert.1.in||utilities/convert.1.in": [
          "File: utilities/convert.1.in -> utilities/convert.1.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "144:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "145:   \\-colorize value      colorize the image with the fill color",
          "146:   \\-color-matrix matrix apply color correction to the image",
          "147:   \\-contrast            enhance or reduce the image contrast",
          "148:   \\-contrast-stretch geometry",
          "149:                        improve contrast by `stretching' the intensity range",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "147:   \\-connected-component connectivity",
          "148:                        connected-components uniquely labeled",
          "",
          "---------------"
        ],
        "utilities/mogrify.1.in||utilities/mogrify.1.in": [
          "File: utilities/mogrify.1.in -> utilities/mogrify.1.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "142:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "143:   \\-colorize value      colorize the image with the fill color",
          "144:   \\-color-matrix matrix apply color correction to the image",
          "145:   \\-contrast            enhance or reduce the image contrast",
          "146:   \\-contrast-stretch geometry",
          "147:                        improve contrast by `stretching' the intensity range",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "145:   \\-connected-component connectivity",
          "146:                        connected-components uniquely labeled",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "0ee195d805aa6f030cd3da8ebc8f9a640b946deb",
      "candidate_info": {
        "commit_hash": "0ee195d805aa6f030cd3da8ebc8f9a640b946deb",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/0ee195d805aa6f030cd3da8ebc8f9a640b946deb",
        "files": [
          "coders/icon.c"
        ],
        "message": "Fix check for length.",
        "before_after_code_files": [
          "coders/icon.c||coders/icon.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "coders/icon.c||coders/icon.c"
          ],
          "candidate": [
            "coders/icon.c||coders/icon.c"
          ]
        }
      },
      "candidate_diff": {
        "coders/icon.c||coders/icon.c": [
          "File: coders/icon.c -> coders/icon.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "353:         unsigned char",
          "357:           Icon image encoded as a compressed PNG image.",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "5cd9a679bfdcfab16665175604c2e3ed9542da88",
      "candidate_info": {
        "commit_hash": "5cd9a679bfdcfab16665175604c2e3ed9542da88",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/5cd9a679bfdcfab16665175604c2e3ed9542da88",
        "files": [
          "MagickCore/locale.c",
          "MagickCore/version.h",
          "configure"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/locale.c||MagickCore/locale.c",
          "MagickCore/version.h||MagickCore/version.h"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/locale.c||MagickCore/locale.c": [
          "File: MagickCore/locale.c -> MagickCore/locale.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "68:   Define declarations.",
          "70: #define LocaleFilename  \"locale.xml\"",
          "71: #define MaxRecursionDepth  200",
          "80: #endif",
          "",
          "[Removed Lines]",
          "75:   Typedef declarations.",
          "77: #if defined(__CYGWIN__)",
          "78: typedef struct _locale_t",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "98: static SemaphoreInfo",
          "101: static SplayTreeInfo",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "92: static SplayTreeInfo",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "111:   Forward declarations.",
          "114:   IsLocaleTreeInstantiated(ExceptionInfo *),",
          "115:   LoadLocaleCache(SplayTreeInfo *,const char *,const char *,const char *,",
          "116:     const size_t,ExceptionInfo *);",
          "",
          "[Removed Lines]",
          "113: static MagickBooleanType",
          "",
          "[Added Lines]",
          "105:   IsLocaleTreeInstantiated(ExceptionInfo *),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "240:         options=DestroyLocaleOptions(options);",
          "241:       }",
          "242:   }",
          "244:   if (GetNumberOfNodesInSplayTree(locale_cache) == 0)",
          "245:     status&=LoadLocaleCache(locale_cache,LocaleMap,\"built-in\",locale,0,",
          "246:       exception);",
          "247:   return(locale_cache);",
          "",
          "[Removed Lines]",
          "243: #endif",
          "",
          "[Added Lines]",
          "235:   if (GetNumberOfNodesInSplayTree(locale_cache) == 0)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "342: %   o file:  the file.",
          "343: %",
          "344: %   o format:  A file describing the format to use to write the remaining",
          "346: %",
          "",
          "[Removed Lines]",
          "345: %     arguments.",
          "",
          "[Added Lines]",
          "337: %",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "358:       locale;",
          "360:     locale=AcquireCLocale();",
          "362:       n=(ssize_t) vfprintf(file,format,operands);",
          "363:     else",
          "364: #if defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "",
          "[Removed Lines]",
          "361:     if (locale == (locale_t) NULL)",
          "",
          "[Added Lines]",
          "353:       n=(ssize_t) vfprintf(file,format,operands);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "433: %",
          "434: %   o length: the maximum length of the string.",
          "435: %",
          "437: %     arguments.",
          "438: %",
          "",
          "[Removed Lines]",
          "436: %   o format:  A string describing the format to use to write the remaining",
          "",
          "[Added Lines]",
          "428: %     arguments.",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "449:     locale_t",
          "450:       locale;",
          "453:     if (locale == (locale_t) NULL)",
          "454:       n=(ssize_t) vsnprintf(string,length,format,operands);",
          "455:     else",
          "",
          "[Removed Lines]",
          "452:     locale=AcquireCLocale();",
          "",
          "[Added Lines]",
          "444:     if (locale == (locale_t) NULL)",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "685: #endif",
          "687: static int LocaleTagCompare(const void *x,const void *y)",
          "",
          "[Removed Lines]",
          "688: {",
          "689:   register char",
          "",
          "[Added Lines]",
          "680:   register char",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "992: %  A description of each parameter follows:",
          "993: %",
          "994: %    o value: the string value.",
          "996: %    o sentinal:  if sentinal is not NULL, a pointer to the character after the",
          "997: %      last character used in the conversion is stored in the location",
          "998: %      referenced by sentinal.",
          "",
          "[Removed Lines]",
          "995: %",
          "",
          "[Added Lines]",
          "987: %    o sentinal:  if sentinal is not NULL, a pointer to the character after the",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1431: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "1433: %                                                                             %",
          "1434: %                                                                             %",
          "1435: +   L o c a l e C o m p o n e n t T e r m i n u s                             %",
          "",
          "[Removed Lines]",
          "1432: %                                                                             %",
          "",
          "[Added Lines]",
          "1424: %                                                                             %",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"18354:18359\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"18392M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeLicense  \\",
          "54:   \"http://www.imagemagick.org/script/license.php\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2015-04-08\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2015-04-14\"",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "3b8891ec76991448a9995f6c2bbda51582942cee",
      "candidate_info": {
        "commit_hash": "3b8891ec76991448a9995f6c2bbda51582942cee",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/3b8891ec76991448a9995f6c2bbda51582942cee",
        "files": [
          "MagickCore/version.h",
          "configure",
          "utilities/composite.1",
          "utilities/convert.1",
          "utilities/display.1",
          "utilities/identify.1",
          "utilities/import.1",
          "utilities/mogrify.1",
          "utilities/montage.1",
          "utilities/stream.1"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "utilities/composite.1||utilities/composite.1",
          "utilities/convert.1||utilities/convert.1",
          "utilities/display.1||utilities/display.1",
          "utilities/identify.1||utilities/identify.1",
          "utilities/import.1||utilities/import.1",
          "utilities/mogrify.1||utilities/mogrify.1",
          "utilities/montage.1||utilities/montage.1",
          "utilities/stream.1||utilities/stream.1"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"16921:16940M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"17017:17027\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-11-04\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-11-11\"",
          "",
          "---------------"
        ],
        "utilities/composite.1||utilities/composite.1": [
          "File: utilities/composite.1 -> utilities/composite.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "15:   \\                     transparent, extract, background, or shape",
          "16:   \\-authenticate value  decrypt image with this password",
          "17:   \\-blue-primary point  chromaticity blue primary point",
          "19:   \\-colorspace type     alternate image colorspace",
          "20:   \\-comment string      annotate image with comment",
          "21:   \\-compose operator    composite operator",
          "",
          "[Removed Lines]",
          "18:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "71:   \\-blend geometry      blend images",
          "72:   \\-border geometry     surround image with a border of color",
          "73:   \\-bordercolor color   border color",
          "74:   \\-colors value        preferred number of colors in the image",
          "75:   \\-displace geometry   shift image pixels defined by a displacement map",
          "76:   \\-dissolve value      dissolve the two images a given percent",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "73:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/convert.1||utilities/convert.1": [
          "File: utilities/convert.1 -> utilities/convert.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "24:   \\-bordercolor color   border color",
          "25:   \\-caption string      assign a caption to an image",
          "26:   \\-cdl filename        color correct with a color decision list",
          "28:   \\-clip                clip along the first path from the 8BIM profile",
          "29:   \\-clip-mask filename  associate a clip mask with the image",
          "30:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "",
          "[Removed Lines]",
          "27:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "136:   \\-brightness-contrast geometry",
          "137:   \\                     improve brightness / contrast of the image",
          "138:   \\-canny geometry      detect edges in the image",
          "139:   \\-charcoal radius     simulate a charcoal drawing",
          "140:   \\-chop geometry       remove pixels from the image interior",
          "141:   \\-clamp               keep pixel values in range (0-QuantumRange)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "138:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/display.1||utilities/display.1": [
          "File: utilities/display.1 -> utilities/display.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "15:   \\-antialias           remove pixel-aliasing",
          "16:   \\-authenticate value  decrypt image with this password",
          "17:   \\-backdrop            display image centered on a backdrop",
          "19:   \\-colormap type       Shared or Private",
          "20:   \\-colorspace type     alternate image colorspace",
          "21:   \\-comment string      annotate image with comment",
          "",
          "[Removed Lines]",
          "18:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "79: Image Operators:",
          "80:   \\-auto-orient         automatically orient image",
          "81:   \\-border geometry     surround image with a border of color",
          "82:   \\-clip                clip along the first path from the 8BIM profile",
          "83:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "84:   \\-colors value        preferred number of colors in the image",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "81:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/identify.1||utilities/identify.1": [
          "File: utilities/identify.1 -> utilities/identify.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "14:                        transparent, extract, background, or shape",
          "15:   \\-antialias           remove pixel-aliasing",
          "16:   \\-authenticate value  decrypt image with this password",
          "18:   \\-clip                clip along the first path from the 8BIM profile",
          "19:   \\-clip-mask filename  associate a clip mask with the image",
          "20:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "",
          "[Removed Lines]",
          "17:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "58:                        virtual pixel access method",
          "60: Image Operators:",
          "61:   \\-grayscale method    convert image to grayscale",
          "62:   \\-negate              replace each pixel with its complementary color",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "60:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/import.1||utilities/import.1": [
          "File: utilities/import.1 -> utilities/import.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "12: Image Settings:",
          "13:   \\-adjoin              join images into a single multi-image file",
          "14:   \\-border              include window border in the output image",
          "16:   \\-colorspace type     alternate image colorspace",
          "17:   \\-comment string      annotate image with comment",
          "18:   \\-compress type       type of pixel compression when writing the image",
          "",
          "[Removed Lines]",
          "15:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "67: Image Operators:",
          "68:   \\-annotate geometry text",
          "69:                        annotate the image with text",
          "70:   \\-colors value        preferred number of colors in the image",
          "71:   \\-crop geometry       preferred size and location of the cropped image",
          "72:   \\-geometry geometry   preferred size or location of the image",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "69:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/mogrify.1||utilities/mogrify.1": [
          "File: utilities/mogrify.1 -> utilities/mogrify.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "23:   \\-bordercolor color   border color",
          "24:   \\-caption string      assign a caption to an image",
          "25:   \\-cdl filename        color correct with a color decision list",
          "27:   \\-colors value        preferred number of colors in the image",
          "28:   \\-colorspace type     alternate image colorspace",
          "29:   \\-comment string      annotate image with comment",
          "",
          "[Removed Lines]",
          "26:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "134:   \\-brightness-contrast geometry",
          "135:                        improve brightness / contrast of the image",
          "136:   \\-canny geometry      detect edges in the image",
          "137:   \\-charcoal radius     simulate a charcoal drawing",
          "138:   \\-chop geometry       remove pixels from the image interior",
          "139:   \\-clamp               keep pixel values in range (0-QuantumRange)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "136:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/montage.1||utilities/montage.1": [
          "File: utilities/montage.1 -> utilities/montage.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:   \\-blue-primary point  chromaticity blue primary point",
          "19:   \\-bordercolor color   border color",
          "20:   \\-caption string      assign a caption to an image",
          "22:   \\-colors value        preferred number of colors in the image",
          "23:   \\-colorspace type     alternate image colorsapce",
          "24:   \\-comment string      annotate image with comment",
          "",
          "[Removed Lines]",
          "21:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "95:   \\-auto-orient         automagically orient image",
          "96:   \\-blur geometry      reduce image noise and reduce detail levels",
          "97:   \\-border geometry     surround image with a border of color",
          "98:   \\-crop geometry       preferred size and location of the cropped image",
          "99:   \\-extent geometry     set the image size",
          "100:   \\-flatten             flatten a sequence of images",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "97:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ],
        "utilities/stream.1||utilities/stream.1": [
          "File: utilities/stream.1 -> utilities/stream.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "11: .SH DESCRIPTION",
          "12: Image Settings:",
          "13:   \\-authenticate value  decrypt image with this password",
          "15:   \\-colorspace type     alternate image colorspace",
          "16:   \\-compress type       type of pixel compression when writing the image",
          "17:   \\-define format:option",
          "",
          "[Removed Lines]",
          "14:   \\-channel type        apply option to select image channels",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "44:                        virtual pixel access method",
          "46: Miscellaneous Options:",
          "47:   \\-debug events        display copious debugging information",
          "48:   \\-help                print program options",
          "49:   \\-log format          format of debugging information",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "46:   \\-channel mask        set the image channel mask",
          "",
          "---------------"
        ]
      }
    }
  ]
}