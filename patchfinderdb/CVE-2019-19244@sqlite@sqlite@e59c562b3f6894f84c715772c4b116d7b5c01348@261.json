{
  "cve_id": "CVE-2019-19244",
  "cve_desc": "sqlite3Select in select.c in SQLite 3.30.1 allows a crash if a sub-select uses both DISTINCT and window functions, and also has certain ORDER BY usage.",
  "repo": "sqlite/sqlite",
  "patch_hash": "e59c562b3f6894f84c715772c4b116d7b5c01348",
  "patch_info": {
    "commit_hash": "e59c562b3f6894f84c715772c4b116d7b5c01348",
    "repo": "sqlite/sqlite",
    "commit_url": "https://github.com/sqlite/sqlite/commit/e59c562b3f6894f84c715772c4b116d7b5c01348",
    "files": [
      "manifest",
      "manifest.uuid",
      "src/select.c",
      "test/window1.test"
    ],
    "message": "Fix a crash that could occur if a sub-select that uses both DISTINCT and window functions also used an ORDER BY that is the same as its select list.\n\nFossilOrigin-Name: bcdd66c1691955c697f3d756c2b035acfe98f6aad72e90b0021bab6e9023b3ba",
    "before_after_code_files": [
      "manifest.uuid||manifest.uuid",
      "src/select.c||src/select.c",
      "test/window1.test||test/window1.test"
    ]
  },
  "patch_diff": {
    "manifest.uuid||manifest.uuid": [
      "File: manifest.uuid -> manifest.uuid",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "1: 6a64fb6a2da6c98f1e87b55ad5689967e1db4eae2e08345471d95e28cd567e0f",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "src/select.c||src/select.c": [
      "File: src/select.c -> src/select.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "6065:   if( (p->selFlags & (SF_Distinct|SF_Aggregate))==SF_Distinct",
      "6066:    && sqlite3ExprListCompare(sSort.pOrderBy, pEList, -1)==0",
      "6067:   ){",
      "6068:     p->selFlags &= ~SF_Distinct;",
      "6069:     pGroupBy = p->pGroupBy = sqlite3ExprListDup(db, pEList, 0);",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "6067:    && p->pWin==0",
      "",
      "---------------"
    ],
    "test/window1.test||test/window1.test": [
      "File: test/window1.test -> test/window1.test",
      "--- Hunk 1 ---",
      "[Context before]",
      "1243:   ALTER TABLE a0 RENAME TO S;",
      "1244: } {1 {error in view a: 1st ORDER BY term does not match any column in the result set}}",
      "1246: finish_test",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1246: reset_db",
      "1247: do_execsql_test 33.1 {",
      "1248:   CREATE TABLE t1(aa, bb);",
      "1249:   INSERT INTO t1 VALUES(1, 2);",
      "1250:   INSERT INTO t1 VALUES(5, 6);",
      "1251:   CREATE TABLE t2(x);",
      "1252:   INSERT INTO t2 VALUES(1);",
      "1253: }",
      "1254: do_execsql_test 33.2 {",
      "1255:   SELECT (SELECT DISTINCT sum(aa) OVER() FROM t1 ORDER BY 1), x FROM t2",
      "1256:   ORDER BY 1;",
      "1257: } {6 1}",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "4a7e9a25b64489a9d7e8f1d84f0e50cbbb4a7735",
      "candidate_info": {
        "commit_hash": "4a7e9a25b64489a9d7e8f1d84f0e50cbbb4a7735",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/4a7e9a25b64489a9d7e8f1d84f0e50cbbb4a7735",
        "files": [
          "manifest",
          "manifest.uuid",
          "test/ossfuzz.c"
        ],
        "message": "Set a low limit on the length of strings and blobs in the OSSFuzz module, in an effort to avoid timeouts when the fuzzer does things like \"randomblob(1e12)\".\n\nFossilOrigin-Name: 119d1609fa415894fdd0aa19440ca1c658bd01910838a4cfadbe0e304b033bfd",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "test/ossfuzz.c||test/ossfuzz.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 2c886f3d49c9569e9f6ee28b89b57e2d4004c8972d11da0c23f7b2d2e0c9900a",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "test/ossfuzz.c||test/ossfuzz.c": [
          "File: test/ossfuzz.c -> test/ossfuzz.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "156:   sqlite3_limit(cx.db, SQLITE_LIMIT_VDBE_OP, 25000);",
          "159:   sqlite3_db_config(cx.db, SQLITE_DBCONFIG_ENABLE_FKEY, uSelector&1, &rc);",
          "160:   uSelector >>= 1;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "161:   sqlite3_limit(cx.db, SQLITE_LIMIT_LENGTH, 50000);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "cc491f4b1bd7a07d931cd36bf5b763f9007e9916",
      "candidate_info": {
        "commit_hash": "cc491f4b1bd7a07d931cd36bf5b763f9007e9916",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/cc491f4b1bd7a07d931cd36bf5b763f9007e9916",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/wherecode.c"
        ],
        "message": "Fix problem with DESC indexes on this branch.\n\nFossilOrigin-Name: b49df1fe9b7174ebc60023179e8da628c926e59df3dc01b15d4a28e17807bb97",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/wherecode.c||src/wherecode.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: db1e60800bc260cdcd604739daaba72c6b486158123fc62a3898aca4ead33cd3",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/wherecode.c||src/wherecode.c": [
          "File: src/wherecode.c -> src/wherecode.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1606:     if( (pLoop->wsFlags & (WHERE_TOP_LIMIT|WHERE_BTM_LIMIT))==0",
          "1607:      && (pLoop->wsFlags & WHERE_BIGNULL_SORT)!=0",
          "1608:     ){",
          "",
          "[Removed Lines]",
          "1605:     addrNxt = pLevel->addrNxt;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1612:       nExtraReg = 1;",
          "1613:       bSeekPastNull = 1;",
          "1614:       pLevel->regBignull = regBignull = ++pParse->nMem;",
          "1616:     }",
          "",
          "[Removed Lines]",
          "1615:       addrNxt = pLevel->addrBignull = sqlite3VdbeMakeLabel(pParse);",
          "",
          "[Added Lines]",
          "1614:       pLevel->addrBignull = sqlite3VdbeMakeLabel(pParse);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1637:     if( zStartAff && nTop ){",
          "1638:       zEndAff = sqlite3DbStrDup(db, &zStartAff[nEq]);",
          "1639:     }",
          "1641:     testcase( pRangeStart && (pRangeStart->eOperator & WO_LE)!=0 );",
          "1642:     testcase( pRangeStart && (pRangeStart->eOperator & WO_GE)!=0 );",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1639:     addrNxt = (regBignull ? pLevel->addrBignull : pLevel->addrNxt);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "dcc427cf19603d5060742745dfca76352f9ced43",
      "candidate_info": {
        "commit_hash": "dcc427cf19603d5060742745dfca76352f9ced43",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/dcc427cf19603d5060742745dfca76352f9ced43",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/btree.c",
          "test/corruptL.test"
        ],
        "message": "Add an extra test for database corruption to defragmentPage().\n\nFossilOrigin-Name: 80e951fce3e5aaa224c8dba6449832d2efabcdc24e86eb6b7833f85cf08ecc00",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/btree.c||src/btree.c",
          "test/corruptL.test||test/corruptL.test"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 3649a77b79001ea6c5defe882f9934521b20b9d36aab26d03b5d42006c7fa228",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/btree.c||src/btree.c": [
          "File: src/btree.c -> src/btree.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1455:           if( iFree2+sz2 > usableSize ) return SQLITE_CORRUPT_PAGE(pPage);",
          "1456:           memmove(&data[iFree+sz+sz2], &data[iFree+sz], iFree2-(iFree+sz));",
          "1457:           sz += sz2;",
          "1458:         }",
          "1459:         cbrk = top+sz;",
          "1460:         assert( cbrk+(iFree-top) <= usableSize );",
          "1461:         memmove(&data[cbrk], &data[top], iFree-top);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1458:         }else if( iFree+sz>usableSize ){",
          "1459:           return SQLITE_CORRUPT_PAGE(pPage);",
          "",
          "---------------"
        ],
        "test/corruptL.test||test/corruptL.test": [
          "File: test/corruptL.test -> test/corruptL.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "727:   SELECT * FROM sqlite_master;",
          "728: } {1 {malformed database schema (t1x1) - invalid rootpage}}",
          "730: finish_test",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "730: #-------------------------------------------------------------------------",
          "731: reset_db",
          "732: do_test 8.0 {",
          "733:   sqlite3 db {}",
          "734:   db deserialize [decode_hexdb {",
          "735: | size 2048 pagesize 512 filename a.db",
          "736: | page 1 offset 0",
          "737: |      0: 53 51 4c 69 74 65 20 66 6f 72 6d 61 74 20 33 00   SQLite format 3.",
          "738: |     16: 02 00 01 01 00 40 20 20 ff ff 00 0c 00 00 00 07   .....@  ........",
          "739: |     32: 0b 00 00 00 00 00 00 00 00 00 00 08 9c 00 00 04   ................",
          "740: |     48: 00 00 00 e0 09 00 00 01 00 00 00 01 00 00 00 00   ................",
          "741: |     64: 00 00 00 00 f2 ff 00 00 00 00 00 00 00 00 00 00   ................",
          "742: |     80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0c   ................",
          "743: |     96: 00 2e 2c 50 0d 00 00 00 06 01 06 00 01 da 01 b0   ..,P............",
          "744: |    112: 05 56 01 86 01 2a 01 06 00 00 00 00 00 06 00 00   .V...*..........",
          "745: |    128: 00 ff 00 00 ff ff ff e1 00 00 00 00 00 00 00 00   ................",
          "746: |    144: 00 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00   ................",
          "747: |    160: 00 00 00 00 00 00 00 00 f2 00 00 00 00 00 00 00   ................",
          "748: |    176: 00 00 f9 ff ff ff ff ff ff ff 00 00 00 5f 00 fb   ............._..",
          "749: |    192: 00 00 00 00 00 00 00 00 00 e1 ff 00 00 00 00 00   ................",
          "750: |    208: 00 00 10 00 00 00 00 00 1e 00 00 00 fe 00 00 00   ................",
          "751: |    224: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 ca 00   ................",
          "752: |    240: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 35   ...............5",
          "753: |    256: 00 00 00 00 ef ff 22 07 06 17 11 11 01 30 39 38   .............098",
          "754: |    272: 62 6c 65 74 38 38 74 04 43 52 45 41 54 45 20 54   blet88t.CREATE T",
          "755: |    288: 41 42 4c 45 20 74 34 28 87 29 2a 06 06 17 13 11   ABLE t4(.)*.....",
          "756: |    304: 01 3f 69 4f 64 65 78 74 33 78 74 40 05 43 52 45   .?iOdext3xt@.CRE",
          "757: |    320: 41 54 45 20 49 6e 44 45 58 20 74 33 78 20 4f 4e   ATE InDEX t3x ON",
          "758: |    336: 20 74 33 28 78 29 2e 04 06 17 15 11 01 45 69 6e    t3(x).......Ein",
          "759: |    352: 00 04 00 00 34 63 64 74 3d 05 43 52 45 41 54 45   ....4cdt=.CREATE",
          "760: |    368: 20 49 4e 44 45 58 20 63 74 64 32 20 4f 4e 20 74    INDEX ctd2 ON t",
          "761: |    384: 32 28 0a 0c 44 29 28 05 06 17 11 11 01 3d 74 6c   2(..D)(......=tl",
          "762: |    400: 62 61 d4 65 33 74 33 04 43 52 45 41 54 45 20 54   ba.e3t3.CREATE T",
          "763: |    416: 41 42 4c 45 20 74 33 28 63 2c 78 2c 65 2c 66 29   ABLE t3(c,x,e,f)",
          "764: |    432: 28 02 06 17 11 11 01 3d 74 61 62 6c 65 74 32 74   (......=tablet2t",
          "765: |    448: 32 03 43 52 45 41 54 45 20 54 41 42 4c 45 20 74   2.CREATE TABLE t",
          "766: |    464: 32 28 63 2c 64 2c 65 2c 66 29 24 01 06 17 11 11   2(c,d,e,f)$.....",
          "767: |    480: 01 35 74 60 62 6c 65 74 31 74 31 02 43 52 45 41   .5t`blet1t1.CREA",
          "768: |    496: 54 45 20 54 41 42 4c 45 20 74 30 28 61 2c 62 29   TE TABLE t0(a,b)",
          "769: | page 2 offset 512",
          "770: |      0: 0d 00 ff 11 04 01 cf 80 01 fa 01 09 00 de 01 cf   ................",
          "771: |     16: 00 00 00 00 00 00 00 00 00 01 00 00 00 00 00 00   ................",
          "772: |     32: 00 00 08 00 00 00 00 00 00 11 00 00 00 00 00 13   ................",
          "773: |     48: 00 00 00 00 00 00 00 00 00 00 00 01 00 e0 ff ff   ................",
          "774: |     64: ff d2 ff ff ff 00 f8 ff ff ff 00 00 00 00 00 00   ................",
          "775: |     80: 00 ff ff 00 00 00 00 00 00 00 00 00 00 00 00 00   ................",
          "776: |     96: 00 00 00 00 ff de 00 00 00 00 00 00 00 00 00 00   ................",
          "777: |    112: 00 00 00 00 00 00 00 00 00 00 00 00 00 40 00 00   .............@..",
          "778: |    128: 2a 00 00 00 00 00 00 00 00 f7 00 00 00 00 00 00   *...............",
          "779: |    144: 00 00 00 00 00 21 00 00 00 00 00 00 00 00 00 00   .....!..........",
          "780: |    160: 01 64 00 00 00 00 04 80 ff ff ff 00 00 00 00 00   .d..............",
          "781: |    176: 00 00 00 00 00 00 00 00 1f 00 00 00 00 00 00 00   ................",
          "782: |    192: 00 00 40 00 00 00 00 00 00 00 00 00 00 00 00 00   ..@.............",
          "783: |    208: b5 00 00 00 00 00 00 40 00 00 00 00 00 00 00 00   .......@........",
          "784: |    224: 00 00 00 f6 00 ee ff ff ff 00 00 00 00 00 00 00   ................",
          "785: |    272: f2 00 00 00 00 00 00 00 00 00 f9 ff ff ff ff ff   ................",
          "786: |    288: ff ff 00 00 00 5f 00 fb 00 00 00 00 00 00 00 00   ....._..........",
          "787: |    320: 1e 00 00 00 fe 00 00 00 00 00 00 00 00 00 00 00   ................",
          "788: |    336: 00 00 00 00 00 00 ca 00 00 00 00 00 00 00 ff ec   ................",
          "789: |    352: 00 00 00 00 00 00 00 32 00 00 00 00 ef ff 22 07   .......2........",
          "790: |    368: 06 17 11 11 01 30 74 61 62 6c 65 74 38 38 74 04   .....0tablet88t.",
          "791: |    384: 43 52 45 41 54 45 20 54 41 42 4c 45 20 8c cb d7   CREATE TABLE ...",
          "792: |    400: 78 d6 d5 f9 f9 17 13 11 01 3f 69 4f 64 65 78 74   x........?iOdext",
          "793: |    416: 33 78 74 33 05 43 52 45 41 54 45 26 49 6e 44 45   3xt3.CREATE&InDE",
          "794: |    432: 58 20 74 33 78 00 00 00 00 00 00 00 00 00 00 00   X t3x...........",
          "795: |    464: 00 00 00 00 00 13 76 65 6e 65 69 67 68 74 13 03   ......veneight..",
          "796: |    480: 03 40 07 07 15 00 54 45 20 49 4e 44 45 58 20 74   .@....TE INDEX t",
          "797: |    496: 31 63 64 20 4f 4e 20 74 ce d7 f5 f0 44 09 01 02   1cd ON t....D...",
          "798: | page 3 offset 1024",
          "799: |      0: 0d 00 00 00 48 01 54 00 01 f6 e2 ec 01 c5 01 aa   ....H.T.........",
          "800: |     16: 30 34 28 87 29 32 06 f5 16 13 11 01 8e 61 24 64   04(.)2.......a$d",
          "801: |     32: 65 78 74 37 78 1f 33 6d 6d 6d 6d 6d 00 00 04 06   ext7x.3mmmmm....",
          "802: |     48: 6d 41 6d 6d 6e 6d 6d 00 00 02 00 6d 6d 6d 6d 6d   mAmmnmm....mmmmm",
          "803: |     64: 15 11 01 45 45 45 45 45 45 45 45 45 45 45 45 45   ...EEEEEEEEEEEEE",
          "804: |     80: 45 45 45 45 45 45 45 45 45 45 45 00 45 63 74 64   EEEEEEEEEEE.Ectd",
          "805: |     96: 34 20 4f 4e 20 61 62 6c 5d 74 38 38 74 04 43 52   4 ON abl]t88t.CR",
          "806: |    112: 45 41 54 45 20 54 41 42 4c 45 20 74 34 28 87 29   EATE TABLE t4(.)",
          "807: |    128: 2a 06 06 13 13 01 00 00 00 4f 64 6e 78 74 33 44   *........Odnxt3D",
          "808: |    144: 74 13 05 43 52 45 41 54 45 20 49 6e 44 45 00 00   t..CREATE InDE..",
          "809: |    160: 00 00 00 00 00 00 00 f9 ff ff ff ff ff ff ff 00   ................",
          "810: |    176: 00 00 5f 00 fb 00 00 2d 00 00 00 00 00 00 00 00   .._....-........",
          "811: |    192: 00 00 00 00 00 00 00 00 00 00 00 00 00 1e 00 00   ................",
          "812: |    208: 00 fe 00 00 00 00 17 15 11 01 45 69 6e 64 65 2e   ..........Einde.",
          "813: |    224: 5b 38 63 64 74 3d 05 43 52 45 41 54 45 20 49 4e   [8cdt=.CREATE IN",
          "814: |    240: 44 45 58 20 63 20 64 32 20 4f 4e 20 74 32 28 0a   DEX c d2 ON t2(.",
          "815: |    256: 0c 44 32 05 00 10 00 00 11 11 3d 74 6c 62 61 d4   .D2.......=tlba.",
          "816: |    272: 65 33 74 33 04 43 52 45 41 54 45 20 54 41 42 4c   e3t3.CREATE TABL",
          "817: |    288: 45 20 74 36 ff ff 7f ff 43 52 45 41 54 45 20 49   E t6....CREATE I",
          "818: |    304: 73 71 6c 69 74 65 5f 73 65 71 75 65 6e 63 65 28   sqlite_sequence(",
          "819: |    320: 0a 0c 44 29 28 05 06 17 11 11 01 3d 74 6c 62 61   ..D)(......=tlba",
          "820: |    336: 20 00 00 00 33 04 43 52 45 41 54 45 20 54 41 42    ...3.CREATE TAB",
          "821: |    352: 4c 45 20 74 33 28 63 2c 78 2c 65 2c 66 29 28 02   LE t3(c,x,e,f)(.",
          "822: |    368: 06 00 00 7f ff 40 41 54 45 20 49 6e 44 45 58 20   .....@ATE InDEX",
          "823: |    384: 74 33 78 20 4f 4e 20 74 31 28 78 29 2e 04 06 17   t3x ON t1(x)....",
          "824: |    400: 15 11 01 45 69 6e 64 65 2e 74 34 63 64 74 3d 05   ...Einde.t4cdt=.",
          "825: |    416: 00 00 00 00 00 00 00 00 00 00 00 4d 00 00 00 00   ...........M....",
          "826: |    432: 01 00 00 00 00 00 00 05 00 00 10 00 00 00 00 00   ................",
          "827: |    448: 00 01 00 00 00 00 01 00 00 00 00 07 40 14 00 00   ............@...",
          "828: |    464: 00 00 21 00 40 18 00 00 00 00 00 00 40 1c 00 00   ..!.@.......@...",
          "829: |    480: 00 00 ff ff ff 00 00 00 5f 00 fb 00 00 2d 00 00   ........_....-..",
          "830: |    496: 00 00 00 1e 00 00 00 fe 00 00 64 00 00 ff fb 02   ..........d.....",
          "831: | page 4 offset 1536",
          "832: |      0: 0d 00 39 00 00 02 00 00 00 00 00 00 00 00 00 00   ..9.............",
          "833: | end a.db",
          "834: }]} {}",
          "837: do_catchsql_test 8.1 {",
          "838:   INSERT INTO t3 SELECT * FROM t2;",
          "839: } {1 {database disk image is malformed}}",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "44c99ecf9cd409c2f8b0992d973e9db102c812b8",
      "candidate_info": {
        "commit_hash": "44c99ecf9cd409c2f8b0992d973e9db102c812b8",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/44c99ecf9cd409c2f8b0992d973e9db102c812b8",
        "files": [
          "manifest",
          "manifest.uuid",
          "test/altertab3.test"
        ],
        "message": "Add extra test case for one of the problems fixed by the previous commit.\n\nFossilOrigin-Name: 0bbceebb126c94b5159079a341fa16e8424b7f2f6b9364561516964e871fb6e0",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "test/altertab3.test||test/altertab3.test"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: d3b6f1665f6fb5fc5cf1c0864d779d0b24746ada530f755c7b6ff34766bd2188",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "test/altertab3.test||test/altertab3.test": [
          "File: test/altertab3.test -> test/altertab3.test",
          "--- Hunk 1 ---",
          "[Context before]",
          "214:     SELECT true WHERE (SELECT a, b FROM (t1)) IN ();",
          "215:   END;",
          "216: }",
          "218: do_execsql_test 9.2 {",
          "219:   ALTER TABLE t1 RENAME TO t1x;",
          "220: }",
          "223: finish_test",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "221: #-------------------------------------------------------------------------",
          "222: reset_db",
          "223: do_execsql_test 10.1 {",
          "224:   CREATE TABLE t1(a, b, c);",
          "225:   CREATE TABLE t2(a, b, c);",
          "226:   CREATE VIEW v1 AS SELECT * FROM t1 WHERE (",
          "227:     SELECT t1.a FROM t1, t2",
          "228:   ) IN () OR t1.a=5;",
          "229: }",
          "231: do_execsql_test 10.2 {",
          "232:   ALTER TABLE t2 RENAME TO t3;",
          "233:   SELECT sql FROM sqlite_master WHERE name='v1';",
          "234: } {",
          "235:   {CREATE VIEW v1 AS SELECT * FROM t1 WHERE (",
          "236:     SELECT t1.a FROM t1, t2",
          "237:   ) IN () OR t1.a=5}",
          "238: }",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "39d1a2a100056edc4d7eafd0876e2cbcb21c4e71",
      "candidate_info": {
        "commit_hash": "39d1a2a100056edc4d7eafd0876e2cbcb21c4e71",
        "repo": "sqlite/sqlite",
        "commit_url": "https://github.com/sqlite/sqlite/commit/39d1a2a100056edc4d7eafd0876e2cbcb21c4e71",
        "files": [
          "manifest",
          "manifest.uuid",
          "src/sqlite.h.in"
        ],
        "message": "Minor documentation enhancements.  No changes to code.\n\nFossilOrigin-Name: 6153f3aada0cc9c5e773753797892ee78b518b0d76568382f5fbc9ee960f814c",
        "before_after_code_files": [
          "manifest.uuid||manifest.uuid",
          "src/sqlite.h.in||src/sqlite.h.in"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "manifest.uuid||manifest.uuid"
          ],
          "candidate": [
            "manifest.uuid||manifest.uuid"
          ]
        }
      },
      "candidate_diff": {
        "manifest.uuid||manifest.uuid": [
          "File: manifest.uuid -> manifest.uuid",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: 9b14eb77548d3f65f5a4c9b16cecdbce8a3fb663692aa8315fbd21aab3e89f0d",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/sqlite.h.in||src/sqlite.h.in": [
          "File: src/sqlite.h.in -> src/sqlite.h.in"
        ]
      }
    }
  ]
}