{
  "cve_id": "CVE-2016-5732",
  "cve_desc": "Multiple cross-site scripting (XSS) vulnerabilities in the partition-range implementation in templates/table/structure/display_partitions.phtml in the table-structure page in phpMyAdmin 4.6.x before 4.6.3 allow remote attackers to inject arbitrary web script or HTML via crafted table parameters.",
  "repo": "phpmyadmin/phpmyadmin",
  "patch_hash": "0815af37f483f329f0c0565d68821fea9c47b5f5",
  "patch_info": {
    "commit_hash": "0815af37f483f329f0c0565d68821fea9c47b5f5",
    "repo": "phpmyadmin/phpmyadmin",
    "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/0815af37f483f329f0c0565d68821fea9c47b5f5",
    "files": [
      "templates/table/structure/display_partitions.phtml"
    ],
    "message": "Add missing escaping to partition listing\n\nSigned-off-by: Michal \u010ciha\u0159 <michal@cihar.com>",
    "before_after_code_files": [
      "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
    ]
  },
  "patch_diff": {
    "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
      "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
      "--- Hunk 1 ---",
      "[Context before]",
      "10:         <?php else: ?>",
      "11:             <p>",
      "12:                 <?= __('Partitioned by:');?>",
      "14:             </p>",
      "15:             <?php if ($hasSubPartitions): ?>",
      "16:                 <p>",
      "17:                     <?= __('Sub partitioned by:'); ?>",
      "19:                 <p>",
      "20:             <?php endif; ?>",
      "21:             <table>",
      "",
      "[Removed Lines]",
      "13:                 <code><?= $partitionMethod , '(' , $partitionExpression , ' )'; ?></code>",
      "18:                     <code><?= $subPartitionMethod , '(' , $subPartitionExpression , ' )'; ?></code>",
      "",
      "[Added Lines]",
      "13:                 <code><?= htmlspecialchars($partitionMethod) , '(' , htmlspecialchars($partitionExpression) , ' )'; ?></code>",
      "18:                     <code><?= htmlspecialchars($subPartitionMethod) , '(' , htmlspecialchars($subPartitionExpression) , ' )'; ?></code>",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "139:             <?php endif; ?>",
      "140:         </form>",
      "141:     </fieldset>",
      "",
      "[Removed Lines]",
      "142: </div>",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "cac3676b947c03d7f62955818a1ec17572181378",
      "candidate_info": {
        "commit_hash": "cac3676b947c03d7f62955818a1ec17572181378",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/cac3676b947c03d7f62955818a1ec17572181378",
        "files": [
          "templates/table/structure/display_partitions.phtml",
          "templates/table/structure/display_structure.phtml"
        ],
        "message": "Hash and Key type partitions does not support dropping\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml",
          "templates/table/structure/display_structure.phtml||templates/table/structure/display_structure.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ],
          "candidate": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ]
        }
      },
      "candidate_diff": {
        "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
          "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "25:                     <th><?php echo __('Data length'); ?></th>",
          "26:                     <th><?php echo __('Index length'); ?></th>",
          "27:                     <th><?php echo __('Comment'); ?></th>",
          "29:                 </tr>",
          "30:             </thead>",
          "31:             <tbody>",
          "",
          "[Removed Lines]",
          "28:                     <th colspan=\"7\"><?php echo __('Action'); ?></th>",
          "",
          "[Added Lines]",
          "28:                     <th colspan=\"<?php echo $rangeOrList ? '7' : '6'; ?>\">",
          "29:                         <?php echo __('Action'); ?>",
          "30:                     </th>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "110:                                     <span class=\"unit\"><?php echo $unit; ?></span>",
          "111:                                 </td>",
          "112:                                 <td><?php echo $subParition->getComment(); ?></td>",
          "114:                             </tr>",
          "115:                         <?php endforeach; ?>",
          "116:                     <?php endif; ?>",
          "",
          "[Removed Lines]",
          "113:                                 <td colspan=\"7\"></td>",
          "",
          "[Added Lines]",
          "115:                                 <td colspan=\"<?php echo $rangeOrList ? '7' : '6'; ?>\"></td>",
          "",
          "---------------"
        ],
        "templates/table/structure/display_structure.phtml||templates/table/structure/display_structure.phtml": [
          "File: templates/table/structure/display_structure.phtml -> templates/table/structure/display_structure.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "170:     $partitions = PMA_Partition::getPartitions($db, $table);",
          "171:     $firstPartition = $partitions[0];",
          "172:     $subParitions = $firstPartition->getSubPartitions();",
          "173:     $hasSubPartitions = $firstPartition->hasSubPartitions();",
          "174:     if ($hasSubPartitions) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "172:     $rangeOrList = $firstPartition->getMethod() == 'RANGE'",
          "173:         || $firstPartition->getMethod() == 'LIST';",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "182:         'REBUILD' => PMA_Util::getIcon('s_tbl.png', __('Rebuild')),",
          "183:         'REPAIR' => PMA_Util::getIcon('b_tblops.png', __('Repair')),",
          "184:         'TRUNCATE' => PMA_Util::getIcon('b_empty.png', __('Truncate')),",
          "186:     );",
          "188:     echo PMA_Util::getDivForSliderEffect(",
          "189:         'partitions', __('Partitions')",
          "",
          "[Removed Lines]",
          "185:         'DROP' => PMA_Util::getIcon('b_drop.png', __('Drop'))",
          "",
          "[Added Lines]",
          "188:     if ($rangeOrList) {",
          "189:         $actionIcons['DROP'] = PMA_Util::getIcon('b_drop.png', __('Drop'));",
          "190:     }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "201:             'subPartitionMethod' => $hasSubPartitions ? $firstSubPartition->getMethod() : null,",
          "202:             'subPartitionExpression' => $hasSubPartitions ? $firstSubPartition->getExpression() : null,",
          "203:             'actionIcons' => $actionIcons,",
          "204:         )",
          "205:     );",
          "206: ?>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "208:             'rangeOrList' => $rangeOrList,",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "088cb74573d53c7f1aa04a0c7b0a08650f76c584",
      "candidate_info": {
        "commit_hash": "088cb74573d53c7f1aa04a0c7b0a08650f76c584",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/088cb74573d53c7f1aa04a0c7b0a08650f76c584",
        "files": [
          "templates/table/structure/display_partitions.phtml"
        ],
        "message": "Fix expression for LIST type partitions\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ],
          "candidate": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ]
        }
      },
      "candidate_diff": {
        "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
          "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "40:                     <th><?php echo htmlspecialchars($partition->getName()); ?></th>",
          "41:                     <?php if ($hasDescription): ?>",
          "42:                         <td>",
          "45:                         </td>",
          "46:                     <?php endif; ?>",
          "47:                     <td class=\"value\"><?php echo $partition->getRows(); ?></td>",
          "",
          "[Removed Lines]",
          "43:                             <code><?php echo htmlspecialchars($partition->getExpression()",
          "44:                                 . ' < ' . $partition->getDescription()); ?></code>",
          "",
          "[Added Lines]",
          "43:                             <code>",
          "44:                                 <?php",
          "45:                                 echo htmlspecialchars($partition->getExpression())",
          "46:                                     . ($partition->getMethod() == 'LIST' ? ' IN (' : ' < ')",
          "47:                                     . htmlspecialchars($partition->getDescription())",
          "48:                                     . ($partition->getMethod() == 'LIST' ? ')' : '');",
          "49:                                 ?>",
          "50:                             </code>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "6c28a7020f2aaba5e3ac2bda287bdc71974c2d47",
      "candidate_info": {
        "commit_hash": "6c28a7020f2aaba5e3ac2bda287bdc71974c2d47",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/6c28a7020f2aaba5e3ac2bda287bdc71974c2d47",
        "files": [
          "libraries/Partition.class.php",
          "libraries/controllers/TableStructureController.class.php",
          "templates/table/structure/display_partitions.phtml",
          "templates/table/structure/display_structure.phtml"
        ],
        "message": "Add partition table\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "libraries/Partition.class.php||libraries/Partition.class.php",
          "libraries/controllers/TableStructureController.class.php||libraries/controllers/TableStructureController.class.php",
          "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml",
          "templates/table/structure/display_structure.phtml||templates/table/structure/display_structure.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ],
          "candidate": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ]
        }
      },
      "candidate_diff": {
        "libraries/Partition.class.php||libraries/Partition.class.php": [
          "File: libraries/Partition.class.php -> libraries/Partition.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "95:         $this->indexLength = $row['INDEX_LENGTH'];",
          "96:     }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "103:     public function getName()",
          "104:     {",
          "105:         return $this->name;",
          "106:     }",
          "113:     public function getOrdinal()",
          "114:     {",
          "115:         return $this->ordinal;",
          "116:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "174:         $this->subPartitions[] = $parition;",
          "175:     }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "202:     public function hasSubParitions()",
          "203:     {",
          "204:         return ! empty($this->subPartitions);",
          "205:     }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "228:         }",
          "229:     }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "266:     public function getSubParitions()",
          "267:     {",
          "268:         return $this->subPartitions;",
          "269:     }",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "258:                     if (! empty($row['SUBPARTITION_NAME'])) {",
          "259:                         $parentPartition = $partition;",
          "260:                         $partition = new PMA_SubPartition($row);",
          "262:                     }",
          "263:                 }",
          "264:                 return array_values($partitionMap);",
          "",
          "[Removed Lines]",
          "261:                         $parentPartition->addSubPartition($parition);",
          "",
          "[Added Lines]",
          "301:                         $parentPartition->addSubPartition($partition);",
          "",
          "---------------"
        ],
        "libraries/controllers/TableStructureController.class.php||libraries/controllers/TableStructureController.class.php": [
          "File: libraries/controllers/TableStructureController.class.php -> libraries/controllers/TableStructureController.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "12: use PMA\\Template;",
          "13: use PMA_Index;",
          "14: use PMA_Table;",
          "15: use PMA_Message;",
          "16: use PMA_PageSettings;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "14: use PMA_Partition;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "21: require_once 'libraries/common.inc.php';",
          "22: require_once 'libraries/tbl_info.inc.php';",
          "23: require_once 'libraries/Index.class.php';",
          "24: require_once 'libraries/mysql_charsets.inc.php';",
          "25: require_once 'libraries/config/page_settings.class.php';",
          "26: require_once 'libraries/transformations.lib.php';",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "25: require_once 'libraries/Partition.class.php';",
          "",
          "---------------"
        ],
        "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
          "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: <div id=\"partitions\">",
          "2:     <fieldset>",
          "3:         <legend><?php echo __('Partitions')",
          "4:             . PMA_Util::showMySQLDocu('partitioning'); ?>",
          "5:         </legend>",
          "6:         <table>",
          "7:             <thead>",
          "8:                 <tr>",
          "9:                     <th colspan=\"2\">#</th>",
          "10:                     <th><?php echo __('Name'); ?></th>",
          "11:                     <th><?php echo __('Rows'); ?></th>",
          "12:                     <th><?php echo __('Data length'); ?></th>",
          "13:                     <th><?php echo __('Index length'); ?></th>",
          "14:                     <th><?php echo __('Action'); ?></th>",
          "15:                 </tr>",
          "16:             </thead>",
          "17:             <tbody>",
          "18:             <?php $odd = true; ?>",
          "19:             <?php foreach ($partitions as $partition): ?>",
          "20:                 <tr class=\"noclick <?php echo $odd ? 'odd' : 'even' ?>\">",
          "21:                     <?php if ($partition->hasSubParitions()): ?>",
          "22:                         <td><?php echo $partition->getOrdinal(); ?></td>",
          "23:                         <td></td>",
          "24:                     <?php else: ?>",
          "25:                         <td colspan=\"2\"><?php echo $partition->getOrdinal(); ?></td>",
          "26:                     <?php endif; ?>",
          "27:                     <th><?php echo htmlspecialchars($partition->getName()); ?></th>",
          "28:                     <td class=\"value\"><?php echo $partition->getRows(); ?></td>",
          "29:                     <td class=\"value\"><?php",
          "30:                         list($value, $unit) = PMA_Util::formatByteDown(",
          "31:                             $partition->getDataLength(), 3, 1",
          "32:                         );",
          "33:                         ?>",
          "34:                         <span><?php echo $value; ?></span>",
          "35:                         <span class=\"unit\"><?php echo $unit; ?></span>",
          "36:                     </td>",
          "37:                     <td class=\"value\"><?php",
          "38:                         list($value, $unit) = PMA_Util::formatByteDown(",
          "39:                             $partition->getIndexLength(), 3, 1",
          "40:                         );",
          "41:                         ?>",
          "42:                         <span><?php echo $value; ?></span>",
          "43:                         <span class=\"unit\"><?php echo $unit; ?></span>",
          "44:                     </td>",
          "45:                     <td></td>",
          "46:                     <?php if ($partition->hasSubParitions()): ?>",
          "47:                         <?php foreach ($partition->getSubParitions() as $subParition): ?>",
          "48:                             <tr class=\"noclick <?php echo $odd ? 'odd' : 'even' ?>\">",
          "49:                                 <td></td>",
          "50:                                 <td><?php echo $subParition->getOrdinal(); ?></td>",
          "51:                                 <td><?php echo htmlspecialchars($subParition->getName()); ?></td>",
          "52:                                 <td class=\"value\"><?php echo $subParition->getRows(); ?></td>",
          "53:                                 <td class=\"value\"><?php",
          "54:                                     list($value, $unit) = PMA_Util::formatByteDown(",
          "55:                                         $subParition->getDataLength(), 3, 1",
          "56:                                     );",
          "57:                                     ?>",
          "58:                                     <span><?php echo $value; ?></span>",
          "59:                                     <span class=\"unit\"><?php echo $unit; ?></span>",
          "60:                                 </td>",
          "61:                                 <td class=\"value\"><?php",
          "62:                                     list($value, $unit) = PMA_Util::formatByteDown(",
          "63:                                         $subParition->getIndexLength(), 3, 1",
          "64:                                     );",
          "65:                                     ?>",
          "66:                                     <span><?php echo $value; ?></span>",
          "67:                                     <span class=\"unit\"><?php echo $unit; ?></span>",
          "68:                                 </td>",
          "69:                                 <td></td>",
          "70:                             </tr>",
          "71:                         <?php endforeach; ?>",
          "72:                     <?php endif; ?>",
          "73:                 </tr>",
          "74:                 <?php $odd = ! $odd; ?>",
          "75:             <?php endforeach; ?>",
          "76:             </tbody>",
          "77:         </table>",
          "78:     </fieldset>",
          "79: </div>",
          "",
          "---------------"
        ],
        "templates/table/structure/display_structure.phtml||templates/table/structure/display_structure.phtml": [
          "File: templates/table/structure/display_structure.phtml -> templates/table/structure/display_structure.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "154:         array('columns_list' => $columns_list)",
          "155:     ); ?>",
          "156: <?php endif; ?>",
          "157: <!--Displays indexes-->",
          "158: <?php if (! $tbl_is_view",
          "159:     && ! $db_is_system_schema && 'ARCHIVE' !=  $tbl_storage_engine): ?>",
          "160:     <?php echo PMA_getHtmlForDisplayIndexes(); ?>",
          "161: <?php endif; ?>",
          "162: <!--Displays Space usage and row statistics-->",
          "163: <?php if ($GLOBALS['cfg']['ShowStats']): ?>",
          "164:     <?php echo $tablestats;  ?>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "164: <!--Display partition details-->",
          "165: <?php",
          "166: $partition_names = PMA_Partition::getPartitionNames($db, $table);",
          "168: if (! is_null($partition_names[0])) {",
          "169:     echo PMA\\Template::get('table/structure/display_partitions')->render(",
          "170:         array(",
          "171:             'partitions' => PMA_Partition::getParititions($db, $table)",
          "172:         )",
          "173:     );",
          "174: }",
          "175: ?>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "51da800173fa046f646cbbe0378d70150c2b2567",
      "candidate_info": {
        "commit_hash": "51da800173fa046f646cbbe0378d70150c2b2567",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/51da800173fa046f646cbbe0378d70150c2b2567",
        "files": [
          "libraries/Partition.class.php",
          "templates/table/structure/display_partitions.phtml"
        ],
        "message": "Add details about partition method and expression\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "libraries/Partition.class.php||libraries/Partition.class.php",
          "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ],
          "candidate": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ]
        }
      },
      "candidate_diff": {
        "libraries/Partition.class.php||libraries/Partition.class.php": [
          "File: libraries/Partition.class.php -> libraries/Partition.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "115:         return $this->ordinal;",
          "116:     }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "123:     public function getMethod()",
          "124:     {",
          "125:         return $this->method;",
          "126:     }",
          "133:     public function getExpression()",
          "134:     {",
          "135:         return $this->expression;",
          "136:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "182:         }",
          "183:     }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "210:     public function getDescription()",
          "211:     {",
          "212:         return $this->description;",
          "213:     }",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "267:     {",
          "268:         return $this->subPartitions;",
          "269:     }",
          "",
          "[Removed Lines]",
          "266:     public function getSubParitions()",
          "",
          "[Added Lines]",
          "296:     public function getSubPartitions()",
          "",
          "---------------"
        ],
        "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
          "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "3:         <legend><?php echo __('Partitions')",
          "4:             . PMA_Util::showMySQLDocu('partitioning'); ?>",
          "5:         </legend>",
          "6:         <table>",
          "7:             <thead>",
          "8:                 <tr>",
          "9:                     <th colspan=\"2\">#</th>",
          "10:                     <th><?php echo __('Name'); ?></th>",
          "11:                     <th><?php echo __('Rows'); ?></th>",
          "12:                     <th><?php echo __('Data length'); ?></th>",
          "13:                     <th><?php echo __('Index length'); ?></th>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6:         <?php",
          "7:             $firstPartition = $partitions[0];",
          "8:             $hasSubPartitions = $firstPartition->hasSubPartitions();",
          "9:             $hasDescription = ! empty($firstPartition->getDescription());",
          "10:         ?>",
          "11:         <p>",
          "12:             <?php echo __('Partitioned by:');?>",
          "13:             <code><?php echo $firstPartition->getMethod()",
          "14:                 . '(' . $firstPartition->getExpression() . ' )'; ?></code>",
          "15:         </p>",
          "16:         <?php if ($hasSubPartitions): ?>",
          "17:             <?php",
          "18:                 $subParitions = $firstPartition->getSubPartitions();",
          "19:                 $fristSubParition = $subParitions[0];",
          "20:             ?>",
          "21:             <p>",
          "22:                 <?php echo __('Sub partitioned by:'); ?>",
          "23:                 <code><?php echo $fristSubParition->getMethod()",
          "24:                     . '(' . $fristSubParition->getExpression() . ' )'; ?></code>",
          "25:             <p>",
          "26:         <?php endif; ?>",
          "32:                     <?php if ($hasDescription): ?>",
          "33:                         <th><?php echo __('Expression'); ?></th>",
          "34:                     <?php endif; ?>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28:                 );",
          "29:             ?>",
          "30:             <?php foreach ($partitions as $partition): ?>",
          "32:                 <tr class=\"noclick <?php echo $odd ? 'odd' : 'even'; echo $hasSubPartitions ? ' marked' : '';?>\">",
          "33:                     <?php if ($hasSubPartitions): ?>",
          "34:                         <td><?php echo $partition->getOrdinal(); ?></td>",
          "",
          "[Removed Lines]",
          "31:                 <?php $hasSubPartitions = $partition->hasSubPartitions(); ?>",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "37:                         <td colspan=\"2\"><?php echo $partition->getOrdinal(); ?></td>",
          "38:                     <?php endif; ?>",
          "39:                     <th><?php echo htmlspecialchars($partition->getName()); ?></th>",
          "40:                     <td class=\"value\"><?php echo $partition->getRows(); ?></td>",
          "41:                     <td class=\"value\"><?php",
          "42:                         list($value, $unit) = PMA_Util::formatByteDown(",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "63:                     <?php if ($hasDescription): ?>",
          "64:                         <td>",
          "65:                             <code><?php echo htmlspecialchars($partition->getExpression()",
          "66:                                 . ' < ' . $partition->getDescription()); ?></code>",
          "67:                         </td>",
          "68:                     <?php endif; ?>",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "69:                     <?php endforeach; ?>",
          "71:                     <?php if ($hasSubPartitions): ?>",
          "73:                             <tr class=\"noclick <?php echo $odd ? 'odd' : 'even' ?>\">",
          "74:                                 <td></td>",
          "75:                                 <td><?php echo $subParition->getOrdinal(); ?></td>",
          "76:                                 <td><?php echo htmlspecialchars($subParition->getName()); ?></td>",
          "77:                                 <td class=\"value\"><?php echo $subParition->getRows(); ?></td>",
          "78:                                 <td class=\"value\"><?php",
          "79:                                     list($value, $unit) = PMA_Util::formatByteDown(",
          "",
          "[Removed Lines]",
          "72:                         <?php foreach ($partition->getSubParitions() as $subParition): ?>",
          "",
          "[Added Lines]",
          "101:                         <?php foreach ($partition->getSubPartitions() as $subParition): ?>",
          "106:                                 <?php if ($hasDescription): ?>",
          "107:                                     <td></td>",
          "108:                                 <?php endif; ?>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "2083cbb3645e374ba086a6c3c59f2763d3517920",
      "candidate_info": {
        "commit_hash": "2083cbb3645e374ba086a6c3c59f2763d3517920",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/2083cbb3645e374ba086a6c3c59f2763d3517920",
        "files": [
          "templates/table/structure/display_partitions.phtml"
        ],
        "message": "Remove extraneous space\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ],
          "candidate": [
            "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml"
          ]
        }
      },
      "candidate_diff": {
        "templates/table/structure/display_partitions.phtml||templates/table/structure/display_partitions.phtml": [
          "File: templates/table/structure/display_partitions.phtml -> templates/table/structure/display_partitions.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "11:         <?php else: ?>",
          "12:             <p>",
          "13:                 <?= __('Partitioned by:');?>",
          "15:             </p>",
          "16:             <?php if ($hasSubPartitions): ?>",
          "17:                 <p>",
          "18:                     <?= __('Sub partitioned by:'); ?>",
          "20:                 <p>",
          "21:             <?php endif; ?>",
          "22:             <table>",
          "",
          "[Removed Lines]",
          "14:                 <code><?= htmlspecialchars($partitionMethod) , '(' , htmlspecialchars($partitionExpression) , ' )'; ?></code>",
          "19:                     <code><?= htmlspecialchars($subPartitionMethod) , '(' , htmlspecialchars($subPartitionExpression) , ' )'; ?></code>",
          "",
          "[Added Lines]",
          "14:                 <code><?= htmlspecialchars($partitionMethod) , '(' , htmlspecialchars($partitionExpression) , ')'; ?></code>",
          "19:                     <code><?= htmlspecialchars($subPartitionMethod) , '(' , htmlspecialchars($subPartitionExpression) , ')'; ?></code>",
          "",
          "---------------"
        ]
      }
    }
  ]
}