{
  "cve_id": "CVE-2015-8895",
  "cve_desc": "Integer overflow in coders/icon.c in ImageMagick 6.9.1-3 and later allows remote attackers to cause a denial of service (application crash) via a crafted length value, which triggers a buffer overflow.",
  "repo": "ImageMagick/ImageMagick",
  "patch_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
  "patch_info": {
    "commit_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "repo": "ImageMagick/ImageMagick",
    "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "files": [
      "MagickCore/memory.c",
      "MagickCore/studio.h",
      "MagickCore/version.c",
      "MagickCore/version.h",
      "MagickWand/studio.h",
      "coders/icon.c",
      "coders/pict.c",
      "configure",
      "configure.ac"
    ],
    "message": "",
    "before_after_code_files": [
      "MagickCore/memory.c||MagickCore/memory.c",
      "MagickCore/studio.h||MagickCore/studio.h",
      "MagickCore/version.c||MagickCore/version.c",
      "MagickCore/version.h||MagickCore/version.h",
      "MagickWand/studio.h||MagickWand/studio.h",
      "coders/icon.c||coders/icon.c",
      "coders/pict.c||coders/pict.c",
      "configure.ac||configure.ac"
    ]
  },
  "patch_diff": {
    "MagickCore/memory.c||MagickCore/memory.c": [
      "File: MagickCore/memory.c -> MagickCore/memory.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "606:     }",
      "607:   if ((memory_info->blob == NULL) &&",
      "608:       (AcquireMagickResource(MapResource,length) != MagickFalse))",
      "611:         Heap memory failed, try anonymous memory mapping.",
      "",
      "[Removed Lines]",
      "609:     {",
      "",
      "[Added Lines]",
      "609:     {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "615:         memory_info->type=MapVirtualMemory;",
      "616:       else",
      "617:         RelinquishMagickResource(MapResource,length);",
      "619:   if (memory_info->blob == NULL)",
      "621:       int",
      "627:       file=AcquireUniqueFileResource(memory_info->filename);",
      "628:       if (file != -1)",
      "629:         {",
      "",
      "[Removed Lines]",
      "618:     }",
      "620:     {",
      "622:         file;",
      "625:         Anonymous memory mapping failed, try file-backed memory mapping.",
      "",
      "[Added Lines]",
      "619:   if ((memory_info->blob == NULL) &&",
      "620:       (AcquireMagickResource(DiskResource,length) != MagickFalse))",
      "621:     {",
      "623:         file;",
      "628:       file=AcquireUniqueFileResource(memory_info->filename);",
      "629:       if (file == -1)",
      "631:       else",
      "632:         {",
      "633:           if ((lseek(file,length-1,SEEK_SET) < 0) || (write(file,\"\",1) != 1))",
      "634:             RelinquishMagickResource(DiskResource,length);",
      "635:           else",
      "636:             {",
      "637:               if (AcquireMagickResource(MapResource,length) == MagickFalse)",
      "638:                 RelinquishMagickResource(DiskResource,length);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1033: %",
      "1035: MagickExport MemoryInfo *RelinquishVirtualMemory(MemoryInfo *memory_info)",
      "1037:   assert(memory_info != (MemoryInfo *) NULL);",
      "1038:   assert(memory_info->signature == MagickSignature);",
      "1039:   if (memory_info->blob != (void *) NULL)",
      "",
      "[Removed Lines]",
      "1036: {",
      "",
      "[Added Lines]",
      "1048: {",
      "1049:   assert(memory_info != (MemoryInfo *) NULL);",
      "1050:   assert(memory_info->signature == MagickSignature);",
      "1051:   if (memory_info->blob != (void *) NULL)",
      "",
      "---------------"
    ],
    "MagickCore/studio.h||MagickCore/studio.h": [
      "File: MagickCore/studio.h -> MagickCore/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline  _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "75: #  include <stdlib.h>",
      "76: # endif",
      "77: #endif",
      "78: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "79: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "80: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "75: #if defined(_magickcore_restrict) && !defined(restrict)",
      "76: # define restrict  _magickcore_restrict",
      "77: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.c||MagickCore/version.c": [
      "File: MagickCore/version.c -> MagickCore/version.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "219: %      const char *GetMagickFeatures(void)",
      "220: %",
      "221: %  No parameters are required.",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "227: #if defined(MAGICKCORE_BUILD_MODULES) || defined(_DLL)",
      "228:   \" Modules\"",
      "229: #endif",
      "230: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "231:   \" HDRI\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "234:   \" OpenCL\"",
      "235: #endif",
      "",
      "[Removed Lines]",
      "222: %",
      "",
      "[Added Lines]",
      "222: %",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "231:   \" Cipher\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "239: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "240:   \" OpenCL\"",
      "241: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.h||MagickCore/version.h": [
      "File: MagickCore/version.h -> MagickCore/version.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "28: #define MagickPackageName \"ImageMagick\"",
      "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
      "31: #define MagickLibVersion  0x700",
      "32: #define MagickLibVersionText  \"7.0.0\"",
      "33: #define MagickLibVersionNumber  0,0,0",
      "",
      "[Removed Lines]",
      "30: #define MagickSVNRevision  \"18658:18662M\"",
      "",
      "[Added Lines]",
      "30: #define MagickSVNRevision  \"18670M\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "48: #define MagickppLibAddendum  \"-0\"",
      "49: #define MagickppLibInterface  0",
      "50: #define MagickppLibMinInterface  0",
      "52: #define MagickChangeDate   \"20120427\"",
      "53: #define MagickAuthoritativeLicense  \\",
      "54:   \"http://www.imagemagick.org/script/license.php\"",
      "55: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
      "57: #define MagickDelegates \"bzlib djvu mpeg fftw fpx fontconfig freetype jbig jng jpeg lcms lzma openexr pango png ps tiff webp x xml zlib\"",
      "58: #define MagickHomeURL  \"file:///usr/local/share/doc/ImageMagick-7/index.html\"",
      "59: #if (MAGICKCORE_QUANTUM_DEPTH == 8)",
      "",
      "[Removed Lines]",
      "51: #define MagickReleaseDate  \"2015-05-26\"",
      "56: #define MagickFeatures \"DPC HDRI OpenMP\"",
      "",
      "[Added Lines]",
      "51: #define MagickReleaseDate  \"2015-05-29\"",
      "56: #define MagickFeatures \"DPC HDRI Cipher OpenMP\"",
      "",
      "---------------"
    ],
    "MagickWand/studio.h||MagickWand/studio.h": [
      "File: MagickWand/studio.h -> MagickWand/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "77: #  include <stdlib.h>",
      "78: # endif",
      "79: #endif",
      "80: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "81: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "82: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "77: #if defined(_magickcore_restrict) && !defined(restrict)",
      "78: # define restrict  _magickcore_restrict",
      "79: #endif",
      "",
      "---------------"
    ],
    "coders/icon.c||coders/icon.c": [
      "File: coders/icon.c -> coders/icon.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "183:     size_t",
      "184:       size;",
      "189:     size=(size_t)strtol(p,&q,10);",
      "190:     if (p == q || size < 16 || size > 256)",
      "",
      "[Removed Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "[Added Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "355:         unsigned char",
      "359:           Icon image encoded as a compressed PNG image.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "coders/pict.c||coders/pict.c": [
      "File: coders/pict.c -> coders/pict.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1637:     source_rectangle;",
      "1639:   register const Quantum",
      "1642:   register ssize_t",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1649:     storage_class;",
      "1651:   ssize_t",
      "1654:   unsigned char",
      "",
      "[Removed Lines]",
      "1652:     y;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1682:     Initialize image info.",
      "1685:   size_rectangle.left=0;",
      "1686:   size_rectangle.bottom=(short) image->rows;",
      "1687:   size_rectangle.right=(short) image->columns;",
      "",
      "[Removed Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "[Added Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "1711:   y_resolution=image->resolution.y != 0.0 ? image->resolution.y :",
      "1712:     DefaultResolution;",
      "1713:   storage_class=image->storage_class;",
      "1715:     storage_class=DirectClass;",
      "1716:   if (storage_class == DirectClass)",
      "1717:     {",
      "",
      "[Removed Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "[Added Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "---------------"
    ],
    "configure.ac||configure.ac": [
      "File: configure.ac -> configure.ac",
      "--- Hunk 1 ---",
      "[Context before]",
      "643: if test \"$enable_cipher\" = 'yes'; then",
      "644:     AC_DEFINE(CIPHER_SUPPORT,1,[permit enciphering and deciphering image pixels])",
      "645: fi",
      "647: # Build a zero-configuration version of ImageMagick.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "645:     MAGICK_FEATURES=\"Cipher $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "654: if test \"$enable_zero_configuration\" = 'yes'; then",
      "655:     AC_DEFINE(ZERO_CONFIGURATION_SUPPORT,1,[Build self-contained, embeddable, zero-configuration ImageMagick])",
      "657: fi",
      "659: # Build a high dynamic range version of ImageMagick.",
      "",
      "[Removed Lines]",
      "656:     MAGICK_FEATURES=\"Zero-Configuration $MAGICK_FEATURES\"",
      "",
      "[Added Lines]",
      "657:     MAGICK_FEATURES=\"Zero-configuration $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "3996: if test \"$build_modules\" != 'no'; then",
      "3997:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "3998: else",
      "4000: fi",
      "4001: AC_SUBST(MAGICK_DEP_LIBS)",
      "",
      "[Removed Lines]",
      "3999:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "[Added Lines]",
      "4000:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIB $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "6fef95b1594ff2b0228a0b25cbb062943d9e82ce",
      "candidate_info": {
        "commit_hash": "6fef95b1594ff2b0228a0b25cbb062943d9e82ce",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/6fef95b1594ff2b0228a0b25cbb062943d9e82ce",
        "files": [
          "MagickCore/version.h",
          "Makefile.in",
          "coders/Makefile.am",
          "configure"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "Makefile.in||Makefile.in",
          "coders/Makefile.am||coders/Makefile.am"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  0,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"18648M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"18658:18662M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  0",
          "50: #define MagickppLibMinInterface  0",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeLicense  \\",
          "54:   \"http://www.imagemagick.org/script/license.php\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2015-05-25\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2015-05-26\"",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "1637:  $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \\",
          "1638:  $(am__DEPENDENCIES_1) $(am__DEPENDENCIES_1) \\",
          "1639:  $(am__DEPENDENCIES_1)",
          "1641: coders_tiff_la_OBJECTS = $(am_coders_tiff_la_OBJECTS)",
          "1642: coders_tiff_la_LINK = $(LIBTOOL) $(AM_V_lt) --tag=CC \\",
          "1643:  $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=link $(CCLD) \\",
          "",
          "[Removed Lines]",
          "1640: am_coders_tiff_la_OBJECTS = coders/coders_tiff_la-tiff.lo",
          "",
          "[Added Lines]",
          "1640: am_coders_tiff_la_OBJECTS = coders/coders_tiff_la-tiff.lo \\",
          "1641:  coders/coders_tiff_la-psd.lo",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "4008: coders_thumbnail_la_LIBADD = $(MAGICKCORE_LIBS)",
          "4010: # TIFF coder module",
          "4012: coders_tiff_la_CPPFLAGS = $(MAGICK_CODER_CPPFLAGS)",
          "4013: coders_tiff_la_LDFLAGS = $(MODULECOMMONFLAGS)",
          "4014: coders_tiff_la_LIBADD = $(MAGICKCORE_LIBS) $(TIFF_LIBS) $(JBIG_LIBS) $(JPEG_LIBS) $(LZMA_LIBS) $(ZLIB_LIBS) $(MATH_LIBS)",
          "",
          "[Removed Lines]",
          "4011: coders_tiff_la_SOURCES = coders/tiff.c coders/psd-private.h",
          "",
          "[Added Lines]",
          "4012: coders_tiff_la_SOURCES = coders/tiff.c coders/psd.c coders/psd-private.h",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "6696:  $(AM_V_CCLD)$(coders_thumbnail_la_LINK) $(am_coders_thumbnail_la_rpath) $(coders_thumbnail_la_OBJECTS) $(coders_thumbnail_la_LIBADD) $(LIBS)",
          "6697: coders/coders_tiff_la-tiff.lo: coders/$(am__dirstamp) \\",
          "6698:  coders/$(DEPDIR)/$(am__dirstamp)",
          "6700: coders/tiff.la: $(coders_tiff_la_OBJECTS) $(coders_tiff_la_DEPENDENCIES) $(EXTRA_coders_tiff_la_DEPENDENCIES) coders/$(am__dirstamp)",
          "6701:  $(AM_V_CCLD)$(coders_tiff_la_LINK) $(am_coders_tiff_la_rpath) $(coders_tiff_la_OBJECTS) $(coders_tiff_la_LIBADD) $(LIBS)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "6700: coders/coders_tiff_la-psd.lo: coders/$(am__dirstamp) \\",
          "6701:  coders/$(DEPDIR)/$(am__dirstamp)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "7590: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_svg_la-svg.Plo@am__quote@",
          "7591: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_tga_la-tga.Plo@am__quote@",
          "7592: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_thumbnail_la-thumbnail.Plo@am__quote@",
          "7593: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_tiff_la-tiff.Plo@am__quote@",
          "7594: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_tile_la-tile.Plo@am__quote@",
          "7595: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_tim_la-tim.Plo@am__quote@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7596: @AMDEP_TRUE@@am__include@ @am__quote@coders/$(DEPDIR)/coders_tiff_la-psd.Plo@am__quote@",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "10086: @AMDEP_TRUE@@am__fastdepCC_FALSE@ DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@",
          "10087: @am__fastdepCC_FALSE@ $(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(coders_tiff_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o coders/coders_tiff_la-tiff.lo `test -f 'coders/tiff.c' || echo '$(srcdir)/'`coders/tiff.c",
          "10089: coders/coders_tile_la-tile.lo: coders/tile.c",
          "10090: @am__fastdepCC_TRUE@ $(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(coders_tile_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT coders/coders_tile_la-tile.lo -MD -MP -MF coders/$(DEPDIR)/coders_tile_la-tile.Tpo -c -o coders/coders_tile_la-tile.lo `test -f 'coders/tile.c' || echo '$(srcdir)/'`coders/tile.c",
          "10091: @am__fastdepCC_TRUE@ $(AM_V_at)$(am__mv) coders/$(DEPDIR)/coders_tile_la-tile.Tpo coders/$(DEPDIR)/coders_tile_la-tile.Plo",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "10093: coders/coders_tiff_la-psd.lo: coders/psd.c",
          "10094: @am__fastdepCC_TRUE@ $(AM_V_CC)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(coders_tiff_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -MT coders/coders_tiff_la-psd.lo -MD -MP -MF coders/$(DEPDIR)/coders_tiff_la-psd.Tpo -c -o coders/coders_tiff_la-psd.lo `test -f 'coders/psd.c' || echo '$(srcdir)/'`coders/psd.c",
          "10095: @am__fastdepCC_TRUE@ $(AM_V_at)$(am__mv) coders/$(DEPDIR)/coders_tiff_la-psd.Tpo coders/$(DEPDIR)/coders_tiff_la-psd.Plo",
          "10096: @AMDEP_TRUE@@am__fastdepCC_FALSE@ $(AM_V_CC)source='coders/psd.c' object='coders/coders_tiff_la-psd.lo' libtool=yes @AMDEPBACKSLASH@",
          "10097: @AMDEP_TRUE@@am__fastdepCC_FALSE@ DEPDIR=$(DEPDIR) $(CCDEPMODE) $(depcomp) @AMDEPBACKSLASH@",
          "10098: @am__fastdepCC_FALSE@ $(AM_V_CC@am__nodep@)$(LIBTOOL) $(AM_V_lt) --tag=CC $(AM_LIBTOOLFLAGS) $(LIBTOOLFLAGS) --mode=compile $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(coders_tiff_la_CPPFLAGS) $(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS) -c -o coders/coders_tiff_la-psd.lo `test -f 'coders/psd.c' || echo '$(srcdir)/'`coders/psd.c",
          "",
          "---------------"
        ],
        "coders/Makefile.am||coders/Makefile.am": [
          "File: coders/Makefile.am -> coders/Makefile.am",
          "--- Hunk 1 ---",
          "[Context before]",
          "379: coders_braille_la_LIBADD   = $(MAGICKCORE_LIBS)",
          "381: # CALS coder module",
          "383: coders_cals_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "384: coders_cals_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "385: coders_cals_la_LIBADD      = $(MAGICKCORE_LIBS) $(MATH_LIBS)",
          "",
          "[Removed Lines]",
          "382: coders_cals_la_SOURCES    = coders/cals.c",
          "",
          "[Added Lines]",
          "382: coders_cals_la_SOURCES     = coders/cals.c",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "439: coders_dds_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "441: # DEBUG coder module",
          "447: # DIB coder module",
          "448: coders_dib_la_SOURCES      = coders/dib.c",
          "",
          "[Removed Lines]",
          "442: coders_debug_la_SOURCES      = coders/debug.c",
          "443: coders_debug_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "444: coders_debug_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "445: coders_debug_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "442: coders_debug_la_SOURCES    = coders/debug.c",
          "443: coders_debug_la_CPPFLAGS   = $(MAGICK_CODER_CPPFLAGS)",
          "444: coders_debug_la_LDFLAGS    = $(MODULECOMMONFLAGS)",
          "445: coders_debug_la_LIBADD     = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "505: coders_fax_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "507: # FD coder module",
          "513: # FITS coder module",
          "514: coders_fits_la_SOURCES     = coders/fits.c",
          "",
          "[Removed Lines]",
          "508: coders_fd_la_SOURCES      = coders/fd.c",
          "509: coders_fd_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "510: coders_fd_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "511: coders_fd_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "508: coders_fd_la_SOURCES       = coders/fd.c",
          "509: coders_fd_la_CPPFLAGS      = $(MAGICK_CODER_CPPFLAGS)",
          "510: coders_fd_la_LDFLAGS       = $(MODULECOMMONFLAGS)",
          "511: coders_fd_la_LIBADD        = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "553: coders_hald_la_LIBADD      = $(MAGICKCORE_LIBS) $(GOMP_LIBS)",
          "555: # HDR coder module",
          "561: # HRZ coder module",
          "562: coders_hrz_la_SOURCES      = coders/hrz.c",
          "",
          "[Removed Lines]",
          "556: coders_hdr_la_SOURCES     = coders/hdr.c",
          "557: coders_hdr_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "558: coders_hdr_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "559: coders_hdr_la_LIBADD      = $(MAGICKCORE_LIBS) $(GOMP_LIBS) $(MATH_LIBS)",
          "",
          "[Added Lines]",
          "556: coders_hdr_la_SOURCES      = coders/hdr.c",
          "557: coders_hdr_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "558: coders_hdr_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "559: coders_hdr_la_LIBADD       = $(MAGICKCORE_LIBS) $(GOMP_LIBS) $(MATH_LIBS)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "583: coders_info_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "585: # INLINE coder module",
          "591: # IPL coder module",
          "597: # JBIG coder module",
          "598: coders_jbig_la_SOURCES     = coders/jbig.c",
          "",
          "[Removed Lines]",
          "586: coders_inline_la_SOURCES      = coders/inline.c",
          "587: coders_inline_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "588: coders_inline_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "589: coders_inline_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "592: coders_ipl_la_SOURCES     = coders/ipl.c",
          "593: coders_ipl_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "594: coders_ipl_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "595: coders_ipl_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "586: coders_inline_la_SOURCES   = coders/inline.c",
          "587: coders_inline_la_CPPFLAGS  = $(MAGICK_CODER_CPPFLAGS)",
          "588: coders_inline_la_LDFLAGS   = $(MODULECOMMONFLAGS)",
          "589: coders_inline_la_LIBADD    = $(MAGICKCORE_LIBS)",
          "592: coders_ipl_la_SOURCES      = coders/ipl.c",
          "593: coders_ipl_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "594: coders_ipl_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "595: coders_ipl_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "613: coders_jp2_la_LIBADD       = $(MAGICKCORE_LIBS) $(LIBOPENJP2_LIBS) $(MATH_LIBS)",
          "615: # JNX coder module",
          "621: # JSON coder module",
          "622: coders_json_la_SOURCES     = coders/json.c",
          "",
          "[Removed Lines]",
          "616: coders_jnx_la_SOURCES     = coders/jnx.c",
          "617: coders_jnx_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "618: coders_jnx_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "619: coders_jnx_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "616: coders_jnx_la_SOURCES      = coders/jnx.c",
          "617: coders_jnx_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "618: coders_jnx_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "619: coders_jnx_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "649: coders_map_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "651: # MASK coder module",
          "657: # MAT coder module",
          "658: coders_mat_la_SOURCES      = coders/mat.c",
          "",
          "[Removed Lines]",
          "652: coders_mask_la_SOURCES    = coders/mask.c",
          "653: coders_mask_la_CPPFLAGS   = $(MAGICK_CODER_CPPFLAGS)",
          "654: coders_mask_la_LDFLAGS    = $(MODULECOMMONFLAGS)",
          "655: coders_mask_la_LIBADD     = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "652: coders_mask_la_SOURCES     = coders/mask.c",
          "653: coders_mask_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "654: coders_mask_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "655: coders_mask_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "739: coders_palm_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "741: # PANGO coder module",
          "747: # Pattern module",
          "753: # PCD coder module",
          "754: coders_pcd_la_SOURCES      = coders/pcd.c",
          "",
          "[Removed Lines]",
          "742: coders_pango_la_SOURCES  = coders/pango.c",
          "743: coders_pango_la_CPPFLAGS = $(MAGICK_CODER_CPPFLAGS) $(PANGO_CFLAGS)",
          "744: coders_pango_la_LDFLAGS  = $(MODULECOMMONFLAGS)",
          "745: coders_pango_la_LIBADD   = $(MAGICKCORE_LIBS) $(PANGO_LIBS)",
          "748: coders_pattern_la_SOURCES   = coders/pattern.c",
          "749: coders_pattern_la_CPPFLAGS  = $(MAGICK_CODER_CPPFLAGS)",
          "750: coders_pattern_la_LDFLAGS   = $(MODULECOMMONFLAGS)",
          "751: coders_pattern_la_LIBADD    = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "742: coders_pango_la_SOURCES    = coders/pango.c",
          "743: coders_pango_la_CPPFLAGS   = $(MAGICK_CODER_CPPFLAGS) $(PANGO_CFLAGS)",
          "744: coders_pango_la_LDFLAGS    = $(MODULECOMMONFLAGS)",
          "745: coders_pango_la_LIBADD     = $(MAGICKCORE_LIBS) $(PANGO_LIBS)",
          "748: coders_pattern_la_SOURCES  = coders/pattern.c",
          "749: coders_pattern_la_CPPFLAGS = $(MAGICK_CODER_CPPFLAGS)",
          "750: coders_pattern_la_LDFLAGS  = $(MODULECOMMONFLAGS)",
          "751: coders_pattern_la_LIBADD   = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "901: coders_sgi_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "903: # SIXEL coder module",
          "909: # STEGANO coder module",
          "910: coders_stegano_la_SOURCES  = coders/stegano.c",
          "",
          "[Removed Lines]",
          "904: coders_sixel_la_SOURCES      = coders/sixel.c",
          "905: coders_sixel_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "906: coders_sixel_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "907: coders_sixel_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "904: coders_sixel_la_SOURCES    = coders/sixel.c",
          "905: coders_sixel_la_CPPFLAGS   = $(MAGICK_CODER_CPPFLAGS)",
          "906: coders_sixel_la_LDFLAGS    = $(MODULECOMMONFLAGS)",
          "907: coders_sixel_la_LIBADD     = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "943: coders_thumbnail_la_LIBADD = $(MAGICKCORE_LIBS)",
          "945: # TIFF coder module",
          "947: coders_tiff_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "948: coders_tiff_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "949: coders_tiff_la_LIBADD      = $(MAGICKCORE_LIBS) $(TIFF_LIBS) $(JBIG_LIBS) $(JPEG_LIBS) $(LZMA_LIBS) $(ZLIB_LIBS) $(MATH_LIBS)",
          "",
          "[Removed Lines]",
          "946: coders_tiff_la_SOURCES     = coders/tiff.c coders/psd-private.h",
          "",
          "[Added Lines]",
          "946: coders_tiff_la_SOURCES     = coders/tiff.c coders/psd.c coders/psd-private.h",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1021: coders_wbmp_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "1023: # WEBP coder module",
          "1029: # WMF coder module",
          "1030: coders_wmf_la_SOURCES      = coders/wmf.c",
          "",
          "[Removed Lines]",
          "1024: coders_webp_la_SOURCES      = coders/webp.c",
          "1025: coders_webp_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "1026: coders_webp_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "1027: coders_webp_la_LIBADD       = $(MAGICKCORE_LIBS) $(WEBP_LIBS) $(MATH_LIBS)",
          "",
          "[Added Lines]",
          "1024: coders_webp_la_SOURCES     = coders/webp.c",
          "1025: coders_webp_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "1026: coders_webp_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "1027: coders_webp_la_LIBADD      = $(MAGICKCORE_LIBS) $(WEBP_LIBS) $(MATH_LIBS)",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "1075: coders_xps_la_LIBADD       = $(MAGICKCORE_LIBS) $(MUPDF_LIBS) $(FREETYPE_LIBS) $(MATH_LIBS)",
          "1077: # XPS coder module",
          "1083: # XWD coder module",
          "1084: coders_xwd_la_SOURCES      = coders/xwd.c",
          "",
          "[Removed Lines]",
          "1078: coders_xtrn_la_SOURCES      = coders/xtrn.c",
          "1079: coders_xtrn_la_CPPFLAGS     = $(MAGICK_CODER_CPPFLAGS)",
          "1080: coders_xtrn_la_LDFLAGS      = $(MODULECOMMONFLAGS)",
          "1081: coders_xtrn_la_LIBADD       = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "1078: coders_xtrn_la_SOURCES     = coders/xtrn.c",
          "1079: coders_xtrn_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "1080: coders_xtrn_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "1081: coders_xtrn_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "1087: coders_xwd_la_LIBADD       = $(MAGICKCORE_LIBS) $(X11_LIBS)",
          "1089: # YCBCR coder module",
          "1095: # YUV coder module",
          "1096: coders_yuv_la_SOURCES      = coders/yuv.c",
          "",
          "[Removed Lines]",
          "1090: coders_ycbcr_la_SOURCES     = coders/ycbcr.c",
          "1091: coders_ycbcr_la_CPPFLAGS    = $(MAGICK_CODER_CPPFLAGS)",
          "1092: coders_ycbcr_la_LDFLAGS     = $(MODULECOMMONFLAGS)",
          "1093: coders_ycbcr_la_LIBADD      = $(MAGICKCORE_LIBS)",
          "",
          "[Added Lines]",
          "1090: coders_ycbcr_la_SOURCES    = coders/ycbcr.c",
          "1091: coders_ycbcr_la_CPPFLAGS   = $(MAGICK_CODER_CPPFLAGS)",
          "1092: coders_ycbcr_la_LDFLAGS    = $(MODULECOMMONFLAGS)",
          "1093: coders_ycbcr_la_LIBADD     = $(MAGICKCORE_LIBS)",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "267073b4e5a60f5b1dbee45cf2b0654b773769ff",
      "candidate_info": {
        "commit_hash": "267073b4e5a60f5b1dbee45cf2b0654b773769ff",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/267073b4e5a60f5b1dbee45cf2b0654b773769ff",
        "files": [
          "MagickCore/compare.c",
          "MagickCore/identify.c",
          "MagickCore/statistic.c",
          "MagickCore/statistic.h",
          "MagickCore/version.h",
          "coders/json.c"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/compare.c||MagickCore/compare.c",
          "MagickCore/identify.c||MagickCore/identify.c",
          "MagickCore/statistic.c||MagickCore/statistic.c",
          "MagickCore/statistic.h||MagickCore/statistic.h",
          "MagickCore/version.h||MagickCore/version.h",
          "coders/json.c||coders/json.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/compare.c||MagickCore/compare.c": [
          "File: MagickCore/compare.c -> MagickCore/compare.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1160:     for (i=0; i < 7; i++)",
          "1161:     {",
          "1162:       double",
          "1166:       alpha=image_phash[channel].P[i];",
          "1167:       beta=reconstruct_phash[channel].P[i];",
          "",
          "[Removed Lines]",
          "1163:         alpha,",
          "1164:         beta;",
          "",
          "[Added Lines]",
          "1163:         alpha,",
          "1164:         beta;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1191:     for (i=0; i < 7; i++)",
          "1192:     {",
          "1193:       double",
          "1197:       alpha=image_phash[channel].Q[i];",
          "1198:       beta=reconstruct_phash[channel].Q[i];",
          "",
          "[Removed Lines]",
          "1194:         alpha,",
          "1195:         beta;",
          "",
          "[Added Lines]",
          "1194:         alpha,",
          "1195:         beta;",
          "",
          "---------------"
        ],
        "MagickCore/identify.c||MagickCore/identify.c": [
          "File: MagickCore/identify.c -> MagickCore/identify.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "394:     n;",
          "396:   n=FormatLocaleFile(file,\"    %s:\\n\",name);",
          "399:       GetMagickPrecision(),channel_phash[channel].P[i],",
          "400:       GetMagickPrecision(),channel_phash[channel].Q[i]);",
          "401:   return(n);",
          "",
          "[Removed Lines]",
          "397:   for (i=0; i < 7; i++)",
          "398:     n+=FormatLocaleFile(file,\"      PH%.20g: %.*g, %.*g\\n\",i+1.0,",
          "",
          "[Added Lines]",
          "397:   for (i=0; i < 7; i++)",
          "398:     n+=FormatLocaleFile(file,\"      PH%.20g: %.*g, %.*g\\n\",i+1.0,",
          "",
          "---------------"
        ],
        "MagickCore/statistic.c||MagickCore/statistic.c": [
          "File: MagickCore/statistic.c -> MagickCore/statistic.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1749:     return((ChannelPerceptualHash *) NULL);",
          "1750:   moments=GetImageMoments(hash_image,exception);",
          "1751:   hash_image=DestroyImage(hash_image);",
          "1753:     return((ChannelPerceptualHash *) NULL);",
          "1754:   perceptual_hash=(ChannelPerceptualHash *) AcquireQuantumMemory(",
          "1755:     CompositeChannels+1UL,sizeof(*perceptual_hash));",
          "",
          "[Removed Lines]",
          "1752:   if (moments == (ChannelMoments *) NULL)",
          "",
          "[Added Lines]",
          "1752:   if (moments == (ChannelMoments *) NULL)",
          "1753:     return((ChannelPerceptualHash *) NULL);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1779:     }",
          "1780:   moments=GetImageMoments(hash_image,exception);",
          "1781:   hash_image=DestroyImage(hash_image);",
          "1783:     {",
          "1784:       perceptual_hash=(ChannelPerceptualHash *) RelinquishMagickMemory(",
          "1785:         perceptual_hash);",
          "",
          "[Removed Lines]",
          "1782:   if (moments == (ChannelMoments *) NULL)",
          "",
          "[Added Lines]",
          "1783:   if (moments == (ChannelMoments *) NULL)",
          "1784:     {",
          "",
          "---------------"
        ],
        "MagickCore/statistic.h||MagickCore/statistic.h": [
          "File: MagickCore/statistic.h -> MagickCore/statistic.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "60: typedef struct _ChannelPerceptualHash",
          "61: {",
          "62:   double",
          "65: } ChannelPerceptualHash;",
          "67: typedef enum",
          "",
          "[Removed Lines]",
          "63:     P[32],",
          "64:     Q[32];",
          "",
          "[Added Lines]",
          "63:     srgb_moment[32],",
          "64:     hclp_moment[32];",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-08-26\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-09-05\"",
          "",
          "---------------"
        ],
        "coders/json.c||coders/json.c": [
          "File: coders/json.c -> coders/json.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "433:   ssize_t",
          "434:     n;",
          "437:   for (i=0; i < 6; i++)",
          "438:     n+=FormatLocaleFile(file,",
          "441:       GetMagickPrecision(),channel_phash[channel].Q[i]);",
          "442:   n+=FormatLocaleFile(file,",
          "443:     \"        \\\"PH%.20g\\\": [ \\\"%.*g\\\", \\\"%.*g\\\" ]\\n\",i+1.0,",
          "",
          "[Removed Lines]",
          "436:   n=FormatLocaleFile(file,\"      \\\"%s\\\": {\\n\",name);",
          "439:       \"        \\\"PH%.20g\\\": [ \\\"%.*g\\\", \\\"%.*g\\\" ],\\n\",i+1.0,",
          "440:       GetMagickPrecision(),channel_phash[channel].P[i],",
          "",
          "[Added Lines]",
          "436:   n=FormatLocaleFile(file,\"      \\\"%s\\\": {\\n\",name);",
          "439:       \"        \\\"PH%.20g\\\": [ \\\"%.*g\\\", \\\"%.*g\\\" ],\\n\",i+1.0,",
          "440:       GetMagickPrecision(),channel_phash[channel].srgb_moment[i],",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "ed5f8a6560fe6948461f697c735dc93d67c50032",
      "candidate_info": {
        "commit_hash": "ed5f8a6560fe6948461f697c735dc93d67c50032",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/ed5f8a6560fe6948461f697c735dc93d67c50032",
        "files": [
          "MagickCore/version.h",
          "coders/xwd.c",
          "configure"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "coders/xwd.c||coders/xwd.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"17097M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"17108:17120M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-11-25\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-11-28\"",
          "",
          "---------------"
        ],
        "coders/xwd.c||coders/xwd.c": [
          "File: coders/xwd.c -> coders/xwd.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "523:             ximage->data=DestroyString(ximage->data);",
          "524:             ximage=(XImage *) RelinquishMagickMemory(ximage);",
          "525:             ThrowReaderException(ResourceLimitError,\"MemoryAllocationFailed\");",
          "527:         for (i=0; i < (ssize_t) image->colors; i++)",
          "529:           image->colormap[i].red=(MagickRealType) ScaleShortToQuantum(",
          "531:           image->colormap[i].green=(MagickRealType) ScaleShortToQuantum(",
          "532:             colors[i].green));",
          "533:           image->colormap[i].blue=(MagickRealType) ScaleShortToQuantum(",
          "",
          "[Removed Lines]",
          "526:           }",
          "528:         {",
          "530:             colors[i].red));",
          "",
          "[Added Lines]",
          "526:           }",
          "528:         {",
          "530:             colors[i].red);",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "12ac819e4f559e545fe753502f63d400f89de252",
      "candidate_info": {
        "commit_hash": "12ac819e4f559e545fe753502f63d400f89de252",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/12ac819e4f559e545fe753502f63d400f89de252",
        "files": [
          "MagickCore/magick-baseconfig.h",
          "MagickCore/version.h",
          "Makefile.in",
          "aclocal.m4",
          "config/config.h.in",
          "configure",
          "configure.ac",
          "m4/jemalloc.m4"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/version.h||MagickCore/version.h",
          "Makefile.in||Makefile.in",
          "aclocal.m4||aclocal.m4",
          "config/config.h.in||config/config.h.in",
          "configure.ac||configure.ac",
          "m4/jemalloc.m4||m4/jemalloc.m4"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "1595:    nothing if this is not supported.  Do not define if restrict is",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1601: #ifndef _magickcore_prefix_jemalloc",
          "1602: #define _magickcore_prefix_jemalloc",
          "1603: #endif",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2014 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"16900:16901\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"16921:16931M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-11-03\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-11-04\"",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "327:  $(top_srcdir)/m4/ax_pthread.m4 \\",
          "328:  $(top_srcdir)/m4/ax_require_defined.m4 \\",
          "329:  $(top_srcdir)/m4/cxx_have_std_libs.m4 \\",
          "331:  $(top_srcdir)/m4/ld-version-script.m4 \\",
          "332:  $(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \\",
          "333:  $(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \\",
          "",
          "[Removed Lines]",
          "330:  $(top_srcdir)/m4/framework.m4 \\",
          "",
          "[Added Lines]",
          "330:  $(top_srcdir)/m4/framework.m4 $(top_srcdir)/m4/jemalloc.m4 \\",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "2884: dvidir = @dvidir@",
          "2885: exec_prefix = @exec_prefix@",
          "2886: ghostscript_font_dir = @ghostscript_font_dir@",
          "2887: host = @host@",
          "2888: host_alias = @host_alias@",
          "2889: host_cpu = @host_cpu@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2887: has_jemalloc = @has_jemalloc@",
          "",
          "---------------"
        ],
        "aclocal.m4||aclocal.m4": [
          "File: aclocal.m4 -> aclocal.m4",
          "--- Hunk 1 ---",
          "[Context before]",
          "1340: m4_include([m4/ax_require_defined.m4])",
          "1341: m4_include([m4/cxx_have_std_libs.m4])",
          "1342: m4_include([m4/framework.m4])",
          "1343: m4_include([m4/ld-version-script.m4])",
          "1344: m4_include([m4/libtool.m4])",
          "1345: m4_include([m4/ltoptions.m4])",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1343: m4_include([m4/jemalloc.m4])",
          "",
          "---------------"
        ],
        "config/config.h.in||config/config.h.in": [
          "File: config/config.h.in -> config/config.h.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "243: #undef HAVE_J1",
          "246: #undef HAVE_LCMS2_H",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "246: #undef HAVE_JEMALLOC_JEMALLOC_H",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1051: #undef gid_t",
          "1055: #ifndef __cplusplus",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1057: #undef has_jemalloc",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1093: #undef pid_t",
          "1096:    nothing if this is not supported.  Do not define if restrict is",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1102: #undef prefix_jemalloc",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "1426: fi",
          "1427: AC_SUBST(GOMP_LIBS)",
          "1431: #",
          "1432: # Check for umem.",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1429: #",
          "1430: # Check for jemalloc().",
          "1431: #",
          "1432: TS_CHECK_JEMALLOC",
          "1433: AS_IF([test \"x$jemalloc_have_libs\" != \"x0\"],[JE_LIBS=\"-ljemalloc\"])",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3934: #",
          "3936: if test \"$build_modules\" != 'no'; then",
          "3938: else",
          "3940: fi",
          "3941: AC_SUBST(MAGICK_DEP_LIBS)",
          "",
          "[Removed Lines]",
          "3937:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $THREAD_LIBS\"",
          "3939:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $THREAD_LIBS\"",
          "",
          "[Added Lines]",
          "3941:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JE_LIBS $THREAD_LIBS\"",
          "3943:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JE_LIBS $THREAD_LIBS\"",
          "",
          "---------------"
        ],
        "m4/jemalloc.m4||m4/jemalloc.m4": [
          "File: m4/jemalloc.m4 -> m4/jemalloc.m4",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: dnl -------------------------------------------------------- -*- autoconf -*-",
          "2: dnl Licensed to the Apache Software Foundation (ASF) under one or more",
          "3: dnl contributor license agreements.  See the NOTICE file distributed with",
          "4: dnl this work for additional information regarding copyright ownership.",
          "5: dnl The ASF licenses this file to You under the Apache License, Version 2.0",
          "6: dnl (the \"License\"); you may not use this file except in compliance with",
          "7: dnl the License.  You may obtain a copy of the License at",
          "8: dnl",
          "9: dnl     http://www.apache.org/licenses/LICENSE-2.0",
          "10: dnl",
          "11: dnl Unless required by applicable law or agreed to in writing, software",
          "12: dnl distributed under the License is distributed on an \"AS IS\" BASIS,",
          "13: dnl WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.",
          "14: dnl See the License for the specific language governing permissions and",
          "15: dnl limitations under the License.",
          "17: dnl",
          "18: dnl jemalloc.m4: Trafficserver's jemalloc autoconf macros",
          "19: dnl modified to skip other TS_ helpers",
          "20: dnl",
          "22: AC_DEFUN([TS_CHECK_JEMALLOC], [",
          "23: AC_ARG_WITH([jemalloc-prefix],",
          "24:   [AS_HELP_STRING([--with-jemalloc-prefix=PREFIX],[Specify the jemalloc prefix [default=\"\"]])],",
          "25:   [",
          "26:   jemalloc_prefix=\"$withval\"",
          "27:   ],[",
          "28:   if test \"`uname -s`\" = \"Darwin\"; then",
          "29:     jemalloc_prefix=\"je_\"",
          "30:   else",
          "31:     jemalloc_prefix=\"\"",
          "32:   fi",
          "33:   ]",
          "34: )",
          "35: AC_DEFINE_UNQUOTED([prefix_jemalloc], [${jemalloc_prefix}], [jemalloc prefix])",
          "37: enable_jemalloc=no",
          "38: AC_ARG_WITH([jemalloc], [AS_HELP_STRING([--with-jemalloc=DIR], [use a specific jemalloc library])],",
          "39: [",
          "40:   if test \"$withval\" != \"no\"; then",
          "41:     if test \"x${enable_tcmalloc}\" = \"xyes\"; then",
          "42:       AC_MSG_ERROR([Cannot compile with both jemalloc and tcmalloc])",
          "43:     fi",
          "44:     enable_jemalloc=yes",
          "45:     jemalloc_base_dir=\"$withval\"",
          "46:     case \"$withval\" in",
          "47:       yes)",
          "48:         jemalloc_base_dir=\"/usr\"",
          "49:         AC_MSG_CHECKING(checking for jemalloc includes standard directories)",
          "50:  ;;",
          "52:         jemalloc_include=\"`echo $withval |sed -e 's/:.*$//'`\"",
          "53:         jemalloc_ldflags=\"`echo $withval |sed -e 's/^.*://'`\"",
          "54:         AC_MSG_CHECKING(checking for jemalloc includes in $jemalloc_include libs in $jemalloc_ldflags)",
          "55:         ;;",
          "57:         jemalloc_include=\"$withval/include\"",
          "58:         jemalloc_ldflags=\"$withval/lib\"",
          "59:         AC_MSG_CHECKING(checking for jemalloc includes in $withval)",
          "60:         ;;",
          "61:     esac",
          "62:   fi",
          "63: ])",
          "65: has_jemalloc=0",
          "66: if test \"$enable_jemalloc\" != \"no\"; then",
          "67:   jemalloc_have_headers=0",
          "68:   jemalloc_have_libs=0",
          "69:   if test \"$jemalloc_base_dir\" != \"/usr\"; then",
          "70:     CFLAGS=\"${CFLAGS} -I${jemalloc_include}\"",
          "71:     LDFLAGS=\"${LDFLAGS} -L${jemalloc_ldflags}\"",
          "72:     LIBTOOL_LINK_FLAGS=\"${LIBTOOL_LINK_FLAGS} -R${jemalloc_ldflags}\"",
          "73:   fi",
          "74:   func=\"${jemalloc_prefix}malloc_stats_print\"",
          "75:   AC_CHECK_LIB(jemalloc, ${func}, [jemalloc_have_libs=1])",
          "76:   if test \"$jemalloc_have_libs\" != \"0\"; then",
          "77:     AC_CHECK_HEADERS([jemalloc/jemalloc.h], [jemalloc_have_headers=1])",
          "78:   fi",
          "79:   if test \"$jemalloc_have_headers\" != \"0\"; then",
          "80:     has_jemalloc=1",
          "81:     LIBS=\"${LIBS} -ljemalloc\"",
          "82:     AC_DEFINE(has_jemalloc, [1], [Link/compile against jemalloc])",
          "83:   else",
          "84:     AC_MSG_ERROR([Couldn't find a jemalloc installation])",
          "85:   fi",
          "86: fi",
          "87: AC_SUBST(has_jemalloc)",
          "88: ])",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "53c56cb99d2e6a066cee9eb019a399712eeda7aa",
      "candidate_info": {
        "commit_hash": "53c56cb99d2e6a066cee9eb019a399712eeda7aa",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/53c56cb99d2e6a066cee9eb019a399712eeda7aa",
        "files": [
          "MagickCore/version.h",
          "coders/sixel.c",
          "utilities/convert.1",
          "utilities/mogrify.1"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "coders/sixel.c||coders/sixel.c",
          "utilities/convert.1||utilities/convert.1",
          "utilities/mogrify.1||utilities/mogrify.1"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-10-19\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-10-26\"",
          "",
          "---------------"
        ],
        "coders/sixel.c||coders/sixel.c": [
          "File: coders/sixel.c -> coders/sixel.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "712:     }",
          "713:     if (nwrite <= 0) {",
          "714:         return (MagickFalse);",
          "716:     sixel_advance(context, nwrite);",
          "717:     nwrite = sprintf((char *)context->buffer + context->pos, \"\\\"1;1;%d;%d\", width, height);",
          "718:     if (nwrite <= 0) {",
          "",
          "[Removed Lines]",
          "715:     }",
          "",
          "[Added Lines]",
          "715:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "720:         return (MagickFalse);",
          "721:     }",
          "722:     sixel_advance(context, nwrite);",
          "724:     if (ncolors != 2 || keycolor == -1) {",
          "725:         for (n = 0; n < ncolors; n++) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "739:                 return (MagickFalse);",
          "740:             }",
          "741:         }",
          "744:     for (y = i = 0; y < height; y++) {",
          "746:             pix = pixels[y * width + x];",
          "747:             if (pix >= 0 && pix < ncolors && pix != keycolor) {",
          "748:                 map[pix * width + x] |= (1 << i);",
          "749:             }",
          "752:         if (++i < 6 && (y + 1) < height) {",
          "753:             continue;",
          "756:         for (c = 0; c < ncolors; c++) {",
          "757:             for (left = 0; left < width; left++) {",
          "758:                 if (*(map + c * width + left) == 0) {",
          "759:                     continue;",
          "762:                 for (right = left + 1; right < width; right++) {",
          "763:                     if (*(map + c * width + right) != 0) {",
          "764:                         continue;",
          "767:                     for (n = 1; (right + n) < width; n++) {",
          "768:                         if (*(map + c * width + right + n) != 0) {",
          "769:                             break;",
          "770:                         }",
          "773:                     if (n >= 10 || right + n >= width) {",
          "774:                         break;",
          "",
          "[Removed Lines]",
          "742:     }",
          "745:         for (x = 0; x < width; x++) {",
          "750:         }",
          "754:         }",
          "760:                 }",
          "765:                     }",
          "771:                     }",
          "",
          "[Added Lines]",
          "742:     }",
          "745:         for (x = 0; x < (ssize_t) width; x++) {",
          "750:         }",
          "754:         }",
          "760:                 }",
          "765:                     }",
          "771:                     }",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1032:   if (AcquireImageColormap(image,image->colors, exception) == MagickFalse)",
          "1033:     {",
          "1035:       sixel_palette=(unsigned char *) RelinquishMagickMemory(sixel_palette);",
          "1036:       ThrowReaderException(ResourceLimitError,\"MemoryAllocationFailed\");",
          "1037:     }",
          "",
          "[Removed Lines]",
          "1034:       sixel_pixels=(unsigned char *) RelinquishMagickMemory(sixel_pixels);",
          "",
          "[Added Lines]",
          "1034:       sixel_pixels=(unsigned char *) RelinquishMagickMemory(sixel_pixels);",
          "",
          "---------------"
        ],
        "utilities/convert.1||utilities/convert.1": [
          "File: utilities/convert.1 -> utilities/convert.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "144:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "145:   \\-colorize value      colorize the image with the fill color",
          "146:   \\-color-matrix matrix apply color correction to the image",
          "147:   \\-contrast            enhance or reduce the image contrast",
          "148:   \\-contrast-stretch geometry",
          "149:                        improve contrast by `stretching' the intensity range",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "147:   \\-connected-component connectivity",
          "148:                        connected-components uniquely labeled",
          "",
          "---------------"
        ],
        "utilities/mogrify.1||utilities/mogrify.1": [
          "File: utilities/mogrify.1 -> utilities/mogrify.1",
          "--- Hunk 1 ---",
          "[Context before]",
          "142:   \\-clip-path id        clip along a named path from the 8BIM profile",
          "143:   \\-colorize value      colorize the image with the fill color",
          "144:   \\-color-matrix matrix apply color correction to the image",
          "145:   \\-contrast            enhance or reduce the image contrast",
          "146:   \\-contrast-stretch geometry",
          "147:                        improve contrast by `stretching' the intensity range",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "145:   \\-connected-component connectivity",
          "146:                        connected-components uniquely labeled",
          "",
          "---------------"
        ]
      }
    }
  ]
}