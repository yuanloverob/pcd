{
  "cve_id": "CVE-2020-22875",
  "cve_desc": "Integer overflow vulnerability in function Jsi_ObjSetLength in jsish before 3.0.6, allows remote attackers to execute arbitrary code.",
  "repo": "pcmacdon/jsish",
  "patch_hash": "5408a6d93f45bf1f7acd9ae5d44e0ebd77379e98",
  "patch_info": {
    "commit_hash": "5408a6d93f45bf1f7acd9ae5d44e0ebd77379e98",
    "repo": "pcmacdon/jsish",
    "commit_url": "https://github.com/pcmacdon/jsish/commit/5408a6d93f45bf1f7acd9ae5d44e0ebd77379e98",
    "files": [
      "md/Reference.md",
      "src/jsi.h",
      "src/jsiArray.c",
      "src/jsiCmds.c",
      "tests/locals.jsi",
      "tools/protos.jsi",
      "www/reference.wiki"
    ],
    "message": "Release \"3.0.6\": Fix crashes in Array for \"integer overflow #10\"\n\nFossilOrigin-Name: 50642d64b8f0a4e62df68e59fcb2ef0923c3dbec8fc8a15d38b1ddbe655c38d6",
    "before_after_code_files": [
      "src/jsi.h||src/jsi.h",
      "src/jsiArray.c||src/jsiArray.c",
      "src/jsiCmds.c||src/jsiCmds.c",
      "tests/locals.jsi||tests/locals.jsi",
      "tools/protos.jsi||tools/protos.jsi",
      "www/reference.wiki||www/reference.wiki"
    ]
  },
  "patch_diff": {
    "src/jsi.h||src/jsi.h": [
      "File: src/jsi.h -> src/jsi.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "5: #define JSI_VERSION_MAJOR   3",
      "6: #define JSI_VERSION_MINOR   0",
      "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
      "",
      "[Removed Lines]",
      "7: #define JSI_VERSION_RELEASE 4",
      "",
      "[Added Lines]",
      "7: #define JSI_VERSION_RELEASE 6",
      "",
      "---------------"
    ],
    "src/jsiArray.c||src/jsiArray.c": [
      "File: src/jsiArray.c -> src/jsiArray.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "7: #define NO_QSORT_R 1",
      "8: #endif",
      "10: static Jsi_RC jsi_ArrayPushCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,",
      "11:     Jsi_Value **ret, Jsi_Func *funcPtr)",
      "12: {",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "10: static uint jsi_SizeOfArray(Jsi_Interp *interp, Jsi_Obj *obj) {",
      "11:     if (!obj || !obj->arr)",
      "12:         return 0;",
      "13:     return obj->arrCnt;",
      "14: }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "19:     obj = _this->d.obj;",
      "21:     int argc = Jsi_ValueGetLength(interp, args);",
      "27:     int i;",
      "28:     for (i = 0; i < argc; ++i) {",
      "29:         Jsi_Value *ov = Jsi_ValueArrayIndex(interp, args, i);",
      "",
      "[Removed Lines]",
      "22:     int curlen = Jsi_ObjGetLength(interp, obj);",
      "23:     if (curlen < 0) {",
      "24:         Jsi_ObjSetLength(interp, obj, 0);",
      "25:     }",
      "",
      "[Added Lines]",
      "28:     int curlen = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "31:         Jsi_ValueInsertArray(interp, _this, curlen + i, ov, 0);",
      "32:     }",
      "35:     return JSI_OK;",
      "36: }",
      "",
      "[Removed Lines]",
      "34:     Jsi_ValueMakeNumber(interp, ret, Jsi_ObjGetLength(interp, obj));",
      "",
      "[Added Lines]",
      "36:     Jsi_ValueMakeNumber(interp, ret, jsi_SizeOfArray(interp, obj));",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "45:     Jsi_Value *v;",
      "46:     Jsi_Obj *obj;",
      "47:     obj = _this->d.obj;",
      "50:     if (i < 0) {",
      "51:         Jsi_ValueMakeUndef(interp, ret);",
      "",
      "[Removed Lines]",
      "48:     int i = Jsi_ObjGetLength(interp, obj) - 1;",
      "",
      "[Added Lines]",
      "50:     int i = jsi_SizeOfArray(interp, obj) - 1;",
      "",
      "---------------",
      "--- Hunk 5 ---",
      "[Context before]",
      "78:     int argc, curlen;",
      "79:     Jsi_DString dStr = {};",
      "82:     if (curlen == 0) {",
      "83:         goto bail;",
      "84:     }",
      "",
      "[Removed Lines]",
      "81:     curlen = Jsi_ObjGetLength(interp, _this->d.obj);",
      "",
      "[Added Lines]",
      "83:     curlen = jsi_SizeOfArray(interp, _this->d.obj);",
      "",
      "---------------",
      "--- Hunk 6 ---",
      "[Context before]",
      "89:             jstr = Jsi_ValueToString(interp, sc, NULL);",
      "90:     }",
      "93:         goto bail;",
      "94:     }",
      "95:     int i;",
      "",
      "[Removed Lines]",
      "92:     if (0 == (argc=Jsi_ObjGetLength(interp, _this->d.obj))) {",
      "",
      "[Added Lines]",
      "94:     if (0 == (argc=jsi_SizeOfArray(interp, _this->d.obj))) {",
      "",
      "---------------",
      "--- Hunk 7 ---",
      "[Context before]",
      "233:         return;",
      "234:     }",
      "237:     if (len <= 0) return;",
      "239:     Jsi_Value *v0 = Jsi_ValueArrayIndex(interp, v, 0);",
      "",
      "[Removed Lines]",
      "236:     int len = Jsi_ObjGetLength(interp, v->d.obj);",
      "",
      "[Added Lines]",
      "238:     int len = jsi_SizeOfArray(interp, v->d.obj);",
      "",
      "---------------",
      "--- Hunk 8 ---",
      "[Context before]",
      "256: static Jsi_RC jsi_ArrayFlatSub(Jsi_Interp *interp, Jsi_Obj* nobj, Jsi_Value *arr, int depth) {",
      "259:     if (len <= 0) return JSI_OK;",
      "260:     Jsi_RC rc = JSI_OK;",
      "262:     for (i = 0; i < len && rc == JSI_OK; i++) {",
      "263:         Jsi_Value *t = Jsi_ValueArrayIndex(interp, arr, i);",
      "264:         if (t && depth>0 && Jsi_ValueIsArray(interp, t))",
      "",
      "[Removed Lines]",
      "258:     int i, n = 0, len = Jsi_ObjGetLength(interp, arr->d.obj);",
      "261:     int clen = Jsi_ObjGetLength(interp, nobj);",
      "",
      "[Added Lines]",
      "260:     int i, n = 0, len = jsi_SizeOfArray(interp, arr->d.obj);",
      "263:     int clen = jsi_SizeOfArray(interp, nobj);",
      "",
      "---------------",
      "--- Hunk 9 ---",
      "[Context before]",
      "302:     obj = _this->d.obj;",
      "304:     argc = Jsi_ValueGetLength(interp, args);",
      "309:     Jsi_ObjListifyArray(interp, obj);",
      "311:     nobj = Jsi_ObjNewType(interp, JSI_OT_ARRAY);",
      "",
      "[Removed Lines]",
      "305:     curlen = Jsi_ObjGetLength(interp, obj);",
      "306:     if (curlen < 0) {",
      "307:         Jsi_ObjSetLength(interp, obj, 0);",
      "308:     }",
      "",
      "[Added Lines]",
      "307:     curlen = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 10 ---",
      "[Context before]",
      "377:     if (!sthis)",
      "378:         sthis = nthis = Jsi_ValueNew1(interp);",
      "379:     obj = _this->d.obj;",
      "384:     Jsi_ObjListifyArray(interp, obj);",
      "385:     nobj = Jsi_ObjNewType(interp, JSI_OT_ARRAY);",
      "386:     nsiz = obj->arrCnt;",
      "",
      "[Removed Lines]",
      "380:     curlen = Jsi_ObjGetLength(interp, obj);",
      "381:     if (curlen < 0) {",
      "382:         Jsi_ObjSetLength(interp, obj, 0);",
      "383:     }",
      "",
      "[Added Lines]",
      "379:     curlen = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 11 ---",
      "[Context before]",
      "439:     if (!sthis)",
      "440:         sthis = nthis = Jsi_ValueNew1(interp);",
      "441:     obj = _this->d.obj;",
      "446:     Jsi_ObjListifyArray(interp, obj);",
      "447:     nobj = Jsi_ObjNewType(interp, JSI_OT_ARRAY);",
      "448:     nsiz = obj->arrCnt;",
      "",
      "[Removed Lines]",
      "442:     curlen = Jsi_ObjGetLength(interp, obj);",
      "443:     if (curlen < 0) {",
      "444:         Jsi_ObjSetLength(interp, obj, 0);",
      "445:     }",
      "",
      "[Added Lines]",
      "438:     curlen = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 12 ---",
      "[Context before]",
      "522:     if (_this->vt != JSI_VT_OBJECT || !Jsi_ObjIsArray(interp, _this->d.obj))",
      "523:         return Jsi_LogError(\"expected array object\");",
      "524:     Jsi_Obj *obj;",
      "526:     uint i;",
      "527:     Jsi_Value *func, *vpargs;",
      "",
      "[Removed Lines]",
      "525:     int curlen;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 13 ---",
      "[Context before]",
      "535:         sthis = nthis = Jsi_ValueNew1(interp);",
      "537:     obj = _this->d.obj;",
      "542:     Jsi_ObjListifyArray(interp, obj);",
      "543:     Jsi_RC rc = JSI_OK;",
      "",
      "[Removed Lines]",
      "538:     curlen = Jsi_ObjGetLength(interp, obj);",
      "539:     if (curlen < 0) {",
      "540:         Jsi_ObjSetLength(interp, obj, 0);",
      "541:     }",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 14 ---",
      "[Context before]",
      "566:     if (_this->vt != JSI_VT_OBJECT || !Jsi_ObjIsArray(interp, _this->d.obj))",
      "567:         return Jsi_LogError(\"expected array\");",
      "568:     Jsi_Obj *obj;",
      "570:     uint i;",
      "571:     Jsi_RC rc = JSI_OK;",
      "572:     Jsi_Value *func, *vpargs, *sthis = Jsi_ValueArrayIndex(interp, args, 1);",
      "",
      "[Removed Lines]",
      "569:     int curlen;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 15 ---",
      "[Context before]",
      "579:         sthis = nthis = Jsi_ValueNew1(interp);",
      "581:     obj = _this->d.obj;",
      "586:     Jsi_ObjListifyArray(interp, obj);",
      "587:     int fval = 0;",
      "588:     Jsi_Value *nrPtr = Jsi_ValueNew1(interp);",
      "",
      "[Removed Lines]",
      "582:     curlen = Jsi_ObjGetLength(interp, obj);",
      "583:     if (curlen < 0) {",
      "584:         Jsi_ObjSetLength(interp, obj, 0);",
      "585:     }",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 16 ---",
      "[Context before]",
      "628:     if (_this->vt != JSI_VT_OBJECT || !Jsi_ObjIsArray(interp, _this->d.obj))",
      "629:         return Jsi_LogError(\"expected array\");",
      "630:     Jsi_RC rc = JSI_OK;",
      "632:     Jsi_Obj *obj;",
      "633:     Jsi_Value *func, *vpargs, *ini = Jsi_ValueArrayIndex(interp, args, 1);",
      "",
      "[Removed Lines]",
      "631:     int curlen, i;",
      "",
      "[Added Lines]",
      "614:     int i;",
      "",
      "---------------",
      "--- Hunk 17 ---",
      "[Context before]",
      "639:     Jsi_Value *nrPtr = Jsi_ValueNew1(interp);",
      "640:     obj = _this->d.obj;",
      "644:     Jsi_ObjListifyArray(interp, obj);",
      "645:     Jsi_Value *vobjs[4];",
      "646:     int n, rev = (op==2);",
      "",
      "[Removed Lines]",
      "641:     curlen = Jsi_ObjGetLength(interp, obj);",
      "642:     if (curlen < 0)",
      "643:         Jsi_ObjSetLength(interp, obj, 0);",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 18 ---",
      "[Context before]",
      "717:         goto bail;",
      "718:     }",
      "721:     if (n == 0) {",
      "722:         goto bail;",
      "723:     }",
      "",
      "[Removed Lines]",
      "720:     n = Jsi_ObjGetLength(interp, obj);",
      "",
      "[Added Lines]",
      "700:     n = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 19 ---",
      "[Context before]",
      "769: static Jsi_RC jsi_ArraySizeOfCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,Jsi_Value **ret, Jsi_Func *funcPtr) {",
      "770:     if (_this->vt != JSI_VT_OBJECT || !Jsi_ObjIsArray(interp, _this->d.obj))",
      "771:         return Jsi_LogError(\"expected array object\");",
      "773:     Jsi_ValueMakeNumber(interp, ret, i);",
      "774:     return JSI_OK;",
      "775: }",
      "",
      "[Removed Lines]",
      "772:     int i = Jsi_ObjGetLength(interp, _this->d.obj);",
      "",
      "[Added Lines]",
      "752:     int i = jsi_SizeOfArray(interp, _this->d.obj);",
      "",
      "---------------",
      "--- Hunk 20 ---",
      "[Context before]",
      "780:     Jsi_Value *v;",
      "781:     Jsi_Obj *obj = _this->d.obj;",
      "782:     Jsi_ObjListifyArray(interp, obj);",
      "785:     if (n<=0) {",
      "786:         Jsi_ValueMakeUndef(interp, ret);",
      "787:     } else {",
      "",
      "[Removed Lines]",
      "783:     uint n = Jsi_ObjGetLength(interp, obj);",
      "784:     assert(n <= obj->arrCnt);",
      "",
      "[Added Lines]",
      "763:     uint n = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 21 ---",
      "[Context before]",
      "803:     Jsi_Obj *obj = _this->d.obj;",
      "804:     int argc = Jsi_ValueGetLength(interp, args);",
      "809:     if (argc <= 0) {",
      "810:         Jsi_ValueMakeNumber(interp, ret, 0);",
      "811:         return JSI_OK;",
      "",
      "[Removed Lines]",
      "805:     int curlen = Jsi_ObjGetLength(interp, obj);",
      "806:     if (curlen < 0) {",
      "807:         Jsi_ObjSetLength(interp, obj, 0);",
      "808:     }",
      "",
      "[Added Lines]",
      "784:     int curlen = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 22 ---",
      "[Context before]",
      "825:     }",
      "826:     Jsi_ObjSetLength(interp, obj, curlen+argc);",
      "829:     return JSI_OK;",
      "830: }",
      "",
      "[Removed Lines]",
      "828:     Jsi_ValueMakeNumber(interp, ret, Jsi_ObjGetLength(interp, obj));",
      "",
      "[Added Lines]",
      "804:     Jsi_ValueMakeNumber(interp, ret, jsi_SizeOfArray(interp, obj));",
      "",
      "---------------",
      "--- Hunk 23 ---",
      "[Context before]",
      "841:     Jsi_Obj *obj = _this->d.obj;",
      "844:     if (start && Jsi_GetNumberFromValue(interp, start, &nstart) == JSI_OK) {",
      "845:         istart = (int)nstart;",
      "",
      "[Removed Lines]",
      "842:     n = Jsi_ObjGetLength(interp, obj);",
      "",
      "[Added Lines]",
      "818:     n = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 24 ---",
      "[Context before]",
      "902:         goto bail;",
      "903:     }",
      "904:     obj = _this->d.obj;",
      "906:     if (Jsi_GetNumberFromValue(interp,start, &nstart) == JSI_OK) {",
      "907:         istart = (int)nstart;",
      "908:         if (istart > n)",
      "",
      "[Removed Lines]",
      "905:     n = Jsi_ObjGetLength(interp, obj);",
      "",
      "[Added Lines]",
      "881:     n = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 25 ---",
      "[Context before]",
      "1166:     argc = Jsi_ValueGetLength(interp, args);",
      "1167:     istart = 0;",
      "1168:     ilen = (argc>=2 ? argc - 2 : 0);",
      "1170:     curlen = n;",
      "1172:     if (!start) {",
      "",
      "[Removed Lines]",
      "1169:     n = Jsi_ObjGetLength(interp, obj);",
      "",
      "[Added Lines]",
      "1145:     n = jsi_SizeOfArray(interp, obj);",
      "",
      "---------------",
      "--- Hunk 26 ---",
      "[Context before]",
      "1202:     }",
      "1204:     if (curlen < 0) {",
      "1206:     }",
      "1207:     Jsi_ObjListifyArray(interp, obj);",
      "",
      "[Removed Lines]",
      "1205:         Jsi_ObjSetLength(interp, obj, 0);",
      "",
      "[Added Lines]",
      "1181:         Jsi_ObjSetLength(interp, obj, curlen=0);",
      "",
      "---------------"
    ],
    "src/jsiCmds.c||src/jsiCmds.c": [
      "File: src/jsiCmds.c -> src/jsiCmds.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "4509:     return rc;",
      "4510: }",
      "4512: static const char *jsi_FindHelpStr(const char *fstr, const char *key, Jsi_DString *dPtr) {",
      "4513:     if (!fstr) return \"\";",
      "4514:     Jsi_DSSetLength(dPtr, 0);",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "4512: static Jsi_RC SysRunMainCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,",
      "4513:     Jsi_Value **ret, Jsi_Func *funcPtr)",
      "4514: {",
      "4515:     if (jsi_isMain(interp))",
      "4516:         return SysRunModuleCmd(interp, args, _this, ret, funcPtr);",
      "4517:     return JSI_OK;",
      "4518: }",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "4762:     { \"execZip\",    InfoExecZipCmd,     0,  0, \"\", .help=\"If executing a .zip file, return file name\", .retType=(uint)JSI_TT_STRING|JSI_TT_VOID },",
      "4763:     { \"files\",      InfoFilesCmd,       0,  0, \"\", .help=\"Return list of all sourced files\", .retType=(uint)JSI_TT_ARRAY },",
      "4764:     { \"funcs\",      InfoFuncsCmd,       0,  1, \"string|regexp|object=void\", .help=\"Return details or list of matching functions\", .retType=(uint)JSI_TT_ARRAY|JSI_TT_OBJECT },",
      "4766:     { \"interp\",     jsi_InterpInfo,     0,  1, \"interp:userobj=void\", .help=\"Return info on given or current interp\", .retType=(uint)JSI_TT_OBJECT },",
      "4767:     { \"isMain\",     InfoIsMainCmd,      0,  0, \"\", .help=\"Return true if current script was the main script invoked from command-line\", .retType=(uint)JSI_TT_BOOLEAN },",
      "4768:     { \"keywords\",   InfoKeywordsCmd,    0,  2, \"isSql=false, name:string=void\", .help=\"Return/lookup reserved keyword\", .retType=(uint)JSI_TT_ARRAY|JSI_TT_BOOLEAN },",
      "",
      "[Removed Lines]",
      "4765:     { \"locals\",     InfoLocalsCmd,      0,  1, \"varsOnly:boolean=void\", .help=\"Return functions/vars inside local function\", .retType=(uint)JSI_TT_OBJECT },",
      "",
      "[Added Lines]",
      "4773:     { \"locals\",     InfoLocalsCmd,      0,  1, \"filter:boolean=void\", .help=\"Return locals; use filter=true/false just vars/functions\", .retType=(uint)JSI_TT_OBJECT },",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "4863:     { \"puts\",       SysPutsCmd,      1, -1, \"val, ...\", .help=\"Output one or more values to stdout\", .retType=(uint)JSI_TT_VOID, .flags=0, .info=FN_puts },",
      "4864:     { \"quote\",      SysQuoteCmd,     1,  1, \"val:string\", .help=\"Return quoted string\", .retType=(uint)JSI_TT_STRING },",
      "4865:     { \"require\",    SysRequireCmd,   0,  3, \"name:string=void, version:number|string=1, options:object=void\", .help=\"Load/query packages\", .retType=(uint)JSI_TT_NUMBER|JSI_TT_OBJECT|JSI_TT_ARRAY, .flags=0, .info=FN_require, .opts=jsiModuleOptions },",
      "4866:     { \"runModule\",  SysRunModuleCmd, 0,  2, \"cmd:string|null|function=void, conf:array=undefined\", .help=\"Invoke named module. If name is empty, uses file basename. If isMain and no args givine parses console.args\", .retType=(uint)JSI_TT_ANY, .flags=0},",
      "4867:     { \"sleep\",      SysSleepCmd,     0,  1, \"secs:number=1.0\",  .help=\"sleep for N milliseconds, minimum .001\", .retType=(uint)JSI_TT_VOID },",
      "4868: #ifndef JSI_OMIT_EVENT",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "4874:     { \"runMain\",    SysRunMainCmd,   0,  2, \"cmd:string|null|function=void, conf:array=undefined\", .help=\"If isMain invokes runModule\", .retType=(uint)JSI_TT_ANY, .flags=0},",
      "",
      "---------------"
    ],
    "tests/locals.jsi||tests/locals.jsi": [
      "File: tests/locals.jsi -> tests/locals.jsi",
      "--- Hunk 1 ---",
      "[Context before]",
      "[No context available]",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1: function foo() {",
      "4:   function bar() { }",
      "5:   var x = 1;",
      "6: ;  Info.locals();",
      "7: ;  Info.locals(false);",
      "8: ;  Info.locals(true);",
      "9: }",
      "11: foo();",
      "14: =!EXPECTSTART!=",
      "15: Info.locals() ==> { bar:\"function bar() {...}\", x:1 }",
      "16: Info.locals(false) ==> { bar:\"function bar() {...}\" }",
      "17: Info.locals(true) ==> { x:1 }",
      "18: =!EXPECTEND!=",
      "",
      "---------------"
    ],
    "tools/protos.jsi||tools/protos.jsi": [
      "File: tools/protos.jsi -> tools/protos.jsi",
      "--- Hunk 1 ---",
      "[Context before]",
      "140: Info.prototype.isMain = function():boolean {};",
      "141: Info.prototype.keywords = function(isSql=false, name:string=void):boolean|array {};",
      "142: Info.prototype.level = function(level:number=void):number|array|object {};",
      "144: Info.prototype.lookup = function(name:string):any {};",
      "145: Info.prototype.methods = function(val:string|regexp):array|object {};",
      "146: Info.prototype.named = function(name:string=void):array|userobj {};",
      "",
      "[Removed Lines]",
      "143: Info.prototype.locals = function(varsOnly:boolean=void):object {};",
      "",
      "[Added Lines]",
      "143: Info.prototype.locals = function(filter:boolean=void):object {};",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "303: System.prototype.puts = function(val, ...):void {};",
      "304: System.prototype.quote = function(val:string):string {};",
      "305: System.prototype.require = function(name:string=void, version:number|string=1, options:object=void):number|array|object {};",
      "306: System.prototype.runModule = function(cmd:string|null|function=void, conf:array=undefined):any {};",
      "307: System.prototype.setInterval = function(callback:function, ms:number):number {};",
      "308: System.prototype.setTimeout = function(callback:function, ms:number):number {};",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "306: System.prototype.runMain = function(cmd:string|null|function=void, conf:array=undefined):any {};",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "394: var puts = function(val, ...):void {};",
      "395: var quote = function(val:string):string {};",
      "396: var require = function(name:string=void, version:number|string=1, options:object=void):number|array|object {};",
      "397: var runModule = function(cmd:string|null|function=void, conf:array=undefined):any {};",
      "398: var setInterval = function(callback:function, ms:number):number {};",
      "399: var setTimeout = function(callback:function, ms:number):number {};",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "398: var runMain = function(cmd:string|null|function=void, conf:array=undefined):any {};",
      "",
      "---------------"
    ],
    "www/reference.wiki||www/reference.wiki": [
      "File: www/reference.wiki -> www/reference.wiki",
      "--- Hunk 1 ---",
      "[Context before]",
      "552: <tr><td>level</td><td>level(level:number=void):number|array|object </td><td>Return current level or details of a call-stack frame. With no arg, returns the number of the current stack frame level.",
      "553: Otherwise returns details on the specified level.",
      "554: The topmost level is 1, and 0 is the current level, and a negative level translates as relative to the current level.</td></tr>",
      "556: <tr><td>lookup</td><td>lookup(name:string) </td><td>Given string name, lookup and return value, eg: function.</td></tr>",
      "557: <tr><td>methods</td><td>methods(val:string|regexp):array|object </td><td>Return functions and commands.</td></tr>",
      "558: <tr><td>named</td><td>named(name:string=void):array|userobj </td><td>Returns command names for builtin Objects, eg: 'File', 'Interp', sub-Object names, or the named object.</td></tr>",
      "",
      "[Removed Lines]",
      "555: <tr><td>locals</td><td>locals(varsOnly:boolean=void):object </td><td>Return functions/vars inside local function.</td></tr>",
      "",
      "[Added Lines]",
      "555: <tr><td>locals</td><td>locals(filter:boolean=void):object </td><td>Return locals; use filter=true/false just vars/functions.</td></tr>",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1361: With two arguments, returns object containing: version, loadFile, func.",
      "1362: A third argument sets options for package or module.",
      "1363: Note an error is thrown if requested version is greater than actual version.</td></tr>",
      "1364: <tr><td>runModule</td><td>runModule(cmd:string|null|function=void, conf:array=undefined) </td><td>Invoke named module. If name is empty, uses file basename. If isMain and no args givine parses console.args.</td></tr>",
      "1365: <tr><td>setInterval</td><td>setInterval(callback:function, ms:number):number </td><td>Setup recurring function to run every given millisecs.</td></tr>",
      "1366: <tr><td>setTimeout</td><td>setTimeout(callback:function, ms:number):number </td><td>Setup function to run after given millisecs.</td></tr>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "1364: <tr><td>runMain</td><td>runMain(cmd:string|null|function=void, conf:array=undefined) </td><td>If isMain invokes runModule.</td></tr>",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "cedfa95b3f53a34284ceed42a59f803daef52843",
      "candidate_info": {
        "commit_hash": "cedfa95b3f53a34284ceed42a59f803daef52843",
        "repo": "pcmacdon/jsish",
        "commit_url": "https://github.com/pcmacdon/jsish/commit/cedfa95b3f53a34284ceed42a59f803daef52843",
        "files": [
          "lib/DebugUI/DebugUI.jsi",
          "lib/SqliteUI/SqliteUI.jsi",
          "lib/UnitTest.jsi",
          "md/Reference.md",
          "src/jsi.h",
          "src/jsiCData.c",
          "src/jsiCmds.c",
          "src/jsiCode.c",
          "src/jsiEval.c",
          "src/jsiFunc.c",
          "src/jsiInt.h",
          "src/jsiInterp.c",
          "src/jsiMySql.c",
          "src/jsiOptions.c",
          "src/jsiProto.c",
          "src/jsiPstate.c",
          "src/jsiSqlite.c",
          "src/jsiUtils.c",
          "src/jsiWebSocket.c",
          "tests/assert.jsi",
          "tests/evalthrow.jsi",
          "tests/logging.jsi",
          "tests/strict.jsi",
          "tests/syntax.jsi",
          "tools/protos.jsi",
          "www/reference.wiki"
        ],
        "message": "Release \"3.0.36\": Add stack-dump, change runtime params, cleanup.\n\nFossilOrigin-Name: ed08ddd8563d5f86248f6fa596fe975ad2fb56500021a52717c6074106a12e7f",
        "before_after_code_files": [
          "lib/DebugUI/DebugUI.jsi||lib/DebugUI/DebugUI.jsi",
          "lib/SqliteUI/SqliteUI.jsi||lib/SqliteUI/SqliteUI.jsi",
          "lib/UnitTest.jsi||lib/UnitTest.jsi",
          "src/jsi.h||src/jsi.h",
          "src/jsiCData.c||src/jsiCData.c",
          "src/jsiCmds.c||src/jsiCmds.c",
          "src/jsiCode.c||src/jsiCode.c",
          "src/jsiEval.c||src/jsiEval.c",
          "src/jsiFunc.c||src/jsiFunc.c",
          "src/jsiInt.h||src/jsiInt.h",
          "src/jsiInterp.c||src/jsiInterp.c",
          "src/jsiMySql.c||src/jsiMySql.c",
          "src/jsiOptions.c||src/jsiOptions.c",
          "src/jsiProto.c||src/jsiProto.c",
          "src/jsiPstate.c||src/jsiPstate.c",
          "src/jsiSqlite.c||src/jsiSqlite.c",
          "src/jsiUtils.c||src/jsiUtils.c",
          "src/jsiWebSocket.c||src/jsiWebSocket.c",
          "tests/assert.jsi||tests/assert.jsi",
          "tests/evalthrow.jsi||tests/evalthrow.jsi",
          "tests/logging.jsi||tests/logging.jsi",
          "tests/strict.jsi||tests/strict.jsi",
          "tests/syntax.jsi||tests/syntax.jsi",
          "tools/protos.jsi||tools/protos.jsi",
          "www/reference.wiki||www/reference.wiki"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ],
          "candidate": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ]
        }
      },
      "candidate_diff": {
        "lib/DebugUI/DebugUI.jsi||lib/DebugUI/DebugUI.jsi": [
          "File: lib/DebugUI/DebugUI.jsi -> lib/DebugUI/DebugUI.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "51:         stopped:false,",
          "52:         toplev:0,",
          "53:         version:1.0,",
          "55:         browsers: {                     // Not used, yet.",
          "56:             unix:[ \"xdg-open\", \"gnome-open\", \"firefox\", \"google-chrome\" ],",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "54:         Debug:false,",
          "55:         Trace:false,",
          "",
          "---------------"
        ],
        "lib/SqliteUI/SqliteUI.jsi||lib/SqliteUI/SqliteUI.jsi": [
          "File: lib/SqliteUI/SqliteUI.jsi -> lib/SqliteUI/SqliteUI.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "8: function SqliteUI(files:array|string, conf:object=void)",
          "9: {",
          "10:     var options = { // Provide an sqlite user interface via a browser.",
          "13:         closeTimeout:5000,              // Time til exit after close of final client websocket (ms).",
          "14:         browser     :'',                // Browser program to use.",
          "15:         dump        :false,             // Dump database.",
          "",
          "[Removed Lines]",
          "11:         Debug       :false,             // LogDebug output.",
          "12:         Trace       :false,             // LogTrace output.",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "556:     function main() {",
          "557:         debugger;",
          "558:         self.done = 0;",
          "559:         var req = require(\"SqliteUI\", 1.0);",
          "560:         if (!self.rootdir)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "556:         LogTrace('Starting', files);",
          "",
          "---------------"
        ],
        "lib/UnitTest.jsi||lib/UnitTest.jsi": [
          "File: lib/UnitTest.jsi -> lib/UnitTest.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "29:         outfile:'/tmp/utest.txt',",
          "30:         startTime:0,",
          "31:         version:1.0,",
          "33:     };",
          "34:     moduleOpts(self, options);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "32:         Trace:false,",
          "",
          "---------------"
        ],
        "src/jsi.h||src/jsi.h": [
          "File: src/jsi.h -> src/jsi.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #define JSI_VERSION_MAJOR   3",
          "6: #define JSI_VERSION_MINOR   0",
          "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
          "",
          "[Removed Lines]",
          "7: #define JSI_VERSION_RELEASE 35",
          "",
          "[Added Lines]",
          "7: #define JSI_VERSION_RELEASE 36",
          "",
          "---------------"
        ],
        "src/jsiCData.c||src/jsiCData.c": [
          "File: src/jsiCData.c -> src/jsiCData.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "376:         if (JSI_OK != jsi_csCDataNew(interp, name, structName, help, varParm, vd+i))",
          "377:             return JSI_ERROR;",
          "394:     }",
          "395:     return JSI_OK;",
          "396: }",
          "",
          "[Removed Lines]",
          "378: #if 0",
          "379:         Jsi_DString dStr;",
          "380:         Jsi_DSInit(&dStr);",
          "381:         Jsi_DSPrintf(&dStr, \"var %s = new CData({name:\\\"%s\\\", structName:\\\"%s\\\"});\", name, name, structName);",
          "382:         if (help)",
          "383:             Jsi_DSPrintf(&dStr, \", help:\\\"%s\\\"\", help);",
          "386:         if (varParm)",
          "387:             Jsi_DSPrintf(&dStr, \", varParam:\\\"%s\\\"\", varParm);",
          "388:         Jsi_DSPrintf(&dStr, \"});\");",
          "389:         Jsi_RC rc = Jsi_EvalString(interp, Jsi_DSValue(&dStr), 0);",
          "390:         Jsi_DSFree(&dStr);",
          "391:         if (rc != JSI_OK)",
          "392:             return JSI_ERROR;",
          "393: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiCmds.c||src/jsiCmds.c": [
          "File: src/jsiCmds.c -> src/jsiCmds.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1602: static Jsi_RC SysPutsCmd_(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this, Jsi_Value **ret,",
          "1603:     Jsi_Func *funcPtr, bool stdErr, jsi_LogOptions *popts, const char *argStr, bool conLog, int islog)",
          "1604: {",
          "1606:     bool isbool = 0;",
          "1607:     const char *fn = NULL;",
          "1608:     Jsi_DString dStr, oStr;",
          "1609:     Jsi_Value *v;",
          "1611:         v = Jsi_ValueArrayIndex(interp, args, 1);",
          "1612:         if ((isbool=Jsi_ValueIsBoolean(interp, v)))",
          "1613:             if (Jsi_ValueIsFalse(interp, v)) return JSI_OK;",
          "",
          "[Removed Lines]",
          "1605:     int i = 0, cnt = 0, quote = (popts->file);",
          "1610:     if (islog == 2) {",
          "",
          "[Added Lines]",
          "1605:     int i = 0, cnt = 0, argc = 0, quote = (popts->file);",
          "1610:     if (args)",
          "1611:         argc = Jsi_ValueGetLength(interp, args);",
          "1612:     if (islog == 2 && argc > 2) {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1629:         jsi_SysPutsCmdPrefix(interp, popts, &dStr, &quote, &fn);",
          "1630:     if (argStr)",
          "1631:         Jsi_DSAppend(&dStr, argStr, NULL);",
          "1634:         if (conLog && argc>0 && (argStr=Jsi_ValueString(interp, Jsi_ValueArrayIndex(interp, args, 0), NULL))) {",
          "1635:             if (   ((!(interp->log&(1<<JSI_LOG_ERROR))) && jsi_PrefixMatch(argStr, \"ERROR: \"))",
          "1636:                 || ((!(interp->log&(1<<JSI_LOG_WARN))) && jsi_PrefixMatch(argStr, \"WARN: \"))",
          "",
          "[Removed Lines]",
          "1632:     if (args) {",
          "1633:         int argc = Jsi_ValueGetLength(interp, args);",
          "",
          "[Added Lines]",
          "1634:     if (args) { // Assert may call with a null args",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1953:             ms = atof(rv+1);",
          "1954:             rv += 4;",
          "1955:         }",
          "1969:         {",
          "1970:             int th, ts;",
          "1971:             char ss[3];",
          "",
          "[Removed Lines]",
          "1956: #if 0",
          "1957:         if (!isUtc) {",
          "1958: #ifdef __WIN32",
          "1959: #ifdef JSI_IS64BIT",
          "1960:             t = internal_timegm(&tm);",
          "1961: #else",
          "1962:             t = _mkgmtime(&tm); // TODO: undefined in mingw 64",
          "1963: #endif",
          "1964: #else",
          "1965:             t = timegm(&tm);",
          "1966: #endif",
          "1967:         } else",
          "1968: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "4505:         rc = Jsi_LogError(\"unknown command: %s\", (mod?mod:\"\"));",
          "4506:         goto done;",
          "4507:     }",
          "4509:         goto done;",
          "4512:     if (!v2) {",
          "4513:         obj = Jsi_ObjNewArray(interp, NULL, 0, 0);",
          "",
          "[Removed Lines]",
          "4508:     if (!isMain && cmd->d.obj->d.fobj->func->filePtr->fileName == interp->framePtr->filePtr->fileName)",
          "",
          "[Added Lines]",
          "4496:     if (!isMain && cmd->d.obj->d.fobj->func->filePtr->fileName == interp->framePtr->filePtr->fileName) {",
          "4497:         interp->framePtr->filePtr->pkg->loadLine = interp->curIp->Line; // for backtrace.",
          "4499:     }",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "4805:             pf->pkg->log = mo->log;",
          "4806:         }",
          "4807:         uint i;",
          "4809:             Jsi_Value *vlv;",
          "4810:             uint iff = (1<<i);",
          "4811:             if ((vlv = Jsi_ValueObjLookup(interp, v1, jsi_LogCodesU[i], 0))) {",
          "4812:                  if (Jsi_ValueIsFalse(interp, vlv)) {",
          "4813:                      pf->pkg->logmask |= iff;",
          "",
          "[Removed Lines]",
          "4808:         for (i=JSI_LOG_DEBUG; mo && i<=JSI_LOG_TEST; i++) {",
          "",
          "[Added Lines]",
          "4797:         for (i=JSI_LOG_ASSERT; mo && i<=JSI_LOG_TEST; i++) {",
          "4800:             if ((mo->log&iff))",
          "4801:                 continue;",
          "",
          "---------------"
        ],
        "src/jsiCode.c||src/jsiCode.c": [
          "File: src/jsiCode.c -> src/jsiCode.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "170:     ret->code_size = a->code_len + b->code_len;",
          "171:     ret->code_len = ret->code_size;",
          "172:     ret->expr_counter = a->expr_counter + b->expr_counter;",
          "179:     Jsi_Free(a->codes);",
          "180:     Jsi_Free(b->codes);",
          "181: #ifdef JSI_MEM_DEBUG",
          "",
          "[Removed Lines]",
          "173: #if 0",
          "174:     a->code_len=0;",
          "175:     jsi_FreeOpcodes(a);",
          "176:     b->code_len=0;",
          "177:     jsi_FreeOpcodes(b);",
          "178: #else",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "186: #endif",
          "187:     Jsi_Free(a);",
          "188:     Jsi_Free(b);",
          "190:     jsiOpCodesCnt[1]++;",
          "191:     jsiOpCodesCnt[2]-=2;",
          "192:     return ret;",
          "",
          "[Removed Lines]",
          "189: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiEval.c||src/jsiEval.c": [
          "File: src/jsiEval.c -> src/jsiEval.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "710:     Jsi_Value **ret, Jsi_Value *tocall, int discard)",
          "711: {",
          "712:     Jsi_RC rc = JSI_OK;",
          "714:     jsi_OpCode *ip = interp->curIp;",
          "715:     int adds, as_constructor = (ip->op == OP_NEWFCALL);",
          "716:     int calltrc = 0;",
          "",
          "[Removed Lines]",
          "713:     const char *oldCurFunc = interp->curFunction, *spnam = \"\";",
          "",
          "[Added Lines]",
          "713:     const char *spnam = \"\";",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "740:         Jsi_DecrRefCount(interp, _this);",
          "741:         if (rc==JSI_OK)",
          "742:             rc = JSI_CONTINUE;",
          "",
          "[Removed Lines]",
          "739:         interp->curFunction = oldCurFunc;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "762:     if (adds && (cs->flags&JSI_CMDSPEC_NONTHIS))",
          "763:         adds = 0;",
          "769:         Jsi_Obj *newobj = Jsi_ObjNewType(interp, JSI_OT_OBJECT);",
          "",
          "[Removed Lines]",
          "765:     Jsi_Func *pprevActive = interp->prevActiveFunc;",
          "766:     interp->prevActiveFunc = interp->activeFunc;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "791:     if (!onam)",
          "792:         funcPtr->name = NULL;",
          "794:     if (as_constructor && rc == JSI_OK) {",
          "795:         if (_this->vt == JSI_VT_OBJECT)",
          "796:             _this->d.obj->constructor = tocall->d.obj;",
          "",
          "[Removed Lines]",
          "793:     interp->prevActiveFunc = pprevActive;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "801:     }",
          "803:     Jsi_DecrRefCount(interp, _this);",
          "806:     return rc;",
          "807: }",
          "",
          "[Removed Lines]",
          "804:     interp->curFunction = oldCurFunc;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "2005:     return rc;",
          "2006: }",
          "2009: Jsi_RC jsi_evalcode(jsi_Pstate *ps, Jsi_Func *func, Jsi_OpCodes *opcodes,",
          "2010:          jsi_ScopeChain *scope, Jsi_Value *fargs,",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2003: void jsi_DumpStackTrace(Jsi_Interp *interp) {",
          "2004:     int firstLev = 1, max = interp->maxDumpStack, amax=interp->maxDumpArgs;",
          "2005:     if (interp->dumpedStack || !max) return;",
          "2006:     interp->dumpedStack = 1;",
          "2007:     jsi_Frame *fp = interp->topFrame.child;",
          "2008:     Jsi_DString dStr = {}, aStr = {};",
          "2009:     Jsi_DSAppend(&dStr, \"CALL BACKTRACE:\\n\", NULL);",
          "2010:     if (interp->framePtr->level > max) {",
          "2011:         firstLev = (interp->framePtr->level-max);",
          "2012:         while (fp && fp->level<firstLev)",
          "2013:             fp = fp->child;",
          "2014:     }",
          "2015:     while (fp) {",
          "2016:         const char *fn = fp->filePtr->fileName, *func = fp->funcName, *cp;",
          "2017:         int line = fp->line;",
          "2018:         Jsi_Value *args = fp->incsc;",
          "2019:         if (func && fp->level == 1 && interp->args && !Jsi_Strcmp(func, \"moduleRun\")) {",
          "2020:             args = interp->args;",
          "2021:             if (!*fn && fp->child && fp->child->filePtr) {",
          "2022:                 fn = fp->child->filePtr->fileName;",
          "2023:                 line = fp->child->filePtr->pkg->loadLine;",
          "2024:             }",
          "2025:         }",
          "2026:         if (fn && ((cp=Jsi_Strrchr(fn, '/'))))",
          "2027:             fn = cp +1;",
          "2028:         Jsi_DSPrintf(&dStr, \"#%d: %s:%d: \", fp->level, fn, line);",
          "2029:         if (func && fp->incsc) {",
          "2030:             Jsi_ValueGetDString(interp, args, &aStr, 1);",
          "2031:             char *sp = Jsi_DSValue(&aStr);",
          "2032:             int len = Jsi_Strlen(sp);",
          "2033:             if (len>1) {",
          "2034:                 sp[0] = '(';",
          "2035:                 sp[len-1]=')';",
          "2036:             }",
          "2037:             if (len>amax) {",
          "2038:                 Jsi_DSSetLength(&aStr, amax);",
          "2039:                 cp = Jsi_DSAppend(&aStr, \" ...)\", NULL);",
          "2040:             }",
          "2041:             Jsi_DSPrintf(&dStr, \" in %s%s\",  func, sp);",
          "2042:         }",
          "2043:         Jsi_DSAppend(&dStr, \"\\n\", NULL);",
          "2044:         Jsi_DSSetLength(&aStr, 0);",
          "2045:         fp = fp->child;",
          "2046:     }",
          "2047:     Jsi_DSAppend(&dStr, \"\\n\", NULL);",
          "2048:     fputs(Jsi_DSValue(&dStr), stderr);",
          "2049:     Jsi_DSFree(&aStr);",
          "2050:     Jsi_DSFree(&dStr);",
          "2051: }",
          "",
          "---------------"
        ],
        "src/jsiFunc.c||src/jsiFunc.c": [
          "File: src/jsiFunc.c -> src/jsiFunc.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "490:     return 1;",
          "491: }",
          "505: Jsi_Func *jsi_FuncMake(jsi_Pstate *pstate, Jsi_ScopeStrs *args, Jsi_OpCodes *ops, jsi_Pline* line, const char *name, int isArrow)",
          "506: {",
          "",
          "[Removed Lines]",
          "493: #if 0",
          "495: const char* jsi_GetDirective(Jsi_Interp *interp, Jsi_OpCodes *ops, const char *str) {",
          "496:     if (!ops) return NULL;",
          "497:     if (!ops->code_len) return NULL;",
          "498:     if (ops->codes[0].op != OP_PUSHSTR || !ops->codes[0].data) return NULL;",
          "499:     if (Jsi_Strncmp((char*)ops->codes[0].data, str, Jsi_Strlen(str))) return NULL;",
          "500:     return (char*)ops->codes[0].data;",
          "501: }",
          "502: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiInt.h||src/jsiInt.h": [
          "File: src/jsiInt.h -> src/jsiInt.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "228: #define __DBL_DECIMAL_DIG__ 17",
          "229: #endif",
          "232: #ifndef uint",
          "233: typedef unsigned int uint;",
          "234: #endif",
          "",
          "[Removed Lines]",
          "231: #if 0",
          "",
          "[Added Lines]",
          "231: #ifdef __JSI_DEF_UNSIGNED__",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "905:     Jsi_Value *info;",
          "906:     Jsi_PkgOpts popts;",
          "907:     jsi_FileInfo* filePtr;",
          "909: } jsi_PkgInfo;",
          "911: typedef struct {",
          "",
          "[Removed Lines]",
          "908:     int log, logmask;",
          "",
          "[Added Lines]",
          "907:     int log, logmask; // Runtime values set by moduleOps.",
          "908:     int loadLine; // set by moduleRun",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "963: } Jsi_TypeCheck;",
          "965: typedef enum {",
          "966:     jsi_AssertModeLog,",
          "969: } jsi_AssertMode;",
          "971: typedef struct {",
          "",
          "[Removed Lines]",
          "967:     jsi_AssertModePuts,",
          "968:     jsi_AssertModeThrow",
          "",
          "[Added Lines]",
          "966:     jsi_AssertModeThrow,",
          "968:     jsi_AssertModePuts",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1267:     Jsi_ScopeStrs *scopes[JSI_MAX_SCOPE];",
          "1268:     int cur_scope;",
          "1269:     uint maxArrayList;",
          "1270:     int delRBCnt;",
          "1271:     Jsi_Func *activeFunc;  // Currently active function call.",
          "1272:     Jsi_Func *prevActiveFunc;  // Prev active function call.",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1270:     uint maxDumpStack, maxDumpArgs;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1298:     InterpStrEvent *interpStrEvents;",
          "1300:     bool typeInit;",
          "1301:     Jsi_Number cdataIncrVal;",
          "1302:     Jsi_CData_Static *statics;",
          "1303:     Jsi_VarSpec *cdataNewVal;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1302:     bool dumpedStack;",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1523: extern Jsi_RC jsi_RegExpMatches(Jsi_Interp *interp, Jsi_Value *pattern, const char *str, int slen, Jsi_Value *ret, int *ofs, bool match);",
          "1524: extern Jsi_RC Jsi_CleanValue(Jsi_Interp *interp, Jsi_Interp *tointerp, Jsi_Value *val, Jsi_Value **ret); //TODO: EXPORT",
          "1525: extern void jsi_SysPutsCmdPrefix(Jsi_Interp *interp, jsi_LogOptions *popts,Jsi_DString *dStr, int* quote, const char **fnPtr);",
          "1527: extern char jsi_toHexChar(char code);",
          "1528: extern char jsi_fromHexChar(char ch);",
          "1529: extern bool Jsi_StrIsAlnum(const char *cp);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1528: extern void jsi_DumpStackTrace(Jsi_Interp *interp);",
          "",
          "---------------"
        ],
        "src/jsiInterp.c||src/jsiInterp.c": [
          "File: src/jsiInterp.c -> src/jsiInterp.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "100:     JSI_OPT(CUSTOM,Jsi_Interp, logOpts,     .help=\"Options for log output to add file/line/time\", .flags=0, .custom=Jsi_Opt_SwitchSuboption, .data=jsi_InterpLogOptions),",
          "101:     JSI_OPT(CUSTOM,Jsi_Interp, log,         .help=\"Logging flags\", .flags=JSI_OPT_CUST_NOCASE,  .custom=Jsi_Opt_SwitchBitset,  .data=jsi_LogCodes),",
          "102:     JSI_OPT(INT,   Jsi_Interp, maxDepth,    .help=\"Depth limit of recursive function calls (1000)\", .flags=JSI_OPT_LOCKSAFE),",
          "103:     JSI_OPT(UINT,  Jsi_Interp, maxArrayList,.help=\"Maximum array convertable to list (100000)\", .flags=JSI_OPT_LOCKSAFE),",
          "104:     JSI_OPT(INT,   Jsi_Interp, maxIncDepth, .help=\"Maximum allowed source/require nesting depth (50)\", .flags=JSI_OPT_LOCKSAFE),",
          "105:     JSI_OPT(INT,   Jsi_Interp, maxInterpDepth,.help=\"Maximum nested subinterp create depth (10)\", .flags=JSI_OPT_LOCKSAFE),",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "103:     JSI_OPT(UINT,  Jsi_Interp, maxDumpStack,.help=\"Maximum stack dump length (100)\", .flags=JSI_OPT_LOCKSAFE),",
          "104:     JSI_OPT(UINT,  Jsi_Interp, maxDumpArgs, .help=\"Maximum arg length in stack dump (80)\", .flags=JSI_OPT_LOCKSAFE),",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "743: #endif",
          "744:     const char *ext = NULL, *ai1, *iext = (argc<=1?NULL:Jsi_Strrchr(argv[1], '.'));",
          "745:     if (interp->selfZvfs && iext && Jsi_Strcmp(iext,\".fossil\")==0) {",
          "747:         goto done;",
          "748:     }",
          "749:     Jsi_ShiftArgs(interp, NULL);",
          "",
          "[Removed Lines]",
          "746:         rc = Jsi_EvalString(interp, \"runModule('Archive');\", JSI_EVAL_ISMAIN);",
          "",
          "[Added Lines]",
          "748:         rc = Jsi_EvalString(interp, \"moduleRun('Archive');\", JSI_EVAL_ISMAIN);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "758:         if (argc>2) {",
          "759:             if (Jsi_PkgRequire(interp, \"Help\", 0)>=0) {",
          "760:                 char tbuf[BUFSIZ];",
          "762:                 Jsi_RC rc = Jsi_EvalString(interp, tbuf, 0);",
          "763:                 const char *hstr = Jsi_ValueToString(interp, interp->retValue, NULL);",
          "764:                 if (rc == JSI_OK)",
          "",
          "[Removed Lines]",
          "761:                 snprintf(tbuf, sizeof(tbuf), \"return runModule('Help', '%s'.trim().split(null));\", argv[2]);",
          "",
          "[Added Lines]",
          "763:                 snprintf(tbuf, sizeof(tbuf), \"return moduleRun('Help', '%s'.trim().split(null));\", argv[2]);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "771:           \"\\nPREFIX-OPTS:\\n\"",
          "772:           \"  --C FILE\\tOption file of config options.\\n\"",
          "773:           \"  --F\\t\\tTrace all function calls and returns.\\n\"",
          "776:           \"  --S PATH\\tSet safeMode to \\\"lockdown\\\" using PATH for safe(Read/Write)Dirs.\\n\"",
          "777:           \"  --U\\t\\tDisplay unittest output, minus pass/fail compare.\\n\"",
          "778:           \"  --V\\t\\tSame as --U, but adds file and line number to output.\\n\"",
          "779:           \"\\nCOMMAND-OPTS:\\n\"",
          "780:           \"  -a\\t\\tArchive: mount an archive (zip, sqlar or fossil repo) and run module.\\n\"",
          "781:           \"  -c\\t\\tCData: generate .c or JSON output from a .jsc description.\\n\"",
          "",
          "[Removed Lines]",
          "774:           \"  --I OPT:VAL\\tInterp option: equivalent to Interp.conf({OPT:VAL}).\\n\"",
          "775:           \"  --L OPT\\tLog settings: equivalent to Interp.conf({log:'+XXX'})..\\n\"",
          "",
          "[Added Lines]",
          "776:           \"  --I OPT=VAL\\tInterp option bits: equivalent to Interp.conf({OPT:VAL}).\\n\"",
          "777:           \"  --L OPT\\tLogging bits: equivalent to Interp.conf({log:'XXX'})..\\n\"",
          "779:           \"  --T OPT\\tTypechecking bits: equivalent to Interp.conf({typeCheck:'XXX'})..\\n\"",
          "782:           \"  --X OPT\\tTracing bits: equivalent to Interp.conf({traceCall:'XXX'})..\\n\"",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "801:     if (ai1[0] == '-') {",
          "802:         switch (ai1[1]) {",
          "803:             case 'a':",
          "805:                 break;",
          "806:             case 'c':",
          "808:                 break;",
          "809:             case 'd':",
          "810:                 interp->debugOpts.isDebugger = 1;",
          "812:                 break;",
          "813:             case 'D':",
          "814:                 interp->debugOpts.isDebugger = 1;",
          "816:                 break;",
          "817:             case 'e':",
          "818:                 if (argc < 3)",
          "",
          "[Removed Lines]",
          "804:                 rc = Jsi_EvalString(interp, \"runModule('Archive');\", JSI_EVAL_ISMAIN);",
          "807:                 rc = Jsi_EvalString(interp, \"runModule('Cdata');\", JSI_EVAL_ISMAIN);",
          "811:                 rc = Jsi_EvalString(interp, \"runModule('Debug');\", JSI_EVAL_ISMAIN);",
          "815:                 rc = Jsi_EvalString(interp, \"runModule('DebugUI');\", JSI_EVAL_ISMAIN);",
          "",
          "[Added Lines]",
          "808:                 rc = Jsi_EvalString(interp, \"moduleRun('Archive');\", JSI_EVAL_ISMAIN);",
          "811:                 rc = Jsi_EvalString(interp, \"moduleRun('Cdata');\", JSI_EVAL_ISMAIN);",
          "815:                 rc = Jsi_EvalString(interp, \"moduleRun('Debug');\", JSI_EVAL_ISMAIN);",
          "819:                 rc = Jsi_EvalString(interp, \"moduleRun('DebugUI');\", JSI_EVAL_ISMAIN);",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "825:             case 'h':",
          "826:                 goto dohelp;",
          "827:             case 'J':",
          "829:                 break;",
          "830:             case 'm':",
          "831:                 if (argc <= 2 || argv[2][0] == '-')",
          "833:                 else {",
          "834:                     Jsi_DString dStr = {}, eStr = {};",
          "835:                     const char *cps, *cpe;",
          "",
          "[Removed Lines]",
          "828:                 rc = Jsi_EvalString(interp, \"runModule('Jspp');\", JSI_EVAL_ISMAIN);",
          "832:                     rc = Jsi_EvalString(interp, \"runModule('Module');\", JSI_EVAL_ISMAIN);",
          "",
          "[Added Lines]",
          "832:                 rc = Jsi_EvalString(interp, \"moduleRun('Jspp');\", JSI_EVAL_ISMAIN);",
          "836:                     rc = Jsi_EvalString(interp, \"moduleRun('Module');\", JSI_EVAL_ISMAIN);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "841:                         Jsi_DSPrintf(&dStr, \"source(\\\"%s\\\");\", argv[2]);",
          "842:                     else",
          "843:                         Jsi_DSPrintf(&dStr, \"require(\\\"%s\\\");\", argv[2]);",
          "845:                     rc = Jsi_EvalString(interp, Jsi_DSValue(&dStr), JSI_EVAL_NOSKIPBANG);",
          "846:                     Jsi_DSFree(&dStr);",
          "847:                     Jsi_DSFree(&eStr);",
          "848:                 }",
          "849:                 break;",
          "850:             case 's':",
          "852:                 break;",
          "853:             case 'S':",
          "855:                 break;",
          "856:             case 'u':",
          "858:                 break;",
          "859:             case 'v': {",
          "860:                 char str[200] = \"\\n\";",
          "",
          "[Removed Lines]",
          "844:                     Jsi_DSPrintf(&dStr, \"puts(runModule(\\\"%.*s\\\",console.args.slice(1)));\", len, cps);",
          "851:                 rc = Jsi_EvalString(interp, \"runModule('Safe');\", JSI_EVAL_ISMAIN);",
          "854:                 rc = Jsi_EvalString(interp, \"runModule('SqliteUI');\", JSI_EVAL_ISMAIN);",
          "857:                 rc = Jsi_EvalString(interp, \"exit(runModule('UnitTest'));\", JSI_EVAL_ISMAIN);",
          "",
          "[Added Lines]",
          "848:                     Jsi_DSPrintf(&dStr, \"puts(moduleRun(\\\"%.*s\\\",console.args.slice(1)));\", len, cps);",
          "855:                 rc = Jsi_EvalString(interp, \"moduleRun('Safe');\", JSI_EVAL_ISMAIN);",
          "858:                 rc = Jsi_EvalString(interp, \"moduleRun('SqliteUI');\", JSI_EVAL_ISMAIN);",
          "861:                 rc = Jsi_EvalString(interp, \"exit(moduleRun('UnitTest'));\", JSI_EVAL_ISMAIN);",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "872:                 return jsi_DoExit(interp, 1);",
          "873:             }",
          "874:             case 'w':",
          "876:                 break;",
          "877:             case 'W':",
          "879:                 break;",
          "880:             case 'z':",
          "882:                 break;",
          "883:             default:",
          "885:                 \"| -a | -c | -d | -D | -h | -m | -s | -S | -u | -v | -w | -W | -z | FILE ...\\nUse -help for long help.\");",
          "886:                 return jsi_DoExit(interp, 1);",
          "887:         }",
          "",
          "[Removed Lines]",
          "875:                 rc = Jsi_EvalString(interp, \"runModule('Wget');\", JSI_EVAL_ISMAIN);",
          "878:                 rc = Jsi_EvalString(interp, \"runModule('Websrv');\", JSI_EVAL_ISMAIN);",
          "881:                 rc = Jsi_EvalString(interp, \"runModule('Zip');\", JSI_EVAL_ISMAIN);",
          "884:                 puts(\"usage: jsish [  --C FILE | --I OPT:VAL | --L OPT | --T OPT | --S PATH | --U | --V | --F ] | -e STRING |\\n\\t\"",
          "",
          "[Added Lines]",
          "879:                 rc = Jsi_EvalString(interp, \"moduleRun('Wget');\", JSI_EVAL_ISMAIN);",
          "882:                 rc = Jsi_EvalString(interp, \"moduleRun('Websrv');\", JSI_EVAL_ISMAIN);",
          "885:                 rc = Jsi_EvalString(interp, \"moduleRun('Zip');\", JSI_EVAL_ISMAIN);",
          "888:                 puts(\"usage: jsish [  --C FILE | --I OPT:VAL | --L OPT | --T OPT | --X OPT | --S PATH | --U | --V | --F ] | -e STRING |\\n\\t\"",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "902:             }",
          "903:         } else if (ext && !Jsi_Strcmp(ext,\".jsc\")) {",
          "904:             Jsi_DString dStr = {};",
          "906:             rc = Jsi_EvalString(interp, Jsi_DSValue(&dStr), JSI_EVAL_ISMAIN|JSI_EVAL_NOSKIPBANG);",
          "907:             Jsi_DSFree(&dStr);",
          "",
          "[Removed Lines]",
          "905:             Jsi_DSPrintf(&dStr, \"console.args.unshift('%s'); runModule('CData');\", argv[first]);",
          "",
          "[Added Lines]",
          "909:             Jsi_DSPrintf(&dStr, \"console.args.unshift('%s'); moduleRun('CData');\", argv[first]);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1083:     interp->maxDepth = JSI_MAX_EVAL_DEPTH;",
          "1084:     interp->maxIncDepth = JSI_MAX_INCLUDE_DEPTH;",
          "1085:     interp->maxArrayList = MAX_ARRAY_LIST;",
          "1086:     interp->typeWarnMax = 50;",
          "1087:     interp->subOpts.dblPrec = __DBL_DECIMAL_DIG__-1;",
          "1088:     interp->subOpts.prompt = \"$ \";",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1090:     interp->maxDumpStack = 100;",
          "1091:     interp->maxDumpArgs = 80;",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1141:             break;",
          "1142:         else {",
          "1143:             switch (aio[2]) {",
          "1145:                     continue;",
          "1146:                 case 'F': case 'U': case 'V':  iocnt--;",
          "1147:                     continue;",
          "",
          "[Removed Lines]",
          "1144:                 case 'T': case 'S': case 'C': case 'L':",
          "",
          "[Added Lines]",
          "1150:                 case 'T': case 'S': case 'C': case 'L': case 'X':",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "1263:                     interp->iskips+=2;",
          "1264:                     continue;",
          "1265:                 }",
          "1273:                     Jsi_IncrRefCount(interp, lv);",
          "1274:                     if (aio[2]=='L')",
          "1275:                         rc = Jsi_OptionsSet(interp, InterpOptions, interp, \"log\", lv, 0);",
          "1277:                         rc = Jsi_OptionsSet(interp, InterpOptions, interp, \"typeCheck\", lv, 0);",
          "1278:                     Jsi_DecrRefCount(interp, lv);",
          "1280:                     if (JSI_OK != rc) {",
          "1282:                         Jsi_InterpDelete(interp);",
          "",
          "[Removed Lines]",
          "1266:                 case 'T': case 'L': {",
          "1267:                     Jsi_DString tStr = {};",
          "1268:                     if (argv[iocnt+1][0]=='=')",
          "1269:                         Jsi_DSAppend(&tStr, argv[iocnt+1]+1, NULL);",
          "1270:                     else",
          "1271:                         Jsi_DSAppend(&tStr, \"+\", argv[iocnt+1], NULL);",
          "1272:                     Jsi_Value *lv = Jsi_ValueNewStringConst(interp, Jsi_DSValue(&tStr), -1);",
          "1276:                     else",
          "1279:                     Jsi_DSFree(&tStr);",
          "",
          "[Added Lines]",
          "1272:                 case 'T': case 'L': case 'X': {",
          "1273:                     Jsi_Value *lv = Jsi_ValueNewStringConst(interp, argv[iocnt+1], -1);",
          "1277:                     else if (aio[2]=='T')",
          "1279:                     else",
          "1280:                         rc = Jsi_OptionsSet(interp, InterpOptions, interp, \"traceCall\", lv, 0);",
          "",
          "---------------"
        ],
        "src/jsiMySql.c||src/jsiMySql.c": [
          "File: src/jsiMySql.c -> src/jsiMySql.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "403:     if (m)",
          "404:         return Jsi_LogError(\"fetch failed: %s\", mysql_error(jdb->db));",
          "405:     return JSI_OK;",
          "415: }",
          "417: static void mdbRelease1Stmt( MySqlObj *jdb, MysqlPrep *prep ) {",
          "",
          "[Removed Lines]",
          "406: #if 0",
          "407:     if( eval->pArray ) {",
          "408:         mdbEvalRowInfo(eval, 0, 0, 0);",
          "409:     }",
          "410:     if (release==0)",
          "411:         return JSI_BREAK;",
          "412:     eval->prep = 0;",
          "413:     return JSI_OK;",
          "414: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiOptions.c||src/jsiOptions.c": [
          "File: src/jsiOptions.c -> src/jsiOptions.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1569: static Jsi_RC jsi_ValueToBitset(Jsi_Interp *interp, Jsi_OptionSpec* spec, Jsi_Value *inValue, const char *inStr, void *record, Jsi_Wide flags)",
          "1570: {",
          "1573:     char *s =(((char*)record) + spec->offset);",
          "1574:     char **argv;",
          "1575:     const char *cp, **list = (const char**)spec->data;",
          "",
          "[Removed Lines]",
          "1572:     int i, argc, n;",
          "",
          "[Added Lines]",
          "1572:     Jsi_RC rc = JSI_OK;",
          "1573:     int i, argc, n, ass;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1591:         inStr = Jsi_ValueString(interp, inValue, NULL);",
          "1592: #endif",
          "1593:     if (inStr) {",
          "1595:             inStr++;",
          "1596:             m = im;",
          "1598:         if (*inStr) {",
          "1599:             Jsi_DString sStr;",
          "1600:             Jsi_DSInit(&sStr);",
          "",
          "[Removed Lines]",
          "1594:         if (*inStr == '+') {",
          "1597:         }",
          "",
          "[Added Lines]",
          "1595:         if ((ass=(*inStr == '=')))",
          "1597:         else",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1603:             for (i=0; i<argc; i++) {",
          "1604:                 int isnot = 0;",
          "1605:                 cp = argv[i];",
          "1607:                 if (JSI_OK != Jsi_GetIndex(interp, cp, list, \"enum\", fflags, &n))",
          "1609:                 if (n >= (int)(spec->size*8))",
          "1611:                 if (isnot)",
          "1612:                     m &= ~(1<<n);",
          "1613:                 else",
          "1614:                     m |= (1<<n);",
          "1615:             }",
          "1616:             Jsi_DSFree(&sStr);",
          "1617:         }",
          "1618:     } else {",
          "1619: #ifndef JSI_LITE_ONLY",
          "1620:         if (!inValue) {",
          "1622:             return JSI_OK;",
          "",
          "[Removed Lines]",
          "1606:                 if (*cp == '!') { isnot = 1; cp++; }",
          "1608:                     return JSI_ERROR;",
          "1610:                     return Jsi_LogError(\"list larger than field size: %s\", spec->name);",
          "",
          "[Added Lines]",
          "1607:                 if (*cp == '!') {",
          "1608:                     if (ass)",
          "1609:                         rc = Jsi_LogError(\"Can not use '!' in a string starting with '='\");",
          "1610:                     isnot = 1; cp++;",
          "1611:                 }",
          "1613:                     rc = JSI_ERROR;",
          "1615:                     rc = Jsi_LogError(\"list larger than field size: %s\", spec->name);",
          "1622:             if (rc != JSI_OK)",
          "1623:                 return rc;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1663:             if (!cp)",
          "1664:                 return Jsi_LogError(\"expected string\");",
          "1665:             if (i == 0) {",
          "1668:                     continue;",
          "1670:             }",
          "1671:             if (*cp == '!') { isnot = 1; cp++; }",
          "1672:             if (JSI_OK != Jsi_GetIndex(interp, cp, list, \"bitset\", fflags, &n))",
          "",
          "[Removed Lines]",
          "1666:                 if (*cp == '+' && !cp[1]) {",
          "1667:                     m = im;",
          "1669:                 }",
          "",
          "[Added Lines]",
          "1674:                 if (*cp == '=' && !cp[1])",
          "1676:                 else",
          "1677:                     m = im;",
          "",
          "---------------"
        ],
        "src/jsiProto.c||src/jsiProto.c": [
          "File: src/jsiProto.c -> src/jsiProto.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "171: Jsi_RC jsi_FuncCallSub(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *callee,",
          "172:     Jsi_Value **ret, Jsi_Func *funcPtr, Jsi_Value *fthis, int calltrc)",
          "173: {",
          "174:     Jsi_Func *prevActive = interp->activeFunc;",
          "176:     Jsi_IncrRefCount(interp, args);",
          "177:     Jsi_RC rc = jsi_SharedArgs(interp, args, funcPtr, 1);",
          "178:     if (rc == JSI_OK) {",
          "180:         int profile = interp->profile, coverage = interp->coverage;",
          "181:         int tc = interp->traceCall;",
          "182:         double timStart = 0;",
          "",
          "[Removed Lines]",
          "175:     interp->activeFunc = funcPtr;",
          "",
          "[Added Lines]",
          "174:     Jsi_Func *pprevActive = interp->prevActiveFunc;",
          "178:     const char *oldCurFunc = interp->curFunction;",
          "179:     if (funcPtr->name && funcPtr->name[0] && funcPtr->type == FC_NORMAL)",
          "180:         interp->curFunction = funcPtr->name;",
          "183:         interp->prevActiveFunc = interp->activeFunc;",
          "184:         interp->activeFunc = funcPtr;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "260:     }",
          "262:     jsi_SharedArgs(interp, args, funcPtr, 0);",
          "263:     interp->activeFunc = prevActive;",
          "264:     Jsi_DecrRefCount(interp, args);",
          "265:     return rc;",
          "266: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "268:     interp->curFunction = oldCurFunc;",
          "270:     interp->prevActiveFunc = pprevActive;",
          "",
          "---------------"
        ],
        "src/jsiPstate.c||src/jsiPstate.c": [
          "File: src/jsiPstate.c -> src/jsiPstate.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "171:     return jsi_ScopeStrsDup(ps, interp->scopes[interp->cur_scope]);",
          "172: }",
          "187: static Jsi_RC jsi_StringFree(Jsi_Interp *interp, Jsi_HashEntry *hPtr, void *d) {",
          "188:     Jsi_String *s = (Jsi_String *)d;",
          "189:     if (s->flags&1)",
          "",
          "[Removed Lines]",
          "174: #if 0",
          "175: static int fastVarFree(Jsi_Interp *interp, void *ptr) {",
          "176:     FastVar *fv = ptr;",
          "177:     Jsi_Value *v = fv->var.lval;",
          "178:     if (v) {",
          "181:     }",
          "182:     return JSI_OK;",
          "183: }",
          "184: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiSqlite.c||src/jsiSqlite.c": [
          "File: src/jsiSqlite.c -> src/jsiSqlite.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1732: }",
          "",
          "[Removed Lines]",
          "1736: #if 0",
          "1737: static void dbEvalRowInfo(",
          "1741:     int **papColType",
          "1742: ) {",
          "1746:     if( 0==p->apColName ) {",
          "1747:         sqlite3_stmt *pStmt = p->pPreStmt->pStmt;",
          "1751:         int *apColType = 0;",
          "1755:         p->nCol = nCol = sqlite3_column_count(pStmt);",
          "1756:         if( nCol>0 && (papColName || p->pArray) ) {",
          "1757:             int cnLen = sizeof(char*)*nCol, cnStart = cnLen;",
          "1758:             for(i=0; i<nCol && cnLen<sizeof(p->staticColNames); i++)",
          "1759:                 cnLen += Jsi_Strlen(sqlite3_column_name(pStmt,i))+1;",
          "1760:             if (cnLen>=sizeof(p->staticColNames)) {",
          "1761:                 apColName = (char**)Jsi_Calloc(nCol, sizeof(char*) );",
          "1762:                 cnStart = 0;",
          "1763:             } else {",
          "1764:                 apColName = (char**)p->staticColNames;",
          "1765:             }",
          "1766:             if (papColType) {",
          "1767:                 if (nCol < SQL_MAX_STATIC_TYPES)",
          "1768:                     apColType = p->staticColTypes;",
          "1769:                 else",
          "1770:                     apColType = (int*)Jsi_Calloc(nCol, sizeof(int));",
          "1771:             }",
          "1772:             for(i=0; i<nCol; i++) {",
          "1773:                 zColName = sqlite3_column_name(pStmt,i);",
          "1774:                 if (cnStart==0)",
          "1775:                     apColName[i] = Jsi_Strdup(zColName);",
          "1776:                 else {",
          "1777:                     apColName[i] = p->staticColNames+cnStart;",
          "1778:                     Jsi_Strcpy(apColName[i], zColName);",
          "1779:                     cnStart += Jsi_Strlen(zColName)+1;",
          "1780:                 }",
          "1781:                 if (apColType)",
          "1782:                     apColType[i] = sqlite3_column_type(pStmt,i);",
          "1784:                 if ((i == 0 || numRid>0) &&",
          "1785:                         (zColName[0] == 'r' && Jsi_Strcmp(zColName,\"rowid\") == 0)) {",
          "1786:                     numRid++;",
          "1787:                 }",
          "1788:             }",
          "1790:             if (numRid > 1) {",
          "1791:                 if (apColName != (char**)p->staticColNames) {",
          "1792:                     Jsi_Free(apColName[0]);",
          "1793:                     apColName[0] = Jsi_Strdup(\"oid\");",
          "1794:                 } else {",
          "1795:                     Jsi_Strcpy(apColName[0], \"oid\");",
          "1796:                 }",
          "1797:             }",
          "1798:             p->apColName = apColName;",
          "1799:             p->apColType = apColType;",
          "1800:         }",
          "1801:     }",
          "1802:     if( papColName ) {",
          "1804:     }",
          "1805:     if( papColType ) {",
          "1807:     }",
          "1808:     if( pnCol ) {",
          "1810:     }",
          "1811: }",
          "1812: #endif",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "src/jsiUtils.c||src/jsiUtils.c": [
          "File: src/jsiUtils.c -> src/jsiUtils.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "128:     const char *pps = \"\", *curFile = \"\";",
          "129:     char *ss = interp->lastPushStr;",
          "130:     uint log = jsi_GetLogFlag(interp, code);",
          "131:     if (!log)",
          "132:         return JSI_OK;",
          "133:     if (interp==NULL)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "131:     jsi_Frame *fp = interp->framePtr;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "150:     }",
          "151:     curFile = jsi_GetCurFile(interp);",
          "152:     if (code == JSI_LOG_ERROR) {",
          "154:             && (!interp->tryList || !(interp->tryList->inCatch|interp->tryList->inFinal))) {",
          "156:             if (!interp->errMsgBuf[0]) {",
          "",
          "[Removed Lines]",
          "153:         if ((interp->framePtr->tryDepth - interp->framePtr->withDepth)>0 && interp->inParse<=0",
          "",
          "[Added Lines]",
          "154:         if (interp->framePtr->level > 1 && !fp->tryDepth)",
          "155:             jsi_DumpStackTrace(interp);",
          "157:         if ((fp->tryDepth - fp->withDepth)>0 && interp->inParse<=0",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "197:         line = interp->parsePs->lexer->cur_line;",
          "198:         lofs = interp->parsePs->lexer->cur_char;",
          "199:     } else if (interp->curIp) {",
          "202:             line = fptr->line;",
          "203:             lofs = 0;",
          "204:             curFile = fptr->filePtr->fileName;",
          "",
          "[Removed Lines]",
          "200:         if (interp->callerErr && interp->framePtr && interp->framePtr->parent) {",
          "201:             jsi_Frame *fptr = interp->framePtr->parent;",
          "",
          "[Added Lines]",
          "204:         if (interp->callerErr && fp && fp->parent) {",
          "205:             jsi_Frame *fptr = fp->parent;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "206:             line = interp->curIp->Line;",
          "207:             lofs = interp->curIp->Lofs;",
          "208:             if (line<=0)",
          "210:         }",
          "211:     }",
          "212:     islog = (interp->parent && interp->debugOpts.msgCallback && code != JSI_LOG_BUG);",
          "",
          "[Removed Lines]",
          "209:                 line = interp->framePtr->line;",
          "",
          "[Added Lines]",
          "213:                 line = fp->line;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1152:                 if (hasHelp) {",
          "1153:                     wantHelp = 1;",
          "1154:                     char tbuf[BUFSIZ];",
          "1156:                     rc = Jsi_EvalString(interp, tbuf, JSI_RETURN);",
          "1157:                 }",
          "1158:             }",
          "",
          "[Removed Lines]",
          "1155:                     snprintf(tbuf, sizeof(tbuf), \"return runModule('Help', '%s'.trim().split(null));\", buf+4);",
          "",
          "[Added Lines]",
          "1159:                     snprintf(tbuf, sizeof(tbuf), \"return moduleRun('Help', '%s'.trim().split(null));\", buf+4);",
          "",
          "---------------"
        ],
        "src/jsiWebSocket.c||src/jsiWebSocket.c": [
          "File: src/jsiWebSocket.c -> src/jsiWebSocket.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2646: #define FN_wshandler JSI_INFO(\"\\",
          "2647: With no args, returns list of handlers.  With one arg, returns value for that handler.\\n\\",
          "2649: If a cmd is a function, it is called with a single arg: the file name.\")",
          "2650: static Jsi_RC WebSocketHandlerCmd(Jsi_Interp *interp, Jsi_Value *args, Jsi_Value *_this,",
          "2651:     Jsi_Value **ret, Jsi_Func *funcPtr)",
          "",
          "[Removed Lines]",
          "2648: Otherwise, sets the handler. When cmd is a string, the call is via runModule([cmd], arg).\\n\\",
          "",
          "[Added Lines]",
          "2648: Otherwise, sets the handler. When cmd is a string, the call is via moduleRun([cmd], arg).\\n\\",
          "",
          "---------------"
        ],
        "tests/assert.jsi||tests/assert.jsi": [
          "File: tests/assert.jsi -> tests/assert.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: #!/usr/local/bin/jsish -u %s",
          "6: try {",
          "7:     assert(false,'false');",
          "8: } catch(e) {",
          "9:     puts('caught error');",
          "10: }",
          "11: ;Interp.conf({log:{assert:false}});",
          "14: ;assert(false,'false2');",
          "15: ;assert(false===true);",
          "18: var i=1, j=2;",
          "19: ;assert(function () { return (i<j); },'fail');",
          "",
          "[Removed Lines]",
          "2: Interp.conf({log:{assert:false}});",
          "4: assert(true,'true');",
          "5: assert(2*3 == 6,'math');",
          "12: var x = 1;",
          "13: ;x;",
          "16: ;Interp.conf({log:{assert:false}});",
          "",
          "[Added Lines]",
          "2: Interp.conf({log:{assert:true}});",
          "4: ;assert(true,'true');",
          "5: ;assert(2*3 == 6,'math');",
          "12: var x;",
          "13: ;x = 1;",
          "16: ;Interp.conf({log:{assert:true}});",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "41: =!EXPECTSTART!=",
          "42: Interp.conf({log:{assert:false}}) ==> undefined",
          "44: assert(false,'false2') ==> undefined",
          "45: assert(false===true) ==> undefined",
          "47: assert(function () { return (i<j); },'fail') ==> undefined",
          "50: Interp.conf({assertMode:'puts', noStderr:true}) ==> undefined",
          "53: =!EXPECTEND!=",
          "",
          "[Removed Lines]",
          "43: x ==> 1",
          "46: Interp.conf({log:{assert:false}}) ==> undefined",
          "48: assert(false,'false') ==> undefined",
          "49: assert(false,'this assert failed',{mode:'puts', noStderr:true}) ==> undefined",
          "51: assert(true===false) ==> undefined",
          "52: assert(false,'assert also failed') ==> undefined",
          "",
          "[Added Lines]",
          "42: assert(true,'true') ==> undefined",
          "43: assert(2*3 == 6,'math') ==> undefined",
          "44: caught error",
          "46: x = 1 ==> 1",
          "49: Interp.conf({log:{assert:true}}) ==> undefined",
          "51: caught error2: assert(false==true)",
          "52: assert(false,'false') ==> caught error2: false",
          "53: assert(false,'this assert failed',{mode:'puts', noStderr:true}) ==> this assert failed",
          "54: undefined",
          "56: assert(true===false) ==> assert(true===false)`),puts(assert(true===false))",
          "57: undefined",
          "58: assert(false,'assert also failed') ==> assert also failed",
          "59: undefined",
          "",
          "---------------"
        ],
        "tests/evalthrow.jsi||tests/evalthrow.jsi": [
          "File: tests/evalthrow.jsi -> tests/evalthrow.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: #!/usr/local/bin/jsish -u %s",
          "3: try {",
          "4:     eval(\"throw('abc');\");",
          "5: } catch(e) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3: Interp.conf({maxDumpStack:0});",
          "",
          "---------------"
        ],
        "tests/logging.jsi||tests/logging.jsi": [
          "File: tests/logging.jsi -> tests/logging.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "32: =!EXPECTSTART!=",
          "33: \"Starting\", logging.jsi:3,",
          "35: Interp.conf({noStderr:true}) ==> undefined",
          "36: log('hello worm') ==> \"hello worm\", logging.jsi:14, foo()",
          "37: undefined",
          "",
          "[Removed Lines]",
          "34: \"DEBUG:  testing 1, 2, 3: call2\", logging.jsi:6, test()",
          "",
          "[Added Lines]",
          "34: \"DEBUG:  testing 1, 2, 3: call2\", logging.jsi:6,",
          "",
          "---------------"
        ],
        "tests/strict.jsi||tests/strict.jsi": [
          "File: tests/strict.jsi -> tests/strict.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: #!/usr/local/bin/jsish -u %s",
          "5: function foo() {",
          "6:   x = 1;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3: Interp.conf({maxDumpStack:0});",
          "",
          "---------------"
        ],
        "tests/syntax.jsi||tests/syntax.jsi": [
          "File: tests/syntax.jsi -> tests/syntax.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: #!/usr/local/bin/jsish -u %s",
          "4: function foo() {",
          "5:   var i = Info; // Prevents static type check detections.",
          "6:   i.cmds(1,2,3,4);",
          "",
          "[Removed Lines]",
          "3: Interp.conf({typeCheck:['error']});",
          "",
          "[Added Lines]",
          "3: Interp.conf({typeCheck:['error'], maxDumpStack:0});",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "15: =!EXPECTSTART!=",
          "17: =!EXPECTEND!=",
          "",
          "[Removed Lines]",
          "16: foo() ==> e ==> extra args, expected \"cmds(val:string|regexp='*', options:object=void)\"",
          "",
          "[Added Lines]",
          "16: foo() ==> e ==> got 4 args, expected 0-2, calling function cmds(val:string|regexp='*', options:object=void)",
          "",
          "---------------"
        ],
        "tools/protos.jsi||tools/protos.jsi": [
          "File: tools/protos.jsi -> tools/protos.jsi"
        ],
        "www/reference.wiki||www/reference.wiki": [
          "File: www/reference.wiki -> www/reference.wiki",
          "--- Hunk 1 ---",
          "[Context before]",
          "634: <tr><td>logOpts</td><td><i><a href='#logOptsOptions'>options</a></i></td><td>Options for log output to add file/line/time.</td><td><i></i></td></tr>",
          "635: <tr><td>log</td><td><i>ARRAY</i></td><td>Logging flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "636: <tr><td>maxDepth</td><td><i>INT</i></td><td>Depth limit of recursive function calls (1000).</td><td><i></i></td></tr>",
          "637: <tr><td>maxArrayList</td><td><i>UINT</i></td><td>Maximum array convertable to list (100000).</td><td><i></i></td></tr>",
          "638: <tr><td>maxIncDepth</td><td><i>INT</i></td><td>Maximum allowed source/require nesting depth (50).</td><td><i></i></td></tr>",
          "639: <tr><td>maxInterpDepth</td><td><i>INT</i></td><td>Maximum nested subinterp create depth (10).</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "637: <tr><td>maxDumpStack</td><td><i>UINT</i></td><td>Maximum stack dump length (100).</td><td><i></i></td></tr>",
          "638: <tr><td>maxDumpArgs</td><td><i>UINT</i></td><td>Maximum arg length in stack dump (80).</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1647: <tr><td>conf</td><td>conf(<a href='#WebSocket.confOptions'>options</a>:string|object=void) </td><td>Configure options.</td></tr>",
          "1648: <tr><td>file</td><td>file(name:string=void):array|void </td><td>Add file to hash, or with no args return file hash.</td></tr>",
          "1649: <tr><td>handler</td><td>handler(extension:string=void, cmd:string|function=void, flags:number=0):string|array|function|void </td><td>Get/Set handler command for an extension. With no args, returns list of handlers.  With one arg, returns value for that handler.",
          "1651: If a cmd is a function, it is called with a single arg: the file name.</td></tr>",
          "1652: <tr><td>header</td><td>header(id:number, name:string=void):string|array|void </td><td>Get one or all input headers for connect id.</td></tr>",
          "1653: <tr><td>idconf</td><td>idconf(id:number, <a href='#WebSocket.idconfOptions'>options</a>:string|object=void) </td><td>Configure options for connect id.</td></tr>",
          "",
          "[Removed Lines]",
          "1650: Otherwise, sets the handler. When cmd is a string, the call is via runModule([cmd], arg).",
          "",
          "[Added Lines]",
          "1652: Otherwise, sets the handler. When cmd is a string, the call is via moduleRun([cmd], arg).",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "37559850f737cfa74fbb04877a276ca1333f9c71",
      "candidate_info": {
        "commit_hash": "37559850f737cfa74fbb04877a276ca1333f9c71",
        "repo": "pcmacdon/jsish",
        "commit_url": "https://github.com/pcmacdon/jsish/commit/37559850f737cfa74fbb04877a276ca1333f9c71",
        "files": [
          "lib/Jsish.jsi",
          "lib/Wget.jsi",
          "md/Reference.md",
          "md/Sqlite.md",
          "src/jsi.h",
          "src/jsiCmds.c",
          "src/jsiJSON.c",
          "src/jsiMySql.c",
          "src/jsiSqlite.c",
          "src/jsiStubs.h",
          "src/jsiUtils.c",
          "src/jsiWebSocket.c",
          "tools/protos.jsi",
          "www/reference.wiki"
        ],
        "message": "WebSocket mimeTypes.\n\nFossilOrigin-Name: e64ec3fc7f8943583f228e91faeed9a9c6f5d8c6a12cd9e47e1b5ec5e38a262f",
        "before_after_code_files": [
          "lib/Jsish.jsi||lib/Jsish.jsi",
          "lib/Wget.jsi||lib/Wget.jsi",
          "src/jsi.h||src/jsi.h",
          "src/jsiCmds.c||src/jsiCmds.c",
          "src/jsiJSON.c||src/jsiJSON.c",
          "src/jsiMySql.c||src/jsiMySql.c",
          "src/jsiSqlite.c||src/jsiSqlite.c",
          "src/jsiStubs.h||src/jsiStubs.h",
          "src/jsiUtils.c||src/jsiUtils.c",
          "src/jsiWebSocket.c||src/jsiWebSocket.c",
          "tools/protos.jsi||tools/protos.jsi",
          "www/reference.wiki||www/reference.wiki"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ],
          "candidate": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ]
        }
      },
      "candidate_diff": {
        "lib/Jsish.jsi||lib/Jsish.jsi": [
          "File: lib/Jsish.jsi -> lib/Jsish.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "269:     var cols = db.query('PRAGMA table_info(\"'+table+'\")');",
          "270:     if (!cols.length) {",
          "271:         if (!self.noCreate)",
          "273:         return true;",
          "274:     }",
          "276:     oo.getSql = true;",
          "277:     var cs = db.onecolumn(\"SELECT sql from sqlite_master where type='table' and name=@table\").trim();",
          "279:     if (fs === cs)",
          "280:         return true;",
          "281:     var f = fs.substring( fs.indexOf('([')+2, fs.length-2);",
          "",
          "[Removed Lines]",
          "272:             db.query(\"CREATE TABLE '\"+table+\"' %s\", {objName:'data'});",
          "275:     var oo = self.objOpts;",
          "278:     var fs = db.query(\"CREATE TABLE '\"+table+\"' %s\", {objName:'data', objOpts:oo}).trim();",
          "",
          "[Added Lines]",
          "272:             db.query(\"CREATE TABLE '\"+table+\"' %v\", 'data');",
          "275:     var oo = self.objOpts.merge({});",
          "277:     oo.name = 'data';",
          "279:     var fs = db.query(\"CREATE TABLE '\"+table+\"' %v\", {obj:oo}).trim();",
          "",
          "---------------"
        ],
        "lib/Wget.jsi||lib/Wget.jsi": [
          "File: lib/Wget.jsi -> lib/Wget.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "8:         headers     : [],           // Header fields to send.",
          "9:         nowait      : false,        // Just return object: caller will call update.",
          "10:         onDone      : null,         // Callback when done.",
          "12:         wsOpts      :{},            // Websocket options.",
          "13:         wsdebug     : 0             // WebSockets debug level.",
          "14:     };",
          "",
          "[Removed Lines]",
          "11:         O           : '',           // Output file name, or - for stdout, . for return contents: default is url tail.",
          "",
          "[Added Lines]",
          "11:         O           : '',           // Output file name, or - for stdout, . for response: default is url tail.",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "53:             delete self.fd;",
          "54:         }",
          "55:         if (self.onDone)",
          "57:     }",
          "59:     function main() {",
          "",
          "[Removed Lines]",
          "56:             self.onDone(id, isError);",
          "",
          "[Added Lines]",
          "56:             self.onDone(id, self, isError);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "80:         if (self.O == '')",
          "81:             self.O = File.tail(self.path);",
          "82:         if (self.O == '')",
          "84:         if (self.O !== '-' && self.O !== '.' && File.exists(self.O)) {",
          "85:             if (!self.force)",
          "86:                 throw('output file already exists: '+self.O);",
          "",
          "[Removed Lines]",
          "83:             self.O = '-';",
          "",
          "[Added Lines]",
          "83:             self.O = '.';",
          "",
          "---------------"
        ],
        "src/jsi.h||src/jsi.h": [
          "File: src/jsi.h -> src/jsi.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #define JSI_VERSION_MAJOR   3",
          "6: #define JSI_VERSION_MINOR   0",
          "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
          "",
          "[Removed Lines]",
          "7: #define JSI_VERSION_RELEASE 21",
          "",
          "[Added Lines]",
          "7: #define JSI_VERSION_RELEASE 22",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "614:     Jsi_UserObjIsEquProc *isequ;",
          "615: } Jsi_UserObjReg;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "617: typedef struct {",
          "618:     const char* name;",
          "619:     Jsi_Value* skip;",
          "620:     bool getSql;",
          "621:     bool defaultNull;",
          "622:     bool noChecks;",
          "623:     bool noDefaults;",
          "624:     bool noTypes;",
          "625: } Jsi_SqlObjOpts;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1499: JSI_DBDATA_FIELDS",
          "1500: } Jsi_CDataDb;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1513: #define JSI_DBOBJ_OPTSPEC \\",
          "1514:     JSI_OPT(STRKEY,   Jsi_SqlObjOpts, name,         .help=\"Name of object var data source for %s\" ), \\",
          "1515:     JSI_OPT(ARRAY,    Jsi_SqlObjOpts, skip,         .help=\"Object members to ignore\" ), \\",
          "1516:     JSI_OPT(BOOL,     Jsi_SqlObjOpts, getSql,       .help=\"Return expanded SQL without evaluating\" ), \\",
          "1517:     JSI_OPT(BOOL,     Jsi_SqlObjOpts, defaultNull,  .help=\"Create with DEFAULT NULL\" ), \\",
          "1518:     JSI_OPT(BOOL,     Jsi_SqlObjOpts, noChecks,     .help=\"Create with no CHECK constraints\" ), \\",
          "1519:     JSI_OPT(BOOL,     Jsi_SqlObjOpts, noDefaults,   .help=\"Create with no defaults\" ), \\",
          "1520:     JSI_OPT(BOOL,     Jsi_SqlObjOpts, noTypes,      .help=\"Create with no types\" ), \\",
          "1521:     JSI_OPT_END(Jsi_SqlObjOpts, .help=\"Options for obj\")",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1532: #define JSI_STUBS_STRUCTSIZES (sizeof(Jsi_MapSearch)+sizeof(Jsi_TreeSearch) \\",
          "1533:     +sizeof(Jsi_HashSearch)+sizeof(Jsi_Filesystem)+sizeof(Jsi_Chan)+sizeof(Jsi_Event) \\",
          "1534:     +sizeof(Jsi_CDataDb)+sizeof(Jsi_Stack)+sizeof(Jsi_OptionSpec)+sizeof(Jsi_CmdSpec) \\",
          "1537: #ifndef JSI_OMIT_STUBS",
          "1538: #ifdef JSI_USE_STUBS",
          "",
          "[Removed Lines]",
          "1535:     +sizeof(Jsi_UserObjReg)+sizeof(Jsi_String) + sizeof(Jsi_PkgOpts))",
          "",
          "[Added Lines]",
          "1556:     +sizeof(Jsi_UserObjReg)+sizeof(Jsi_String) + sizeof(Jsi_PkgOpts) + sizeof(Jsi_SqlObjOpts))",
          "",
          "---------------"
        ],
        "src/jsiCmds.c||src/jsiCmds.c": [
          "File: src/jsiCmds.c -> src/jsiCmds.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "3893:     cp = Jsi_DSValue(&dStr);",
          "3894:     if (Jsi_Strchr(sp, ' ')) {",
          "3895:         Jsi_DSAppend(&sStr, sp, NULL);",
          "3900:         }",
          "3902:     }",
          "3903:     if (Jsi_Strcmp(cp, sp)) {",
          "3904:         if (partial && *cp && *sp) {",
          "",
          "[Removed Lines]",
          "3896:         char *cp = Jsi_DSValue(&sStr), *ep = cp;",
          "3897:         while (*cp) {",
          "3898:             while (isspace(*cp)) cp++;",
          "",
          "[Added Lines]",
          "3896:         char *tp = Jsi_DSValue(&sStr), *ep = tp;",
          "3897:         while (*tp) {",
          "3898:             while (isspace(*tp)) tp++;",
          "3902:         sp = Jsi_DSValue(&sStr);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3926:                 cs=(*ce?ce+1:ce);",
          "3927:             }",
          "3928:             goto done;",
          "3935:         }",
          "3936:     }",
          "3937: done:",
          "3938:     Jsi_DSFree(&dStr);",
          "",
          "[Removed Lines]",
          "3929: mismatch:",
          "3930:             ok = 0;",
          "3931:             if (interp->asserts && !noerror)",
          "3932:                 rc = Jsi_LogError(\"matchobj failed: expected '%s' got '%s'\", sp, cp);",
          "3933:             else",
          "3934:                 Jsi_LogWarn(\"matchobj failed: expected '%s' got '%s'\", sp, cp);",
          "",
          "[Added Lines]",
          "3931: mismatch:",
          "3932:         ok = 0;",
          "3933:         if (interp->asserts && !noerror)",
          "3934:             rc = Jsi_LogError(\"matchobj failed: expected '%s' got '%s'\", sp, cp);",
          "3935:         else",
          "3936:             Jsi_LogWarn(\"matchobj failed: expected '%s' got '%s'\", sp, cp);",
          "",
          "---------------"
        ],
        "src/jsiJSON.c||src/jsiJSON.c": [
          "File: src/jsiJSON.c -> src/jsiJSON.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "219:             Jsi_ValueMakeUndef(interp, ret);",
          "220:         goto done;",
          "221:     }",
          "225: done:",
          "226:     Jsi_JsonFree(&pp);",
          "227:     return result;",
          "",
          "[Removed Lines]",
          "222:     v = jsonGen1Value(interp, p, js, i, &i, 1);",
          "223:     Jsi_ValueReplace(interp, ret, v);",
          "224:     Jsi_DecrRefCount(interp, v);",
          "",
          "[Added Lines]",
          "222:     v = jsonGen1Value(interp, p, js, i, &i, (*ret!=NULL));",
          "223:     if (!*ret)",
          "225:     else {",
          "226:         Jsi_ValueReplace(interp, ret, v);",
          "227:         Jsi_DecrRefCount(interp, v);",
          "228:     }",
          "",
          "---------------"
        ],
        "src/jsiMySql.c||src/jsiMySql.c": [
          "File: src/jsiMySql.c -> src/jsiMySql.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "176:     const char *nullvalue;",
          "177:     const char *table;",
          "180:     Jsi_Value *width;",
          "181:     int maxString;",
          "182: } QueryOpts;",
          "184: static const char *trcModeStrs[] = {\"eval\", \"delete\", \"prepare\", \"step\", NULL}; // Bit-set packed into an int.",
          "186: enum {mdbTMODE_EVAL=0x1, mdbTMODE_DELETE=0x2, mdbTMODE_PREPARE=0x4, mdbTMODE_STEP=0x4};",
          "190: typedef struct MySqlObj {",
          "",
          "[Removed Lines]",
          "179:     const char* objName;",
          "185: static const char *objSqlModeStrs[] = { \"getSql\", \"noTypes\", \"noDefaults\", \"nullDefaults\", NULL };",
          "187: enum {OBJMODE_SQLONLY=0x1, OBJMODE_NOTYPES=0x2, OBJMODE_NODEFAULTS=0x4, OBJMODE_NULLDEFAULTS=0x8, OBJMODE_NOCHECKS=0x8};",
          "",
          "[Added Lines]",
          "179:     Jsi_SqlObjOpts obj;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "261:     Jsi_HashSet(hPtr, (void*)\"datetime\", (void*)MYSQL_TYPE_DATETIME);",
          "262: }",
          "264: static Jsi_OptionSpec QueryFmtOptions[] =",
          "265: {",
          "266:     JSI_OPT(FUNC,   QueryOpts, callback, .help=\"Function to call with each row result\", .flags=0, .custom=0, .data=(void*)\"values:object\" ),",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "262: static Jsi_OptionSpec mdbExecFmtObjOptions[] =",
          "263: {",
          "264:     JSI_DBOBJ_OPTSPEC",
          "265: };",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "272:     JSI_OPT(BOOL,   QueryOpts, nocache, .help=\"Disable query cache\"),",
          "273:     JSI_OPT(BOOL,   QueryOpts, noNamedParams, .help=\"Disable translating sql to support named params\"),",
          "274:     JSI_OPT(STRKEY, QueryOpts, nullvalue, .help=\"Null string output (for non-json mode)\"),",
          "277:     JSI_OPT(ARRAY,  QueryOpts, paramVar, .help=\"Array var to use for parameters\" ),",
          "278:     JSI_OPT(BOOL,   QueryOpts, prefetch, .help=\"Let client library cache entire results\"),",
          "279:     JSI_OPT(STRKEY, QueryOpts, separator, .help=\"Separator string (for csv and text mode)\"),",
          "",
          "[Removed Lines]",
          "275:     JSI_OPT(STRKEY, QueryOpts, objName,  .help=\"Object var name for CREATE/INSERT: replaces %s with fields in query\" ),",
          "276:     JSI_OPT(CUSTOM, QueryOpts, objOpts,     .help=\"Options for objName\", .flags=0,  .custom=Jsi_Opt_SwitchBitset,  .data=objSqlModeStrs),",
          "",
          "[Added Lines]",
          "278:     JSI_OPT(CUSTOM, QueryOpts, obj,       .help=\"Options for object\", .flags=0,  .custom=Jsi_Opt_SwitchSuboption,  .data=mdbExecFmtObjOptions ),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1587:     opts = jdb->queryOpts;",
          "1588:     opts.callback = NULL;",
          "1589:     opts.width = NULL;",
          "1590:     Jsi_Value *callback = NULL, *width = NULL;",
          "1592:     if (arg) {",
          "1593:         if (Jsi_ValueIsFunction(interp,arg))",
          "1594:             callback = opts.callback = arg;",
          "1595:         else if (Jsi_ValueIsString(interp, arg))",
          "1597:         else if (Jsi_ValueIsObjType(interp, arg, JSI_OT_ARRAY))",
          "1598:             opts.values = arg;",
          "1599:         else if (Jsi_ValueIsObjType(interp, arg, JSI_OT_OBJECT))",
          "",
          "[Removed Lines]",
          "1596:             opts.objName = Jsi_ValueString(interp, arg, NULL);",
          "",
          "[Added Lines]",
          "1592:     opts.obj.name = NULL;",
          "1593:     opts.obj.skip = NULL;",
          "1600:             opts.obj.name = Jsi_ValueString(interp, arg, NULL);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1621:         Jsi_ValueMakeNumber(interp, ret, (Jsi_Number)n);",
          "1622:         return JSI_OK;",
          "1628:             goto bail;",
          "1629:         zSql = Jsi_DSValue(&eStr);",
          "1630:     }",
          "1633:             Jsi_ValueMakeStringDup(interp, ret, zSql);",
          "1634:         else",
          "1636:         goto bail;",
          "1637:     }",
          "1638:     if (!opts.separator) {",
          "",
          "[Removed Lines]",
          "1624:     if (opts.objName) {",
          "1625:         if (Jsi_SqlObjBinds(interp, &eStr, opts.objName,  !(opts.objOpts&OBJMODE_NOTYPES),",
          "1626:         !(opts.objOpts&OBJMODE_NODEFAULTS), (opts.objOpts&OBJMODE_NULLDEFAULTS)!=0,",
          "1627:         !(opts.objOpts&OBJMODE_NOCHECKS)) != JSI_OK)",
          "1631:     if ((opts.objOpts&OBJMODE_SQLONLY)) {",
          "1632:         if (opts.objName)",
          "1635:             rc = Jsi_LogError(\"'objOpts.sqlOnly' can only be used with 'objName'\");",
          "",
          "[Added Lines]",
          "1628:     if (opts.obj.name) {",
          "1629:         if (Jsi_SqlObjBinds(interp, &eStr, &opts.obj) != JSI_OK)",
          "1633:     if (opts.obj.getSql) {",
          "1634:         if (opts.obj.name)",
          "1637:             rc = Jsi_LogError(\"'obj.getSql' can only be used with 'objName'\");",
          "",
          "---------------"
        ],
        "src/jsiSqlite.c||src/jsiSqlite.c": [
          "File: src/jsiSqlite.c -> src/jsiSqlite.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "173: static const char *mtxStrs[] = { \"default\", \"none\", \"full\", NULL };",
          "174: static const char *trcModeStrs[] = {\"eval\", \"delete\", \"prepare\", \"step\", NULL}; // Bit-set packed into an int.",
          "175: static const char *dbTypeChkStrs[] = { \"convert\", \"warn\", \"error\", \"disable\", NULL };",
          "177: #endif",
          "180: enum {TMODE_EVAL=0x1, TMODE_DELETE=0x2, TMODE_PREPARE=0x4, TMODE_STEP=0x4};",
          "181: typedef enum { MUTEX_DEFAULT, MUTEX_NONE, MUTEX_FULL } Mutex_Type;",
          "182: typedef enum { dbTypeCheck_Cast, dbTypeCheck_Warn, dbTypeCheck_Error, dbTypeCheck_None } dbTypeCheck_Mode;",
          "",
          "[Removed Lines]",
          "176: static const char *objSqlModeStrs[] = { \"getSql\", \"noTypes\", \"noDefaults\", \"nullDefaults\", \"noChecks\", NULL };",
          "179: enum {OBJMODE_SQLONLY=0x1, OBJMODE_NOTYPES=0x2, OBJMODE_NODEFAULTS=0x4, OBJMODE_NULLDEFAULTS=0x8, OBJMODE_NOCHECKS=0x16};",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "196:     const char *nullvalue;",
          "197:     const char *table;",
          "198:     const char *cdata; // Name of C data array to use for query.",
          "200:     Jsi_Value *width;",
          "201: } QueryOpts;",
          "",
          "[Removed Lines]",
          "199:     const char *objName;",
          "",
          "[Added Lines]",
          "198:     Jsi_SqlObjOpts obj;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "294: static Jsi_RC dbIsNumArray(Jsi_Interp *interp, Jsi_Value *value, Jsi_OptionSpec* spec, void *record);",
          "297: static Jsi_OptionSpec ExecFmtOptions[] =",
          "298: {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "294: static Jsi_OptionSpec dbExecFmtObjOptions[] =",
          "295: {",
          "296:     JSI_DBOBJ_OPTSPEC",
          "297: };",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "305:     JSI_OPT(CUSTOM, QueryOpts, mode,        .help=\"Set output mode of returned data\", .flags=0, .custom=Jsi_Opt_SwitchEnum,  .data=(void*)sqexecFmtStrs),",
          "306:     JSI_OPT(BOOL,   QueryOpts, nocache,     .help=\"Disable query cache\"),",
          "307:     JSI_OPT(STRKEY, QueryOpts, nullvalue,   .help=\"Null string output (for non js/json mode)\"),",
          "310:     JSI_OPT(BOOL,   QueryOpts, retChanged,  .help=\"Query returns value of sqlite3_changed()\"),",
          "311:     JSI_OPT(STRKEY, QueryOpts, separator,   .help=\"Separator string (for csv and text mode)\"),",
          "312:     JSI_OPT(CUSTOM, QueryOpts, typeCheck,   .help=\"Type check mode (warn)\", .flags=0, .custom=Jsi_Opt_SwitchEnum, .data=(void*)dbTypeChkStrs),",
          "",
          "[Removed Lines]",
          "308:     JSI_OPT(STRKEY, QueryOpts, objName,     .help=\"Object var name for CREATE/INSERT: replaces %s with fields in query\" ),",
          "309:     JSI_OPT(CUSTOM, QueryOpts, objOpts,     .help=\"Options for objName\", .flags=0,  .custom=Jsi_Opt_SwitchBitset,  .data=objSqlModeStrs),",
          "",
          "[Added Lines]",
          "310:     JSI_OPT(CUSTOM, QueryOpts, obj,         .help=\"Options for object\", .flags=0,  .custom=Jsi_Opt_SwitchSuboption,  .data=dbExecFmtObjOptions ),",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "357:     JSI_OPT(INT,    Jsi_Db, stmtCacheMax,.help=\"Max cache size for compiled statements\"),",
          "358:     JSI_OPT(INT,    Jsi_Db, timeout,    .help=\"Amount of time to wait when file is locked, in ms\"),",
          "359:     JSI_OPT(OBJ,    Jsi_Db, udata,      .help=\"User data\" ),",
          "361:     JSI_OPT(INT,    Jsi_Db, timeout,    .help=\"Amount of time to wait when file is locked, in ms\"),",
          "362:     JSI_OPT(STRING, Jsi_Db, vfs,        .help=\"VFS to use\", jsi_IIOF),",
          "363:     JSI_OPT_END(Jsi_Db, .help=\"Options for source command\")",
          "",
          "[Removed Lines]",
          "360:     JSI_OPT(OBJ,    Jsi_Db, version,    .help=\"Sqlite version info\"),",
          "",
          "[Added Lines]",
          "361:     JSI_OPT(OBJ,    Jsi_Db, version,    .help=\"Sqlite version info\", jsi_IIRO),",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1958:         if (!p->jdb->noJsonConv) {",
          "1959:             const char *dectyp = sqlite3_column_decltype(pStmt, iCol);",
          "1960:             if (dectyp && !Jsi_Strncasecmp(dectyp, \"charjson\", 8)) {",
          "1962:                 str = (char*)sqlite3_column_text(pStmt, iCol );",
          "1963:                 if (JSI_OK != Jsi_JSONParse(interp, str, &v, 0))",
          "1964:                     Jsi_LogWarn(\"JSON parse failure for CHARJSON column\");",
          "",
          "[Removed Lines]",
          "1961:                 Jsi_Value *v = Jsi_ValueNew(interp);// NULL; //Jsi_ValueNew1(interp);",
          "",
          "[Added Lines]",
          "1962:                 Jsi_Value *v = NULL; //Jsi_ValueNew1(interp);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "2659:     opts = jdb->queryOpts;",
          "2660:     opts.callback = NULL;",
          "2661:     opts.width = NULL;",
          "2662:     Jsi_Value *callback = NULL, *width = NULL;",
          "2664:     if (arg) {",
          "2665:         if (Jsi_ValueIsFunction(interp,arg))",
          "2666:             callback = opts.callback = arg;",
          "2667:         else if (Jsi_ValueIsString(interp, arg))",
          "2669:         else if (Jsi_ValueIsObjType(interp, arg, JSI_OT_ARRAY))",
          "2670:             opts.values = arg;",
          "2671:         else if (Jsi_ValueIsObjType(interp, arg, JSI_OT_OBJECT))",
          "",
          "[Removed Lines]",
          "2668:             opts.objName = Jsi_ValueString(interp, arg, NULL);",
          "",
          "[Added Lines]",
          "2663:     opts.obj.name = NULL;",
          "2664:     opts.obj.skip = NULL;",
          "2671:             opts.obj.name = Jsi_ValueString(interp, arg, NULL);",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "2702:         }",
          "2703:         goto bail;",
          "2704:     }",
          "2709:             goto bail;",
          "2710:         zSql = Jsi_DSValue(&eStr);",
          "2711:     }",
          "2712:     if ((jdb->echo || opts.echo) && zSql)",
          "2713:         Jsi_LogInfo(\"SQL-ECHO: %s\\n\", zSql);",
          "2716:             Jsi_ValueMakeStringDup(interp, ret, zSql);",
          "2717:         else",
          "2719:         goto bail;",
          "2720:     }",
          "2721:     if (!opts.separator) {",
          "",
          "[Removed Lines]",
          "2705:     if (opts.objName) {",
          "2706:         if (Jsi_SqlObjBinds(interp, &eStr, opts.objName, !(opts.objOpts&OBJMODE_NOTYPES),",
          "2707:             !(opts.objOpts&OBJMODE_NODEFAULTS), (opts.objOpts&OBJMODE_NULLDEFAULTS)!=0,",
          "2708:             !(opts.objOpts&OBJMODE_NOCHECKS)) != JSI_OK)",
          "2714:     if ((opts.objOpts&OBJMODE_SQLONLY)) {",
          "2715:         if (opts.objName)",
          "2718:             rc = Jsi_LogError(\"'objOpts.sqlOnly' can only be used with 'objName'\");",
          "",
          "[Added Lines]",
          "2708:     if (opts.obj.name) {",
          "2709:         if (Jsi_SqlObjBinds(interp, &eStr, &opts.obj) != JSI_OK)",
          "2715:     if ((opts.obj.getSql)) {",
          "2716:         if (opts.obj.name)",
          "2719:             rc = Jsi_LogError(\"'obj.getSql' can only be used with 'objName'\");",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "3863:         sqlite3_db_config(db->db, SQLITE_DBCONFIG_MAINDBNAME, dbname);",
          "3864:     Jsi_JSONParseFmt(interp, &db->version, \"{libVer:\\\"%s\\\", hdrVer:\\\"%s\\\", hdrNum:%d, hdrSrcId:\\\"%s\\\", pkgVer:%d}\",",
          "3865:         (char *)sqlite3_libversion(), SQLITE_VERSION, SQLITE_VERSION_NUMBER, SQLITE_SOURCE_ID, jsi_DbPkgVersion);",
          "3866:     dbSetupCallbacks(db, NULL);",
          "3868: bail:",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3867:     Jsi_IncrRefCount(interp, db->version);",
          "",
          "---------------"
        ],
        "src/jsiStubs.h||src/jsiStubs.h": [
          "File: src/jsiStubs.h -> src/jsiStubs.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #endif",
          "10: #undef JSI_EXTENSION_INI",
          "11: #define JSI_EXTENSION_INI Jsi_Stubs *jsiStubsPtr = NULL;",
          "",
          "[Removed Lines]",
          "8: #define JSI_STUBS_MD5 \"85902b2a851959de5d6f9dcbc763d0c0\"",
          "",
          "[Added Lines]",
          "8: #define JSI_STUBS_MD5 \"ca3a4cfb7a94f409f278b34d5a6d8606\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "445:     void(*_Jsi_IterGetKeys)(Jsi_Interp *interp, Jsi_Value *target, Jsi_IterObj *iterobj, int depth);",
          "446:     bool(*_Jsi_IsReserved)(Jsi_Interp *interp, const char* str, bool sql);",
          "447:     bool(*_Jsi_StrIsAlnum)(const char *cp);",
          "449:     Jsi_RC(*_Jsi_UserObjName)(Jsi_Interp *interp, Jsi_Value *v, Jsi_DString *dStr);",
          "450:     Jsi_Value*(*_Jsi_ValueNewRegExp)(Jsi_Interp *interp, const char *regtxt, const char* modifiers);",
          "451:     void *endPtr;",
          "",
          "[Removed Lines]",
          "448:     Jsi_RC(*_Jsi_SqlObjBinds)(Jsi_Interp* interp, Jsi_DString* zStr, const char *varName, bool addTypes, bool addDefaults, bool nullDefaults, bool addCheck);",
          "",
          "[Added Lines]",
          "448:     Jsi_RC(*_Jsi_SqlObjBinds)(Jsi_Interp* interp, Jsi_DString* zStr, Jsi_SqlObjOpts*opts);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1295: #define Jsi_IterGetKeys(n0,n1,n2,n3) JSISTUBCALL(jsiStubsPtr, _Jsi_IterGetKeys(n0,n1,n2,n3))",
          "1296: #define Jsi_IsReserved(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_IsReserved(n0,n1,n2))",
          "1297: #define Jsi_StrIsAlnum(n0) JSISTUBCALL(jsiStubsPtr, _Jsi_StrIsAlnum(n0))",
          "1299: #define Jsi_UserObjName(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_UserObjName(n0,n1,n2))",
          "1300: #define Jsi_ValueNewRegExp(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_ValueNewRegExp(n0,n1,n2))",
          "",
          "[Removed Lines]",
          "1298: #define Jsi_SqlObjBinds(n0,n1,n2,n3,n4,n5,n6) JSISTUBCALL(jsiStubsPtr, _Jsi_SqlObjBinds(n0,n1,n2,n3,n4,n5,n6))",
          "",
          "[Added Lines]",
          "1298: #define Jsi_SqlObjBinds(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_SqlObjBinds(n0,n1,n2))",
          "",
          "---------------"
        ],
        "src/jsiUtils.c||src/jsiUtils.c": [
          "File: src/jsiUtils.c -> src/jsiUtils.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "494:     return 1;",
          "495: }",
          "500:     Jsi_Value *v, *vnPtr = Jsi_VarLookup(interp, varName);",
          "501:     if (!vnPtr || !Jsi_ValueIsObjType(interp, vnPtr, JSI_OT_OBJECT))",
          "502:         return Jsi_LogError(\"varName must be an Object: %s\", varName);",
          "503:     char *cp, *zSql = Jsi_DSValue(zStr);",
          "504:     int create = !Jsi_Strncasecmp(zSql,\"create\",6);",
          "505:     int insert = !Jsi_Strncasecmp(zSql,\"insert\",6);",
          "509:     if (!cPtr)",
          "515:     Jsi_IterObj *io = Jsi_IterObjNew(interp, NULL);",
          "516:     Jsi_IterGetKeys(interp, vnPtr, io, 0);",
          "517:     uint i;",
          "518:     const char *pre = \"\", *kstr;",
          "520:         Jsi_DSAppend(&vStr, \" VALUES(\", NULL);",
          "521:     if (nullDefaults)",
          "522:         addDefaults = 0;",
          "523:     for (i=0; i<io->count; i++) {",
          "524:         kstr = io->keys[i];",
          "525:         const char *chk = NULL, *chk2 = NULL;",
          "527:         if (!create) {",
          "529:         } else {",
          "530:             const char *typ = NULL, *dflt=(nullDefaults?\"NULL\":NULL);",
          "531:             if (addTypes && ((v = Jsi_ValueObjLookup(interp, vnPtr, kstr, 1)))) {",
          "",
          "[Removed Lines]",
          "498: Jsi_RC Jsi_SqlObjBinds(Jsi_Interp* interp, Jsi_DString* zStr, const char *varName,",
          "499:     bool addTypes, bool addDefaults, bool nullDefaults, bool addCheck) {",
          "506:     if (!create && !insert) return JSI_OK;",
          "507:     const char *cPtr = Jsi_Strstr(zSql, \" %s\");",
          "508:     if (!cPtr) cPtr = Jsi_Strstr(zSql, \"\\t%s\");",
          "510:         return Jsi_LogError(\"Object varName must contain a ' %%s': %s\", varName);",
          "511:     Jsi_DString sStr = {}, vStr = {}, jStr = {};",
          "512:     Jsi_DSAppendLen(&sStr, zSql, cPtr?(cPtr-zSql):-1);",
          "513:     Jsi_DSAppend(&sStr, \" (\", NULL);",
          "519:     if (!create)",
          "526:         Jsi_DSAppend(&sStr, pre, \"[\", kstr, \"]\", NULL);",
          "528:             Jsi_DSAppend(&vStr, pre, \"$\", varName, \"(\", kstr, \")\", NULL);",
          "",
          "[Added Lines]",
          "497: bool jsi_StrInArray(Jsi_Interp* interp, Jsi_Value *arr, const char *str) {",
          "498:     Jsi_Obj *obj = arr->d.obj;",
          "499:     uint i = 0;",
          "500:     for (i = 0; i<obj->arrCnt; i++)",
          "501:     {",
          "502:         if (!obj->arr[i])",
          "503:             continue;",
          "504:         const char *cp = Jsi_ValueString(interp, obj->arr[i], NULL);",
          "505:         if (cp && !Jsi_Strcmp(cp, str))",
          "506:             return 1;",
          "507:     }",
          "508:     return 0;",
          "509: }",
          "512: Jsi_RC Jsi_SqlObjBinds(Jsi_Interp* interp, Jsi_DString* zStr, Jsi_SqlObjOpts* opts) {",
          "513:     const char *varName = opts->name;",
          "514:     bool addTypes = !opts->noTypes, addDefaults = !opts->defaultNull,",
          "515:         nullDefaults = opts->defaultNull, addCheck  = !opts->noChecks;",
          "522:     int update = !Jsi_Strncasecmp(zSql,\"update\",6);",
          "523:     if (!create && !insert && !update) return JSI_OK;",
          "524:     const char *cPtr = Jsi_Strstr(zSql, \" %v\");",
          "525:     if (!cPtr) cPtr = Jsi_Strstr(zSql, \"\\t%v\");",
          "527:         return Jsi_LogError(\"Object varName must contain a ' %%v': %s\", varName);",
          "528:     Jsi_DString sStr = {}, vStr = {}, jStr = {}, *tsPtr = &sStr;",
          "529:     Jsi_DSAppendLen(&sStr, zSql, cPtr-zSql);",
          "530:     Jsi_DSAppend(&sStr, (update?\" SET \":\" (\"), NULL);",
          "536:     if (insert)",
          "540:     if (update)",
          "541:         tsPtr = &vStr;",
          "545:         if (opts->skip && jsi_StrInArray(interp, opts->skip, kstr))",
          "546:             continue;",
          "547:         Jsi_DSAppend(tsPtr, pre, \"[\", kstr, \"]\", NULL);",
          "549:             if (update)",
          "550:                 Jsi_DSAppend(tsPtr, \" = \", \"$\", varName, \"(\", kstr, \")\", NULL);",
          "551:             else",
          "552:                 Jsi_DSAppend(&vStr, pre, \"$\", varName, \"(\", kstr, \")\", NULL);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "573:                             dflt = \"NULL\";",
          "574:                     }",
          "575:                     if (addCheck) {",
          "579:                             chk = \"== 'text'\";",
          "580:                     }",
          "581:                 }",
          "",
          "[Removed Lines]",
          "576:                         if (dflt && !Jsi_Strcmp(dflt,\"NULL\"))",
          "577:                             chk = \"IN ('text','null')\";",
          "578:                         else",
          "",
          "[Added Lines]",
          "600:                         if (dflt && !Jsi_Strcmp(dflt,\"NULL\")) {",
          "601:                             chk = NULL; // \"IN ('text','null')\";",
          "602:                             typ = NULL;",
          "603:                         } else",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "593:         }",
          "594:         pre = \", \";",
          "595:     }",
          "597:         Jsi_DSAppend(&vStr, \")\", NULL);",
          "598:     Jsi_IterObjFree(io);",
          "600:     Jsi_DSFree(zStr);",
          "601:     Jsi_DSAppend(zStr, Jsi_DSValue(&sStr), NULL);",
          "602:     Jsi_DSFree(&sStr); Jsi_DSFree(&vStr); Jsi_DSFree(&jStr);",
          "",
          "[Removed Lines]",
          "596:     if (!create)",
          "599:     Jsi_DSAppend(&sStr, \") \", Jsi_DSValue(&vStr), cPtr+3, NULL);",
          "",
          "[Added Lines]",
          "621:     if (insert)",
          "624:     Jsi_DSAppend(&sStr, (update?\"\":\") \"), Jsi_DSValue(&vStr), cPtr+3, NULL);",
          "",
          "---------------"
        ],
        "src/jsiWebSocket.c||src/jsiWebSocket.c": [
          "File: src/jsiWebSocket.c -> src/jsiWebSocket.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "120:     Jsi_Hash *pssTable, *handlers, *fileHash;",
          "121:     Jsi_Value *onAuth, *onCloseLast, *onClose, *onFilter, *onOpen, *onRecv,",
          "124:     bool client, noUpdate, noWebsock, noWarn, use_ssl, local, extHandlers, handlersPkg, inUpdate, noCompress, noConfig, echo;",
          "125:     Jsi_Value* version;",
          "127:     int port;",
          "128:     uint modifySecs;",
          "129:     int maxUpload;",
          "",
          "[Removed Lines]",
          "126:     int idx;",
          "",
          "[Added Lines]",
          "126:     int idx, mimeFuncCalled;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "281:     JSI_OPT(ARRAY,      jsi_wsPss, headers,     .help=\"Headers to send to browser on connection: name/value pairs\"),",
          "282:     JSI_OPT(BOOL,       jsi_wsPss, isWebsock,   .help=\"Is a websocket connection\" ),",
          "283:     JSI_OPT(STRBUF,     jsi_wsPss, key,         .help=\"String key lookup in ids command for SSI echo ${#}\", jsi_IIRO),",
          "285:     JSI_OPT(FUNC,       jsi_wsPss, onGet,       .help=\"Function to call to server handle http-get\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, url:string, query:array\"),",
          "286:     JSI_OPT(FUNC,       jsi_wsPss, onUnknown,   .help=\"Function to call to serve out content when no file exists\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, url:string, args:array\"),",
          "287:     JSI_OPT(FUNC,       jsi_wsPss, onRecv,      .help=\"Function to call when websock data recieved\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, data:string\"),",
          "",
          "[Removed Lines]",
          "284:     JSI_OPT(FUNC,       jsi_wsPss, onClose,     .help=\"Function to call when the websocket connection closes\", .flags=0, .custom=0, .data=(void*)\"ws:userobj|null, id:number, boolean:ok\"),",
          "",
          "[Added Lines]",
          "284:     JSI_OPT(FUNC,       jsi_wsPss, onClose,     .help=\"Function to call when the websocket connection closes\", .flags=0, .custom=0, .data=(void*)\"ws:userobj|null, id:number, isError:boolean\"),",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "318:     JSI_OPT(INT,    jsi_wsCmdObj, maxConnects,.help=\"In server mode, max number of client connections accepted\"),",
          "319:     JSI_OPT(INT,    jsi_wsCmdObj, maxDownload,.help=\"Max size of file download\"),",
          "320:     JSI_OPT(INT,    jsi_wsCmdObj, maxUpload,  .help=\"Max size of file upload will accept\"),",
          "322:     JSI_OPT(UINT,   jsi_wsCmdObj, modifySecs, .help=\"Seconds between checking for modified files with onModify (2)\"),",
          "323:     JSI_OPT(BOOL,   jsi_wsCmdObj, noConfig,   .help=\"Disable use of conf() to change options after options after create\", jsi_IIOF),",
          "324:     JSI_OPT(BOOL,   jsi_wsCmdObj, noCompress, .help=\"Disable per-message-deflate extension which can truncate large msgs\"),",
          "",
          "[Removed Lines]",
          "321:     JSI_OPT(OBJ,    jsi_wsCmdObj, mimeTypes,  .help=\"Object providing map of file extensions to mime types. eg. {txt:'text/plain', bb:'text/bb'}\", jsi_IIOF),",
          "",
          "[Added Lines]",
          "321:     JSI_OPT(OBJ,    jsi_wsCmdObj, mimeTypes,  .help=\"Object providing map of file extensions to mime types. eg. {txt:'text/plain', bb:'text/bb'}\"),",
          "322:     JSI_OPT(FUNC,   jsi_wsCmdObj, mimeLoadFunc,   .help=\"Function to call to load mimeTypes\", .flags=0, .custom=0, .data=(void*)\"ws:userobj\"),",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "326:     JSI_OPT(BOOL,   jsi_wsCmdObj, noWebsock,  .help=\"Serve html, but disallow websocket upgrade\", jsi_IIOF),",
          "327:     JSI_OPT(BOOL,   jsi_wsCmdObj, noWarn,     .help=\"Quietly ignore file related errors\"),",
          "328:     JSI_OPT(FUNC,   jsi_wsCmdObj, onAuth,     .help=\"Function to call for http basic authentication\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, url:string, userpass:string\"),",
          "330:     JSI_OPT(FUNC,   jsi_wsCmdObj, onCloseLast,.help=\"Function to call when last websock connection closes. On object delete arg is null\", .flags=0, .custom=0, .data=(void*)\"ws:userobj|null\"),",
          "331:     JSI_OPT(FUNC,   jsi_wsCmdObj, onFilter,   .help=\"Function to call on a new connection: return false to kill connection\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, url:string, ishttp:boolean\"),",
          "332:     JSI_OPT(FUNC,   jsi_wsCmdObj, onGet,      .help=\"Function to call to server handle http-get\", .flags=0, .custom=0, .data=(void*)\"ws:userobj, id:number, url:string, query:array\"),",
          "",
          "[Removed Lines]",
          "329:     JSI_OPT(FUNC,   jsi_wsCmdObj, onClose,    .help=\"Function to call when the websocket connection closes\", .flags=0, .custom=0, .data=(void*)\"ws:userobj|null, id:number\"),",
          "",
          "[Added Lines]",
          "330:     JSI_OPT(FUNC,   jsi_wsCmdObj, onClose,    .help=\"Function to call when the websocket connection closes\", .flags=0, .custom=0, .data=(void*)\"ws:userobj|null, id:number, isError:boolean\"),",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "807:     Jsi_DString *hStr) {",
          "808:     uchar buffer[JSI_BUFSIZ];",
          "809:     uchar *p = (unsigned char *)buffer, *end = p + sizeof(buffer);",
          "811:     int i, hvl, argc = Jsi_ValueGetLength(interp, hdrs);",
          "812:     for (i=0; i<argc; i+=2) {",
          "813:         const char *hn = Jsi_ValueArrayIndexToStr(interp, hdrs, i, NULL),",
          "822:         }",
          "823:     }",
          "824:     return true;",
          "825: }",
          "",
          "[Removed Lines]",
          "810:     int n = 0;",
          "815:         if (hn && hv) {",
          "816:             if (lws_add_http_header_by_name(wsi, (const uchar *)hn, (const uchar *)hv, hvl, &p, end))",
          "817:                 return false;",
          "818:             n = p - buffer;",
          "819:             if (n>0)",
          "820:                 Jsi_DSAppendLen(hStr, (char*)buffer, n);",
          "821:             p = buffer;",
          "",
          "[Added Lines]",
          "811:     int n = 0, len;",
          "816:         if (!hn || !hv || !(len=Jsi_Strlen(hn))) {",
          "817:             Jsi_LogWarn(\"Header invalid: %s %s\", (hn?hn:\"\"), (hv?hv:\"\"));",
          "818:             return false;",
          "819:         }",
          "820:         if (hn[len-1] != ':') {",
          "821:             Jsi_LogWarn(\"Header name must end in colon: %s %s\", (hn?hn:\"\"), (hv?hv:\"\"));",
          "822:             return false;",
          "824:         if (lws_add_http_header_by_name(wsi, (const uchar *)hn, (const uchar *)hv, hvl, &p, end))",
          "825:             return false;",
          "826:         n = p - buffer;",
          "827:         if (n>0)",
          "828:             Jsi_DSAppendLen(hStr, (char*)buffer, n);",
          "829:         p = buffer;",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1185:     return JSI_OK;",
          "1186: }",
          "1188: int",
          "1189: jsi_ws_http_redirect(struct lws *wsi, int code, Jsi_DString *tStr,",
          "1190:                   unsigned char **p, unsigned char *end)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1195: static const char* jsi_ws_mtypes[] = {",
          "1196:     \"html\", \"text/html\", \"js\", \"application/x-javascript\",",
          "1197:     \"css\", \"text/css\", \"png\", \"image/png\", \"ico\", \"image/icon\",",
          "1198:     \"gif\", \"image/gif\", \"jpeg\", \"image/jpeg\",",
          "1199:     \"jpg\", \"image/jpeg\", \"svg\", \"image/svg+xml\",",
          "1200:     \"mpv\", \"video/x-matroska\", \"mkv\", \"video/x-matroska\",",
          "1201:     \"mp4\", \"video/mp4\", \"mpeg\", \"video/mpeg\", \"webm\", \"video/webm\",",
          "1202:     \"ogv\", \"video/ogg\", \"avi\", \"video/x-msvideo\",",
          "1203:     \"json\", \"application/json\", \"txt\", \"text/plain\",",
          "1204:     \"jsi\", \"application/x-javascript\", \"cssi\", \"text/css\",",
          "1205:     \"shtml\", \"text/html\",  \"scss\", \"text/css\", \"vtt\", \"text/vtt\",",
          "1206:     \"sjs\", \"application/x-javascript\",",
          "1207:     0, 0",
          "1208: };",
          "1210: void jsi_ws_loadMimeTypes(Jsi_Interp *interp, jsi_wsCmdObj *cmdPtr, bool add) {",
          "1211:     bool ex = (cmdPtr->mimeTypes!=NULL);",
          "1212:     if (ex && !add)",
          "1213:         return;",
          "1215:     if (!ex) {",
          "1216:         cmdPtr->mimeTypes = Jsi_ValueMakeObject(interp, NULL, NULL);",
          "1217:         Jsi_IncrRefCount(interp, cmdPtr->mimeTypes);",
          "1218:     }",
          "1219:     Jsi_Obj *obj = cmdPtr->mimeTypes->d.obj;",
          "1220:     int i;",
          "1221:     for (i=0; jsi_ws_mtypes[i]; i+=2)",
          "1222:         if (!ex || !Jsi_ValueObjLookup(interp, cmdPtr->mimeTypes, jsi_ws_mtypes[i], 1))",
          "1223:             Jsi_ObjInsert(interp, obj, jsi_ws_mtypes[i], Jsi_ValueNewStringConst(interp, jsi_ws_mtypes[i+1], -1), 0);",
          "1224: }",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1364:         }",
          "1365:         Jsi_HashEntry *hPtr;",
          "1367:         if (cmdPtr->mimeTypes) {",
          "1369:             Jsi_Value *mVal = Jsi_ValueObjLookup(interp, cmdPtr->mimeTypes, ext+1, 1);",
          "1370:             if (mVal)",
          "1371:                 mime = Jsi_ValueString(interp, mVal, NULL);",
          "1372:         }",
          "1392:         }",
          "1394:         isSSI = jsi_wsIsSSIExt(interp, cmdPtr, pss, eext);",
          "",
          "[Removed Lines]",
          "1373:         if (!mime) {",
          "1374:             static const char* mtypes[] = {",
          "1375:                 \"html\", \"text/html\", \"js\", \"application/x-javascript\",",
          "1376:                 \"css\", \"text/css\", \"png\", \"image/png\", \"ico\", \"image/icon\",",
          "1377:                 \"gif\", \"image/gif\", \"jpeg\", \"image/jpeg\",",
          "1378:                 \"jpg\", \"image/jpeg\", \"svg\", \"image/svg+xml\",",
          "1379:                 \"json\", \"application/json\", \"txt\", \"text/plain\",",
          "1380:                 \"jsi\", \"application/x-javascript\", \"cssi\", \"text/css\",",
          "1381:                 \"shtml\", \"text/html\",  \"scss\", \"text/css\",",
          "1382:                 \"sjs\", \"application/x-javascript\",",
          "1383:                 0, 0",
          "1384:             };",
          "1385:             mime = \"text/html\";",
          "1386:             int i;",
          "1387:             for (i=0; mtypes[i]; i+=2)",
          "1388:                 if (tolower(*eext) == mtypes[i][0] && !Jsi_Strncasecmp(eext, mtypes[i], -1)) {",
          "1389:                     mime = mtypes[i+1];",
          "1390:                     break;",
          "1391:                 }",
          "",
          "[Added Lines]",
          "1405:         if (!cmdPtr->mimeTypes) {",
          "1406:             int i;",
          "1407:             for (i=0; jsi_ws_mtypes[i]; i+=2)",
          "1408:                 if (tolower(*eext) == jsi_ws_mtypes[i][0] && !Jsi_Strncasecmp(eext, jsi_ws_mtypes[i], -1)) {",
          "1409:                     mime = jsi_ws_mtypes[i+1];",
          "1410:                     break;",
          "1411:                 }",
          "1412:         }",
          "1418:         if (!mime && cmdPtr->mimeLoadFunc && !cmdPtr->mimeFuncCalled) {",
          "1419:             cmdPtr->mimeFuncCalled = 1;",
          "1420:             jsi_ws_loadMimeTypes(interp, cmdPtr, 0);",
          "1421:             Jsi_FunctionInvokeBool(interp, cmdPtr->mimeLoadFunc, Jsi_ValueNewObj(interp, cmdPtr->fobj));",
          "1422:             Jsi_Value *mVal = Jsi_ValueObjLookup(interp, cmdPtr->mimeTypes, ext+1, 1);",
          "1423:             if (mVal)",
          "1424:                 mime = Jsi_ValueString(interp, mVal, NULL);",
          "1426:         if (!mime)",
          "1427:             mime = \"text/html\";",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "2396:     Jsi_Value *opts = Jsi_ValueArrayIndex(interp, args, 0);",
          "2397:     if (cmdPtr->noConfig && opts && !Jsi_ValueIsString(interp, opts))",
          "2398:         return Jsi_LogError(\"WebSocket conf() is disabled for set\");",
          "2399:     return Jsi_OptionsConf(interp, WSOptions, cmdPtr, opts, ret, 0);",
          "2401: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2434:     jsi_ws_loadMimeTypes(interp, cmdPtr, 0);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "2994:         jsi_wswebsocketObjFree(interp, cmdPtr);",
          "2995:         return JSI_ERROR;",
          "2996:     }",
          "2997:     if (!cmdPtr->udata) {",
          "2998:         cmdPtr->udata = Jsi_ValueNewObj(interp, NULL);",
          "2999:         Jsi_IncrRefCount(interp, cmdPtr->udata);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3033:     if (cmdPtr->mimeTypes)",
          "3034:         jsi_ws_loadMimeTypes(interp, cmdPtr, 1);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "3143: #ifdef LWS_LIBRARY_VERSION_NUMBER",
          "3144:     Jsi_JSONParseFmt(interp, &cmdPtr->version, \"{libVer:\\\"%s\\\", hdrVer:\\\"%s\\\", hdrNum:%d, pkgVer:%d}\",",
          "3145:         (char *)lws_get_library_version(), LWS_LIBRARY_VERSION, LWS_LIBRARY_VERSION_NUMBER, jsi_WsPkgVersion);",
          "3146: #endif",
          "3147:     return JSI_OK;",
          "3148: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3185:     Jsi_IncrRefCount(interp, cmdPtr->version);",
          "",
          "---------------"
        ],
        "tools/protos.jsi||tools/protos.jsi": [
          "File: tools/protos.jsi -> tools/protos.jsi"
        ],
        "www/reference.wiki||www/reference.wiki": [
          "File: www/reference.wiki -> www/reference.wiki",
          "--- Hunk 1 ---",
          "[Context before]",
          "873: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "874: <tr><td>noNamedParams</td><td><i>BOOL</i></td><td>Disable translating sql to support named params.</td><td><i></i></td></tr>",
          "875: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non-json mode).</td><td><i></i></td></tr>",
          "878: <tr><td>paramVar</td><td><i>ARRAY</i></td><td>Array var to use for parameters.</td><td><i></i></td></tr>",
          "879: <tr><td>prefetch</td><td><i>BOOL</i></td><td>Let client library cache entire results.</td><td><i></i></td></tr>",
          "880: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "876: <tr><td>objName</td><td><i>STRKEY</i></td><td>Object var name for CREATE/INSERT: replaces %s with fields in query.</td><td><i></i></td></tr>",
          "877: <tr><td>objOpts</td><td><i>ARRAY</i></td><td>Options for objName. (zero or more of: <b>getSql</b>, <b>noTypes</b>, <b>noDefaults</b>, <b>nullDefaults</b>)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "876: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "899: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "900: <tr><td>noNamedParams</td><td><i>BOOL</i></td><td>Disable translating sql to support named params.</td><td><i></i></td></tr>",
          "901: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non-json mode).</td><td><i></i></td></tr>",
          "904: <tr><td>paramVar</td><td><i>ARRAY</i></td><td>Array var to use for parameters.</td><td><i></i></td></tr>",
          "905: <tr><td>prefetch</td><td><i>BOOL</i></td><td>Let client library cache entire results.</td><td><i></i></td></tr>",
          "906: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "902: <tr><td>objName</td><td><i>STRKEY</i></td><td>Object var name for CREATE/INSERT: replaces %s with fields in query.</td><td><i></i></td></tr>",
          "903: <tr><td>objOpts</td><td><i>ARRAY</i></td><td>Options for objName. (zero or more of: <b>getSql</b>, <b>noTypes</b>, <b>noDefaults</b>, <b>nullDefaults</b>)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "901: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "909: <tr><td>values</td><td><i>ARRAY</i></td><td>Values for ? bind parameters.</td><td><i></i></td></tr>",
          "910: <tr><td>width</td><td><i>CUSTOM</i></td><td>In column mode, set column widths.</td><td><i></i></td></tr>",
          "911: </table>",
          "912: <a name=\"MySqlend\"></a>",
          "913: <p><a href=\"#TOC\">Return to top</a>",
          "914: <a name=\"Number\"></a>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "912: <a name=\"objOptions\"></a>",
          "913: <h2>Options for \"obj\"</h2>",
          "914: <table border=\"1\" class=\"optstbl table\">",
          "915: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "916: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of object var.</td><td><i></i></td></tr>",
          "917: <tr><td>omit</td><td><i>ARRAY</i></td><td>Members in object to disregard.</td><td><i></i></td></tr>",
          "918: <tr><td>getSql</td><td><i>BOOL</i></td><td>Return expanded SQL without evaluating it.</td><td><i></i></td></tr>",
          "919: <tr><td>defaultNull</td><td><i>BOOL</i></td><td>Create with DEFAULT NULL.</td><td><i></i></td></tr>",
          "920: <tr><td>noChecks</td><td><i>BOOL</i></td><td>Create with no CHECK constraints.</td><td><i></i></td></tr>",
          "921: <tr><td>noDefaults</td><td><i>BOOL</i></td><td>Create with no defaults.</td><td><i></i></td></tr>",
          "922: <tr><td>noTypes</td><td><i>BOOL</i></td><td>Create with no types.</td><td><i></i></td></tr>",
          "923: </table>",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1229: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "1230: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "1231: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non js/json mode).</td><td><i></i></td></tr>",
          "1234: <tr><td>retChanged</td><td><i>BOOL</i></td><td>Query returns value of sqlite3_changed().</td><td><i></i></td></tr>",
          "1235: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "1236: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (warn). (one of: <b>convert</b>, <b>warn</b>, <b>error</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1232: <tr><td>objName</td><td><i>STRKEY</i></td><td>Object var name for CREATE/INSERT: replaces %s with fields in query.</td><td><i></i></td></tr>",
          "1233: <tr><td>objOpts</td><td><i>ARRAY</i></td><td>Options for objName. (zero or more of: <b>getSql</b>, <b>noTypes</b>, <b>noDefaults</b>, <b>nullDefaults</b>, <b>noChecks</b>)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "1244: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1268: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "1269: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "1270: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non js/json mode).</td><td><i></i></td></tr>",
          "1273: <tr><td>retChanged</td><td><i>BOOL</i></td><td>Query returns value of sqlite3_changed().</td><td><i></i></td></tr>",
          "1274: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "1275: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (warn). (one of: <b>convert</b>, <b>warn</b>, <b>error</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1271: <tr><td>objName</td><td><i>STRKEY</i></td><td>Object var name for CREATE/INSERT: replaces %s with fields in query.</td><td><i></i></td></tr>",
          "1272: <tr><td>objOpts</td><td><i>ARRAY</i></td><td>Options for objName. (zero or more of: <b>getSql</b>, <b>noTypes</b>, <b>noDefaults</b>, <b>nullDefaults</b>, <b>noChecks</b>)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "1282: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1687: <tr><td>noWebsock</td><td><i>BOOL</i></td><td>Serve html, but disallow websocket upgrade.</td><td><i>initOnly</i></td></tr>",
          "1688: <tr><td>noWarn</td><td><i>BOOL</i></td><td>Quietly ignore file related errors.</td><td><i></i></td></tr>",
          "1689: <tr><td>onAuth</td><td><i>FUNC</i></td><td>Function to call for http basic authentication. @function(ws:userobj, id:number, url:string, userpass:string)</td><td><i></i></td></tr>",
          "1691: <tr><td>onCloseLast</td><td><i>FUNC</i></td><td>Function to call when last websock connection closes. On object delete arg is null. @function(ws:userobj|null)</td><td><i></i></td></tr>",
          "1692: <tr><td>onFilter</td><td><i>FUNC</i></td><td>Function to call on a new connection: return false to kill connection. @function(ws:userobj, id:number, url:string, ishttp:boolean)</td><td><i></i></td></tr>",
          "1693: <tr><td>onGet</td><td><i>FUNC</i></td><td>Function to call to server handle http-get. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1690: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "1700: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number, isError:boolean)</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1730: <tr><td>headers</td><td><i>ARRAY</i></td><td>Headers to send to browser on connection: name/value pairs.</td><td><i></i></td></tr>",
          "1731: <tr><td>isWebsock</td><td><i>BOOL</i></td><td>Is a websocket connection.</td><td><i></i></td></tr>",
          "1732: <tr><td>key</td><td><i>STRBUF</i></td><td>String key lookup in ids command for SSI echo ${#}.</td><td><i>readOnly</i></td></tr>",
          "1734: <tr><td>onGet</td><td><i>FUNC</i></td><td>Function to call to server handle http-get. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "1735: <tr><td>onUnknown</td><td><i>FUNC</i></td><td>Function to call to serve out content when no file exists. @function(ws:userobj, id:number, url:string, args:array)</td><td><i></i></td></tr>",
          "1736: <tr><td>onRecv</td><td><i>FUNC</i></td><td>Function to call when websock data recieved. @function(ws:userobj, id:number, data:string)</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1733: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number, boolean:ok)</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "1743: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number, isError:boolean)</td><td><i></i></td></tr>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "7fb899fb788187da0f9c608e57af220b364b98da",
      "candidate_info": {
        "commit_hash": "7fb899fb788187da0f9c608e57af220b364b98da",
        "repo": "pcmacdon/jsish",
        "commit_url": "https://github.com/pcmacdon/jsish/commit/7fb899fb788187da0f9c608e57af220b364b98da",
        "files": [
          "md/Reference.md",
          "src/jsi.h",
          "src/jsiFunc.c",
          "tools/protos.jsi",
          "www/reference.wiki"
        ],
        "message": "Release \"3.1.10\": Fix typeCheck issue\n\nFossilOrigin-Name: 43033b4cbf679a8b238439f16b752e167c1eb82376102075af45e16af1c443f3",
        "before_after_code_files": [
          "src/jsi.h||src/jsi.h",
          "src/jsiFunc.c||src/jsiFunc.c",
          "tools/protos.jsi||tools/protos.jsi",
          "www/reference.wiki||www/reference.wiki"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/jsi.h||src/jsi.h",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ],
          "candidate": [
            "src/jsi.h||src/jsi.h",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ]
        }
      },
      "candidate_diff": {
        "src/jsi.h||src/jsi.h": [
          "File: src/jsi.h -> src/jsi.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #define JSI_VERSION_MAJOR   3",
          "6: #define JSI_VERSION_MINOR   1",
          "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
          "",
          "[Removed Lines]",
          "7: #define JSI_VERSION_RELEASE 9",
          "",
          "[Added Lines]",
          "7: #define JSI_VERSION_RELEASE 10",
          "",
          "---------------"
        ],
        "src/jsiFunc.c||src/jsiFunc.c": [
          "File: src/jsiFunc.c -> src/jsiFunc.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "421: void jsi_FuncCallCheck(jsi_Pstate *p, jsi_Pline *line, int argc, bool isNew, const char *name, const char *namePre, Jsi_OpCodes *argCodes)",
          "422: {",
          "423:     Jsi_Interp *interp = p->interp;",
          "426:         return;",
          "427:     if (name && isdigit(name[0]))",
          "428:         return;",
          "",
          "[Removed Lines]",
          "424:     if (interp->noCheck) return;",
          "425:     if (name == NULL || interp->typeCheck.funcdecl)",
          "",
          "[Added Lines]",
          "424:     if (interp->noCheck || name == NULL || !interp->typeCheck.funcdecl)",
          "",
          "---------------"
        ],
        "tools/protos.jsi||tools/protos.jsi": [
          "File: tools/protos.jsi -> tools/protos.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "286: System.prototype.parseOpts = function(self:object|userobj, options:object, conf:object|null|undefined):object {};",
          "287: System.prototype.printf = function(format:string, ...):void {};",
          "288: System.prototype.provide = function(name:string|null|function=void, version:number|string=void, options:object=void):void {};",
          "290: System.prototype.quote = function(val:string):string {};",
          "291: System.prototype.require = function(name:string=void, version:number|string=1, options:object=void):number|array|object {};",
          "292: System.prototype.runModule = function(cmd:string|null|function=void, conf:array=undefined):any {};",
          "",
          "[Removed Lines]",
          "289: System.prototype.puts = function(val, ...):void {};",
          "",
          "[Added Lines]",
          "289: System.prototype.puts = function(val:any, ...):void {};",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "363: console.prototype.log = function(val, ...):void {};",
          "364: console.prototype.logp = function(val, ...):void {};",
          "365: console.prototype.printf = function(format:string, ...):void {};",
          "367: console.prototype.warn = function(val, ...):void {};",
          "368: var decodeURI = function(val:string):string {};",
          "369: var encodeURI = function(val:string):string {};",
          "",
          "[Removed Lines]",
          "366: console.prototype.puts = function(val, ...):void {};",
          "",
          "[Added Lines]",
          "366: console.prototype.puts = function(val:any, ...):void {};",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "385: var parseOpts = function(self:object|userobj, options:object, conf:object|null|undefined):object {};",
          "386: var printf = function(format:string, ...):void {};",
          "387: var provide = function(name:string|null|function=void, version:number|string=void, options:object=void):void {};",
          "389: var quote = function(val:string):string {};",
          "390: var require = function(name:string=void, version:number|string=1, options:object=void):number|array|object {};",
          "391: var runModule = function(cmd:string|null|function=void, conf:array=undefined):any {};",
          "",
          "[Removed Lines]",
          "388: var puts = function(val, ...):void {};",
          "",
          "[Added Lines]",
          "388: var puts = function(val:any, ...):void {};",
          "",
          "---------------"
        ],
        "www/reference.wiki||www/reference.wiki": [
          "File: www/reference.wiki -> www/reference.wiki",
          "--- Hunk 1 ---",
          "[Context before]",
          "288: |memLeakCnt|*INT*|Leak memory count due to object added to self.|initOnly|",
          "289: |name|*STRKEY*|Optional text name for this interp.||",
          "290: |noAutoLoad|*BOOL*|Disable autoload.||",
          "291: |noConfig|*BOOL*|Disable use of Interp.conf to change options after create.|initOnly|",
          "292: |noEval|*BOOL*|Disable eval: just parses file to check syntax.|initOnly|",
          "293: |noInput|*BOOL*|Disable use of console.input().||",
          "294: |noLoad|*BOOL*|Disable load of shared libs.||",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "291: |noCheck|*BOOL*|Disable type checking.||",
          "293: |noError|*BOOL*|Type checks failures are warning.||",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "314: |traceCall|*ARRAY*|Trace commands. (zero or more of: **funcs**, **cmds**, **new**, **return**, **args**, **notrunc**, **noparent**, **full**, **before**)||",
          "315: |traceOp|*INT*|Set debugging level for OPCODE execution.||",
          "316: |tracePuts|*BOOL*|Trace puts by making it use logOpts.||",
          "318: |typeWarnMax|*INT*|Type checking is silently disabled after this many warnings (50).||",
          "319: |udata|*OBJ*|User data.||",
          "320: |testMode|*UINT*|Unit test control bits: 1=subst, 2=Puts with file:line prefix.||",
          "",
          "[Removed Lines]",
          "317: |typeCheck|*ARRAY*|Type-check control options. (zero or more of: **none**, **parse**, **run**, **all**, **error**, **strict**, **noundef**, **nowith**, **funcsig**)||",
          "",
          "[Added Lines]",
          "319: |typeCheck|*ARRAY*|Type-check control options. (zero or more of: **noreturn**, **noundef**, **nowith**, **builtins**, **funcdecl**)||",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "876: |parseOpts|(self:object&#124;userobj, options:object, conf:object&#124;null&#124;undefined):object |Parse module options: similar to moduleOpts but arg order different and no freeze.|",
          "877: |printf|(format:string, ...):void |Formatted output to stdout.|",
          "878: |provide|([options](#options-systemprovide):object=void):void |Provide a package for use with require.. Default is the file tail-rootname|",
          "880: |quote|(val:string):string |Return quoted string.|",
          "881: |require|([options](#options-systemrequire):object=void):number&#124;array&#124;object |Load/query packages. With no arguments, returns the list of all loaded packages. With one argument, loads the package (if necessary) and returns its version. With two arguments, returns object containing: version, loadFile, func. A third argument sets options for package or module. Note an error is thrown if requested version is greater than actual version.|",
          "882: |runModule|(cmd:string&#124;null&#124;function=void, conf:array=undefined) |Invoke named module. If name is empty, uses file basename. If isMain invokes function with same name as file. With no args will invoke provide.|",
          "",
          "[Removed Lines]",
          "879: |puts|(val, ...):void |Output one or more values to stdout. Each argument is quoted.  Use Interp.logOpts to control source line and/or timestamps output.|",
          "",
          "[Added Lines]",
          "881: |puts|(val:any, ...):void |Output one or more values to stdout. Each argument is quoted.  Use Interp.logOpts to control source line and/or timestamps output.|",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1262: |log|(val, ...):void |Like System.puts, but goes to stderr and includes file:line..|",
          "1263: |logp|(val, ...):void |Same as console.log, but first arg is string prefix and if second is a boolean it controls output.|",
          "1264: |printf|(format:string, ...):void |Same as System.printf but goes to stderr.|",
          "1266: |warn|(val, ...):void |Same as log.|",
          "1267: ### Options \"console.assert\"",
          "1268: |Option|Type|Description|Flags|",
          "",
          "[Removed Lines]",
          "1265: |puts|(val, ...):void |Same as System.puts, but goes to stderr.|",
          "",
          "[Added Lines]",
          "1267: |puts|(val:any, ...):void |Same as System.puts, but goes to stderr.|",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "d1a956f07bce79f2e7c05a3bf52c1cac1fb67f4f",
      "candidate_info": {
        "commit_hash": "d1a956f07bce79f2e7c05a3bf52c1cac1fb67f4f",
        "repo": "pcmacdon/jsish",
        "commit_url": "https://github.com/pcmacdon/jsish/commit/d1a956f07bce79f2e7c05a3bf52c1cac1fb67f4f",
        "files": [
          "md/Reference.md",
          "src/jsi.h",
          "src/jsiWebSocket.c",
          "tests/sqlite.jsi",
          "tools/protos.jsi",
          "www/reference.wiki"
        ],
        "message": "Release \"3.0.1\": WebSocket: add \"#echo\" SSI for session support\n\nFossilOrigin-Name: fbe4e5ec9a1606ce38cd5bed14813890ce2536ed1b92dcffbf13ab9109fe3b15",
        "before_after_code_files": [
          "src/jsi.h||src/jsi.h",
          "src/jsiWebSocket.c||src/jsiWebSocket.c",
          "tests/sqlite.jsi||tests/sqlite.jsi",
          "tools/protos.jsi||tools/protos.jsi",
          "www/reference.wiki||www/reference.wiki"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/jsi.h||src/jsi.h",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ],
          "candidate": [
            "src/jsi.h||src/jsi.h",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ]
        }
      },
      "candidate_diff": {
        "src/jsi.h||src/jsi.h": [
          "File: src/jsi.h -> src/jsi.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #define JSI_VERSION_MAJOR   3",
          "6: #define JSI_VERSION_MINOR   0",
          "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
          "",
          "[Removed Lines]",
          "7: #define JSI_VERSION_RELEASE 0",
          "",
          "[Added Lines]",
          "7: #define JSI_VERSION_RELEASE 1",
          "",
          "---------------"
        ],
        "src/jsiWebSocket.c||src/jsiWebSocket.c": [
          "File: src/jsiWebSocket.c -> src/jsiWebSocket.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "180:     const char *clientOrigin;",
          "181:     const char *formParams;",
          "182:     const char *curRoot;",
          "184:     int sfd;        // File descriptor for http.",
          "188:     Jsi_DString cName;",
          "189: } jsi_wsCmdObj;",
          "",
          "[Removed Lines]",
          "185:     int hdrSz[200]; // Space for up to 100 headers",
          "186:     int hdrNum;     // Num of above.",
          "187:     Jsi_DString dHdrs; // Store header string here.",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "227: #endif",
          "228: } jsi_wsPss;",
          "230: typedef struct {",
          "231:     Jsi_Value *val, *objVar;",
          "232:     int triedLoad;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "226: typedef struct {",
          "227:     int unused;",
          "228: } jsi_wsUser;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "404:             return NULL;",
          "405:         pss = (typeof(pss))Jsi_Calloc(1, sizeof(*pss));",
          "406:         Jsi_HashValueSet(hPtr, pss);",
          "408:         pss->sig = JWS_SIG_PWS;",
          "409:         pss->hPtr = hPtr;",
          "410:         Jsi_HashValueSet(hPtr, pss);",
          "",
          "[Removed Lines]",
          "407:         pss->isWebsock = !ishttp;",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "419:         Jsi_IncrRefCount(cmdPtr->interp, pss->udata);",
          "421:         if (cmdPtr->debug>2)",
          "423:         if (!ishttp) {",
          "424:             cmdPtr->stats.connectCnt++;",
          "425:             cmdPtr->createCnt++;",
          "426:             cmdPtr->createLast = time(NULL);",
          "432:         }",
          "433:     }",
          "434:     if (pss) {",
          "",
          "[Removed Lines]",
          "422:             fprintf(stderr, \"PSS CREATE: %p (http=%d) = %d\\n\", pss, ishttp, sfd);",
          "427:             if (Jsi_DSLength(&cmdPtr->dHdrs)) {",
          "428:                 Jsi_DSAppend(&pss->dHdrs, Jsi_DSValue(&cmdPtr->dHdrs), NULL);",
          "429:                 memcpy(pss->hdrSz, cmdPtr->hdrSz, sizeof(cmdPtr->hdrSz));",
          "430:             }",
          "431:             pss->hdrNum = cmdPtr->hdrNum;",
          "",
          "[Added Lines]",
          "421:             fprintf(stderr, \"PSS CREATE: %p/%p/%p (http=%d) = %d\\n\", pss, user, wsi, ishttp, sid);",
          "423:             pss->isWebsock = 1;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "472:     }",
          "473:     jsi_wsCmdObj*cmdPtr = pss->cmdPtr;",
          "474:     cmdPtr->sfd = pss->sfd;",
          "481:     pss->clientName = cmdPtr->clientName;",
          "482:     pss->clientIP = cmdPtr->clientIP;",
          "483:     Jsi_DSFree(&pss->dHdrs);",
          "",
          "[Removed Lines]",
          "475:     Jsi_DSFree(&cmdPtr->dHdrs);",
          "476:     if (Jsi_DSLength(&pss->dHdrs)) {",
          "477:         Jsi_DSAppend(&cmdPtr->dHdrs, Jsi_DSValue(&pss->dHdrs), NULL);",
          "478:         memcpy(cmdPtr->hdrSz, pss->hdrSz, sizeof(cmdPtr->hdrSz));",
          "479:         cmdPtr->hdrNum = pss->hdrNum;",
          "480:     }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "560:         rc = jsi_wswrite(pss, wsi, (unsigned char*)vStr, vLen, LWS_WRITE_HTTP);",
          "561:     }",
          "562:     Jsi_DSFree(&jStr);",
          "564: }",
          "566: static const char*",
          "",
          "[Removed Lines]",
          "563:     return rc;",
          "",
          "[Added Lines]",
          "552:     return (rc>=0?1:0);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1010:                     rc = JSI_OK;",
          "1011:                 Jsi_DecrRefCount(interp, fval);",
          "1012:             }",
          "1014:         } else if (!Jsi_Strncmp(cp, \"#if expr=\\\"\", 10) || !Jsi_Strncmp(cp, \"#elif expr=\\\"\", 12)) {",
          "1015:             if (llen<11 || cp[llen-1] != '\"' || cp[llen-2] == '=') { msg = \"missing end quote\"; break; }",
          "1016:             Jsi_DSSetLength(&lStr, llen-1);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1003:         } else if (!Jsi_Strncmp(cp, \"#echo \\\"${\", 9)) {",
          "1004:             if (cp[llen-1] != '\"' || cp[llen-2] != '}') { msg = \"missing end quote\"; break; }",
          "1005:             Jsi_DSSetLength(&lStr, llen-2);",
          "1006:             cp += 9;",
          "1007:             llen -= 9;",
          "1008:             if (!Jsi_Strcmp(cp, \"#\"))",
          "1009:                 Jsi_DSPrintf(dStr, \"'%p'\", pss);",
          "1010:             else {",
          "1011:                 Jsi_Value *val = NULL;",
          "1012:                 if (!cmdPtr->udata) {",
          "1013:                     val = Jsi_ValueObjLookup(interp, cmdPtr->udata, cp, 0);",
          "1014:                     if (!val) { msg = \"udata lookup failure\"; break; }",
          "1015:                     cp = Jsi_ValueString(interp, val, NULL);",
          "1016:                     Jsi_DSPrintf(dStr, \"'%s'\", cp);",
          "1017:                 }",
          "1018:             }",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "2459:     jsi_wsCmdObj *cmdPtr = (jsi_wsCmdObj*)Jsi_UserObjGetData(interp, _this, funcPtr);",
          "2460:     if (!cmdPtr)",
          "2461:         return Jsi_LogError(\"Apply in a non-websock object\");",
          "2462:     Jsi_DString dStr = {\"[\"};",
          "2463:     jsi_wsPss *pss = NULL;",
          "2464:     Jsi_HashEntry *hPtr;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2468:     const char *val = Jsi_ValueArrayIndexToStr(interp, args, 0, NULL);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "2468:         hPtr != NULL; hPtr = Jsi_HashSearchNext(&cursor)) {",
          "2469:         pss = (jsi_wsPss*)Jsi_HashValueGet(hPtr);",
          "2470:         WSSIGASSERT(pss, PWS);",
          "2473:         }",
          "2474:     }",
          "2475:     Jsi_DSAppend(&dStr, \"]\", NULL);",
          "2476:     Jsi_RC rc = Jsi_JSONParse(interp, Jsi_DSValue(&dStr), ret, 0);",
          "",
          "[Removed Lines]",
          "2471:         if (pss->state != PWS_DEAD) {",
          "2472:             Jsi_DSPrintf(&dStr, \"%s%d\", (cnt++?\",\":\"\"), pss->wid);",
          "",
          "[Added Lines]",
          "2478:         if (pss->state == PWS_DEAD) continue;",
          "2479:         if (val) {",
          "2480:             char buf[100];",
          "2481:             snprintf(buf, sizeof(buf), \"%p\", pss);",
          "2482:             if (Jsi_Strcmp(buf, val)) continue;",
          "2484:         Jsi_DSPrintf(&dStr, \"%s%d\", (cnt++?\",\":\"\"), pss->wid);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "2794:         if (cmdPtr->pssTable)",
          "2795:             Jsi_HashDelete(cmdPtr->pssTable);",
          "2796:         cmdPtr->pssTable = NULL;",
          "2798:         if (cmdPtr->fileHash)",
          "2799:             Jsi_HashDelete(cmdPtr->fileHash);",
          "2800:         cmdPtr->fileHash = NULL;",
          "",
          "[Removed Lines]",
          "2797:         Jsi_DSFree(&cmdPtr->dHdrs);",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "2916:     { \"conf\",       WebSocketConfCmd,     0,  1, \"options:string|object=void\",.help=\"Configure options\", .retType=(uint)JSI_TT_ANY, .flags=0, .info=0, .opts=WSOptions },",
          "2917:     { \"handler\",    WebSocketHandlerCmd,  0,  3, \"extension:string=void, cmd:string|function=void, flags:number=0\",",
          "2918:         .help=\"Get/Set handler command for an extension\", .retType=(uint)JSI_TT_FUNCTION|JSI_TT_ARRAY|JSI_TT_STRING|JSI_TT_VOID, .flags=0, .info=FN_wshandler },",
          "2920:     { \"idconf\",     WebSocketIdConfCmd,   1,  2, \"id:number, options:string|object=void\",.help=\"Configure options for connect id\", .retType=(uint)JSI_TT_ANY, .flags=0, .info=0, .opts=WPSOptions },",
          "2921:     { \"header\",     WebSocketHeaderCmd,   1,  2, \"id:number, name:string=void\",.help=\"Get one or all input headers for connect id\", .retType=(uint)JSI_TT_STRING|JSI_TT_ARRAY|JSI_TT_VOID },",
          "2922:     { \"file\",       WebSocketFileCmd,     0,  1, \"name:string=void\",.help=\"Add file to hash, or with no args return file hash\", .retType=(uint)JSI_TT_ARRAY|JSI_TT_VOID },",
          "",
          "[Removed Lines]",
          "2919:     { \"ids\",        WebSocketIdsCmd,      0,  0, \"\", .help=\"Return list of ids\", .retType=(uint)JSI_TT_ARRAY},",
          "",
          "[Added Lines]",
          "2929:     { \"ids\",        WebSocketIdsCmd,      0,  1, \"name:string=void\", .help=\"Return list of ids, or lookup one id\", .retType=(uint)JSI_TT_ARRAY},",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "3004:         Jsi_LogWarn(\"empty protocol string: forcing to 'ws'\");",
          "3005:     cmdPtr->protocols[JWS_PROTOCOL_HTTP].name=\"http-only\";",
          "3006:     cmdPtr->protocols[JWS_PROTOCOL_HTTP].callback=jsi_wscallback_http;",
          "3008:     cmdPtr->protocols[JWS_PROTOCOL_WEBSOCK].name=subprot;",
          "3009:     cmdPtr->protocols[JWS_PROTOCOL_WEBSOCK].callback=jsi_wscallback_websock;",
          "3012:     if (cmdPtr->bufferPwr2 == 0)",
          "3013:         cmdPtr->bufferPwr2 = 16;",
          "",
          "[Removed Lines]",
          "3007:     cmdPtr->protocols[JWS_PROTOCOL_HTTP].per_session_data_size=sizeof(jsi_wsPss);",
          "3010:     cmdPtr->protocols[JWS_PROTOCOL_WEBSOCK].per_session_data_size=sizeof(jsi_wsPss);",
          "",
          "[Added Lines]",
          "3017:     cmdPtr->protocols[JWS_PROTOCOL_HTTP].per_session_data_size=sizeof(jsi_wsUser);",
          "3020:     cmdPtr->protocols[JWS_PROTOCOL_WEBSOCK].per_session_data_size=sizeof(jsi_wsUser);",
          "",
          "---------------"
        ],
        "tests/sqlite.jsi||tests/sqlite.jsi": [
          "File: tests/sqlite.jsi -> tests/sqlite.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "102: 'B='+n.b + ', A='+n.a ==> B=2, A=95",
          "103: 'B='+n.b + ', A='+n.a ==> B=3, A=91",
          "104: db.query('select * from foo;') ==> [ { a:99, b:1 }, { a:95, b:2 }, { a:91, b:3 } ]",
          "106: db.conf({onProfile:DbProfile}) ==> undefined",
          "107: db.onecolumn('select a from foo where b == 2;') ==> PROFILING: select a from foo where b == 2;",
          "108: 95",
          "",
          "[Removed Lines]",
          "105: dbc ==> { bindWarn:false, changeCnt:1, changeCntAll:3, debug:[], echo:false, errCnt:0, errorCode:0, forceInt:false, lastInsertId:3, load:false, mutex:\"default\", name:\"\", noConfig:false, noCreate:false, noJsonConv:false, onAuth:null, onBusy:null, onCommit:null, onNeedCollate:null, onProfile:null, onProgress:null, onRollback:null, onTrace:null, onUpdate:null, onWalHook:null, progressSteps:0, queryOpts:{ callback:null, cdata:null, echo:false, headers:false, limit:0, mapundef:false, mode:\"rows\", nocache:false, nullvalue:null, objName:null, objOpts:[], retChanged:false, separator:null, table:null, typeCheck:\"convert\", values:null, width:undefined }, readonly:false, sortCnt:0, stepCnt:2, stmtCacheCnt:2, stmtCacheMax:1000, timeout:0, udata:null, version:\"\", vfs:null }",
          "",
          "[Added Lines]",
          "105: dbc ==> { bindWarn:false, changeCnt:1, changeCntAll:3, debug:[], echo:false, errCnt:0, errorCode:0, forceInt:false, lastInsertId:3, load:false, mutex:\"default\", name:\"\", noConfig:false, noCreate:false, noJsonConv:false, onAuth:null, onBusy:null, onCommit:null, onNeedCollate:null, onProfile:null, onProgress:null, onRollback:null, onTrace:null, onUpdate:null, onWalHook:null, progressSteps:0, queryOpts:{ callback:null, cdata:null, echo:false, headers:false, limit:0, mapundef:false, mode:\"rows\", nocache:false, nullvalue:null, objName:null, objOpts:[], retChanged:false, separator:null, table:null, typeCheck:\"convert\", values:null, width:undefined }, readonly:false, sortCnt:0, stepCnt:2, stmtCacheCnt:2, stmtCacheMax:1000, timeout:0, udata:{}, version:\"\", vfs:null }",
          "",
          "---------------"
        ],
        "tools/protos.jsi||tools/protos.jsi": [
          "File: tools/protos.jsi -> tools/protos.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "326: WebSocket.prototype.conf = function(options:string|object=void):any {};",
          "327: WebSocket.prototype.file = function(name:string=void):array|void {};",
          "328: WebSocket.prototype.handler = function(extension:string=void, cmd:string|function=void, flags:number=0):string|array|function|void {};",
          "330: WebSocket.prototype.idconf = function(id:number, options:string|object=void):any {};",
          "332: WebSocket.prototype.query = function(id:number, name:string=void):string|object|void {};",
          "333: WebSocket.prototype.send = function(id:number, data:any):void {};",
          "334: WebSocket.prototype.status = function():object|void {};",
          "",
          "[Removed Lines]",
          "329: WebSocket.prototype.header = function(id:number, name:string=void):string|object|void {};",
          "331: WebSocket.prototype.ids = function():array {};",
          "",
          "[Added Lines]",
          "329: WebSocket.prototype.header = function(id:number, name:string=void):string|array|void {};",
          "331: WebSocket.prototype.ids = function(name:string=void):array {};",
          "",
          "---------------"
        ],
        "www/reference.wiki||www/reference.wiki": [
          "File: www/reference.wiki -> www/reference.wiki",
          "--- Hunk 1 ---",
          "[Context before]",
          "1094: <tr><td>sentLast</td><td><i>TIME_T</i></td><td>Time of last send.</td><td><i></i></td></tr>",
          "1095: <tr><td>sentErrCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1096: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i></i></td></tr>",
          "1097: </table>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1097: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1112: <tr><td>sentLast</td><td><i>TIME_T</i></td><td>Time of last send.</td><td><i></i></td></tr>",
          "1113: <tr><td>sentErrCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1114: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i></i></td></tr>",
          "1115: </table>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1116: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1636: <tr><td>handler</td><td>handler(extension:string=void, cmd:string|function=void, flags:number=0):string|array|function|void </td><td>Get/Set handler command for an extension. With no args, returns list of handlers.  With one arg, returns value for that handler.",
          "1637: Otherwise, sets the handler. When cmd is a string, the call is via runModule([cmd], arg).",
          "1638: If a cmd is a function, it is called with a single arg: the file name.</td></tr>",
          "1640: <tr><td>idconf</td><td>idconf(id:number, <a href='#WebSocket.idconfOptions'>options</a>:string|object=void) </td><td>Configure options for connect id.</td></tr>",
          "1642: <tr><td>query</td><td>query(id:number, name:string=void):string|object|void </td><td>Get one or all query values for connect id.</td></tr>",
          "1643: <tr><td>send</td><td>send(id:number, data:any):void </td><td>Send a websocket message to id. Send a message to one (or all connections if -1). If not already a string, msg is formatted as JSON prior to the send.</td></tr>",
          "1644: <tr><td>status</td><td>status():object|void </td><td>Return libwebsocket server status.</td></tr>",
          "",
          "[Removed Lines]",
          "1639: <tr><td>header</td><td>header(id:number, name:string=void):string|object|void </td><td>Get one or all input headers for connect id.</td></tr>",
          "1641: <tr><td>ids</td><td>ids():array </td><td>Return list of ids.</td></tr>",
          "",
          "[Added Lines]",
          "1641: <tr><td>header</td><td>header(id:number, name:string=void):string|array|void </td><td>Get one or all input headers for connect id.</td></tr>",
          "1643: <tr><td>ids</td><td>ids(name:string=void):array </td><td>Return list of ids, or lookup one id.</td></tr>",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1664: <tr><td>extHandlers</td><td><i>BOOL</i></td><td>Setup builtin extension-handlers, ie: .htmli, .cssi, .jsi, .mdi.</td><td><i>initOnly</i></td></tr>",
          "1665: <tr><td>extOpts</td><td><i>OBJ</i></td><td>Key/value store for extension-handlers options.</td><td><i>initOnly</i></td></tr>",
          "1666: <tr><td>getRegexp</td><td><i>REGEXP</i></td><td>Call onGet() only if Url matches pattern.</td><td><i></i></td></tr>",
          "1668: <tr><td>jsiFnPattern</td><td><i>STRKEY</i></td><td>A glob-match pattern for files to which is appended 'window.jsiWebSocket=true;' (jsig*.js).</td><td><i>readOnly</i></td></tr>",
          "1669: <tr><td>interface</td><td><i>STRING</i></td><td>Interface for server to listen on, eg. 'eth0' or 'lo'.</td><td><i>initOnly</i></td></tr>",
          "1670: <tr><td>local</td><td><i>BOOL</i></td><td>Limit connections to localhost addresses on the 127 network.</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1667: <tr><td>headers</td><td><i>ARRAY</i></td><td>Output headers: name/value pairs.</td><td><i>initOnly</i></td></tr>",
          "",
          "[Added Lines]",
          "1669: <tr><td>headers</td><td><i>ARRAY</i></td><td>Headers to send to browser: name/value pairs.</td><td><i>initOnly</i></td></tr>",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1672: <tr><td>maxConnects</td><td><i>INT</i></td><td>In server mode, max number of client connections accepted.</td><td><i></i></td></tr>",
          "1673: <tr><td>maxDownload</td><td><i>INT</i></td><td>Max size of file download.</td><td><i></i></td></tr>",
          "1674: <tr><td>maxUpload</td><td><i>INT</i></td><td>Max size of file upload will accept.</td><td><i></i></td></tr>",
          "1676: <tr><td>modifySecs</td><td><i>UINT</i></td><td>Seconds between checking for modified files with onModify (2).</td><td><i></i></td></tr>",
          "1677: <tr><td>noConfig</td><td><i>BOOL</i></td><td>Disable use of conf() to change options after options after create.</td><td><i>initOnly</i></td></tr>",
          "1678: <tr><td>noCompress</td><td><i>BOOL</i></td><td>Disable per-message-deflate extension which can truncate large msgs.</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1675: <tr><td>mimeTypes</td><td><i>OBJ</i></td><td>Object providing map of file extensions to mime types (eg. {txt:'text/plain', bb:'text/bb'}).</td><td><i>initOnly</i></td></tr>",
          "",
          "[Added Lines]",
          "1677: <tr><td>mimeTypes</td><td><i>OBJ</i></td><td>Object providing map of file extensions to mime types. eg. {txt:'text/plain', bb:'text/bb'}.</td><td><i>initOnly</i></td></tr>",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1699: <tr><td>redirMax</td><td><i>BOOL</i></td><td>Temporarily disable redirects when see more than this in 10 minutes.</td><td><i></i></td></tr>",
          "1700: <tr><td>rootdir</td><td><i>STRING</i></td><td>Directory to serve html from (\".\").</td><td><i></i></td></tr>",
          "1701: <tr><td>server</td><td><i>STRKEY</i></td><td>String to send out int the header SERVER (jsiWebSocket).</td><td><i></i></td></tr>",
          "1702: <tr><td>stats</td><td><i><a href='#statsOptions'>options</a></i></td><td>Statistical data.</td><td><i>readOnly</i></td></tr>",
          "1703: <tr><td>startTime</td><td><i>TIME_T</i></td><td>Time of websocket start.</td><td><i>readOnly</i></td></tr>",
          "1704: <tr><td>includeFile</td><td><i>STRKEY</i></td><td>Default file when no extension given (include.shtml).</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1704: <tr><td>ssiExts</td><td><i>OBJ</i></td><td>Object map of file extensions to apply SSI.  eg. {myext:true, shtml:false} .</td><td><i>initOnly</i></td></tr>",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1719: <tr><td>clientIP</td><td><i>STRKEY</i></td><td>Client IP Address.</td><td><i>readOnly</i></td></tr>",
          "1720: <tr><td>clientName</td><td><i>STRKEY</i></td><td>Client hostname.</td><td><i>readOnly</i></td></tr>",
          "1721: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all websock Send/Recv messages.</td><td><i></i></td></tr>",
          "1723: <tr><td>isWebsock</td><td><i>BOOL</i></td><td>Socket has been upgraded to a websocket connection.</td><td><i></i></td></tr>",
          "1724: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number)</td><td><i></i></td></tr>",
          "1725: <tr><td>onGet</td><td><i>FUNC</i></td><td>Function to call to server handle http-get. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "",
          "[Removed Lines]",
          "1722: <tr><td>headers</td><td><i>ARRAY</i></td><td>Input headers: name/value pairs.</td><td><i></i></td></tr>",
          "",
          "[Added Lines]",
          "1725: <tr><td>headers</td><td><i>ARRAY</i></td><td>Headers to send to browser on connection: name/value pairs.</td><td><i></i></td></tr>",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "1730: <tr><td>stats</td><td><i><a href='#statsOptions'>options</a></i></td><td>Statistics for connection.</td><td><i>readOnly</i></td></tr>",
          "1731: <tr><td>query</td><td><i>ARRAY</i></td><td>Uri arg values for connection.</td><td><i></i></td></tr>",
          "1732: <tr><td>queryObj</td><td><i>OBJ</i></td><td>Uri arg values for connection as an object.</td><td><i></i></td></tr>",
          "1733: <tr><td>url</td><td><i>DSTRING</i></td><td>Url for connection.</td><td><i></i></td></tr>",
          "1734: </table>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1736: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1738: <tr><td>username</td><td><i>STRING</i></td><td>The login userid for this connection.</td><td><i></i></td></tr>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "41227ddf541dd9fab7d22fa9b28eacdefcc1c39e",
      "candidate_info": {
        "commit_hash": "41227ddf541dd9fab7d22fa9b28eacdefcc1c39e",
        "repo": "pcmacdon/jsish",
        "commit_url": "https://github.com/pcmacdon/jsish/commit/41227ddf541dd9fab7d22fa9b28eacdefcc1c39e",
        "files": [
          "Makefile",
          "README.md",
          "c-demos/Makefile",
          "c-demos/basic.c",
          "c-demos/cdata/Makefile",
          "c-demos/cdata/cdatatest.jsi",
          "c-demos/cdata/ext_test.jsi",
          "c-demos/cdata/tinytest.jsi",
          "c-demos/cdata/vimytest.jsi",
          "c-demos/cmds.c",
          "c-demos/dbdemo.c",
          "c-demos/old/Makefile",
          "c-demos/old/README",
          "c-demos/old/demo1.c",
          "c-demos/old/demo2.c",
          "c-demos/old/dyn.c",
          "c-demos/old/dyn.js",
          "c-demos/old/listdemo.c",
          "c-demos/old/litedemo.c",
          "c-demos/old/minimal.c",
          "c-demos/old/prime.c",
          "c-demos/old/treedemo.c",
          "jsish.c",
          "lib/Cdata.jsi",
          "lib/Zip.jsi",
          "lws/Makefile",
          "md/Reference.md",
          "sqlite/Makefile",
          "src/jsi.h",
          "src/jsiCmds.c",
          "src/jsiEval.c",
          "src/jsiInt.h",
          "src/jsiInterp.c",
          "src/jsiJSON.c",
          "src/jsiLexer.c",
          "src/jsiMySql.c",
          "src/jsiObj.c",
          "src/jsiSqlite.c",
          "src/jsiStubs.h",
          "src/jsiUtils.c",
          "src/jsiWebSocket.c",
          "src/parser.h",
          "src/parser.y",
          "tools/mkref.jsi",
          "tools/protos.jsi",
          "www/reference.wiki"
        ],
        "message": "Release \"3.0.46\": Accept let/const, add partial export/import, object items after first now need no colon, cleanups\n\nFossilOrigin-Name: 9aee600218a7b8e297c0bbe4405038b7ebb171d18634e9bc412b6df8d6ce313c",
        "before_after_code_files": [
          "c-demos/simple.c||c-demos/basic.c",
          "c-demos/cdata/cdatatest.jsi||c-demos/cdata/cdatatest.jsi",
          "c-demos/cdata/ext_test.jsi||c-demos/cdata/ext_test.jsi",
          "c-demos/cdata/tinytest.jsi||c-demos/cdata/tinytest.jsi",
          "c-demos/cdata/vimytest.jsi||c-demos/cdata/vimytest.jsi",
          "c-demos/cmds.c||c-demos/cmds.c",
          "c-demos/dbdemo.c||c-demos/dbdemo.c",
          "c-demos/prime.c||c-demos/old/prime.c",
          "src/jsiOne.c||jsish.c",
          "lib/Cdata.jsi||lib/Cdata.jsi",
          "lib/Zip.jsi||lib/Zip.jsi",
          "src/jsi.h||src/jsi.h",
          "src/jsiCmds.c||src/jsiCmds.c",
          "src/jsiEval.c||src/jsiEval.c",
          "src/jsiInt.h||src/jsiInt.h",
          "src/jsiInterp.c||src/jsiInterp.c",
          "src/jsiJSON.c||src/jsiJSON.c",
          "src/jsiLexer.c||src/jsiLexer.c",
          "src/jsiMySql.c||src/jsiMySql.c",
          "src/jsiObj.c||src/jsiObj.c",
          "src/jsiSqlite.c||src/jsiSqlite.c",
          "src/jsiStubs.h||src/jsiStubs.h",
          "src/jsiUtils.c||src/jsiUtils.c",
          "src/jsiWebSocket.c||src/jsiWebSocket.c",
          "src/parser.h||src/parser.h",
          "src/parser.y||src/parser.y",
          "tools/mkref.jsi||tools/mkref.jsi",
          "tools/protos.jsi||tools/protos.jsi",
          "www/reference.wiki||www/reference.wiki"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ],
          "candidate": [
            "src/jsi.h||src/jsi.h",
            "src/jsiCmds.c||src/jsiCmds.c",
            "tools/protos.jsi||tools/protos.jsi",
            "www/reference.wiki||www/reference.wiki"
          ]
        }
      },
      "candidate_diff": {
        "c-demos/simple.c||c-demos/basic.c": [
          "File: c-demos/simple.c -> c-demos/basic.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "9: static Jsi_CmdProcDecl(MyCmd);",
          "11: int main(int argc, char *argv[])",
          "12: {",
          "17:     Jsi_EvalString(interp, \"for (var i=1; i<=3; i++)  puts('TEST: '+i);\", 0);",
          "",
          "[Removed Lines]",
          "2:   Basic example using JSI single file amalgamation.",
          "4:   BUILDING:",
          "5:     cc -g simple.c -lz -lm -ldl -lpthread -DJSI__SQLITE -lsqlite3 -I../src",
          "7: #include \"jsi.c\"",
          "13:     Jsi_InterpOpts opts = {.argc=argc, .argv=argv};",
          "14:     Jsi_Interp *interp = Jsi_InterpNew(&opts);",
          "",
          "[Added Lines]",
          "2:   Basic use of Jsi API.",
          "5: #include \"jsi.h\"",
          "11:     Jsi_Interp *interp = Jsi_InterpMain(argc, argv, NULL);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "20:     Jsi_CommandCreate(interp, \"MyCmd\", MyCmd, NULL);",
          "21:     Jsi_EvalString(interp, \"MyCmd(3,2,1);\", 0);",
          "25:     Jsi_EvalString(interp,",
          "26:                    \"var db = new Sqlite('~/testjs.db');\"",
          "",
          "[Removed Lines]",
          "23: #ifdef JSI__SQLITE",
          "",
          "[Added Lines]",
          "20: #ifndef OMIT_SQLITE",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "28:                    \"puts(db.query('select * from foo;'));\"",
          "29:                    \"puts(db.query('select * from foo;',{headers:true,mode:'column'}));\", 0);",
          "30: #endif",
          "32: }",
          "",
          "[Removed Lines]",
          "31:     exit(0);",
          "",
          "[Added Lines]",
          "28:     return(0);",
          "",
          "---------------"
        ],
        "c-demos/cdata/cdatatest.jsi||c-demos/cdata/cdatatest.jsi": [
          "File: c-demos/cdata/cdatatest.jsi -> c-demos/cdata/cdatatest.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "2: \"use strict\";",
          "4: var alpha, beta, tree, tree2, tree3, hash, hash2, hash3, pest, flower, n, bees;",
          "",
          "[Removed Lines]",
          "1: #!/usr/local/bin/jsish --U %s",
          "",
          "[Added Lines]",
          "1: #!/usr/local/bin/jsish --I unitTest=1 %s",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "183: ;db = new Sqlite('/tmp/bees.db');",
          "184: ;schema = CStruct.schema('Bee');",
          "185: ;db.eval('CREATE TABLE IF NOT EXISTS Bee (\\n'+schema+'\\n);');",
          "189: ;'\\n====Cleanup====';",
          "190: ;Info.named('CData');",
          "",
          "[Removed Lines]",
          "186: ;db.query('INSERT INTO Bee %s',{cdata:'beta'});",
          "187: ;db.query('SELECT %s FROM Bee',{cdata:'beta'});",
          "",
          "[Added Lines]",
          "186: ;db.query('INSERT INTO Bee %v',{cdata:'beta'});",
          "187: ;db.query('SELECT %v FROM Bee',{cdata:'beta'});",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "396: db.eval('CREATE TABLE IF NOT EXISTS Bee (",
          "397: '+schema+'",
          "398: );') ==> 0",
          "401: '",
          "402: ====Cleanup===='",
          "403: Info.named('CData') ==> [ \"#CData_8\", \"#CData_4\", \"#CData_9\", \"#CData_5\", \"#CData_1\", \"#CData_6\", \"#CData_2\", \"#CData_10\", \"#CData_7\", \"#CData_3\", \"#CData_11\" ]",
          "",
          "[Removed Lines]",
          "399: db.query('INSERT INTO Bee %s',{cdata:'beta'}) ==> 10",
          "400: db.query('SELECT %s FROM Bee',{cdata:'beta'}) ==> 10",
          "",
          "[Added Lines]",
          "399: db.query('INSERT INTO Bee %v',{cdata:'beta'}) ==> 10",
          "400: db.query('SELECT %v FROM Bee',{cdata:'beta'}) ==> 10",
          "",
          "---------------"
        ],
        "c-demos/cdata/ext_test.jsi||c-demos/cdata/ext_test.jsi": [
          "File: c-demos/cdata/ext_test.jsi -> c-demos/cdata/ext_test.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "2: \"use strict\";",
          "4: var n, m, c, p;",
          "",
          "[Removed Lines]",
          "1: #!/usr/local/bin/jsish --U %s",
          "",
          "[Added Lines]",
          "1: #!/usr/local/bin/jsish --I unitTest=1 %s",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "35: ;'\\nCar';",
          "36: ;require('Car');",
          "38: ;n=Car.keys();",
          "39: ;m=Info.cmds('Car');",
          "40: ;c=new Car();",
          "",
          "[Removed Lines]",
          "37: ;require('Car',1).info;",
          "",
          "[Added Lines]",
          "37: ;require('Car',0).conf.info;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "97: '",
          "98: Car'",
          "99: require('Car') ==> 1",
          "101: n=Car.keys() ==> [ \"Car\", \"conf\", \"shift\", \"setSpeed\", \"fix\" ]",
          "102: m=Info.cmds('Car') ==> { args:\"options:object=void\", constructor:true, help:\"Extension to create a Car object command.\", name:\"Car\", retType:\"any\", type:\"object\" }",
          "103: c=new Car() ==> \"#Car_1\"",
          "",
          "[Removed Lines]",
          "100: require('Car',1).info ==> { carstuff:true, mynum:1 }",
          "",
          "[Added Lines]",
          "100: require('Car',0).conf.info ==> { carstuff:true, mynum:1 }",
          "",
          "---------------"
        ],
        "c-demos/cdata/tinytest.jsi||c-demos/cdata/tinytest.jsi": [
          "File: c-demos/cdata/tinytest.jsi -> c-demos/cdata/tinytest.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: ;require('Tiny');",
          "4: ;'tinytest';",
          "",
          "[Removed Lines]",
          "1: #!/usr/local/bin/jsish --U %s",
          "",
          "[Added Lines]",
          "1: #!/usr/local/bin/jsish --I unitTest=1 %s",
          "",
          "---------------"
        ],
        "c-demos/cdata/vimytest.jsi||c-demos/cdata/vimytest.jsi": [
          "File: c-demos/cdata/vimytest.jsi -> c-demos/cdata/vimytest.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "2: \"use strict\";",
          "3: require('Vimy');",
          "4: require('VarTest');",
          "",
          "[Removed Lines]",
          "1: #!/usr/local/bin/jsish --U %s",
          "",
          "[Added Lines]",
          "1: #!/usr/local/bin/jsish --I unitTest=1 %s",
          "",
          "---------------"
        ],
        "c-demos/cmds.c||c-demos/cmds.c": [
          "File: c-demos/cmds.c -> c-demos/cmds.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "9: static Jsi_CmdProcDecl(AddCmd) {",
          "10:     int i, n = Jsi_ValueGetLength(interp, args);",
          "",
          "[Removed Lines]",
          "2:   Multi-command object: Cmd.add, Cmd.diff",
          "4:   BUILDING:",
          "5:     cc cmds.c -lz -lm -ldl -lpthread -I../src",
          "7: #include \"jsi.c\"",
          "",
          "[Added Lines]",
          "2:   Create multi-command object (Cmd.add/diff) then drop to interactive mode",
          "4: #include \"jsi.h\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "49: int main(int argc, char *argv[])",
          "50: {",
          "53:     if (Jsi_InitCmds(interp, 0) != JSI_OK)",
          "55:     Jsi_EvalString(interp, \"puts(Cmd.add(1,2,3)); puts(Cmd.diff(17,9));\", 0);",
          "58: }",
          "",
          "[Removed Lines]",
          "51:     Jsi_InterpOpts opts = {.argc=argc, .argv=argv};",
          "52:     Jsi_Interp *interp = Jsi_InterpNew(&opts);",
          "54:         exit(1);",
          "56:     Jsi_Interactive(interp, 0);",
          "57:     exit(0);",
          "",
          "[Added Lines]",
          "48:     Jsi_Interp *interp = Jsi_InterpMain(argc, argv, NULL);",
          "50:         return(1);",
          "52:     if (argc>1)",
          "53:         Jsi_Interactive(interp, 0);",
          "54:     return(0);",
          "",
          "---------------"
        ],
        "c-demos/dbdemo.c||c-demos/dbdemo.c": [
          "File: c-demos/dbdemo.c -> c-demos/dbdemo.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "7: static const char *markStrs[] = {\"\",\"A\",\"B\",\"C\",\"D\",\"F\", NULL};",
          "8: typedef enum { MARK_NONE, MARK_A, MARK_B, MARK_C, MARK_D, MARK_F } MarkType;",
          "",
          "[Removed Lines]",
          "2: #include <sqlite3.h>",
          "3: #define JSI__SQLITE 1",
          "5: #include \"jsi.c\"",
          "",
          "[Added Lines]",
          "4: #include <assert.h>",
          "5: #include <string.h>",
          "6: #include \"jsi.h\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "92:     for (i=0; i<10; i++) {",
          "93:         mydata.id++;",
          "94:         mydata.max--;",
          "96:     }",
          "97:     Jsi_DbQuery(jdb, NULL, \";COMMIT\");",
          "",
          "[Removed Lines]",
          "95:         n = Jsi_DbQuery(jdb, d, \"INSERT INTO mytable %s\" ); assert(n==1);",
          "",
          "[Added Lines]",
          "96:         n = Jsi_DbQuery(jdb, d, \"INSERT INTO mytable %v\" ); assert(n==1);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "101:     mydata2.rowid = mydata.rowid;",
          "102:     Jsi_CDataDb d2[] ={ {MyOptions, &mydata2 }, {}};",
          "103:     n = Jsi_DbQuery(jdb, d2, \"SELECT id,name FROM mytable WHERE rowid=:rowid\"); assert(n==1);",
          "107:     mydata.max = -1;",
          "108:     mydata.myTime = Jsi_DateTime();",
          "109:     strcpy(mydata.name, \"billybob\");",
          "112:     mydata.id = 105;",
          "113:     n = Jsi_DbQuery(jdb, d, \"UPDATE mytable SET name=:name, max=:max WHERE id<:id\"); assert(n==5);",
          "",
          "[Removed Lines]",
          "104:     n = Jsi_DbQuery(jdb, d2, \"SELECT %s FROM mytable WHERE rowid=:rowid\"); assert(n==1);",
          "110:     n = Jsi_DbQuery(jdb, d, \"UPDATE mytable SET %s WHERE id=:id\"); assert(n==1);",
          "",
          "[Added Lines]",
          "105:     n = Jsi_DbQuery(jdb, d2, \"SELECT %v FROM mytable WHERE rowid=:rowid\"); assert(n==1);",
          "111:     n = Jsi_DbQuery(jdb, d, \"UPDATE mytable SET %v WHERE id=:id\"); assert(n==1);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "119:     int num = 10;",
          "120:     static MyData mydatas[10] = {};",
          "121:     Jsi_CDataDb d3[] ={ {MyOptions, mydatas, num }, {}};",
          "124:     for (i=0; i<cnt; i++)",
          "125:         mydatas[i].id += i;",
          "126:     d3->arrSize = cnt;",
          "130:     for (i=1; i<=3; i++) {",
          "",
          "[Removed Lines]",
          "122:     cnt = Jsi_DbQuery(jdb, d3, \"SELECT %s FROM mytable\"); assert(cnt==9);",
          "127:     n = Jsi_DbQuery(jdb, d3, \"UPDATE mytable SET %s WHERE rowid = :rowid\"); assert(n==9);",
          "",
          "[Added Lines]",
          "123:     cnt = Jsi_DbQuery(jdb, d3, \"SELECT %v FROM mytable\"); assert(cnt==9);",
          "128:     n = Jsi_DbQuery(jdb, d3, \"UPDATE mytable SET %v WHERE rowid = :rowid\"); assert(n==9);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "132:         mydatas[i].id += 100*i;",
          "133:     }",
          "134:     d3->dirtyOnly = 1;",
          "137: #ifndef JSI_LITE_ONLY",
          "",
          "[Removed Lines]",
          "135:     n = Jsi_DbQuery(jdb, d3, \"UPDATE mytable SET %s WHERE rowid = :rowid\"); assert(n==3);",
          "",
          "[Added Lines]",
          "136:     n = Jsi_DbQuery(jdb, d3, \"UPDATE mytable SET %v WHERE rowid = :rowid\"); assert(n==3);",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "146:     Jsi_CDataDb d4[] ={ {MyOptions, mdPtr, 3 }, {}};",
          "147:     d4->isPtrs = 1;",
          "149:     printf(\"%f\\n\", mdPtr[0]->max);",
          "152:     Jsi_CDataDb d5[] ={ {MyOptions, &dynPtr }, {}};",
          "153:     d5->isPtr2 = 1;",
          "156:     d5->memFree = 1;",
          "157:     n = Jsi_DbQuery(jdb, d5, NULL);",
          "158:     assert(!dynPtr);",
          "",
          "[Removed Lines]",
          "148:     n = Jsi_DbQuery(jdb, d4, \"SELECT %s FROM mytable\"); assert(n==3);",
          "154:     d5->arrSize = n = Jsi_DbQuery(jdb, d5, \"SELECT %s FROM mytable WHERE rowid < 5\"); assert(n==4);",
          "155:     d5->arrSize = n = Jsi_DbQuery(jdb, d5, \"SELECT %s FROM mytable LIMIT 1000\");  assert(n==9);",
          "",
          "[Added Lines]",
          "149:     n = Jsi_DbQuery(jdb, d4, \"SELECT %v FROM mytable\"); assert(n==3);",
          "155:     d5->arrSize = n = Jsi_DbQuery(jdb, d5, \"SELECT %v FROM mytable WHERE rowid < 5\"); assert(n==4);",
          "156:     d5->arrSize = n = Jsi_DbQuery(jdb, d5, \"SELECT %v FROM mytable LIMIT 1000\");  assert(n==9);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "165:     };",
          "166:     mydata.max = -1;",
          "167:     binds->isPtrs = 1;",
          "169: #if 0",
          "170:     if (!strcmp(arg,\"-wrapper\")) {",
          "174:     }",
          "",
          "[Removed Lines]",
          "168:     n = Jsi_DbQuery(jdb, binds, \"SELECT %s FROM mytable WHERE max=$max\"); assert(n==3);",
          "171:         ExecMyData(mydatas, n, \"SELECT %s FROM mytable;\");",
          "172:         ExecMySemi(mdPtr,   n, \"SELECT %s FROM mytable;\");",
          "173:         ExecMyDyn(&dynPtr,  n, \"SELECT %s FROM mytable;\");",
          "",
          "[Added Lines]",
          "169:     n = Jsi_DbQuery(jdb, binds, \"SELECT %v FROM mytable WHERE max=$max\"); assert(n==3);",
          "172:         ExecMyData(mydatas, n, \"SELECT %v FROM mytable;\");",
          "173:         ExecMySemi(mdPtr,   n, \"SELECT %v FROM mytable;\");",
          "174:         ExecMyDyn(&dynPtr,  n, \"SELECT %v FROM mytable;\");",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "180:     if (!strcmp(arg,\"-benchmark\")) {",
          "181:         Jsi_Number stim, etim;",
          "183:         MyData *big = (MyData *)Jsi_Calloc(bnum, sizeof(MyData)), *b = big;",
          "185:         printf(\"BENCHMARK %d ROWS\\n\", bnum);",
          "",
          "[Removed Lines]",
          "182:         int bnum = 1000000;",
          "",
          "[Added Lines]",
          "183:         int bnum = 100000;",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "195:         printf(\"INIT C: %8.3f secs\\n\", ((etim-stim)/1000.0));",
          "196:         Jsi_DbQuery(jdb, NULL, \";DELETE FROM mytable;\");",
          "197:         stim=etim;",
          "199:         etim = Jsi_DateTime();",
          "200:         i=(int)(etim-stim);",
          "201:         printf(\"%8.3f sec, %8d rows/sec    INSERT %d ROWS\\n\", i/1000.0, bnum*1000/i, n);",
          "203:         stim=etim;",
          "204:         memset(big, 0, num*sizeof(MyData));",
          "206:         etim = Jsi_DateTime();",
          "207:         i=(int)(etim-stim);",
          "208:         printf(\"%8.3f sec, %8d rows/sec    SELECT %d ROWS \\n\", i/1000.0, bnum*1000/i, bnum);",
          "",
          "[Removed Lines]",
          "198:         n = Jsi_DbQuery(jdb, d6, \"INSERT INTO mytable %s\"); assert(n==bnum);",
          "205:         n = Jsi_DbQuery(jdb, d6, \"SELECT %s FROM mytable\"); assert(n==bnum);",
          "",
          "[Added Lines]",
          "199:         n = Jsi_DbQuery(jdb, d6, \"INSERT INTO mytable %v\"); assert(n==bnum);",
          "206:         n = Jsi_DbQuery(jdb, d6, \"SELECT %v FROM mytable\"); assert(n==bnum);",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "226:         }",
          "228:         stim=etim;",
          "230:         etim = Jsi_DateTime();",
          "231:         i=(int)(etim-stim);",
          "232:         printf(\"%8.3f sec, %8d rows/sec    UPDATE %d ROWS, ALL FIELDS\\n\", i/1000.0, n*1000/i, n);",
          "234:         stim=etim;",
          "235:         d6->dirtyOnly = 1;",
          "237:         etim = Jsi_DateTime();",
          "238:         i=(int)(etim-stim);",
          "239:         printf(\"%8.3f sec, %8d rows/sec    UPDATE %d DIRTY ROWS\\n\", i/1000.0, (int)(n*1000.0/i), n);",
          "",
          "[Removed Lines]",
          "229:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %s where rowid=:rowid\"); assert(n==bnum);",
          "236:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %s where rowid=:rowid\"); assert(n==(bnum/10));",
          "",
          "[Added Lines]",
          "230:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %v where rowid=:rowid\"); assert(n==bnum);",
          "237:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %v where rowid=:rowid\"); assert(n==(bnum/10));",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "243:             if ((i%1000)==0)",
          "244:                 b[i].isdirty = 1;",
          "245:         }",
          "247:         etim = Jsi_DateTime();",
          "248:         i=(int)(etim-stim);",
          "249:         printf(\"%8.3f sec, %8d rows/sec    UPDATE %d DIRTY ROWS\\n\", i/1000.0, n*1000/i, n);",
          "",
          "[Removed Lines]",
          "246:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %s where rowid=:rowid\"); assert(n==(bnum/1000));",
          "",
          "[Added Lines]",
          "247:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %v where rowid=:rowid\"); assert(n==(bnum/1000));",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "253:             if ((i%100000)==0)",
          "254:                 b[i].isdirty = 1;",
          "255:         }",
          "257:         etim = Jsi_DateTime();",
          "258:         i=(int)(etim-stim);",
          "259:         printf(\"%8.3f sec, %8d rows/sec    UPDATE %d DIRTY ROWS\\n\", i/1000.0, n*1000/i, n);",
          "",
          "[Removed Lines]",
          "256:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %s where rowid=:rowid\"); assert(n==(bnum/100000));",
          "",
          "[Added Lines]",
          "257:         n = Jsi_DbQuery(jdb, d6, \"UPDATE mytable SET %v where rowid=:rowid\"); assert(n==(bnum/100000));",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "267: int main(int argc, char *argv[]) {",
          "268:     Jsi_Interp *interp = NULL;",
          "269: #ifndef JSI_LITE_ONLY",
          "272: #endif",
          "273:     DemoMain(interp, argc>1?argv[1]:\"\");",
          "274: #ifndef JSI_LITE_ONLY",
          "",
          "[Removed Lines]",
          "270:     Jsi_InterpOpts opts = {.argc=argc, .argv=argv};",
          "271:     interp = Jsi_InterpNew(&opts);",
          "",
          "[Added Lines]",
          "271:     interp = Jsi_InterpMain(argc, argv, NULL);",
          "",
          "---------------"
        ],
        "c-demos/prime.c||c-demos/old/prime.c": [
          "File: c-demos/prime.c -> c-demos/old/prime.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "7: {",
          "8:     int val, lim, i;",
          "9:     bool rc = 1;",
          "14:     for (i = 2; i <= lim; i++) {",
          "15:         if ((val % i) == 0) {",
          "",
          "[Removed Lines]",
          "10:     if (Jsi_GetIntFromValue(interp, Jsi_ValueArrayIndex(interp, args, 0), &val) != JSI_OK ||",
          "11:         Jsi_GetIntFromValue(interp, Jsi_ValueArrayIndex(interp, args, 1), &lim) != JSI_OK)",
          "12:         return JSI_ERROR;",
          "",
          "[Added Lines]",
          "10:     Jsi_Value *v1 = Jsi_ValueArrayIndex(interp, args, 0), *v2 = Jsi_ValueArrayIndex(interp, args, 1);",
          "11:     if (!v1 || Jsi_GetIntFromValue(interp, v1, &val) != JSI_OK ||",
          "12:         !v2 || Jsi_GetIntFromValue(interp, v2, &lim) != JSI_OK)",
          "13:         return Jsi_LogError(\"expected 2 int args\");",
          "",
          "---------------"
        ],
        "src/jsiOne.c||jsish.c": [
          "File: src/jsiOne.c -> jsish.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1: #include \"src/jsi.h\"",
          "2: #ifndef JSI_IN_AMALGAMATION",
          "3: #define JSI_AMALGAMATION",
          "4: struct jsi_Pstate;",
          "5: #include \"src/jsiStubs.h\"",
          "6: #include \"regex/regex.h\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4: #define JSI__ALL 1",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "18: #if JSI__READLINE==1",
          "19: #include \"src/linenoise.c\"",
          "20: #endif //JSI__READLINE==1",
          "21: #include \"src/jsiCode.c\"",
          "22: #include \"src/jsiLexer.c\"",
          "23: #include \"src/jsiFunc.c\"",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "22: #ifndef SQLITE_VERSION",
          "23: #include \"sqlite/src/sqlite3.c\"",
          "24: #endif //SQLITE_VERSION",
          "25: #include \"lws/src/lwsSingle.c\"",
          "",
          "---------------"
        ],
        "lib/Cdata.jsi||lib/Cdata.jsi": [
          "File: lib/Cdata.jsi -> lib/Cdata.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "130:         var libDir = Interp.conf('pkgDirs')[0];",
          "131:         var pDir = File.dirname(libDir), srcDir = pDir + '/src';",
          "133:             LogWarn('can not locate jsi.c');",
          "134:         var wDir = pDir + '/websocket';",
          "135:         s += ' -I'+srcDir;",
          "",
          "[Removed Lines]",
          "132:         if (!File.readable('jsi.c') && !File.readable(srcDir+'/jsi.c'))",
          "",
          "[Added Lines]",
          "132:         if (!File.readable('jsi.c') && !File.readable(pDir+'/jsi.c'))",
          "",
          "---------------"
        ],
        "lib/Zip.jsi||lib/Zip.jsi": [
          "File: lib/Zip.jsi -> lib/Zip.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "18:     function usage(str) {",
          "19:         if (str != '')",
          "20:             console.puts(str);",
          "22:         return 1;",
          "23:     }",
          "",
          "[Removed Lines]",
          "21:         console.puts(\"usage: list file|truncate file|unzip File.zip ?dir?|zip File.zip dir|fuse File.zip|zvfs file|create ...\");",
          "",
          "[Added Lines]",
          "21:         console.puts(\"usage: list file|trunc file|unzip File.zip ?dir?|zip File.zip dir|fuse File.zip|zvfs file|create ...\");",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "66:         return 0;",
          "67:     }",
          "71:         return 0;",
          "72:     }",
          "",
          "[Removed Lines]",
          "69:     function truncate(fname:string) {   // Truncate zip files off of executable.",
          "70:         zvfs.truncate(fname);",
          "",
          "[Added Lines]",
          "69:     function trunc(fname:string) {   // Truncate zip files off of executable.",
          "70:         Zvfs.truncate(fname);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "159: }",
          "161: provide(Zip, 1);",
          "",
          "[Removed Lines]",
          "162: runModule(Zip);",
          "",
          "[Added Lines]",
          "162: if (Info.isMain())",
          "163:     exit(runModule(Zip));",
          "",
          "---------------"
        ],
        "src/jsi.h||src/jsi.h": [
          "File: src/jsi.h -> src/jsi.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #define JSI_VERSION_MAJOR   3",
          "6: #define JSI_VERSION_MINOR   0",
          "9: #define JSI_VERSION (JSI_VERSION_MAJOR + ((Jsi_Number)JSI_VERSION_MINOR/100.0) + ((Jsi_Number)JSI_VERSION_RELEASE/10000.0))",
          "",
          "[Removed Lines]",
          "7: #define JSI_VERSION_RELEASE 45",
          "",
          "[Added Lines]",
          "7: #define JSI_VERSION_RELEASE 46",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1598: #define JSI_INFO(n) n",
          "1599: #endif",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1602: #ifndef NDEBUG",
          "1603: #define ASSERTRET(s, ...) assert(s);",
          "1604: #else",
          "1605: #define ASSERTRET(s, ...) if (!(s)) { fprintf(stderr, \"%s:%d ASSERT FAIL: %s\\n\", __FILE__, __LINE__, #s); return  ##__VA_ARGS__; }",
          "1606: #endif",
          "",
          "---------------"
        ],
        "src/jsiCmds.c||src/jsiCmds.c": [
          "File: src/jsiCmds.c -> src/jsiCmds.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "4958:     { \"exec\",       SysExecCmd,      1,  2, \"val:string, options:string|object=void\", .help=\"Execute an OS command\", .retType=(uint)JSI_TT_ANY, .flags=0, .info=FN_exec, .opts=ExecOptions},",
          "4959:     { \"exit\",       SysExitCmd,      0,  1, \"code:number=0\", .help=\"Exit the current interpreter\", .retType=(uint)JSI_TT_VOID },",
          "4960:     { \"format\",     SysFormatCmd,    1, -1, \"format:string, ...\", .help=\"Printf style formatting: adds %q and %S\", .retType=(uint)JSI_TT_STRING },",
          "4961:     { \"isFinite\",   isFiniteCmd,     1,  1, \"val\", .help=\"Return true if is a finite number\", .retType=(uint)JSI_TT_BOOLEAN },",
          "4962:     { \"isMain\",     InfoIsMainCmd,   0,  0, \"\", .help=\"Return true if current script was the main script invoked from command-line\", .retType=(uint)JSI_TT_BOOLEAN },",
          "4963:     { \"isNaN\",      isNaNCmd,        1,  1, \"val\", .help=\"Return true if not a number\", .retType=(uint)JSI_TT_BOOLEAN },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4961:     { \"import\",     SysSourceCmd,    1,  2, \"val:string|array, options:object=void\",  .help=\"Same as source\", .retType=(uint)JSI_TT_ANY, .flags=0, .info=0, .opts=SourceOptions},",
          "",
          "---------------"
        ],
        "src/jsiEval.c||src/jsiEval.c": [
          "File: src/jsiEval.c -> src/jsiEval.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1986:             }",
          "1987:             case OP_RESERVED: {",
          "1988:                 jsi_ReservedInfo *ri = (jsi_ReservedInfo *)ip->data;",
          "1989:                 const char *cmd = ri->type == RES_CONTINUE ? \"continue\" : \"break\";",
          "1991:                 if (ri->label) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1989:                 if (ri->type == RES_EXPORT ||  ri->type == RES_IMPORT) break;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "2041:                 line = fp->child->filePtr->pkg->loadLine;",
          "2042:             }",
          "2043:         }",
          "2045:             line = interp->curIp->Line;",
          "2047:             fn = cp +1;",
          "2048:         Jsi_DSPrintf(&dStr, \"#%d: %s:%d: \", fp->level, fn, line);",
          "2049:         if (func && fp->incsc) {",
          "",
          "[Removed Lines]",
          "2044:         if (!line && fp->level == interp->framePtr->level)",
          "2046:         if (fn && ((cp=Jsi_Strrchr(fn, '/'))))",
          "",
          "[Added Lines]",
          "2045:         if (fp->level == interp->framePtr->level && interp->curIp && interp->curIp->Line)",
          "2047:         if (fn && !interp->logOpts.full && ((cp=Jsi_Strrchr(fn, '/'))))",
          "",
          "---------------"
        ],
        "src/jsiInt.h||src/jsiInt.h": [
          "File: src/jsiInt.h -> src/jsiInt.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "481:     int topop;",
          "482: } jsi_JmpPopInfo;",
          "486: typedef struct YYLTYPE jsi_Pline;",
          "",
          "[Removed Lines]",
          "484: #define RES_CONTINUE    1",
          "485: #define RES_BREAK       2",
          "",
          "[Added Lines]",
          "484: enum { RES_CONTINUE =1, RES_BREAK, RES_EXPORT, RES_IMPORT };",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1498: extern bool jsi_StrIsBalanced(char *str);",
          "1499: extern char* jsi_RlGetLine(Jsi_Interp* interp, const char *prompt);",
          "1506: #endif",
          "1507: #endif",
          "1509: #define MAX_SUBREGEX    256",
          "",
          "[Removed Lines]",
          "1501: #ifndef _JSI_MEMCLEAR",
          "1502: #ifndef JSI_MEM_DEBUG",
          "1503: #define _JSI_MEMCLEAR(ptr)",
          "1504: #else",
          "",
          "[Added Lines]",
          "1500: #if !defined(_JSI_MEMCLEAR) && defined(JSI_MEM_DEBUG)",
          "1504: #ifndef _JSI_MEMCLEAR",
          "1505: #define _JSI_MEMCLEAR(ptr)",
          "",
          "---------------"
        ],
        "src/jsiInterp.c||src/jsiInterp.c": [
          "File: src/jsiInterp.c -> src/jsiInterp.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1589:     return interp;",
          "1590: }",
          "1592: Jsi_Interp* Jsi_InterpNew(Jsi_InterpOpts *opts)",
          "1593: {",
          "1594:     return jsi_InterpNew(NULL, NULL, opts);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1592: Jsi_Interp* Jsi_InterpMain(int argc, char **argv, Jsi_InitProc* initProc)",
          "1593: {",
          "1594:     Jsi_InterpOpts opts = {.argc=argc, .argv=argv, .initProc=initProc};",
          "1595:     return jsi_InterpNew(NULL, NULL, &opts);",
          "1596: }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1983:         (*proc)(interp, data);",
          "1984:         return;",
          "1985:     }",
          "1986:     PreserveData *ptr = (PreserveData*)Jsi_HashValueGet(hPtr);",
          "1987:     assert(ptr && ptr->interp == interp);",
          "1988:     JSI_NOWARN(ptr);",
          "1989:     Jsi_HashEntryDelete(hPtr);",
          "1990: }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1992: #ifndef NDEBUG",
          "1996: #endif",
          "",
          "---------------"
        ],
        "src/jsiJSON.c||src/jsiJSON.c": [
          "File: src/jsiJSON.c -> src/jsiJSON.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "246:         return JSI_ERROR;",
          "247:     }",
          "248:     if (n >= sizeof(buf)) {",
          "250:         Jsi_DSSetLength(&dStr, n+1);",
          "254:         cp = Jsi_DSValue(&dStr);",
          "255:     }",
          "256:     va_end(argList);",
          "",
          "[Removed Lines]",
          "249:         uint m;",
          "251:         m = vsnprintf(Jsi_DSValue(&dStr), n+1, fmt, argList);",
          "252:         assert(m == n);",
          "253:         JSI_NOWARN(m);",
          "",
          "[Added Lines]",
          "250:         vsnprintf(Jsi_DSValue(&dStr), n+1, fmt, argList);",
          "",
          "---------------"
        ],
        "src/jsiLexer.c||src/jsiLexer.c": [
          "File: src/jsiLexer.c -> src/jsiLexer.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "78:         { \"function\", FUNC },",
          "79:         { \"return\", RETURN },",
          "80:         { \"var\", LOCAL },",
          "81:         { \"of\", OF },",
          "82:         { \"new\", NEW },",
          "83:         { \"delete\", DELETE },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "81:         { \"let\", LOCALLET },",
          "82:         { \"const\", LOCALCONST },",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "104:         { \"boolean\", TYPEBOOLEAN },",
          "105:         { \"array\", TYPEARRAY },",
          "106:         { \"null\", TYPENULL },",
          "107:         { \"...\", ELLIPSIS },",
          "108:         { \"debugger\", __DEBUG }",
          "109:     };",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "109:         { \"export\", EXPORT },",
          "",
          "---------------"
        ],
        "src/jsiMySql.c||src/jsiMySql.c": [
          "File: src/jsiMySql.c -> src/jsiMySql.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "7: #define SQLSIGASSERT(s,n) assert(s->sig == MYSQL_SIG_##n)",
          "8: #define SQLSIGINIT(s,n) s->sig = MYSQL_SIG_##n",
          "12: #define _JSI_MEMCLEAR(s) memset(s, 0, sizeof(*s));",
          "13: #endif",
          "15: #define _JSI_MEMCLEAR(s)",
          "16: #endif",
          "17: #ifndef JSI_DB_DSTRING_SIZE",
          "18: #define JSI_DB_DSTRING_SIZE 2000",
          "19: #endif",
          "",
          "[Removed Lines]",
          "10: #ifndef NDEBUG",
          "11: #ifndef _JSI_MEMCLEAR",
          "14: #else",
          "",
          "[Added Lines]",
          "10: #if !defined(_JSI_MEMCLEAR) && !defined(NDEBUG)",
          "14: #ifndef _JSI_MEMCLEAR",
          "",
          "---------------"
        ],
        "src/jsiObj.c||src/jsiObj.c": [
          "File: src/jsiObj.c -> src/jsiObj.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "134: void Jsi_IterObjFree(Jsi_IterObj *iobj)",
          "135: {",
          "136:     if (!iobj->isArrayList) {",
          "137:         uint i;",
          "138:         for (i = 0; i < iobj->count; i++) {",
          "139:             if (iobj->keys[i]) {",
          "141:             }",
          "144:     }",
          "145:     Jsi_Free(iobj);",
          "146: }",
          "",
          "[Removed Lines]",
          "142:         }",
          "143:         Jsi_Free(iobj->keys);",
          "",
          "[Added Lines]",
          "141:                 Jsi_TreeDecrRef(iobj->keys[i]);// TODO: ???",
          "144:         if (iobj->keys)",
          "145:             Jsi_Free(iobj->keys);",
          "",
          "---------------"
        ],
        "src/jsiSqlite.c||src/jsiSqlite.c": [
          "File: src/jsiSqlite.c -> src/jsiSqlite.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "42: typedef enum { SQLITE_SIG_DB = 0xbeefdead, SQLITE_SIG_FUNC, SQLITE_SIG_EXEC, SQLITE_SIG_STMT } Sqlite_Sig;",
          "44: #define SQLSIGASSERT(s,n) assert(s->sig == SQLITE_SIG_##n)",
          "47: #define _JSI_MEMCLEAR(s) memset(s, 0, sizeof(*s));",
          "50: #endif",
          "51: #endif",
          "52: #ifndef JSI_DB_DSTRING_SIZE",
          "53: #define JSI_DB_DSTRING_SIZE 2000",
          "54: #endif",
          "",
          "[Removed Lines]",
          "45: #ifndef _JSI_MEMCLEAR",
          "46: #ifndef NDEBUG",
          "48: #else",
          "49: #define _JSI_MEMCLEAR(s)",
          "",
          "[Added Lines]",
          "46: #if !defined(_JSI_MEMCLEAR) && !defined(NDEBUG)",
          "50: #ifndef _JSI_MEMCLEAR",
          "51: #define _JSI_MEMCLEAR(s)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "78: #include <stdio.h>",
          "79: #include <inttypes.h>",
          "82: #include \"sqlite3.h\"",
          "83: #endif",
          "",
          "[Removed Lines]",
          "81: #ifndef SQLITE_AMALGAMATION",
          "",
          "[Added Lines]",
          "83: #ifndef SQLITE_VERSION",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "385:     Jsi_HashSet(hPtr, (void*)\"datetime\", (void*)JSI_OPTION_TIME_W);",
          "386: }",
          "391: static int dbExecCmd(Jsi_Db *db, const char *zQuery, int *erc)",
          "",
          "[Removed Lines]",
          "388: #define SQLITE_OMIT_INCRBLOB",
          "",
          "[Added Lines]",
          "390: #define SQLITE_OMIT_INCRBLOB 1",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "4043:     DbEvalContext sEval = {};",
          "4044:     int ccnt = 0;",
          "4045:     Jsi_Wide flags = 0;",
          "4048:     Jsi_DString *eStr;",
          "4049: #ifdef JSI_DB_DSTRING_SIZE",
          "4050:     JSI_DSTRING_VAR(dStr, JSI_DB_DSTRING_SIZE);",
          "",
          "[Removed Lines]",
          "4046:     const char *cPtr = Jsi_Strstr(cmd, \" %s\");",
          "4047:     if (!cPtr) cPtr = Jsi_Strstr(cmd, \"\\t%s\");",
          "",
          "[Added Lines]",
          "4048:     const char *cPtr = Jsi_Strstr(cmd, \" %v\");",
          "4049:     if (!cPtr) cPtr = Jsi_Strstr(cmd, \"\\t%v\");",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "4295:         }",
          "4296:         return 0;",
          "4297:     }",
          "4300:     if (!dbopts) {",
          "4301:         Jsi_LogErrorExt(\"dbopts may not be null\");",
          "4302:         return -1;",
          "",
          "[Removed Lines]",
          "4298:     const char *cPtr = Jsi_Strstr(query, \" %s\");",
          "4299:     if (!cPtr) cPtr = Jsi_Strstr(query, \"\\t%s\");",
          "",
          "[Added Lines]",
          "4300:     const char *cPtr = Jsi_Strstr(query, \" %v\");",
          "4301:     if (!cPtr) cPtr = Jsi_Strstr(query, \"\\t%v\");",
          "",
          "---------------"
        ],
        "src/jsiStubs.h||src/jsiStubs.h": [
          "File: src/jsiStubs.h -> src/jsiStubs.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "5: #endif",
          "10: #undef JSI_EXTENSION_INI",
          "11: #define JSI_EXTENSION_INI Jsi_Stubs *jsiStubsPtr = NULL;",
          "",
          "[Removed Lines]",
          "8: #define JSI_STUBS_MD5 \"e35b4e29ea6f2aaf56ee9eb4618c25f2\"",
          "",
          "[Added Lines]",
          "8: #define JSI_STUBS_MD5 \"f021be68c79822a0a51be41bcdcd230e\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "450:     Jsi_Value*(*_Jsi_ValueNewRegExp)(Jsi_Interp *interp, const char *regtxt, const char* modifiers);",
          "451:     Jsi_RC(*_Jsi_ObjGetValues)(Jsi_Interp *interp, Jsi_Obj *obj, Jsi_Value *val);",
          "452:     Jsi_PkgOpts*(*_Jsi_CommandPkgOpts)(Jsi_Interp *interp, Jsi_Func *func);",
          "453:     void *endPtr;",
          "454: } Jsi_Stubs;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "453:     Jsi_Interp*(*_Jsi_InterpMain)(int argc, char **argv, Jsi_InitProc* initProc);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "879:     Jsi_ValueNewRegExp,\\",
          "880:     Jsi_ObjGetValues,\\",
          "881:     Jsi_CommandPkgOpts,\\",
          "882:     NULL",
          "884: #ifdef JSI_USE_STUBS",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "883:     Jsi_InterpMain,\\",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1304: #define Jsi_ValueNewRegExp(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_ValueNewRegExp(n0,n1,n2))",
          "1305: #define Jsi_ObjGetValues(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_ObjGetValues(n0,n1,n2))",
          "1306: #define Jsi_CommandPkgOpts(n0,n1) JSISTUBCALL(jsiStubsPtr, _Jsi_CommandPkgOpts(n0,n1))",
          "1308: #endif",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1309: #define Jsi_InterpMain(n0,n1,n2) JSISTUBCALL(jsiStubsPtr, _Jsi_InterpMain(n0,n1,n2))",
          "",
          "---------------"
        ],
        "src/jsiUtils.c||src/jsiUtils.c": [
          "File: src/jsiUtils.c -> src/jsiUtils.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "45: #endif",
          "46: void* Jsi_Realloc(void *m,unsigned int size) {",
          "47:     void *v = realloc(m,size);",
          "49:     return v;",
          "50: }",
          "51: void* Jsi_Malloc(unsigned int size) {",
          "52:     void *v = malloc(size);",
          "54:     return v;",
          "55: }",
          "56: void* Jsi_Calloc(unsigned int n,unsigned int size) {",
          "57:     void *v = calloc(n,size);",
          "59:     return v;",
          "60: }",
          "63: #if JSI__SANITIZE",
          "64: #define Jsi_Malloc(sz) malloc(sz)",
          "65: #define Jsi_Calloc(nm, sz) calloc(nm,sz)",
          "",
          "[Removed Lines]",
          "48:     Assert(v);",
          "53:     Assert(v);",
          "58:     Assert(v);",
          "61: void  Jsi_Free(void *n) { Assert(n); free(n); }",
          "",
          "[Added Lines]",
          "48:     ASSERTRET(v, 0);",
          "53:     ASSERTRET(v, 0);",
          "58:     ASSERTRET(v, 0);",
          "61: void  Jsi_Free(void *n) { ASSERTRET(n); free(n); }",
          "",
          "---------------"
        ],
        "src/jsiWebSocket.c||src/jsiWebSocket.c": [
          "File: src/jsiWebSocket.c -> src/jsiWebSocket.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "54: #include <signal.h>",
          "56: #include <lws.h>",
          "59: static const int jsi_WsPkgVersion = 2;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "56: #ifndef JSI_AMALGAMATION",
          "58: #endif",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "68: typedef enum {  PWS_DEAD, PWS_HTTP, PWS_CONNECTED, PWS_RECV, PWS_SENT, PWS_SENDERR } pws_state;",
          "69: enum { JWS_SIG_SYS=0xdeadf000, JWS_SIG_OBJ, JWS_SIG_PWS };",
          "73: #define _JSI_MEMCLEAR(s) memset(s, 0, sizeof(*s));",
          "74: #endif",
          "76: #define _JSI_MEMCLEAR(s)",
          "77: #endif",
          "78: #define WSSIGASSERT(s,n) assert(s->sig == JWS_SIG_##n)",
          "80: enum {",
          "",
          "[Removed Lines]",
          "71: #ifndef NDEBUG",
          "72: #ifndef _JSI_MEMCLEAR",
          "75: #else",
          "",
          "[Added Lines]",
          "73: #if !defined(_JSI_MEMCLEAR) && !defined(NDEBUG)",
          "77: #ifndef _JSI_MEMCLEAR",
          "",
          "---------------"
        ],
        "src/parser.h||src/parser.h": [
          "File: src/parser.h -> src/parser.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "61:     FUNC = 271,",
          "62:     RETURN = 272,",
          "63:     LOCAL = 273,",
          "123:   };",
          "124: #endif",
          "",
          "[Removed Lines]",
          "64:     OF = 274,",
          "65:     NEW = 275,",
          "66:     DELETE = 276,",
          "67:     TRY = 277,",
          "68:     CATCH = 278,",
          "69:     FINALLY = 279,",
          "70:     THROW = 280,",
          "71:     WITH = 281,",
          "72:     UNDEF = 282,",
          "73:     _TRUE = 283,",
          "74:     _FALSE = 284,",
          "75:     _THIS = 285,",
          "76:     ARGUMENTS = 286,",
          "77:     FNUMBER = 287,",
          "78:     REGEXP = 288,",
          "79:     TYPESTRING = 289,",
          "80:     TYPENUMBER = 290,",
          "81:     TYPENULL = 291,",
          "82:     TYPEOBJECT = 292,",
          "83:     TYPEBOOLEAN = 293,",
          "84:     TYPEUSEROBJ = 294,",
          "85:     TYPEITEROBJ = 295,",
          "86:     TYPEREGEXP = 296,",
          "87:     TYPEANY = 297,",
          "88:     TYPEARRAY = 298,",
          "89:     ELLIPSIS = 299,",
          "90:     ARROW = 300,",
          "91:     __DEBUG = 301,",
          "92:     MIN_PRI = 302,",
          "93:     ARGCOMMA = 303,",
          "94:     ADDAS = 304,",
          "95:     MNSAS = 305,",
          "96:     MULAS = 306,",
          "97:     MODAS = 307,",
          "98:     LSHFAS = 308,",
          "99:     RSHFAS = 309,",
          "100:     URSHFAS = 310,",
          "101:     BANDAS = 311,",
          "102:     BORAS = 312,",
          "103:     BXORAS = 313,",
          "104:     DIVAS = 314,",
          "105:     OR = 315,",
          "106:     AND = 316,",
          "107:     EQU = 317,",
          "108:     NEQ = 318,",
          "109:     EEQU = 319,",
          "110:     NNEQ = 320,",
          "111:     LEQ = 321,",
          "112:     GEQ = 322,",
          "113:     INSTANCEOF = 323,",
          "114:     LSHF = 324,",
          "115:     RSHF = 325,",
          "116:     URSHF = 326,",
          "117:     NEG = 327,",
          "118:     INC = 328,",
          "119:     DEC = 329,",
          "120:     TYPEOF = 330,",
          "121:     VOID = 331,",
          "122:     MAX_PRI = 332",
          "",
          "[Added Lines]",
          "64:     LOCALCONST = 274,",
          "65:     LOCALLET = 275,",
          "66:     OF = 276,",
          "67:     NEW = 277,",
          "68:     DELETE = 278,",
          "69:     TRY = 279,",
          "70:     CATCH = 280,",
          "71:     FINALLY = 281,",
          "72:     THROW = 282,",
          "73:     WITH = 283,",
          "74:     UNDEF = 284,",
          "75:     _TRUE = 285,",
          "76:     _FALSE = 286,",
          "77:     _THIS = 287,",
          "78:     ARGUMENTS = 288,",
          "79:     FNUMBER = 289,",
          "80:     REGEXP = 290,",
          "81:     TYPESTRING = 291,",
          "82:     TYPENUMBER = 292,",
          "83:     TYPENULL = 293,",
          "84:     TYPEOBJECT = 294,",
          "85:     TYPEBOOLEAN = 295,",
          "86:     TYPEUSEROBJ = 296,",
          "87:     TYPEITEROBJ = 297,",
          "88:     TYPEREGEXP = 298,",
          "89:     TYPEANY = 299,",
          "90:     TYPEARRAY = 300,",
          "91:     ELLIPSIS = 301,",
          "92:     EXPORT = 302,",
          "93:     ARROW = 303,",
          "94:     __DEBUG = 304,",
          "95:     MIN_PRI = 305,",
          "96:     ARGCOMMA = 306,",
          "97:     ADDAS = 307,",
          "98:     MNSAS = 308,",
          "99:     MULAS = 309,",
          "100:     MODAS = 310,",
          "101:     LSHFAS = 311,",
          "102:     RSHFAS = 312,",
          "103:     URSHFAS = 313,",
          "104:     BANDAS = 314,",
          "105:     BORAS = 315,",
          "106:     BXORAS = 316,",
          "107:     DIVAS = 317,",
          "108:     OR = 318,",
          "109:     AND = 319,",
          "110:     EQU = 320,",
          "111:     NEQ = 321,",
          "112:     EEQU = 322,",
          "113:     NNEQ = 323,",
          "114:     LEQ = 324,",
          "115:     GEQ = 325,",
          "116:     INSTANCEOF = 326,",
          "117:     LSHF = 327,",
          "118:     RSHF = 328,",
          "119:     URSHF = 329,",
          "120:     NEG = 330,",
          "121:     INC = 331,",
          "122:     DEC = 332,",
          "123:     TYPEOF = 333,",
          "124:     VOID = 334,",
          "125:     MAX_PRI = 335",
          "",
          "---------------"
        ],
        "src/parser.y||src/parser.y": [
          "File: src/parser.y -> src/parser.y",
          "--- Hunk 1 ---",
          "[Context before]",
          "41: %destructor { } <str>",
          "45: %type <opcodes> fcall_exprs for_cond for_init for_statement func_expr func_statement func_statement_block if_statement item items iterstatement lvalue",
          "47: %type <scopes> args args_opt argsa arrowargs",
          "49: %type <sstr> identifier_opt label_opt func_prefix",
          "50: %type <vstr> strlit",
          "51: %type <caseitem> case",
          "",
          "[Removed Lines]",
          "44: %type <opcodes> array commonstatement delete_statement do_statement expr expr_opt exprlist exprlist_opt",
          "46: %type <opcodes> object statement statements statement_or_empty switch_statement try_statement value vardec vardecs while_statement with_statement",
          "48: %type <inum> typeid inof rettype argtype",
          "",
          "[Added Lines]",
          "44: %type <opcodes> array commonstatement delete_statement do_statement expr expr_opt exprlist exprlist_opt itemident",
          "46: %type <opcodes> object objectident statement statements statement_or_empty switch_statement try_statement value vardec vardecs while_statement with_statement",
          "48: %type <inum> typeid inof rettype argtype localvar",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "68: %token FUNC",
          "69: %token RETURN",
          "70: %token LOCAL",
          "71: %token OF",
          "72: %token NEW",
          "73: %token DELETE",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "71: %token LOCALCONST",
          "72: %token LOCALLET",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "94: %token TYPEANY",
          "95: %token TYPEARRAY",
          "96: %token ELLIPSIS",
          "97: %token ARROW",
          "98: %token __DEBUG",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "99: %token EXPORT",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "143:     | IDENTIFIER ':' commonstatement { $$ = $3; }",
          "144: ;",
          "146: commonstatement:",
          "147:     expr ';' { $$ = codes_join($1, code_pop(1)); }",
          "148:     | if_statement  { $$ = $1; }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "149: localvar:",
          "150:     LOCAL { $$ = LOCAL; }",
          "151:     | LOCALLET { $$ = LOCAL; }",
          "152:     | LOCALCONST { $$ = LOCAL; }",
          "153: ;",
          "155: objectident:",
          "156:     object { $$ = $1; }",
          "157:     | IDENTIFIER {",
          "158:         Jsi_OpCodes *lval = code_push_index(pstate, &@1, $1, 0);",
          "159:         $$ = lval;",
          "160:         lval->lvalue_flag = 1;",
          "161:         lval->lvalue_name = $1;",
          "162:     }",
          "163: ;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "151:     | CONTINUE identifier_opt ';'   { $$ = code_reserved(pstate, &@2, RES_CONTINUE, $2); }",
          "152:     | RETURN expr ';'   { $$ = codes_join($2, code_ret(pstate, &@2, 1)); }",
          "153:     | RETURN ';'        { $$ = code_ret(pstate, &@1, 0); }",
          "155:         jsi_mark_local($2);",
          "156:         $$ = $2;",
          "157:     }",
          "",
          "[Removed Lines]",
          "154:     | LOCAL vardecs ';' {",
          "",
          "[Added Lines]",
          "173:     | localvar vardecs ';' {",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "161:     | ';'                   { $$ = code_nop(); }",
          "162:     | '{' statements '}'    { $$ = $2; }",
          "163:     | func_statement        { $$ = $1; }",
          "164: ;",
          "166: func_statement:",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "183:     | EXPORT DEFAULT objectident { $$ = codes_join($3, code_ret(pstate, &@3, 1)); }",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "376:         $$ = codes_join(codes_join3(init, cond, cont_jmp),",
          "377:                            codes_join3(stat, step, step_jmp));",
          "378:     }",
          "380:         jsi_ForinVar *fv;",
          "381:         int inof = $6;",
          "382:         Jsi_OpCodes *loc = code_local(pstate, &@5, $5);",
          "",
          "[Removed Lines]",
          "379:     | label_opt FOR '(' LOCAL IDENTIFIER inof expr ')' statement_or_empty {",
          "",
          "[Added Lines]",
          "399:     | label_opt FOR '(' localvar IDENTIFIER inof expr ')' statement_or_empty {",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "422: for_init:",
          "423:     ';'                 { $$ = code_nop(); }",
          "424:     | expr ';'          { $$ = codes_join($1, code_pop(1)); }",
          "426:         jsi_mark_local($2);",
          "427:         $$ = $2;",
          "428:     }",
          "",
          "[Removed Lines]",
          "425:     | LOCAL vardecs ';' {",
          "",
          "[Added Lines]",
          "445:     | localvar vardecs ';' {",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "779:     }",
          "780: ;",
          "783:     | TYPENULL { $$ = code_push_null(); }",
          "784:     | UNDEF { $$ = code_push_undef(); }",
          "785:     | _TRUE { $$ = code_push_bool(1); }",
          "",
          "[Removed Lines]",
          "782: value: strlit { $$ = code_push_vstring(pstate,&@1, $1); }",
          "",
          "[Added Lines]",
          "802: value:",
          "803:     strlit { $$ = code_push_vstring(pstate,&@1, $1); }",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "793: object:",
          "794:     '{' items '}'   { $$ = codes_join($2, code_object(pstate, &@2, ($2)->expr_counter)); }",
          "796: ;",
          "799:     | item  { $$ = $1; ($$)->expr_counter = 1; }",
          "801:         int cnt = ($1)->expr_counter + 1;",
          "802:         $$ = codes_join($1, $3);",
          "803:         ($$)->expr_counter = cnt;",
          "",
          "[Removed Lines]",
          "798: items:      { $$ = code_nop(); ($$)->expr_counter = 0; }",
          "800:     | items ',' item {",
          "",
          "[Added Lines]",
          "818: itemident:",
          "819:     IDENTIFIER  {",
          "820:         Jsi_OpCodes *lval = code_push_index(pstate, &@1, $1, 0);",
          "821:         lval->lvalue_flag = 1;",
          "822:         lval->lvalue_name = $1;",
          "823:         $$ = codes_join(code_push_string(pstate,&@1, $1), lval);",
          "824:     }",
          "825:     | item  { $$ = $1; }",
          "828: items:",
          "829:     { $$ = code_nop(); ($$)->expr_counter = 0; }",
          "831:     | items ',' itemident {",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "805:     | items ',' {",
          "806:         $$ = $1;",
          "807:     }",
          "815: ;",
          "817: item:",
          "",
          "[Removed Lines]",
          "809:         Jsi_OpCodes *lval = code_push_index(pstate, &@3, $3, 0);",
          "810:         lval->lvalue_flag = 1;",
          "811:         lval->lvalue_name = $3;",
          "812:         $$ = codes_join3($1, code_push_string(pstate,&@3, $3), lval);",
          "813:     }",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "tools/mkref.jsi||tools/mkref.jsi": [
          "File: tools/mkref.jsi -> tools/mkref.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "3: function mkref(args:array|string, opts:object) {",
          "5:     var options = { // Generate documentation for Jsi builtin cmd.",
          "7:     };",
          "8:     var self = {};",
          "9:     parseOpts(self, options, conf);",
          "",
          "[Removed Lines]",
          "6:         md       :false         // Generate for markdown",
          "",
          "[Added Lines]",
          "6:         md       :true         // Generate for markdown",
          "",
          "---------------"
        ],
        "tools/protos.jsi||tools/protos.jsi": [
          "File: tools/protos.jsi -> tools/protos.jsi",
          "--- Hunk 1 ---",
          "[Context before]",
          "302: System.prototype.exec = function(val:string, options:string|object=void):any {};",
          "303: System.prototype.exit = function(code:number=0):void {};",
          "304: System.prototype.format = function(format:string, ...):string {};",
          "305: System.prototype.isFinite = function(val):boolean {};",
          "306: System.prototype.isMain = function():boolean {};",
          "307: System.prototype.isNaN = function(val):boolean {};",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "305: System.prototype.import = function(val:string|array, options:object=void):any {};",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "396: var exec = function(val:string, options:string|object=void):any {};",
          "397: var exit = function(code:number=0):void {};",
          "398: var format = function(format:string, ...):string {};",
          "399: var isFinite = function(val):boolean {};",
          "400: var isMain = function():boolean {};",
          "401: var isNaN = function(val):boolean {};",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "400: var import = function(val:string|array, options:object=void):any {};",
          "",
          "---------------"
        ],
        "www/reference.wiki||www/reference.wiki": [
          "File: www/reference.wiki -> www/reference.wiki",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "1: <title>Reference</title>",
          "2: <p>",
          "3: <div id=\"sectmenu\" data-opts=\"closed:false\"></div><B>JSI REFERENCE</B>: <a href=\"#System\">System</a> contains global methods",
          "4: (Related: [./functions.wiki|Functions], [./language.wiki|Syntax]).",
          "5: <p>",
          "6: <a name=\"TOC\"></a>",
          "7: <a href='#Array'>Array</a>",
          "8: <a href='#Boolean'>Boolean</a>",
          "9: <a href='#CData'>CData</a>",
          "10: <a href='#CEnum'>CEnum</a>",
          "11: <a href='#CStruct'>CStruct</a>",
          "12: <a href='#CType'>CType</a>",
          "13: <a href='#Channel'>Channel</a>",
          "14: <a href='#Debugger'>Debugger</a>",
          "15: <a href='#Event'>Event</a>",
          "16: <a href='#File'>File</a>",
          "17: <a href='#Function'>Function</a>",
          "18: <a href='#Info'>Info</a>",
          "19: <a href='#Interp'>Interp</a>",
          "20: <a href='#JSON'>JSON</a>",
          "21: <a href='#Math'>Math</a>",
          "22: <a href='#MySql'>MySql</a>",
          "23: <a href='#Number'>Number</a>",
          "24: <a href='#Object'>Object</a>",
          "25: <a href='#RegExp'>RegExp</a>",
          "26: <a href='#Signal'>Signal</a>",
          "27: <a href='#Socket'>Socket</a>",
          "28: <a href='#Sqlite'>Sqlite</a>",
          "29: <a href='#String'>String</a>",
          "30: <a href='#System'>System</a>",
          "31: <a href='#Util'>Util</a>",
          "32: <a href='#Vfs'>Vfs</a>",
          "33: <a href='#WebSocket'>WebSocket</a>",
          "34: <a href='#Zvfs'>Zvfs</a>",
          "35: <a href='#console'>console</a>",
          "36: <nowiki>",
          "37: <a name=\"Array\"></a>",
          "39: <hr>",
          "42: <h1>Array</h1>",
          "44: <font color=red>Synopsis:new Array(...):array",
          "46: </font><p>Provide access to array objects.",
          "49: <h2>Methods for \"Array\"</h2>",
          "50: <table border=\"1\"class=\"cmdstbl table\">",
          "51: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "52: <tr><td>Array</td><td>new Array(...):array </td><td>jsi_Array constructor.</td></tr>",
          "53: <tr><td>concat</td><td>concat(...):array </td><td>Return array with args appended.</td></tr>",
          "54: <tr><td>every</td><td>every(callback:function) </td><td>Returns true if every value in array satisfies the test.</td></tr>",
          "55: <tr><td>fill</td><td>fill(value:any, start:number=0, end:number=-1):array </td><td>Fill an array with values.</td></tr>",
          "56: <tr><td>filter</td><td>filter(callback:function, thisArg:object=void):array </td><td>Return a filtered array.</td></tr>",
          "57: <tr><td>find</td><td>find(callback:function) </td><td>Returns the value of the first element in the array that satisfies the test.</td></tr>",
          "58: <tr><td>findIndex</td><td>findIndex(callback:function) </td><td>Returns the index of the first element in the array that satisfies the test.</td></tr>",
          "59: <tr><td>flat</td><td>flat(depth:number=1):array </td><td>Flatten an arra.</td></tr>",
          "60: <tr><td>forEach</td><td>forEach(callback:function, thisArg:object=void):void </td><td>Invoke function with each item in object.</td></tr>",
          "61: <tr><td>includes</td><td>includes(val:any) </td><td>Returns true if array contains value.</td></tr>",
          "62: <tr><td>indexOf</td><td>indexOf(str:any, startIdx:number=0):number </td><td>Return index of first occurrance in array.</td></tr>",
          "63: <tr><td>isArray</td><td>isArray():boolean </td><td>True if val array.</td></tr>",
          "64: <tr><td>join</td><td>join(sep:string=''):string </td><td>Return elements joined by char.</td></tr>",
          "65: <tr><td>lastIndexOf</td><td>lastIndexOf(val:any, start:number=0):number </td><td>Return index of last occurence in array.</td></tr>",
          "66: <tr><td>map</td><td>map(callback:function, thisArg:object=void):array </td><td>Creates a new array with the results of calling a provided function on every element in this array.</td></tr>",
          "67: <tr><td>pop</td><td>pop() </td><td>Remove and return last element of array.</td></tr>",
          "68: <tr><td>push</td><td>push(val:any, ...):number </td><td>Push one or more elements onto array and return size.</td></tr>",
          "69: <tr><td>reduce</td><td>reduce(callback:function, initial:any) </td><td>Return a reduced array.</td></tr>",
          "70: <tr><td>reduceRight</td><td>reduceRight(callback:function, initial:any) </td><td>Return a reduced array.</td></tr>",
          "71: <tr><td>reverse</td><td>reverse():array </td><td>Reverse order of all elements in an array.</td></tr>",
          "72: <tr><td>shift</td><td>shift() </td><td>Remove first element and shift downwards.</td></tr>",
          "73: <tr><td>sizeOf</td><td>sizeOf():number </td><td>Return size of array.</td></tr>",
          "74: <tr><td>slice</td><td>slice(start:number, end:number=void):array </td><td>Return sub-array.</td></tr>",
          "75: <tr><td>some</td><td>some(callback:function, thisArg:object=void):boolean </td><td>Return true if function returns true some element.</td></tr>",
          "76: <tr><td>sort</td><td>sort(<a href='#Array.sortOptions'>options</a>:function|object=void):array </td><td>Sort an array.</td></tr>",
          "77: <tr><td>splice</td><td>splice(start:number, howmany:number=void, ...):array </td><td>Change the content of an array, adding new elements while removing old elements.</td></tr>",
          "78: <tr><td>unshift</td><td>unshift(...):number </td><td>Add new elements to start of array and return size.</td></tr>",
          "79: </table>",
          "82: <a name=\"Array.sortOptions\"></a>",
          "83: <a name=\"Array.confOptions\"></a>",
          "84: <h2>Options for \"Array.sort\"</h2>",
          "85: <table border=\"1\" class=\"optstbl table\">",
          "86: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "87: <tr><td>mode</td><td><i>STRKEY</i></td><td>Mode to sort by. (one of: <b>default</b>, <b>desc</b>, <b>dict</b>, <b>nocase</b>)</td><td><i></i></td></tr>",
          "88: <tr><td>compare</td><td><i>FUNC</i></td><td>Function to do comparison. @function(val1,val2)</td><td><i></i></td></tr>",
          "89: <tr><td>unique</td><td><i>BOOL</i></td><td>Eliminate duplicate items.</td><td><i></i></td></tr>",
          "90: </table>",
          "91: <a name=\"Arrayend\"></a>",
          "92: <p><a href=\"#TOC\">Return to top</a>",
          "93: <a name=\"Boolean\"></a>",
          "95: <hr>",
          "98: <h1>Boolean</h1>",
          "100: <font color=red>Synopsis:new Boolean(bool:boolean=false):boolean",
          "102: </font><p>A Boolean object.",
          "105: <h2>Methods for \"Boolean\"</h2>",
          "106: <table border=\"1\"class=\"cmdstbl table\">",
          "107: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "108: <tr><td>Boolean</td><td>new Boolean(bool:boolean=false):boolean </td><td>Boolean constructor.</td></tr>",
          "109: </table>",
          "110: <a name=\"Booleanend\"></a>",
          "111: <p><a href=\"#TOC\">Return to top</a>",
          "112: <a name=\"CData\"></a>",
          "114: <hr>",
          "117: <h1>CData</h1>",
          "119: <font color=red>Synopsis:new CData(options:string&#124;object=void, inits:object=undefined):userobj",
          "121: </font><p>",
          "122: <h2>Methods for \"CData\"</h2>",
          "123: <table border=\"1\"class=\"cmdstbl table\">",
          "124: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "125: <tr><td>CData</td><td>new CData(<a href='#newCDataOptions'>options</a>:string|object=void, inits:object=undefined):userobj </td><td>Create a new struct or map/array of structs.The 2nd arg is used for function option parsing and will report errors at the callers file:line</td></tr>",
          "126: <tr><td>conf</td><td>conf(<a href='#CData.confOptions'>options</a>:object|string=void) </td><td>Configure options for c-data.</td></tr>",
          "127: <tr><td>get</td><td>get(key:string|number|object=null, field:string=void) </td><td>Get struct/map/array value.</td></tr>",
          "128: <tr><td>incr</td><td>incr(key:string|number|object|null, field:object|string, value:number=1):number </td><td>Increment a numeric field: returns the new value.</td></tr>",
          "129: <tr><td>info</td><td>info():object </td><td>Return info for data.</td></tr>",
          "130: <tr><td>names</td><td>names():array </td><td>Return keys for map.</td></tr>",
          "131: <tr><td>set</td><td>set(key:string|number|object|null, field:object|string, value:any=void) </td><td>Set a struct/map/array value.</td></tr>",
          "132: <tr><td>unset</td><td>unset(key:string|number|object) </td><td>Remove entry from map/array.</td></tr>",
          "133: </table>",
          "136: <a name=\"new CDataOptions\"></a>",
          "137: <a name=\"CData.confOptions\"></a>",
          "138: <h2>Options for \"new CData\"</h2>",
          "139: <table border=\"1\" class=\"optstbl table\">",
          "140: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "141: <tr><td>arrSize</td><td><i>UINT</i></td><td>If an array, its size in elements.</td><td><i>initOnly</i></td></tr>",
          "142: <tr><td>flags</td><td><i>UINT</i></td><td>Flags.</td><td><i>initOnly</i></td></tr>",
          "143: <tr><td>help</td><td><i>STRKEY</i></td><td>Description of data.</td><td><i>initOnly</i></td></tr>",
          "144: <tr><td>keyName</td><td><i>STRKEY</i></td><td>Key struct, for key struct maps.</td><td><i>initOnly</i></td></tr>",
          "145: <tr><td>keyType</td><td><i>STRKEY</i></td><td>Key id. (one of: <b>string</b>, <b>strkey</b>, <b>number</b>)</td><td><i>initOnly</i></td></tr>",
          "146: <tr><td>mapType</td><td><i>STRKEY</i></td><td>If a map, its type. (one of: <b>none</b>, <b>hash</b>, <b>tree</b>, <b>list</b>)</td><td><i>initOnly</i></td></tr>",
          "147: <tr><td>maxSize</td><td><i>UINT</i></td><td>Limit the array size or number of keys in a map.</td><td><i></i></td></tr>",
          "148: <tr><td>name</td><td><i>STRKEY</i></td><td>Name (eg. of var assigned to on create).</td><td><i>initOnly</i></td></tr>",
          "149: <tr><td>noAuto</td><td><i>BOOL</i></td><td>Disable auto-create of map keys in set/incr.</td><td><i></i></td></tr>",
          "150: <tr><td>structName</td><td><i>STRKEY</i></td><td>Struct used for storing data.</td><td><i>initOnly|required</i></td></tr>",
          "151: <tr><td>user</td><td><i>INT64</i></td><td>User data.</td><td><i></i></td></tr>",
          "152: <tr><td>varParam</td><td><i>STRKEY</i></td><td>Param for maps/array vars.</td><td><i>initOnly</i></td></tr>",
          "153: </table>",
          "154: <a name=\"CDataend\"></a>",
          "155: <p><a href=\"#TOC\">Return to top</a>",
          "156: <a name=\"CEnum\"></a>",
          "158: <hr>",
          "161: <h1>CEnum</h1>",
          "163: <font color=red>Synopsis:CEnum.method(...)",
          "165: </font><p>Enum commands. Note: Enum() is a shortcut for Enum.add().",
          "168: <h2>Methods for \"CEnum\"</h2>",
          "169: <table border=\"1\"class=\"cmdstbl table\">",
          "170: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "171: <tr><td>add</td><td>add(<a href='#CEnum.addOptions'>options</a>:object|string, fields:array|string) </td><td>Create a new enum: value of items same as in fieldconf.</td></tr>",
          "172: <tr><td>conf</td><td>conf(enum:string, <a href='#CEnum.confOptions'>options</a>:object|string=void) </td><td>Configure options for enum.</td></tr>",
          "173: <tr><td>fieldconf</td><td>fieldconf(enum:string, field:string, <a href='#CEnum.fieldconfOptions'>options</a>:object|string=void) </td><td>Configure options for fields.</td></tr>",
          "174: <tr><td>find</td><td>find(enum:string, intValue:number):string </td><td>Find item with given value in enum.</td></tr>",
          "175: <tr><td>get</td><td>get(enum:string):object </td><td>Return enum definition.</td></tr>",
          "176: <tr><td>names</td><td>names(enum:string=void):array </td><td>Return name list of all enums, or items within one enum.</td></tr>",
          "177: <tr><td>remove</td><td>remove(enum:string) </td><td>Remove an enum.</td></tr>",
          "178: <tr><td>value</td><td>value(enum:string, item:string):number </td><td>Return value for given enum item.</td></tr>",
          "179: </table>",
          "182: <a name=\"CEnum.addOptions\"></a>",
          "183: <a name=\"CEnum.confOptions\"></a>",
          "184: <h2>Options for \"CEnum.add\"</h2>",
          "185: <table border=\"1\" class=\"optstbl table\">",
          "186: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "187: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for enum.</td><td><i>initOnly</i></td></tr>",
          "188: <tr><td>help</td><td><i>STRKEY</i></td><td>Description of enum.</td><td><i>initOnly</i></td></tr>",
          "189: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of enum.</td><td><i>initOnly</i></td></tr>",
          "190: <tr><td>idx</td><td><i>UINT</i></td><td>Number of items in enum.</td><td><i>readOnly</i></td></tr>",
          "191: </table>",
          "194: <a name=\"CEnum.confOptions\"></a>",
          "195: <a name=\"CEnum.confOptions\"></a>",
          "196: <h2>Options for \"CEnum.conf\"</h2>",
          "197: <table border=\"1\" class=\"optstbl table\">",
          "198: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "199: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for enum.</td><td><i>initOnly</i></td></tr>",
          "200: <tr><td>help</td><td><i>STRKEY</i></td><td>Description of enum.</td><td><i>initOnly</i></td></tr>",
          "201: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of enum.</td><td><i>initOnly</i></td></tr>",
          "202: <tr><td>idx</td><td><i>UINT</i></td><td>Number of items in enum.</td><td><i>readOnly</i></td></tr>",
          "203: </table>",
          "206: <a name=\"CEnum.fieldconfOptions\"></a>",
          "207: <a name=\"CEnum.confOptions\"></a>",
          "208: <h2>Options for \"CEnum.fieldconf\"</h2>",
          "209: <table border=\"1\" class=\"optstbl table\">",
          "210: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "211: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for item.</td><td><i>initOnly</i></td></tr>",
          "212: <tr><td>help</td><td><i>STRKEY</i></td><td>Desciption of item.</td><td><i>initOnly</i></td></tr>",
          "213: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of item.</td><td><i>initOnly</i></td></tr>",
          "214: <tr><td>value</td><td><i>INT64</i></td><td>Value for item.</td><td><i>initOnly</i></td></tr>",
          "215: <tr><td>idx</td><td><i>UINT</i></td><td>Index of item in enum.</td><td><i>readOnly</i></td></tr>",
          "216: </table>",
          "217: <a name=\"CEnumend\"></a>",
          "218: <p><a href=\"#TOC\">Return to top</a>",
          "219: <a name=\"CStruct\"></a>",
          "221: <hr>",
          "224: <h1>CStruct</h1>",
          "226: <font color=red>Synopsis:CStruct.method(...)",
          "228: </font><p>Struct commands. Note: Struct() is a shortcut for Struct.add().",
          "231: <h2>Methods for \"CStruct\"</h2>",
          "232: <table border=\"1\"class=\"cmdstbl table\">",
          "233: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "234: <tr><td>add</td><td>add(<a href='#CStruct.addOptions'>options</a>:object|string, fields:array|string) </td><td>Create a struct: field values same as in fieldconf.</td></tr>",
          "235: <tr><td>conf</td><td>conf(struct:string, <a href='#CStruct.confOptions'>options</a>:object|string=void) </td><td>Configure options for struct.</td></tr>",
          "236: <tr><td>fieldconf</td><td>fieldconf(struct:string, field:string, <a href='#CStruct.fieldconfOptions'>options</a>:object|string=void) </td><td>Configure options for fields.</td></tr>",
          "237: <tr><td>get</td><td>get(struct, options:object=void):object </td><td>Return the struct definition.</td></tr>",
          "238: <tr><td>names</td><td>names(struct:string=void):array </td><td>Return name list of all structs, or fields for one struct.</td></tr>",
          "239: <tr><td>remove</td><td>remove(name:string) </td><td>Remove a struct.</td></tr>",
          "240: <tr><td>schema</td><td>schema():string </td><td>Return database schema for struct.</td></tr>",
          "241: </table>",
          "244: <a name=\"CStruct.addOptions\"></a>",
          "245: <a name=\"CStruct.confOptions\"></a>",
          "246: <h2>Options for \"CStruct.add\"</h2>",
          "247: <table border=\"1\" class=\"optstbl table\">",
          "248: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "249: <tr><td>crc</td><td><i>UINT32</i></td><td>Crc for struct.</td><td><i>initOnly</i></td></tr>",
          "250: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for struct.</td><td><i>initOnly</i></td></tr>",
          "251: <tr><td>help</td><td><i>STRKEY</i></td><td>Struct description.</td><td><i>initOnly</i></td></tr>",
          "252: <tr><td>idx</td><td><i>UINT32</i></td><td>Number of fields in struct.</td><td><i>readOnly</i></td></tr>",
          "253: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of struct.</td><td><i>initOnly|required</i></td></tr>",
          "254: <tr><td>size</td><td><i>UINT</i></td><td>Size of struct in bytes.</td><td><i>readOnly</i></td></tr>",
          "255: <tr><td>ssig</td><td><i>UINT32</i></td><td>Signature for struct.</td><td><i>initOnly</i></td></tr>",
          "256: <tr><td>value</td><td><i>INT64</i></td><td>Reference count.</td><td><i>readOnly</i></td></tr>",
          "257: </table>",
          "260: <a name=\"CStruct.confOptions\"></a>",
          "261: <a name=\"CStruct.confOptions\"></a>",
          "262: <h2>Options for \"CStruct.conf\"</h2>",
          "263: <table border=\"1\" class=\"optstbl table\">",
          "264: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "265: <tr><td>crc</td><td><i>UINT32</i></td><td>Crc for struct.</td><td><i>initOnly</i></td></tr>",
          "266: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for struct.</td><td><i>initOnly</i></td></tr>",
          "267: <tr><td>help</td><td><i>STRKEY</i></td><td>Struct description.</td><td><i>initOnly</i></td></tr>",
          "268: <tr><td>idx</td><td><i>UINT32</i></td><td>Number of fields in struct.</td><td><i>readOnly</i></td></tr>",
          "269: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of struct.</td><td><i>initOnly|required</i></td></tr>",
          "270: <tr><td>size</td><td><i>UINT</i></td><td>Size of struct in bytes.</td><td><i>readOnly</i></td></tr>",
          "271: <tr><td>ssig</td><td><i>UINT32</i></td><td>Signature for struct.</td><td><i>initOnly</i></td></tr>",
          "272: <tr><td>value</td><td><i>INT64</i></td><td>Reference count.</td><td><i>readOnly</i></td></tr>",
          "273: </table>",
          "276: <a name=\"CStruct.fieldconfOptions\"></a>",
          "277: <a name=\"CStruct.confOptions\"></a>",
          "278: <h2>Options for \"CStruct.fieldconf\"</h2>",
          "279: <table border=\"1\" class=\"optstbl table\">",
          "280: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "281: <tr><td>arrSize</td><td><i>UINT</i></td><td>Size of field if an array.</td><td><i>initOnly</i></td></tr>",
          "282: <tr><td>bits</td><td><i>UINT32</i></td><td>Size of bitfield.</td><td><i>initOnly</i></td></tr>",
          "283: <tr><td>boffset</td><td><i>UINT32</i></td><td>Bit offset of field within struct.</td><td><i>readOnly</i></td></tr>",
          "284: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for field.</td><td><i>initOnly</i></td></tr>",
          "285: <tr><td>idx</td><td><i>UINT32</i></td><td>Index of field in struct.</td><td><i>readOnly</i></td></tr>",
          "286: <tr><td>help</td><td><i>STRKEY</i></td><td>Field description.</td><td><i>initOnly</i></td></tr>",
          "287: <tr><td>info</td><td><i>STRKEY</i></td><td>Info for field.</td><td><i>initOnly</i></td></tr>",
          "288: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of field.</td><td><i>initOnly|required</i></td></tr>",
          "289: <tr><td>offset</td><td><i>UINT</i></td><td>Offset of field within struct.</td><td><i>readOnly</i></td></tr>",
          "290: <tr><td>size</td><td><i>UINT</i></td><td>Size of field in struct.</td><td><i>readOnly</i></td></tr>",
          "291: <tr><td>type</td><td><i>CUSTOM</i></td><td>Type of field.</td><td><i>initOnly|required</i></td></tr>",
          "292: <tr><td>init</td><td><i>CUSTOM</i></td><td>Initial value for field.</td><td><i>initOnly</i></td></tr>",
          "293: </table>",
          "294: <a name=\"CStructend\"></a>",
          "295: <p><a href=\"#TOC\">Return to top</a>",
          "296: <a name=\"CType\"></a>",
          "298: <hr>",
          "301: <h1>CType</h1>",
          "303: <font color=red>Synopsis:CType.method(...)",
          "305: </font><p>Type commands. Note: Type() is a shortcut for Type.conf().",
          "308: <h2>Methods for \"CType\"</h2>",
          "309: <table border=\"1\"class=\"cmdstbl table\">",
          "310: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "311: <tr><td>conf</td><td>conf(typ:string, <a href='#CType.confOptions'>options</a>:object|string=void) </td><td>Configure options for type.</td></tr>",
          "312: <tr><td>names</td><td>names(ctype=false):array </td><td>Return type names.</td></tr>",
          "313: </table>",
          "316: <a name=\"CType.confOptions\"></a>",
          "317: <a name=\"CType.confOptions\"></a>",
          "318: <h2>Options for \"CType.conf\"</h2>",
          "319: <table border=\"1\" class=\"optstbl table\">",
          "320: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "321: <tr><td>idName</td><td><i>STRKEY</i></td><td>The id name: usually upcased cName.</td><td><i>initOnly</i></td></tr>",
          "322: <tr><td>cName</td><td><i>STRKEY</i></td><td>C type name.</td><td><i>initOnly</i></td></tr>",
          "323: <tr><td>help</td><td><i>STRKEY</i></td><td>Description of id.</td><td><i>initOnly</i></td></tr>",
          "324: <tr><td>fmt</td><td><i>STRKEY</i></td><td>Printf format for id.</td><td><i>initOnly</i></td></tr>",
          "325: <tr><td>xfmt</td><td><i>STRKEY</i></td><td>Hex printf format for id.</td><td><i>initOnly</i></td></tr>",
          "326: <tr><td>flags</td><td><i>INT64</i></td><td>Flags for id.</td><td><i>initOnly</i></td></tr>",
          "327: <tr><td>size</td><td><i>INT</i></td><td>Size for id.</td><td><i>initOnly</i></td></tr>",
          "328: <tr><td>user</td><td><i>INT64</i></td><td>User data.</td><td><i></i></td></tr>",
          "329: </table>",
          "330: <a name=\"CTypeend\"></a>",
          "331: <p><a href=\"#TOC\">Return to top</a>",
          "332: <a name=\"Channel\"></a>",
          "334: <hr>",
          "337: <h1>Channel</h1>",
          "339: <font color=red>Synopsis:new Channel(file:string, mode:string='r'):userobj",
          "341: </font><p>Commands for accessing Channel objects for file IO.",
          "344: <h2>Methods for \"Channel\"</h2>",
          "345: <table border=\"1\"class=\"cmdstbl table\">",
          "346: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "347: <tr><td>Channel</td><td>new Channel(file:string, mode:string='r'):userobj </td><td>A file input/output object. The mode string is r or w and an optional +.</td></tr>",
          "348: <tr><td>close</td><td>close():boolean </td><td>Close the file.</td></tr>",
          "349: <tr><td>eof</td><td>eof():boolean </td><td>Return true if read to end-of-file.</td></tr>",
          "350: <tr><td>filename</td><td>filename():string </td><td>Get file name.</td></tr>",
          "351: <tr><td>flush</td><td>flush():number </td><td>Flush file output.</td></tr>",
          "352: <tr><td>gets</td><td>gets():string|void </td><td>Get one line of input.</td></tr>",
          "353: <tr><td>lstat</td><td>lstat():object </td><td>Return status for file.</td></tr>",
          "354: <tr><td>mode</td><td>mode():string </td><td>Get file mode used with open.</td></tr>",
          "355: <tr><td>open</td><td>open(file:string, mode:string='r'):boolean </td><td>Open the file (after close).</td></tr>",
          "356: <tr><td>puts</td><td>puts(str):boolean </td><td>Write one line of output.</td></tr>",
          "357: <tr><td>read</td><td>read(size:number=-1):string|void </td><td>Read some or all of file.</td></tr>",
          "358: <tr><td>seek</td><td>seek(pos:number, whence:string):number </td><td>Seek to position. Return 0 if ok.</td></tr>",
          "359: <tr><td>stat</td><td>stat():object </td><td>Return status for file.</td></tr>",
          "360: <tr><td>tell</td><td>tell():number </td><td>Return current position.</td></tr>",
          "361: <tr><td>truncate</td><td>truncate(pos:number):number </td><td>Truncate file.</td></tr>",
          "362: <tr><td>write</td><td>write(data):number </td><td>Write data to file.</td></tr>",
          "363: </table>",
          "364: <a name=\"Channelend\"></a>",
          "365: <p><a href=\"#TOC\">Return to top</a>",
          "366: <a name=\"Debugger\"></a>",
          "368: <hr>",
          "371: <h1>Debugger</h1>",
          "373: <font color=red>Synopsis:Debugger.method(...)",
          "375: </font><p>Debugger breakpoint management.",
          "378: <h2>Methods for \"Debugger\"</h2>",
          "379: <table border=\"1\"class=\"cmdstbl table\">",
          "380: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "381: <tr><td>add</td><td>add(val:string|number, temp:boolean=false):number </td><td>Add a breakpoint for line, file:line or func.</td></tr>",
          "382: <tr><td>enable</td><td>enable(id:number, on:boolean):void </td><td>Enable/disable breakpoint.</td></tr>",
          "383: <tr><td>info</td><td>info(id:number=void):array|object </td><td>Return info about one breakpoint, or list of bp numbers.</td></tr>",
          "384: <tr><td>remove</td><td>remove(id:number):void </td><td>Remove breakpoint.</td></tr>",
          "385: </table>",
          "386: <a name=\"Debuggerend\"></a>",
          "387: <p><a href=\"#TOC\">Return to top</a>",
          "388: <a name=\"Event\"></a>",
          "390: <hr>",
          "393: <h1>Event</h1>",
          "395: <font color=red>Synopsis:Event.method(...)",
          "397: </font><p>Event management.",
          "400: <h2>Methods for \"Event\"</h2>",
          "401: <table border=\"1\"class=\"cmdstbl table\">",
          "402: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "403: <tr><td>clearInterval</td><td>clearInterval(id:number):void </td><td>Delete an event (created with setInterval/setTimeout).</td></tr>",
          "404: <tr><td>info</td><td>info(id:number):object </td><td>Return info for the given event id.</td></tr>",
          "405: <tr><td>names</td><td>names():array </td><td>Return list event ids (created with setTimeout/setInterval).</td></tr>",
          "406: <tr><td>setInterval</td><td>setInterval(callback:function, millisecs:number):number </td><td>Setup recurring function to run every given millisecs.</td></tr>",
          "407: <tr><td>setTimeout</td><td>setTimeout(callback:function, millisecs:number):number </td><td>Setup function to run after given millisecs.</td></tr>",
          "408: <tr><td>update</td><td>update(<a href='#Event.updateOptions'>options</a>:number|object=void):number </td><td>Service all events, eg. setInterval/setTimeout. Returns the number of events processed. Events are processed until minTime (in milliseconds) is exceeded, or forever if -1.",
          "409: The default minTime is 0, meaning return as soon as no events can be processed. A positive mintime will result in sleeps between event checks.</td></tr>",
          "410: </table>",
          "413: <a name=\"Event.updateOptions\"></a>",
          "414: <a name=\"Event.confOptions\"></a>",
          "415: <h2>Options for \"Event.update\"</h2>",
          "416: <table border=\"1\" class=\"optstbl table\">",
          "417: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "418: <tr><td>maxEvents</td><td><i>INT</i></td><td>Maximum number of events to process (or -1 for all).</td><td><i></i></td></tr>",
          "419: <tr><td>maxPasses</td><td><i>INT</i></td><td>Maximum passes through event queue.</td><td><i></i></td></tr>",
          "420: <tr><td>minTime</td><td><i>INT</i></td><td>Minimum milliseconds before returning, or -1 to loop forever (default is 0).</td><td><i></i></td></tr>",
          "421: <tr><td>sleep</td><td><i>INT</i></td><td>Time to sleep time (in milliseconds) between event checks. Default is 1.</td><td><i></i></td></tr>",
          "422: </table>",
          "423: <a name=\"Eventend\"></a>",
          "424: <p><a href=\"#TOC\">Return to top</a>",
          "425: <a name=\"File\"></a>",
          "427: <hr>",
          "430: <h1>File</h1>",
          "432: <font color=red>Synopsis:File.method(...)",
          "434: </font><p>Commands for accessing the filesystem.",
          "437: <h2>Methods for \"File\"</h2>",
          "438: <table border=\"1\"class=\"cmdstbl table\">",
          "439: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "440: <tr><td>atime</td><td>atime(file:string):number </td><td>Return file Jsi_Access time.</td></tr>",
          "441: <tr><td>chdir</td><td>chdir(file:string) </td><td>Change current directory.</td></tr>",
          "442: <tr><td>chmod</td><td>chmod(file:string, mode:number) </td><td>Set file permissions.</td></tr>",
          "443: <tr><td>copy</td><td>copy(src:string, dest:string, force:boolean=false) </td><td>Copy a file to destination. Directories are not handled.",
          "444: The third argument if given is a boolean force value which if true allows overwrite of an existing file. </td></tr>",
          "445: <tr><td>dirname</td><td>dirname(file:string):string </td><td>Return directory path.</td></tr>",
          "446: <tr><td>executable</td><td>executable(file:string):boolean </td><td>Return true if file is executable.</td></tr>",
          "447: <tr><td>exists</td><td>exists(file:string):boolean </td><td>Return true if file exists.</td></tr>",
          "448: <tr><td>extension</td><td>extension(file:string):string </td><td>Return file extension.</td></tr>",
          "449: <tr><td>glob</td><td>glob(pattern:regexp|string|null='*', <a href='#File.globOptions'>options</a>:function|object|null=void):array </td><td>Return list of files in dir with optional pattern match. With no arguments (or null) returns all files/directories in current directory.",
          "450: The first argument can be a pattern (either a glob or regexp) of the files to return.",
          "451: When the second argument is a function, it is called with each path, and filter on false.",
          "452: Otherwise second argument must be a set of options.</td></tr>",
          "453: <tr><td>isdir</td><td>isdir(file:string):boolean </td><td>Return true if file is a directory.</td></tr>",
          "454: <tr><td>isfile</td><td>isfile(file:string):boolean </td><td>Return true if file is a normal file.</td></tr>",
          "455: <tr><td>isrelative</td><td>isrelative(file:string):boolean </td><td>Return true if file path is relative.</td></tr>",
          "456: <tr><td>join</td><td>join(path1:string, path2:string):string </td><td>Join two file realpaths, or just second if an absolute path.</td></tr>",
          "457: <tr><td>link</td><td>link(src:string, dest:string, ishard:boolean=false) </td><td>Link a file. The second argument is the destination file to be created. If a third bool argument is true, a hard link is created.</td></tr>",
          "458: <tr><td>lstat</td><td>lstat(file:string):object </td><td>Return status info for file.</td></tr>",
          "459: <tr><td>mkdir</td><td>mkdir(file:string,force:boolean=false) </td><td>Create a directory: force creates subdirs.</td></tr>",
          "460: <tr><td>mknod</td><td>mknod(file:string, mode:number, dev:number) </td><td>Create unix device file using mknod.</td></tr>",
          "461: <tr><td>mtime</td><td>mtime(file:string):number </td><td>Return file modified time.</td></tr>",
          "462: <tr><td>owned</td><td>owned(file:string):boolean </td><td>Return true if file is owned by user.</td></tr>",
          "463: <tr><td>perms</td><td>perms(file:string):string </td><td>Return perms string.</td></tr>",
          "464: <tr><td>pwd</td><td>pwd():string </td><td>Return current directory.</td></tr>",
          "465: <tr><td>read</td><td>read(file:string, mode:string='rb'):string </td><td>Read a file.</td></tr>",
          "466: <tr><td>readable</td><td>readable(file:string):boolean </td><td>Return true if file is readable.</td></tr>",
          "467: <tr><td>readlink</td><td>readlink(file:string):string </td><td>Read file link destination.</td></tr>",
          "468: <tr><td>realpath</td><td>realpath(file:string):string </td><td>Return absolute file name minus .., ./ etc.</td></tr>",
          "469: <tr><td>remove</td><td>remove(file:string, force:boolean=false) </td><td>Delete a file or direcotry.</td></tr>",
          "470: <tr><td>rename</td><td>rename(src:string, dest:string, force:boolean=false) </td><td>Rename a file, with possible overwrite.</td></tr>",
          "471: <tr><td>rootname</td><td>rootname(file:string):string </td><td>Return file name minus extension.</td></tr>",
          "472: <tr><td>size</td><td>size(file:string):number </td><td>Return size for file.</td></tr>",
          "473: <tr><td>stat</td><td>stat(file:string):object </td><td>Return status info for file.</td></tr>",
          "474: <tr><td>tail</td><td>tail(file:string):string </td><td>Return file name minus dirname.</td></tr>",
          "475: <tr><td>tempfile</td><td>tempfile(file:string) </td><td>Create a temp file.</td></tr>",
          "476: <tr><td>truncate</td><td>truncate(file:string, size:number) </td><td>Truncate file.</td></tr>",
          "477: <tr><td>writable</td><td>writable(file:string):boolean </td><td>Return true if file is writable.</td></tr>",
          "478: <tr><td>write</td><td>write(file:string, str:string, mode:string='wb+'):number </td><td>Write a file.</td></tr>",
          "479: </table>",
          "482: <a name=\"File.globOptions\"></a>",
          "483: <a name=\"File.confOptions\"></a>",
          "484: <h2>Options for \"File.glob\"</h2>",
          "485: <table border=\"1\" class=\"optstbl table\">",
          "486: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "487: <tr><td>dir</td><td><i>STRING</i></td><td>The start directory: this path will not be prepended to results.</td><td><i></i></td></tr>",
          "488: <tr><td>maxDepth</td><td><i>INT</i></td><td>Maximum directory depth to recurse into.</td><td><i></i></td></tr>",
          "489: <tr><td>maxDiscard</td><td><i>INT</i></td><td>Maximum number of items to discard before giving up.</td><td><i></i></td></tr>",
          "490: <tr><td>dirFilter</td><td><i>FUNC</i></td><td>Filter function for directories, returning false to discard. @function(dir:string)</td><td><i></i></td></tr>",
          "491: <tr><td>filter</td><td><i>FUNC</i></td><td>Filter function to call with each file, returning false to discard. @function(file:string)</td><td><i></i></td></tr>",
          "492: <tr><td>limit</td><td><i>INT</i></td><td>The maximum number of results to return/count: -1 is unlimited (Interp.maxArrayList).</td><td><i></i></td></tr>",
          "493: <tr><td>noTypes</td><td><i>STRKEY</i></td><td>Filter files to exclude these \"types\".</td><td><i></i></td></tr>",
          "494: <tr><td>prefix</td><td><i>STRKEY</i></td><td>String prefix to prepend to each file in result list.</td><td><i></i></td></tr>",
          "495: <tr><td>recurse</td><td><i>BOOL</i></td><td>Recurse into sub-directories.</td><td><i></i></td></tr>",
          "496: <tr><td>retCount</td><td><i>BOOL</i></td><td>Return only the count of matches.</td><td><i></i></td></tr>",
          "497: <tr><td>retInfo</td><td><i>BOOL</i></td><td>Return file info: size, uid, gid, mode, name, and path.</td><td><i></i></td></tr>",
          "498: <tr><td>tails</td><td><i>BOOL</i></td><td>Returned only tail of path.</td><td><i></i></td></tr>",
          "499: <tr><td>types</td><td><i>STRKEY</i></td><td>Filter files to include type: one or more of chars 'fdlpsbc' for file, directory, link, etc.</td><td><i></i></td></tr>",
          "500: </table>",
          "501: <a name=\"Fileend\"></a>",
          "502: <p><a href=\"#TOC\">Return to top</a>",
          "503: <a name=\"Function\"></a>",
          "505: <hr>",
          "508: <h1>Function</h1>",
          "510: <font color=red>Synopsis:new Function():function",
          "512: </font><p>Commands for accessing functions.",
          "515: <h2>Methods for \"Function\"</h2>",
          "516: <table border=\"1\"class=\"cmdstbl table\">",
          "517: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "518: <tr><td>Function</td><td>new Function():function </td><td>Function constructor (unimplemented).</td></tr>",
          "519: <tr><td>apply</td><td>apply(thisArg:null|object|function, args:array=void) </td><td>Call function passing args array.</td></tr>",
          "520: <tr><td>bind</td><td>bind(thisArg:object|function=null,...) </td><td>Return function that calls bound function prepended with thisArg+arguments.</td></tr>",
          "521: <tr><td>call</td><td>call(thisArg:null|object|function, arg1, ...) </td><td>Call function with args.</td></tr>",
          "522: </table>",
          "523: <a name=\"Functionend\"></a>",
          "524: <p><a href=\"#TOC\">Return to top</a>",
          "525: <a name=\"Info\"></a>",
          "527: <hr>",
          "530: <h1>Info</h1>",
          "532: <font color=red>Synopsis:Info.method(...)",
          "534: </font><p>Commands for inspecting internal state information in JSI.",
          "537: <h2>Methods for \"Info\"</h2>",
          "538: <table border=\"1\"class=\"cmdstbl table\">",
          "539: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "540: <tr><td>argv0</td><td>argv0():string|void </td><td>Return initial start script file name.</td></tr>",
          "541: <tr><td>cmds</td><td>cmds(val:string|regexp='*', <a href='#Info.cmdsOptions'>options</a>:object=void):array|object </td><td>Return details or list of matching commands.</td></tr>",
          "542: <tr><td>completions</td><td>completions(str:string, start:number=0, end:number=void):array </td><td>Return command completions on portion of string from start to end.</td></tr>",
          "543: <tr><td>data</td><td>data(val:string|regexp|object=void):array|object </td><td>Return list of matching data (non-functions). Like info.vars(), but does not return function values.</td></tr>",
          "544: <tr><td>error</td><td>error():object </td><td>Return file and line number of error (used inside catch).</td></tr>",
          "545: <tr><td>event</td><td>event(id:number=void):array|object </td><td>List events or info for 1 event (setTimeout/setInterval). With no args, returns list of all outstanding events.  With one arg, returns infofor the given event id.</td></tr>",
          "546: <tr><td>execZip</td><td>execZip():string|void </td><td>If executing a .zip file, return file name.</td></tr>",
          "547: <tr><td>executable</td><td>executable():string </td><td>Return name of executable.</td></tr>",
          "548: <tr><td>files</td><td>files():array </td><td>Return list of all sourced files.</td></tr>",
          "549: <tr><td>funcs</td><td>funcs(arg:string|regexp|function|object=void):array|object </td><td>Return details or list of matching functions.</td></tr>",
          "550: <tr><td>interp</td><td>interp(interp:userobj=void):object </td><td>Return info on given or current interp.</td></tr>",
          "551: <tr><td>isMain</td><td>isMain():boolean </td><td>Return true if current script was the main script invoked from command-line.</td></tr>",
          "552: <tr><td>keywords</td><td>keywords(isSql=false, name:string=void):boolean|array </td><td>Return/lookup reserved keyword.</td></tr>",
          "553: <tr><td>level</td><td>level(level:number=void):number|array|object </td><td>Return current level or details of a call-stack frame. With no arg, returns the number of the current stack frame level.",
          "554: Otherwise returns details on the specified level.",
          "555: The topmost level is 1, and 0 is the current level, and a negative level translates as relative to the current level.</td></tr>",
          "556: <tr><td>locals</td><td>locals(filter:boolean=void):object </td><td>Return locals; use filter=true/false just vars/functions.</td></tr>",
          "557: <tr><td>lookup</td><td>lookup(name:string) </td><td>Given string name, lookup and return value, eg: function.</td></tr>",
          "558: <tr><td>methods</td><td>methods(val:string|regexp):array|object </td><td>Return functions and commands.</td></tr>",
          "559: <tr><td>named</td><td>named(name:string=void):array|userobj </td><td>Returns command names for builtin Objects, eg: 'File', 'Interp', sub-Object names, or the named object.</td></tr>",
          "560: <tr><td>options</td><td>options(ctype:boolean=false):array </td><td>Return Option type name, or with true the C type.</td></tr>",
          "561: <tr><td>package</td><td>package(pkgName:string):object|null </td><td>Return info about provided package if exists, else null.</td></tr>",
          "562: <tr><td>platform</td><td>platform():object </td><td>N/A. Returns general platform information for JSI.</td></tr>",
          "563: <tr><td>script</td><td>script(func:function|regexp=void):string|array|void </td><td>Get current script file name, or file containing function.</td></tr>",
          "564: <tr><td>scriptDir</td><td>scriptDir():string|void </td><td>Get directory of current script.</td></tr>",
          "565: <tr><td>vars</td><td>vars(val:string|regexp|object=void):array|object </td><td>Return details or list of matching variables. Returns all values, data or function.</td></tr>",
          "566: <tr><td>version</td><td>version(full:boolean=false):number|object </td><td>JSI version: returns object when full=true.</td></tr>",
          "567: </table>",
          "570: <a name=\"Info.cmdsOptions\"></a>",
          "571: <a name=\"Info.confOptions\"></a>",
          "572: <h2>Options for \"Info.cmds\"</h2>",
          "573: <table border=\"1\" class=\"optstbl table\">",
          "574: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "575: <tr><td>full</td><td><i>BOOL</i></td><td>Return full path.</td><td><i></i></td></tr>",
          "576: <tr><td>constructor</td><td><i>BOOL</i></td><td>Do not exclude constructor.</td><td><i></i></td></tr>",
          "577: </table>",
          "578: <a name=\"Infoend\"></a>",
          "579: <p><a href=\"#TOC\">Return to top</a>",
          "580: <a name=\"Interp\"></a>",
          "582: <hr>",
          "585: <h1>Interp</h1>",
          "587: <font color=red>Synopsis:new Interp(options:object=void):userobj",
          "589: </font><p>Commands for accessing interps.",
          "592: <h2>Methods for \"Interp\"</h2>",
          "593: <table border=\"1\"class=\"cmdstbl table\">",
          "594: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "595: <tr><td>Interp</td><td>new Interp(<a href='#newInterpOptions'>options</a>:object=void):userobj </td><td>Create a new interp.</td></tr>",
          "596: <tr><td>alias</td><td>alias(name:string=void, func:function|null=void, args:array|null=void, async=false) </td><td>Set/get global alias bindings for command in an interp. With 0 args, returns list of all aliases in interp.",
          "597: With 1 arg returns func for given alias name.",
          "598: With 2 args where arg2 == null, returns args for given alias name .",
          "599: With 3 args, create/update an alias for func and args.",
          "600: Delete an alias by creating it with null for both func and args.</td></tr>",
          "601: <tr><td>call</td><td>call(funcName:string, args:array, wait:boolean=false) </td><td>Call named function in subinterp. Invoke function in sub-interp with arguments.",
          "602: Since interps are not allowed to share objects, data is automatically cleansed by encoding/decoding to/from JSON if required.",
          "603: Unless an 'async' parameter is true call is acyncronous.",
          "604: Otherwise waits until the sub-interp is idle, to make call and return result.</td></tr>",
          "605: <tr><td>conf</td><td>conf(<a href='#Interp.confOptions'>options</a>:string|object=void) </td><td>Configure option(s).</td></tr>",
          "606: <tr><td>eval</td><td>eval(js:string, async:boolean=false) </td><td>Interpret script within sub-interp. When the 'async' option is used on a threaded interp, the script is queued as an Event.</td></tr>",
          "607: <tr><td>info</td><td>info():object </td><td>Returns internal statistics about interp.</td></tr>",
          "608: <tr><td>source</td><td>source(file:string, async:boolean=false) </td><td>Interpret file within sub-interp. When the 'async' option is used on a threaded interp, the script is queued as an Event.</td></tr>",
          "609: <tr><td>uplevel</td><td>uplevel(js:string, level:number=0) </td><td>Interpret code at the given stack level. The level argument is as returned by Info.level().  Not supported with threads.</td></tr>",
          "610: <tr><td>value</td><td>value(varName:string, level:number=0) </td><td>Lookup value of variable at stack level.</td></tr>",
          "611: </table>",
          "614: <a name=\"new InterpOptions\"></a>",
          "615: <a name=\"Interp.confOptions\"></a>",
          "616: <h2>Options for \"new Interp\"</h2>",
          "617: <table border=\"1\" class=\"optstbl table\">",
          "618: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "619: <tr><td>args</td><td><i>ARRAY</i></td><td>The console.arguments for interp.</td><td><i>initOnly</i></td></tr>",
          "620: <tr><td>assertMode</td><td><i>STRKEY</i></td><td>Action upon assert failure. (one of: <b>throw</b>, <b>log</b>, <b>puts</b>)</td><td><i></i></td></tr>",
          "621: <tr><td>autoFiles</td><td><i>ARRAY</i></td><td>File(s) to source for loading Jsi_Auto to handle unknown commands.</td><td><i></i></td></tr>",
          "622: <tr><td>busyCallback</td><td><i>CUSTOM</i></td><td>Command in parent interp (or noOp) to periodically call.</td><td><i></i></td></tr>",
          "623: <tr><td>busyInterval</td><td><i>INT</i></td><td>Call busyCallback command after this many op-code evals (100000).</td><td><i></i></td></tr>",
          "624: <tr><td>confFile</td><td><i>STRKEY</i></td><td>Config file of options in JSON non-strict format.</td><td><i>initOnly</i></td></tr>",
          "625: <tr><td>coverage</td><td><i>BOOL</i></td><td>On exit generate detailed code coverage for function calls (with profile).</td><td><i></i></td></tr>",
          "626: <tr><td>debugOpts</td><td><i><a href='#debugOptsOptions'>options</a></i></td><td>Options for debugging.</td><td><i></i></td></tr>",
          "627: <tr><td>interactive</td><td><i>BOOL</i></td><td>Force interactive mode. ie. ignore no_interactive flag.</td><td><i>initOnly</i></td></tr>",
          "628: <tr><td>hasOpenSSL</td><td><i>BOOL</i></td><td>WebSocket compiled with SSL is available.</td><td><i>initOnly</i></td></tr>",
          "629: <tr><td>historyFile</td><td><i>STRKEY</i></td><td>For readline, file to use for history (~/.jsish_history).</td><td><i></i></td></tr>",
          "630: <tr><td>isSafe</td><td><i>BOOL</i></td><td>Is this a safe interp (ie. with limited or no file access).</td><td><i>initOnly</i></td></tr>",
          "631: <tr><td>jsppChars</td><td><i>STRKEY</i></td><td>Line preprocessor when sourcing files. Line starts with first char, and either ends with it, or matches string.</td><td><i></i></td></tr>",
          "632: <tr><td>jsppCallback</td><td><i>FUNC</i></td><td>Command to preprocess lines that match jsppChars. Call func(interpName:string, opCnt:number).</td><td><i></i></td></tr>",
          "633: <tr><td>lockTimeout</td><td><i>INT</i></td><td>Thread time-out for mutex lock acquires (milliseconds).</td><td><i></i></td></tr>",
          "634: <tr><td>lockDown</td><td><i>STRKEY</i></td><td>Directory to Safe-lockdown interpreter to.</td><td><i></i></td></tr>",
          "635: <tr><td>logOpts</td><td><i><a href='#logOptsOptions'>options</a></i></td><td>Options for log output to add file/line/time.</td><td><i></i></td></tr>",
          "636: <tr><td>log</td><td><i>ARRAY</i></td><td>Logging flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "637: <tr><td>maxDepth</td><td><i>INT</i></td><td>Depth limit of recursive function calls (1000).</td><td><i></i></td></tr>",
          "638: <tr><td>maxDumpStack</td><td><i>UINT</i></td><td>Maximum stack dump length (100).</td><td><i></i></td></tr>",
          "639: <tr><td>maxDumpArgs</td><td><i>UINT</i></td><td>Maximum arg length in stack dump (80).</td><td><i></i></td></tr>",
          "640: <tr><td>maxArrayList</td><td><i>UINT</i></td><td>Maximum array convertable to list (100000).</td><td><i></i></td></tr>",
          "641: <tr><td>maxIncDepth</td><td><i>INT</i></td><td>Maximum allowed source/require nesting depth (50).</td><td><i></i></td></tr>",
          "642: <tr><td>maxInterpDepth</td><td><i>INT</i></td><td>Maximum nested subinterp create depth (10).</td><td><i></i></td></tr>",
          "643: <tr><td>maxUserObjs</td><td><i>INT</i></td><td>Maximum number of 'new' object calls, eg. File, RegExp, etc.</td><td><i></i></td></tr>",
          "644: <tr><td>maxOpCnt</td><td><i>INT</i></td><td>Execution limit for op-code evaluation.</td><td><i>initOnly</i></td></tr>",
          "645: <tr><td>memDebug</td><td><i>INT</i></td><td>Memory debugging level: 1=summary, 2=detail.</td><td><i></i></td></tr>",
          "646: <tr><td>memLeakCnt</td><td><i>INT</i></td><td>Leak memory count due to object added to self.</td><td><i>initOnly</i></td></tr>",
          "647: <tr><td>name</td><td><i>STRKEY</i></td><td>Optional text name for this interp.</td><td><i></i></td></tr>",
          "648: <tr><td>noAutoLoad</td><td><i>BOOL</i></td><td>Disable autoload.</td><td><i></i></td></tr>",
          "649: <tr><td>noConfig</td><td><i>BOOL</i></td><td>Disable use of Interp.conf to change options after create.</td><td><i>initOnly</i></td></tr>",
          "650: <tr><td>noEval</td><td><i>BOOL</i></td><td>Disable eval: just parses file to check syntax.</td><td><i>initOnly</i></td></tr>",
          "651: <tr><td>noInput</td><td><i>BOOL</i></td><td>Disable use of console.input().</td><td><i></i></td></tr>",
          "652: <tr><td>noLoad</td><td><i>BOOL</i></td><td>Disable load of shared libs.</td><td><i></i></td></tr>",
          "653: <tr><td>noNetwork</td><td><i>BOOL</i></td><td>Disable new Socket/WebSocket, or load of builtin MySql.</td><td><i></i></td></tr>",
          "654: <tr><td>noStderr</td><td><i>BOOL</i></td><td>Make puts, log, assert, etc use stdout.</td><td><i></i></td></tr>",
          "655: <tr><td>noSubInterps</td><td><i>BOOL</i></td><td>Disallow sub-interp creation.</td><td><i></i></td></tr>",
          "656: <tr><td>onComplete</td><td><i>FUNC</i></td><td>Function to return commands completions for interactive mode.  Default uses Info.completions . @function(prefix:string, start:number, end:number)</td><td><i></i></td></tr>",
          "657: <tr><td>onEval</td><td><i>FUNC</i></td><td>Function to get control for interactive evals. @function(cmd:string)</td><td><i></i></td></tr>",
          "658: <tr><td>onExit</td><td><i>FUNC</i></td><td>Command to call in parent on exit, returns true to continue. @function()</td><td><i>initOnly</i></td></tr>",
          "659: <tr><td>pkgDirs</td><td><i>ARRAY</i></td><td>list of library directories for require() to search.</td><td><i></i></td></tr>",
          "660: <tr><td>profile</td><td><i>BOOL</i></td><td>On exit generate profile of function calls.</td><td><i></i></td></tr>",
          "661: <tr><td>retValue</td><td><i>VALUE</i></td><td>Return value from last eval.</td><td><i>readOnly</i></td></tr>",
          "662: <tr><td>safeMode</td><td><i>STRKEY</i></td><td>In safe mode source() support for pwd and script-dir . (one of: <b>none</b>, <b>read</b>, <b>write</b>, <b>writeRead</b>, <b>lockdown</b>)</td><td><i>initOnly</i></td></tr>",
          "663: <tr><td>safeReadDirs</td><td><i>ARRAY</i></td><td>In safe mode, files/dirs to allow reads to.</td><td><i>initOnly</i></td></tr>",
          "664: <tr><td>safeWriteDirs</td><td><i>ARRAY</i></td><td>In safe mode, files/dirs to allow writes to.</td><td><i>initOnly</i></td></tr>",
          "665: <tr><td>safeExecPattern</td><td><i>STRKEY</i></td><td>In safe mode, regexp pattern allow exec of commands.</td><td><i>initOnly</i></td></tr>",
          "666: <tr><td>scriptStr</td><td><i>STRKEY</i></td><td>Interp init script string.</td><td><i>initOnly</i></td></tr>",
          "667: <tr><td>scriptFile</td><td><i>STRING</i></td><td>Interp init script file.</td><td><i></i></td></tr>",
          "668: <tr><td>stdinStr</td><td><i>STRING</i></td><td>String to use as stdin for console.input().</td><td><i></i></td></tr>",
          "669: <tr><td>stdoutStr</td><td><i>STRING</i></td><td>String to collect stdout for puts().</td><td><i></i></td></tr>",
          "670: <tr><td>subOpts</td><td><i><a href='#subOptsOptions'>options</a></i></td><td>Infrequently used sub-options.</td><td><i></i></td></tr>",
          "671: <tr><td>subthread</td><td><i>BOOL</i></td><td>Create a threaded Interp.</td><td><i>initOnly</i></td></tr>",
          "672: <tr><td>traceCall</td><td><i>ARRAY</i></td><td>Trace commands. (zero or more of: <b>funcs</b>, <b>cmds</b>, <b>new</b>, <b>return</b>, <b>args</b>, <b>notrunc</b>, <b>noparent</b>, <b>full</b>, <b>before</b>)</td><td><i></i></td></tr>",
          "673: <tr><td>traceOp</td><td><i>INT</i></td><td>Set debugging level for OPCODE execution.</td><td><i></i></td></tr>",
          "674: <tr><td>tracePuts</td><td><i>BOOL</i></td><td>Trace puts by making it use logOpts.</td><td><i></i></td></tr>",
          "675: <tr><td>typeCheck</td><td><i>ARRAY</i></td><td>Type-check control options. (zero or more of: <b>none</b>, <b>parse</b>, <b>run</b>, <b>all</b>, <b>error</b>, <b>strict</b>, <b>noundef</b>, <b>nowith</b>, <b>funcsig</b>)</td><td><i></i></td></tr>",
          "676: <tr><td>typeWarnMax</td><td><i>INT</i></td><td>Type checking is silently disabled after this many warnings (50).</td><td><i></i></td></tr>",
          "677: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "678: <tr><td>unitTest</td><td><i>UINT</i></td><td>Unit test control bits: 1=subst, 2=Puts with file:line prefix.</td><td><i></i></td></tr>",
          "679: </table>",
          "682: <a name=\"debugOptsOptions\"></a>",
          "683: <h2>Options for \"debugOpts\"</h2>",
          "684: <table border=\"1\" class=\"optstbl table\">",
          "685: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "686: <tr><td>debugCallback</td><td><i>CUSTOM</i></td><td>Command in parent interp for handling debugging.</td><td><i></i></td></tr>",
          "687: <tr><td>doContinue</td><td><i>BOOL</i></td><td>Continue execution until breakpoint.</td><td><i></i></td></tr>",
          "688: <tr><td>forceBreak</td><td><i>BOOL</i></td><td>Force debugger to break.</td><td><i></i></td></tr>",
          "689: <tr><td>includeOnce</td><td><i>BOOL</i></td><td>Source the file only if not already sourced.</td><td><i></i></td></tr>",
          "690: <tr><td>includeTrace</td><td><i>BOOL</i></td><td>Trace includes.</td><td><i></i></td></tr>",
          "691: <tr><td>minLevel</td><td><i>INT</i></td><td>Disable eval callback for level higher than this.</td><td><i></i></td></tr>",
          "692: <tr><td>msgCallback</td><td><i>CUSTOM</i></td><td>Comand in parent interp to handle Jsi_LogError/Jsi_LogWarn,...</td><td><i></i></td></tr>",
          "693: <tr><td>pkgTrace</td><td><i>BOOL</i></td><td>Trace package loads.</td><td><i></i></td></tr>",
          "694: <tr><td>putsCallback</td><td><i>CUSTOM</i></td><td>Comand in parent interp to handle puts output.</td><td><i></i></td></tr>",
          "695: <tr><td>traceCallback</td><td><i>CUSTOM</i></td><td>Comand in parent interp to handle traceCall.</td><td><i></i></td></tr>",
          "696: <tr><td>testFmtCallback</td><td><i>CUSTOM</i></td><td>Comand in parent interp to format unittest string.</td><td><i></i></td></tr>",
          "697: </table>",
          "700: <a name=\"logOptsOptions\"></a>",
          "701: <h2>Options for \"logOpts\"</h2>",
          "702: <table border=\"1\" class=\"optstbl table\">",
          "703: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "704: <tr><td>time</td><td><i>BOOL</i></td><td>Prefix with time.</td><td><i></i></td></tr>",
          "705: <tr><td>date</td><td><i>BOOL</i></td><td>Prefix with date.</td><td><i></i></td></tr>",
          "706: <tr><td>file</td><td><i>BOOL</i></td><td>Ouptut contains file:line.</td><td><i></i></td></tr>",
          "707: <tr><td>func</td><td><i>BOOL</i></td><td>Output function.</td><td><i></i></td></tr>",
          "708: <tr><td>full</td><td><i>BOOL</i></td><td>Show full file path.</td><td><i></i></td></tr>",
          "709: <tr><td>ftail</td><td><i>BOOL</i></td><td>Show tail of file only, even in LogWarn, etc.</td><td><i></i></td></tr>",
          "710: <tr><td>before</td><td><i>BOOL</i></td><td>Output file:line before message string.</td><td><i></i></td></tr>",
          "711: <tr><td>isUTC</td><td><i>BOOL</i></td><td>Time is to be UTC.</td><td><i></i></td></tr>",
          "712: <tr><td>timeFmt</td><td><i>STRKEY</i></td><td>A format string to use with strftime.</td><td><i></i></td></tr>",
          "713: <tr><td>chan</td><td><i>USEROBJ</i></td><td>Channel to send output to.</td><td><i></i></td></tr>",
          "714: </table>",
          "717: <a name=\"subOptsOptions\"></a>",
          "718: <h2>Options for \"subOpts\"</h2>",
          "719: <table border=\"1\" class=\"optstbl table\">",
          "720: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "721: <tr><td>blacklist</td><td><i>STRKEY</i></td><td>Comma separated modules to disable loading for.</td><td><i>initOnly</i></td></tr>",
          "722: <tr><td>compat</td><td><i>BOOL</i></td><td>Ignore unknown options via JSI_OPTS_IGNORE_EXTRA in option parser.</td><td><i></i></td></tr>",
          "723: <tr><td>dblPrec</td><td><i>INT</i></td><td>Format precision of double where 0=max, -1=max-1, ... (max-1).</td><td><i></i></td></tr>",
          "724: <tr><td>istty</td><td><i>BOOL</i></td><td>Indicates interp is in interactive mode.</td><td><i>readOnly</i></td></tr>",
          "725: <tr><td>nofreeze</td><td><i>BOOL</i></td><td>moduleOpts freeze disabled by default.</td><td><i></i></td></tr>",
          "726: <tr><td>logColNums</td><td><i>BOOL</i></td><td>Display column numbers in error messages.</td><td><i></i></td></tr>",
          "727: <tr><td>logAllowDups</td><td><i>BOOL</i></td><td>Log should not filter out duplicate messages.</td><td><i></i></td></tr>",
          "728: <tr><td>mutexUnlock</td><td><i>BOOL</i></td><td>Unlock own mutex when evaling in other interps (true).</td><td><i>initOnly</i></td></tr>",
          "729: <tr><td>noproto</td><td><i>BOOL</i></td><td>Disable support of the OOP symbols:  __proto__, prototype, constructor, etc.</td><td><i></i></td></tr>",
          "730: <tr><td>noFuncString</td><td><i>BOOL</i></td><td>Disable viewing code body for functions.</td><td><i>initOnly</i></td></tr>",
          "731: <tr><td>noRegex</td><td><i>BOOL</i></td><td>Disable viewing code for functions.</td><td><i>initOnly</i></td></tr>",
          "732: <tr><td>noReadline</td><td><i>BOOL</i></td><td>In interactive mode disable use of readline.</td><td><i></i></td></tr>",
          "733: <tr><td>outUndef</td><td><i>BOOL</i></td><td>In interactive mode output result values that are undefined.</td><td><i></i></td></tr>",
          "734: <tr><td>prompt</td><td><i>STRKEY</i></td><td>Prompt for interactive mode ('$ ').</td><td><i></i></td></tr>",
          "735: <tr><td>prompt2</td><td><i>STRKEY</i></td><td>Prompt for interactive mode line continue ('> ').</td><td><i></i></td></tr>",
          "736: </table>",
          "737: <a name=\"Interpend\"></a>",
          "738: <p><a href=\"#TOC\">Return to top</a>",
          "739: <a name=\"JSON\"></a>",
          "741: <hr>",
          "744: <h1>JSON</h1>",
          "746: <font color=red>Synopsis:JSON.method(...)",
          "748: </font><p>Commands for handling JSON data.",
          "751: <h2>Methods for \"JSON\"</h2>",
          "752: <table border=\"1\"class=\"cmdstbl table\">",
          "753: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "754: <tr><td>check</td><td>check(str:string, strict:boolean=true):boolean </td><td>Return true if str is JSON.</td></tr>",
          "755: <tr><td>parse</td><td>parse(str:string, strict:boolean=true) </td><td>Parse JSON and return js.</td></tr>",
          "756: <tr><td>stringify</td><td>stringify(value:any,  strict:boolean=true):string </td><td>Return JSON from a js object.</td></tr>",
          "757: </table>",
          "758: <a name=\"JSONend\"></a>",
          "759: <p><a href=\"#TOC\">Return to top</a>",
          "760: <a name=\"Math\"></a>",
          "762: <hr>",
          "765: <h1>Math</h1>",
          "767: <font color=red>Synopsis:Math.method(...)",
          "769: </font><p>Commands performing math operations on numbers.",
          "772: <h2>Methods for \"Math\"</h2>",
          "773: <table border=\"1\"class=\"cmdstbl table\">",
          "774: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "775: <tr><td>abs</td><td>abs(num:number):number </td><td>Returns the absolute value of x.</td></tr>",
          "776: <tr><td>acos</td><td>acos(num:number):number </td><td>Returns the arccosine of x, in radians.</td></tr>",
          "777: <tr><td>asin</td><td>asin(num:number):number </td><td>Returns the arcsine of x, in radians.</td></tr>",
          "778: <tr><td>atan</td><td>atan(num:number):number </td><td>Returns the arctangent of x as a numeric value between -PI/2 and PI/2 radians.</td></tr>",
          "779: <tr><td>atan2</td><td>atan2(x:number, y:number):number </td><td>Returns the arctangent of the quotient of its arguments.</td></tr>",
          "780: <tr><td>ceil</td><td>ceil(num:number):number </td><td>Returns x, rounded upwards to the nearest integer.</td></tr>",
          "781: <tr><td>cos</td><td>cos(num:number):number </td><td>Returns the cosine of x (x is in radians).</td></tr>",
          "782: <tr><td>exp</td><td>exp(num:number):number </td><td>Returns the value of Ex.</td></tr>",
          "783: <tr><td>floor</td><td>floor(num:number):number </td><td>Returns x, rounded downwards to the nearest integer.</td></tr>",
          "784: <tr><td>log</td><td>log(num:number):number </td><td>Returns the natural logarithm (base E) of x.</td></tr>",
          "785: <tr><td>max</td><td>max(x:number, y:number, ...):number </td><td>Returns the number with the highest value.</td></tr>",
          "786: <tr><td>min</td><td>min(x:number, y:number, ...):number </td><td>Returns the number with the lowest value.</td></tr>",
          "787: <tr><td>pow</td><td>pow(x:number, y:number):number </td><td>Returns the value of x to the power of y.</td></tr>",
          "788: <tr><td>random</td><td>random():number </td><td>Returns a random number between 0 and 1.</td></tr>",
          "789: <tr><td>round</td><td>round(num:number):number </td><td>Rounds x to the nearest integer.</td></tr>",
          "790: <tr><td>sin</td><td>sin(num:number):number </td><td>Returns the sine of x (x is in radians).</td></tr>",
          "791: <tr><td>sqrt</td><td>sqrt(num:number):number </td><td>Returns the square root of x.</td></tr>",
          "792: <tr><td>srand</td><td>srand(seed:number):number </td><td>Set random seed.</td></tr>",
          "793: <tr><td>tan</td><td>tan(num:number):number </td><td>Returns the tangent of an angle.</td></tr>",
          "794: </table>",
          "795: <a name=\"Mathend\"></a>",
          "796: <p><a href=\"#TOC\">Return to top</a>",
          "797: <a name=\"MySql\"></a>",
          "799: <hr>",
          "802: <h1>MySql</h1>",
          "804: <font color=red>Synopsis:new MySql(options:object=void):userobj",
          "806: </font><p>Commands for accessing mysql databases.",
          "809: <h2>Methods for \"MySql\"</h2>",
          "810: <table border=\"1\"class=\"cmdstbl table\">",
          "811: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "812: <tr><td>MySql</td><td>new MySql(<a href='#newMySqlOptions'>options</a>:object=void):userobj </td><td>Create a new db connection to a MySql database:.</td></tr>",
          "813: <tr><td>affectedRows</td><td>affectedRows():number </td><td>Return affected rows.</td></tr>",
          "814: <tr><td>complete</td><td>complete(sql:string):boolean </td><td>Return true if sql is complete.</td></tr>",
          "815: <tr><td>conf</td><td>conf(<a href='#MySql.confOptions'>options</a>:string|object=void) </td><td>Configure options.</td></tr>",
          "816: <tr><td>errorNo</td><td>errorNo():number </td><td>Return error code returned by most recent call to mysql3_exec().</td></tr>",
          "817: <tr><td>errorState</td><td>errorState():string </td><td>Return the mysql error state str.</td></tr>",
          "818: <tr><td>eval</td><td>eval(sql:string):number </td><td>Run sql commands without input/output.</td></tr>",
          "819: <tr><td>exists</td><td>exists(sql:string):boolean </td><td>Execute sql, and return true if there is at least one result value.</td></tr>",
          "820: <tr><td>info</td><td>info():object </td><td>Return info about last query.</td></tr>",
          "821: <tr><td>lastQuery</td><td>lastQuery():string </td><td>Return info string about most recently executed statement.</td></tr>",
          "822: <tr><td>lastRowid</td><td>lastRowid():number </td><td>Return rowid of last insert.</td></tr>",
          "823: <tr><td>onecolumn</td><td>onecolumn(sql:string) </td><td>Execute sql, and return a single value.</td></tr>",
          "824: <tr><td>ping</td><td>ping(noError:boolean=false):number </td><td>Ping connection.</td></tr>",
          "825: <tr><td>query</td><td>query(sql:string, <a href='#MySql.queryOptions'>options</a>:function|string|array|object=void) </td><td>Run sql query with input and/or outputs..</td></tr>",
          "826: <tr><td>reconnect</td><td>reconnect():void </td><td>Reconnect with current settings.</td></tr>",
          "827: <tr><td>reset</td><td>reset():number </td><td>Reset connection.</td></tr>",
          "828: </table>",
          "831: <a name=\"new MySqlOptions\"></a>",
          "832: <a name=\"MySql.confOptions\"></a>",
          "833: <h2>Options for \"new MySql\"</h2>",
          "834: <table border=\"1\" class=\"optstbl table\">",
          "835: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "836: <tr><td>bindWarn</td><td><i>BOOL</i></td><td>Treat failed variable binds as a warning.</td><td><i>initOnly</i></td></tr>",
          "837: <tr><td>database</td><td><i>STRKEY</i></td><td>Database to use.</td><td><i>initOnly</i></td></tr>",
          "838: <tr><td>debug</td><td><i>ARRAY</i></td><td>Enable debug trace for various operations. (zero or more of: <b>eval</b>, <b>delete</b>, <b>prepare</b>, <b>step</b>)</td><td><i></i></td></tr>",
          "839: <tr><td>enableMulti</td><td><i>BOOL</i></td><td>Accept muiltiple semi-colon separated statements in eval().</td><td><i>initOnly</i></td></tr>",
          "840: <tr><td>errorCnt</td><td><i>INT</i></td><td>Count of errors.</td><td><i>readOnly</i></td></tr>",
          "841: <tr><td>queryOpts</td><td><i><a href='#queryOptsOptions'>options</a></i></td><td>Default options for exec.</td><td><i></i></td></tr>",
          "842: <tr><td>forceInt</td><td><i>BOOL</i></td><td>Bind float as int if possible.</td><td><i></i></td></tr>",
          "843: <tr><td>host</td><td><i>STRING</i></td><td>IP address or host name for mysqld (default is 127.0.0.1).</td><td><i></i></td></tr>",
          "844: <tr><td>maxStmts</td><td><i>INT</i></td><td>Max cache size for compiled statements.</td><td><i></i></td></tr>",
          "845: <tr><td>name</td><td><i>DSTRING</i></td><td>Name for this db handle.</td><td><i></i></td></tr>",
          "846: <tr><td>numStmts</td><td><i>INT</i></td><td>Current size of compiled statement cache.</td><td><i>readOnly</i></td></tr>",
          "847: <tr><td>password</td><td><i>STRKEY</i></td><td>Database password..</td><td><i>initOnly</i></td></tr>",
          "848: <tr><td>port</td><td><i>INT</i></td><td>IP port for mysqld.</td><td><i>initOnly</i></td></tr>",
          "849: <tr><td>reconnect</td><td><i>BOOL</i></td><td>Reconnect.</td><td><i></i></td></tr>",
          "850: <tr><td>sslKey</td><td><i>STRING</i></td><td>SSL key.</td><td><i></i></td></tr>",
          "851: <tr><td>sslCert</td><td><i>STRING</i></td><td>SSL Cert.</td><td><i></i></td></tr>",
          "852: <tr><td>sslCA</td><td><i>STRING</i></td><td>SSL CA.</td><td><i></i></td></tr>",
          "853: <tr><td>sslCAPath</td><td><i>STRING</i></td><td>SSL CA path.</td><td><i></i></td></tr>",
          "854: <tr><td>sslCipher</td><td><i>STRING</i></td><td>SSL Cipher.</td><td><i></i></td></tr>",
          "855: <tr><td>udata</td><td><i>OBJ</i></td><td>User data..</td><td><i></i></td></tr>",
          "856: <tr><td>user</td><td><i>STRKEY</i></td><td>Database user name. Default is current user-name..</td><td><i>initOnly</i></td></tr>",
          "857: <tr><td>version</td><td><i>DOUBLE</i></td><td>Mysql version number.</td><td><i>readOnly</i></td></tr>",
          "858: </table>",
          "861: <a name=\"queryOptsOptions\"></a>",
          "862: <h2>Options for \"queryOpts\"</h2>",
          "863: <table border=\"1\" class=\"optstbl table\">",
          "864: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "865: <tr><td>callback</td><td><i>FUNC</i></td><td>Function to call with each row result. @function(values:object)</td><td><i></i></td></tr>",
          "866: <tr><td>headers</td><td><i>BOOL</i></td><td>First row returned contains column labels.</td><td><i></i></td></tr>",
          "867: <tr><td>limit</td><td><i>INT</i></td><td>Maximum number of returned values.</td><td><i></i></td></tr>",
          "868: <tr><td>mapundef</td><td><i>BOOL</i></td><td>In variable binds, map an 'undefined' var to null.</td><td><i></i></td></tr>",
          "869: <tr><td>maxString</td><td><i>INT</i></td><td>If not using prefetch, the maximum string value size (0=8K).</td><td><i></i></td></tr>",
          "870: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "871: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "872: <tr><td>noNamedParams</td><td><i>BOOL</i></td><td>Disable translating sql to support named params.</td><td><i></i></td></tr>",
          "873: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non-json mode).</td><td><i></i></td></tr>",
          "874: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "875: <tr><td>paramVar</td><td><i>ARRAY</i></td><td>Array var to use for parameters.</td><td><i></i></td></tr>",
          "876: <tr><td>prefetch</td><td><i>BOOL</i></td><td>Let client library cache entire results.</td><td><i></i></td></tr>",
          "877: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "878: <tr><td>table</td><td><i>STRKEY</i></td><td>Table name for mode=insert.</td><td><i></i></td></tr>",
          "879: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (error). (one of: <b>convert</b>, <b>error</b>, <b>warn</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "880: <tr><td>values</td><td><i>ARRAY</i></td><td>Values for ? bind parameters.</td><td><i></i></td></tr>",
          "881: <tr><td>width</td><td><i>CUSTOM</i></td><td>In column mode, set column widths.</td><td><i></i></td></tr>",
          "882: </table>",
          "885: <a name=\"MySql.queryOptions\"></a>",
          "886: <a name=\"MySql.confOptions\"></a>",
          "887: <h2>Options for \"MySql.query\"</h2>",
          "888: <table border=\"1\" class=\"optstbl table\">",
          "889: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "890: <tr><td>callback</td><td><i>FUNC</i></td><td>Function to call with each row result. @function(values:object)</td><td><i></i></td></tr>",
          "891: <tr><td>headers</td><td><i>BOOL</i></td><td>First row returned contains column labels.</td><td><i></i></td></tr>",
          "892: <tr><td>limit</td><td><i>INT</i></td><td>Maximum number of returned values.</td><td><i></i></td></tr>",
          "893: <tr><td>mapundef</td><td><i>BOOL</i></td><td>In variable binds, map an 'undefined' var to null.</td><td><i></i></td></tr>",
          "894: <tr><td>maxString</td><td><i>INT</i></td><td>If not using prefetch, the maximum string value size (0=8K).</td><td><i></i></td></tr>",
          "895: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "896: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "897: <tr><td>noNamedParams</td><td><i>BOOL</i></td><td>Disable translating sql to support named params.</td><td><i></i></td></tr>",
          "898: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non-json mode).</td><td><i></i></td></tr>",
          "899: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "900: <tr><td>paramVar</td><td><i>ARRAY</i></td><td>Array var to use for parameters.</td><td><i></i></td></tr>",
          "901: <tr><td>prefetch</td><td><i>BOOL</i></td><td>Let client library cache entire results.</td><td><i></i></td></tr>",
          "902: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "903: <tr><td>table</td><td><i>STRKEY</i></td><td>Table name for mode=insert.</td><td><i></i></td></tr>",
          "904: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (error). (one of: <b>convert</b>, <b>error</b>, <b>warn</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "905: <tr><td>values</td><td><i>ARRAY</i></td><td>Values for ? bind parameters.</td><td><i></i></td></tr>",
          "906: <tr><td>width</td><td><i>CUSTOM</i></td><td>In column mode, set column widths.</td><td><i></i></td></tr>",
          "907: </table>",
          "910: <a name=\"objOptions\"></a>",
          "911: <h2>Options for \"obj\"</h2>",
          "912: <table border=\"1\" class=\"optstbl table\">",
          "913: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "914: <tr><td>name</td><td><i>STRKEY</i></td><td>Name of object var data source for %s.</td><td><i></i></td></tr>",
          "915: <tr><td>skip</td><td><i>ARRAY</i></td><td>Object members to ignore.</td><td><i></i></td></tr>",
          "916: <tr><td>getSql</td><td><i>BOOL</i></td><td>Return expanded SQL without evaluating.</td><td><i></i></td></tr>",
          "917: <tr><td>defaultNull</td><td><i>BOOL</i></td><td>Create with DEFAULT NULL.</td><td><i></i></td></tr>",
          "918: <tr><td>noChecks</td><td><i>BOOL</i></td><td>Create with no CHECK constraints.</td><td><i></i></td></tr>",
          "919: <tr><td>noDefaults</td><td><i>BOOL</i></td><td>Create with no defaults.</td><td><i></i></td></tr>",
          "920: <tr><td>noTypes</td><td><i>BOOL</i></td><td>Create with no types.</td><td><i></i></td></tr>",
          "921: </table>",
          "922: <a name=\"MySqlend\"></a>",
          "923: <p><a href=\"#TOC\">Return to top</a>",
          "924: <a name=\"Number\"></a>",
          "926: <hr>",
          "929: <h1>Number</h1>",
          "931: <font color=red>Synopsis:new Number(num:string=0):number",
          "933: </font><p>Commands for accessing number objects.",
          "936: <h2>Methods for \"Number\"</h2>",
          "937: <table border=\"1\"class=\"cmdstbl table\">",
          "938: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "939: <tr><td>Number</td><td>new Number(num:string=0):number </td><td>Number constructor.</td></tr>",
          "940: <tr><td>isFinite</td><td>isFinite():boolean </td><td>Return true if is finite.</td></tr>",
          "941: <tr><td>isInteger</td><td>isInteger():boolean </td><td>Return true if is an integer.</td></tr>",
          "942: <tr><td>isNaN</td><td>isNaN():boolean </td><td>Return true if is NaN.</td></tr>",
          "943: <tr><td>isSafeInteger</td><td>isSafeInteger():boolean </td><td>Return true if is a safe integer.</td></tr>",
          "944: <tr><td>toExponential</td><td>toExponential(num:number):string </td><td>Converts a number into an exponential notation.</td></tr>",
          "945: <tr><td>toFixed</td><td>toFixed(num:number=0):string </td><td>Formats a number with x numbers of digits after the decimal point.</td></tr>",
          "946: <tr><td>toPrecision</td><td>toPrecision(num:number):string </td><td>Formats a number to x length.</td></tr>",
          "947: <tr><td>toString</td><td>toString(radix:number=10):string </td><td>Convert to string.</td></tr>",
          "948: </table>",
          "949: <a name=\"Numberend\"></a>",
          "950: <p><a href=\"#TOC\">Return to top</a>",
          "951: <a name=\"Object\"></a>",
          "953: <hr>",
          "956: <h1>Object</h1>",
          "958: <font color=red>Synopsis:new Object(val:object&#124;function&#124;null=void):object",
          "960: </font><p>Commands for accessing Objects.",
          "963: <h2>Methods for \"Object\"</h2>",
          "964: <table border=\"1\"class=\"cmdstbl table\">",
          "965: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "966: <tr><td>Object</td><td>new Object(val:object|function|null=void):object </td><td>Object constructor.</td></tr>",
          "967: <tr><td>create</td><td>create(proto:null|object, properties:object=void):object </td><td>Create a new object with prototype object and properties.</td></tr>",
          "968: <tr><td>freeze</td><td>freeze(obj:object, freeze:boolean=true, modifyok:boolean=true, readcheck:boolean=true):void </td><td>Freeze/unfreeze an object with optionally.</td></tr>",
          "969: <tr><td>getPrototypeOf</td><td>getPrototypeOf(name:object|function):function|object </td><td>Return prototype of an object.</td></tr>",
          "970: <tr><td>hasOwnProperty</td><td>hasOwnProperty(name:string):boolean </td><td>Returns a true if object has the specified property.</td></tr>",
          "971: <tr><td>is</td><td>is(value1, value2):boolean </td><td>Tests if two values are equal.</td></tr>",
          "972: <tr><td>isPrototypeOf</td><td>isPrototypeOf(name):boolean </td><td>Tests for an object in another object's prototype chain.</td></tr>",
          "973: <tr><td>keys</td><td>keys(obj:object|function=void):array </td><td>Return the keys of an object or array.</td></tr>",
          "974: <tr><td>merge</td><td>merge(obj:object|function):object </td><td>Return new object containing merged values.</td></tr>",
          "975: <tr><td>propertyIsEnumerable</td><td>propertyIsEnumerable(name):boolean </td><td>Determine if a property is enumerable.</td></tr>",
          "976: <tr><td>setPrototypeOf</td><td>setPrototypeOf(name:object, value:object) </td><td>Set prototype of an object.</td></tr>",
          "977: <tr><td>toLocaleString</td><td>toLocaleString(quote:boolean=false):string </td><td>Convert to string.</td></tr>",
          "978: <tr><td>toString</td><td>toString(quote:boolean=false):string </td><td>Convert to string.</td></tr>",
          "979: <tr><td>valueOf</td><td>valueOf() </td><td>Returns primitive value.</td></tr>",
          "980: <tr><td>values</td><td>values(obj:object=void):array </td><td>Return the  values of an object.</td></tr>",
          "981: </table>",
          "982: <a name=\"Objectend\"></a>",
          "983: <p><a href=\"#TOC\">Return to top</a>",
          "984: <a name=\"RegExp\"></a>",
          "986: <hr>",
          "989: <h1>RegExp</h1>",
          "991: <font color=red>Synopsis:new RegExp(val:regexp&#124;string, flags:string):regexp",
          "993: </font><p>Commands for managing reqular expression objects.",
          "996: <h2>Methods for \"RegExp\"</h2>",
          "997: <table border=\"1\"class=\"cmdstbl table\">",
          "998: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "999: <tr><td>RegExp</td><td>new RegExp(val:regexp|string, flags:string):regexp </td><td>Create a regexp object.</td></tr>",
          "1000: <tr><td>exec</td><td>exec(val:string):array|object|null </td><td>return matching string. Perform regexp match checking.  Returns the array of matches.With the global flag g, sets lastIndex and returns next match.</td></tr>",
          "1001: <tr><td>test</td><td>test(val:string):boolean </td><td>test if a string matches.</td></tr>",
          "1002: </table>",
          "1003: <a name=\"RegExpend\"></a>",
          "1004: <p><a href=\"#TOC\">Return to top</a>",
          "1005: <a name=\"Signal\"></a>",
          "1007: <hr>",
          "1010: <h1>Signal</h1>",
          "1012: <font color=red>Synopsis:Signal.method(...)",
          "1014: </font><p>Commands for handling unix signals.",
          "1017: <h2>Methods for \"Signal\"</h2>",
          "1018: <table border=\"1\"class=\"cmdstbl table\">",
          "1019: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1020: <tr><td>alarm</td><td>alarm(secs):number </td><td>Setup alarm in seconds.</td></tr>",
          "1021: <tr><td>callback</td><td>callback(func:function, sig:number|string):number </td><td>Setup callback handler for signal.</td></tr>",
          "1022: <tr><td>handle</td><td>handle(sig:number|string=void, ...) </td><td>Set named signals to handle action.</td></tr>",
          "1023: <tr><td>ignore</td><td>ignore(sig:number|string=void, ...) </td><td>Set named signals to ignore action.</td></tr>",
          "1024: <tr><td>kill</td><td>kill(pid:number, sig:number|string='SIGTERM'):void </td><td>Send signal to process id.</td></tr>",
          "1025: <tr><td>names</td><td>names():array </td><td>Return names of all signals.</td></tr>",
          "1026: <tr><td>reset</td><td>reset(sig:number|string=void, ...):array </td><td>Set named signals to default action.</td></tr>",
          "1027: </table>",
          "1028: <a name=\"Signalend\"></a>",
          "1029: <p><a href=\"#TOC\">Return to top</a>",
          "1030: <a name=\"Socket\"></a>",
          "1032: <hr>",
          "1035: <h1>Socket</h1>",
          "1037: <font color=red>Synopsis:new Socket(options:object=void):userobj",
          "1039: </font><p>Commands for managing Socket server/client connections.",
          "1042: <h2>Methods for \"Socket\"</h2>",
          "1043: <table border=\"1\"class=\"cmdstbl table\">",
          "1044: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1045: <tr><td>Socket</td><td>new Socket(<a href='#newSocketOptions'>options</a>:object=void):userobj </td><td>Create socket server/client object.Create a socket server or client object.</td></tr>",
          "1046: <tr><td>close</td><td>close():void </td><td>Close socket(s).</td></tr>",
          "1047: <tr><td>conf</td><td>conf(<a href='#Socket.confOptions'>options</a>:string|object=void) </td><td>Configure options.</td></tr>",
          "1048: <tr><td>idconf</td><td>idconf(id:number=void, <a href='#Socket.idconfOptions'>options</a>:string|object=void) </td><td>Configure options for a connection id, or return list of ids.</td></tr>",
          "1049: <tr><td>names</td><td>names():array </td><td>Return list of active ids on server.</td></tr>",
          "1050: <tr><td>recv</td><td>recv(id:number=void):string </td><td>Recieve data.</td></tr>",
          "1051: <tr><td>send</td><td>send(id:number, data:string, <a href='#Socket.sendOptions'>options</a>:object=void):void </td><td>Send a socket message to id. Send a message to a (or all if -1) connection.</td></tr>",
          "1052: <tr><td>update</td><td>update():void </td><td>Service events for just this socket.</td></tr>",
          "1053: </table>",
          "1056: <a name=\"new SocketOptions\"></a>",
          "1057: <a name=\"Socket.confOptions\"></a>",
          "1058: <h2>Options for \"new Socket\"</h2>",
          "1059: <table border=\"1\" class=\"optstbl table\">",
          "1060: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1061: <tr><td>address</td><td><i>STRING</i></td><td>Client destination address (127.0.0.0).</td><td><i>initOnly</i></td></tr>",
          "1062: <tr><td>broadcast</td><td><i>BOOL</i></td><td>Enable broadcast.</td><td><i>initOnly</i></td></tr>",
          "1063: <tr><td>client</td><td><i>BOOL</i></td><td>Enable client mode.</td><td><i>initOnly</i></td></tr>",
          "1064: <tr><td>connectCnt</td><td><i>INT</i></td><td>Counter for number of active connections.</td><td><i>readOnly</i></td></tr>",
          "1065: <tr><td>createLast</td><td><i>TIME_T</i></td><td>Time of last create.</td><td><i>readOnly</i></td></tr>",
          "1066: <tr><td>debug</td><td><i>INT</i></td><td>Debugging level.</td><td><i></i></td></tr>",
          "1067: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all socket Send/Recv messages.</td><td><i></i></td></tr>",
          "1068: <tr><td>interface</td><td><i>STRING</i></td><td>Interface for server to listen on, eg. 'eth0' or 'lo'.</td><td><i>initOnly</i></td></tr>",
          "1069: <tr><td>keepalive</td><td><i>BOOL</i></td><td>Enable keepalive.</td><td><i>initOnly</i></td></tr>",
          "1070: <tr><td>maxConnects</td><td><i>INT</i></td><td>In server mode, max number of client connections accepted.</td><td><i></i></td></tr>",
          "1071: <tr><td>mcastAddMember</td><td><i>STRING</i></td><td>Multicast add membership: address/interface ('127.0.0.1/0.0.0.0').</td><td><i>initOnly</i></td></tr>",
          "1072: <tr><td>mcastInterface</td><td><i>STRING</i></td><td>Multicast interface address.</td><td><i>initOnly</i></td></tr>",
          "1073: <tr><td>mcastNoLoop</td><td><i>BOOL</i></td><td>Multicast loopback disable.</td><td><i>initOnly</i></td></tr>",
          "1074: <tr><td>mcastTtl</td><td><i>INT</i></td><td>Multicast TTL.</td><td><i>initOnly</i></td></tr>",
          "1075: <tr><td>noAsync</td><td><i>BOOL</i></td><td>Send is not async.</td><td><i>initOnly</i></td></tr>",
          "1076: <tr><td>noUpdate</td><td><i>BOOL</i></td><td>Stop processing update events (eg. to exit).</td><td><i></i></td></tr>",
          "1077: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when connection closes. @function(s:userobj|null, id:number)</td><td><i></i></td></tr>",
          "1078: <tr><td>onCloseLast</td><td><i>FUNC</i></td><td>Function to call when last connection closes. On object delete arg is null. @function(s:userobj|null)</td><td><i></i></td></tr>",
          "1079: <tr><td>noConfig</td><td><i>BOOL</i></td><td>Disable use of Socket.conf to change options after create.</td><td><i>initOnly</i></td></tr>",
          "1080: <tr><td>onOpen</td><td><i>FUNC</i></td><td>Function to call when connection opens. @function(s:userobj, info:object)</td><td><i></i></td></tr>",
          "1081: <tr><td>onRecv</td><td><i>FUNC</i></td><td>Function to call with recieved data. @function(s:userobj, id:number, data:string)</td><td><i></i></td></tr>",
          "1082: <tr><td>port</td><td><i>INT</i></td><td>Port for client dest or server listen.</td><td><i>initOnly</i></td></tr>",
          "1083: <tr><td>quiet</td><td><i>BOOL</i></td><td>Suppress info messages.</td><td><i>initOnly</i></td></tr>",
          "1084: <tr><td>recvTimeout</td><td><i>UINT64</i></td><td>Timeout for receive, in microseconds.</td><td><i>initOnly</i></td></tr>",
          "1085: <tr><td>sendTimeout</td><td><i>UINT64</i></td><td>Timeout for send, in microseconds.</td><td><i>initOnly</i></td></tr>",
          "1086: <tr><td>srcAddress</td><td><i>STRING</i></td><td>Client source address.</td><td><i>initOnly</i></td></tr>",
          "1087: <tr><td>srcPort</td><td><i>INT</i></td><td>Client source port.</td><td><i>initOnly</i></td></tr>",
          "1088: <tr><td>startTime</td><td><i>TIME_T</i></td><td>Time of start.</td><td><i>readOnly</i></td></tr>",
          "1089: <tr><td>stats</td><td><i><a href='#statsOptions'>options</a></i></td><td>Statistical data.</td><td><i>readOnly</i></td></tr>",
          "1090: <tr><td>timeout</td><td><i>NUMBER</i></td><td>Timeout value in seconds (0.5).</td><td><i>initOnly</i></td></tr>",
          "1091: <tr><td>tos</td><td><i>INT8</i></td><td>Type-Of-Service value.</td><td><i>initOnly</i></td></tr>",
          "1092: <tr><td>ttl</td><td><i>INT</i></td><td>Time-To-Live value.</td><td><i>initOnly</i></td></tr>",
          "1093: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1094: <tr><td>udp</td><td><i>BOOL</i></td><td>Protocol is udp.</td><td><i>initOnly</i></td></tr>",
          "1095: </table>",
          "1098: <a name=\"statsOptions\"></a>",
          "1099: <h2>Options for \"stats\"</h2>",
          "1100: <table border=\"1\" class=\"optstbl table\">",
          "1101: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1102: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all socket Send/Recv messages.</td><td><i></i></td></tr>",
          "1103: <tr><td>eventCnt</td><td><i>INT</i></td><td>Number of events of any type.</td><td><i></i></td></tr>",
          "1104: <tr><td>eventLast</td><td><i>TIME_T</i></td><td>Time of last event of any type.</td><td><i></i></td></tr>",
          "1105: <tr><td>recvAddr</td><td><i>CUSTOM</i></td><td>Incoming port and address.</td><td><i></i></td></tr>",
          "1106: <tr><td>recvCnt</td><td><i>INT</i></td><td>Number of recieves.</td><td><i></i></td></tr>",
          "1107: <tr><td>recvLast</td><td><i>TIME_T</i></td><td>Time of last recv.</td><td><i></i></td></tr>",
          "1108: <tr><td>sentCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1109: <tr><td>sentLast</td><td><i>TIME_T</i></td><td>Time of last send.</td><td><i></i></td></tr>",
          "1110: <tr><td>sentErrCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1111: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i></i></td></tr>",
          "1112: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1113: </table>",
          "1116: <a name=\"Socket.idconfOptions\"></a>",
          "1117: <a name=\"Socket.confOptions\"></a>",
          "1118: <h2>Options for \"Socket.idconf\"</h2>",
          "1119: <table border=\"1\" class=\"optstbl table\">",
          "1120: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1121: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all socket Send/Recv messages.</td><td><i></i></td></tr>",
          "1122: <tr><td>eventCnt</td><td><i>INT</i></td><td>Number of events of any type.</td><td><i></i></td></tr>",
          "1123: <tr><td>eventLast</td><td><i>TIME_T</i></td><td>Time of last event of any type.</td><td><i></i></td></tr>",
          "1124: <tr><td>recvAddr</td><td><i>CUSTOM</i></td><td>Incoming port and address.</td><td><i></i></td></tr>",
          "1125: <tr><td>recvCnt</td><td><i>INT</i></td><td>Number of recieves.</td><td><i></i></td></tr>",
          "1126: <tr><td>recvLast</td><td><i>TIME_T</i></td><td>Time of last recv.</td><td><i></i></td></tr>",
          "1127: <tr><td>sentCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1128: <tr><td>sentLast</td><td><i>TIME_T</i></td><td>Time of last send.</td><td><i></i></td></tr>",
          "1129: <tr><td>sentErrCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i></i></td></tr>",
          "1130: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i></i></td></tr>",
          "1131: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1132: </table>",
          "1135: <a name=\"Socket.sendOptions\"></a>",
          "1136: <a name=\"Socket.confOptions\"></a>",
          "1137: <h2>Options for \"Socket.send\"</h2>",
          "1138: <table border=\"1\" class=\"optstbl table\">",
          "1139: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1140: <tr><td>noAsync</td><td><i>BOOL</i></td><td>Send is not async.</td><td><i></i></td></tr>",
          "1141: </table>",
          "1142: <a name=\"Socketend\"></a>",
          "1143: <p><a href=\"#TOC\">Return to top</a>",
          "1144: <a name=\"Sqlite\"></a>",
          "1146: <hr>",
          "1149: <h1>Sqlite</h1>",
          "1151: <font color=red>Synopsis:new Sqlite(file:null&#124;string=void, options:object=void):userobj",
          "1153: </font><p>Commands for accessing sqlite databases.",
          "1156: <h2>Methods for \"Sqlite\"</h2>",
          "1157: <table border=\"1\"class=\"cmdstbl table\">",
          "1158: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1159: <tr><td>Sqlite</td><td>new Sqlite(file:null|string=void, <a href='#newSqliteOptions'>options</a>:object=void):userobj </td><td>Create a new db connection to the named file or :memory:.</td></tr>",
          "1160: <tr><td>backup</td><td>backup(file:string, dbname:string='main'):void </td><td>Backup db to file. Open or create a database file named FILENAME.",
          "1161: Transfer the content of local database DATABASE (default: 'main') into the FILENAME database.</td></tr>",
          "1162: <tr><td>collate</td><td>collate(name:string, callback:function):void </td><td>Create new SQL collation command.</td></tr>",
          "1163: <tr><td>complete</td><td>complete(sql:string):boolean </td><td>Return true if sql is complete.</td></tr>",
          "1164: <tr><td>conf</td><td>conf(<a href='#Sqlite.confOptions'>options</a>:string|object=void) </td><td>Configure options.</td></tr>",
          "1165: <tr><td>eval</td><td>eval(sql:string):number </td><td>Run sql commands without input/output. Supports multiple semicolon seperated commands.",
          "1166: Variable binding is NOT performed, results are discarded, and  returns sqlite3_changes()</td></tr>",
          "1167: <tr><td>exists</td><td>exists(sql:string):boolean </td><td>Execute sql, and return true if there is at least one result value.</td></tr>",
          "1168: <tr><td>filename</td><td>filename(name:string='main'):string </td><td>Return filename for named or all attached databases.</td></tr>",
          "1169: <tr><td>func</td><td>func(name:string, callback:function, numArgs:number=void):void </td><td>Register a new function with database.</td></tr>",
          "1170: <tr><td>import</td><td>import(table:string, file:string, <a href='#Sqlite.importOptions'>options</a>:object=void):number </td><td>Import data from file into table . Import data from a file into table. SqlOptions include the 'separator' to use, which defaults to commas for csv, or tabs otherwise.",
          "1171: If a column contains a null string, or the value of 'nullvalue', a null is inserted for the column.",
          "1172: A 'conflict' is one of the sqlite conflict algorithms:    rollback, abort, fail, ignore, replace",
          "1173: On success, return the number of lines processed, not necessarily same as 'changeCnt' due to the conflict algorithm selected. </td></tr>",
          "1174: <tr><td>interrupt</td><td>interrupt():void </td><td>Interrupt in progress statement.</td></tr>",
          "1175: <tr><td>onecolumn</td><td>onecolumn(sql:string) </td><td>Execute sql, and return a single value.</td></tr>",
          "1176: <tr><td>query</td><td>query(sql:string, <a href='#Sqlite.queryOptions'>options</a>:function|string|array|object=void) </td><td>Evaluate an sql query with bindings. Return values in formatted as JSON, HTML, etc. , optionally calling function with a result object</td></tr>",
          "1177: <tr><td>restore</td><td>restore(file:string, dbname:string):void </td><td>Restore db from file (default db is 'main').    db.restore(FILENAME, ?,DATABASE? )",
          "1178: Open a database file named FILENAME.  Transfer the content of FILENAME into the local database DATABASE (default: 'main').</td></tr>",
          "1179: <tr><td>transaction</td><td>transaction(callback:function, type:string=void):void </td><td>Call function inside db tranasaction. Type is: 'deferred', 'exclusive', 'immediate'. Start a new transaction (if we are not already in the midst of a transaction) and execute the JS function FUNC.",
          "1180: After FUNC completes, either commit the transaction or roll it back if FUNC throws an exception.",
          "1181: Or if no new transation was started, do nothing. pass the exception on up the stack.</td></tr>",
          "1182: </table>",
          "1185: <a name=\"new SqliteOptions\"></a>",
          "1186: <a name=\"Sqlite.confOptions\"></a>",
          "1187: <h2>Options for \"new Sqlite\"</h2>",
          "1188: <table border=\"1\" class=\"optstbl table\">",
          "1189: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1190: <tr><td>bindWarn</td><td><i>BOOL</i></td><td>Treat failed variable binds as a warning.</td><td><i>initOnly</i></td></tr>",
          "1191: <tr><td>changeCnt</td><td><i>INT</i></td><td>The number of rows modified, inserted, or deleted by last command.</td><td><i></i></td></tr>",
          "1192: <tr><td>changeCntAll</td><td><i>INT</i></td><td>Total number of rows modified, inserted, or deleted since db opened.</td><td><i></i></td></tr>",
          "1193: <tr><td>debug</td><td><i>ARRAY</i></td><td>Enable debug trace for various operations. (zero or more of: <b>eval</b>, <b>delete</b>, <b>prepare</b>, <b>step</b>)</td><td><i></i></td></tr>",
          "1194: <tr><td>echo</td><td><i>BOOL</i></td><td>Output query/eval string to log.</td><td><i></i></td></tr>",
          "1195: <tr><td>errCnt</td><td><i>INT</i></td><td>Count of errors in script callbacks.</td><td><i>readOnly</i></td></tr>",
          "1196: <tr><td>errorCode</td><td><i>INT</i></td><td>Numeric error code returned by the most recent call to sqlite3_exec.</td><td><i></i></td></tr>",
          "1197: <tr><td>forceInt</td><td><i>BOOL</i></td><td>Bind float as int if possible.</td><td><i></i></td></tr>",
          "1198: <tr><td>noJsonConv</td><td><i>BOOL</i></td><td>Do not JSON auto-convert array and object in CHARJSON columns.</td><td><i></i></td></tr>",
          "1199: <tr><td>lastInsertId</td><td><i>UINT64</i></td><td>The rowid of last insert.</td><td><i></i></td></tr>",
          "1200: <tr><td>load</td><td><i>BOOL</i></td><td>Extensions can be loaded.</td><td><i></i></td></tr>",
          "1201: <tr><td>maxRegexCache</td><td><i>INT</i></td><td>Max cache size for regex patterns; 0=disable, -1=unlimited (100).</td><td><i></i></td></tr>",
          "1202: <tr><td>mutex</td><td><i>STRKEY</i></td><td>Mutex type to use. (one of: <b>default</b>, <b>none</b>, <b>full</b>)</td><td><i>initOnly</i></td></tr>",
          "1203: <tr><td>name</td><td><i>DSTRING</i></td><td>The dbname to use instead of 'main'.</td><td><i>initOnly</i></td></tr>",
          "1204: <tr><td>noConfig</td><td><i>BOOL</i></td><td>Disable use of Sqlite.conf to change options after create.</td><td><i>initOnly</i></td></tr>",
          "1205: <tr><td>noCreate</td><td><i>BOOL</i></td><td>Database is must already exist (false).</td><td><i>initOnly</i></td></tr>",
          "1206: <tr><td>onAuth</td><td><i>FUNC</i></td><td>Function to call for auth. @function(db:userobj, code:string, descr1:string, decr2:string, dbname:string, trigname:string)</td><td><i></i></td></tr>",
          "1207: <tr><td>onBusy</td><td><i>FUNC</i></td><td>Function to call when busy. @function(db:userobj, tries:number)</td><td><i></i></td></tr>",
          "1208: <tr><td>onCommit</td><td><i>FUNC</i></td><td>Function to call on commit. @function(db:userobj)</td><td><i></i></td></tr>",
          "1209: <tr><td>onNeedCollate</td><td><i>FUNC</i></td><td>Function to call for collation. @function(db:userobj, name:string)</td><td><i></i></td></tr>",
          "1210: <tr><td>onProfile</td><td><i>FUNC</i></td><td>Function to call for profile. @function(db:userobj, sql:string, time:number)</td><td><i></i></td></tr>",
          "1211: <tr><td>onProgress</td><td><i>FUNC</i></td><td>Function to call for progress: progressSteps must be >0. @function(db:userobj)</td><td><i></i></td></tr>",
          "1212: <tr><td>onRollback</td><td><i>FUNC</i></td><td>Function to call for rollback. @function(db:userobj)</td><td><i></i></td></tr>",
          "1213: <tr><td>onTrace</td><td><i>FUNC</i></td><td>Function to call for trace. @function(db:userobj, sql:string)</td><td><i></i></td></tr>",
          "1214: <tr><td>onUpdate</td><td><i>FUNC</i></td><td>Function to call for update. @function(db:userobj, op:string, dbname:string, table:string, rowid:number)</td><td><i></i></td></tr>",
          "1215: <tr><td>onWalHook</td><td><i>FUNC</i></td><td>Function to call for WAL. @function(db:userobj, dbname:string, entry:number)</td><td><i></i></td></tr>",
          "1216: <tr><td>progressSteps</td><td><i>UINT</i></td><td>Number of steps between calling onProgress: 0 is disabled.</td><td><i></i></td></tr>",
          "1217: <tr><td>queryOpts</td><td><i><a href='#queryOptsOptions'>options</a></i></td><td>Default options for to use with query().</td><td><i></i></td></tr>",
          "1218: <tr><td>readonly</td><td><i>BOOL</i></td><td>Database opened in readonly mode.</td><td><i>initOnly</i></td></tr>",
          "1219: <tr><td>sortCnt</td><td><i>INT</i></td><td>Number of sorts in most recent operation.</td><td><i>readOnly</i></td></tr>",
          "1220: <tr><td>stepCnt</td><td><i>INT</i></td><td>Number of steps in most recent operation.</td><td><i>readOnly</i></td></tr>",
          "1221: <tr><td>stmtCacheCnt</td><td><i>INT</i></td><td>Current size of compiled statement cache.</td><td><i>readOnly</i></td></tr>",
          "1222: <tr><td>stmtCacheMax</td><td><i>INT</i></td><td>Max cache size for compiled statements.</td><td><i></i></td></tr>",
          "1223: <tr><td>timeout</td><td><i>INT</i></td><td>Amount of time to wait when file is locked, in ms.</td><td><i></i></td></tr>",
          "1224: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1225: <tr><td>version</td><td><i>OBJ</i></td><td>Sqlite version info.</td><td><i>readOnly</i></td></tr>",
          "1226: <tr><td>timeout</td><td><i>INT</i></td><td>Amount of time to wait when file is locked, in ms.</td><td><i></i></td></tr>",
          "1227: <tr><td>vfs</td><td><i>STRING</i></td><td>VFS to use.</td><td><i>initOnly</i></td></tr>",
          "1228: </table>",
          "1231: <a name=\"queryOptsOptions\"></a>",
          "1232: <h2>Options for \"queryOpts\"</h2>",
          "1233: <table border=\"1\" class=\"optstbl table\">",
          "1234: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1235: <tr><td>callback</td><td><i>FUNC</i></td><td>Function to call with each row result. @function(values:object)</td><td><i></i></td></tr>",
          "1236: <tr><td>cdata</td><td><i>STRKEY</i></td><td>Name of Cdata array object to use.</td><td><i></i></td></tr>",
          "1237: <tr><td>echo</td><td><i>BOOL</i></td><td>Output query string to log.</td><td><i></i></td></tr>",
          "1238: <tr><td>headers</td><td><i>BOOL</i></td><td>First row returned contains column labels.</td><td><i></i></td></tr>",
          "1239: <tr><td>limit</td><td><i>INT</i></td><td>Maximum number of returned values.</td><td><i></i></td></tr>",
          "1240: <tr><td>mapundef</td><td><i>BOOL</i></td><td>In variable bind, map an 'undefined' var to null.</td><td><i></i></td></tr>",
          "1241: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "1242: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "1243: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non js/json mode).</td><td><i></i></td></tr>",
          "1244: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "1245: <tr><td>retChanged</td><td><i>BOOL</i></td><td>Query returns value of sqlite3_changed().</td><td><i></i></td></tr>",
          "1246: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "1247: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (warn). (one of: <b>convert</b>, <b>warn</b>, <b>error</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "1248: <tr><td>table</td><td><i>STRKEY</i></td><td>Table name for mode=insert.</td><td><i></i></td></tr>",
          "1249: <tr><td>values</td><td><i>ARRAY</i></td><td>Values for ? bind parameters.</td><td><i></i></td></tr>",
          "1250: <tr><td>width</td><td><i>CUSTOM</i></td><td>In column mode, set column widths.</td><td><i></i></td></tr>",
          "1251: </table>",
          "1254: <a name=\"Sqlite.importOptions\"></a>",
          "1255: <a name=\"Sqlite.confOptions\"></a>",
          "1256: <h2>Options for \"Sqlite.import\"</h2>",
          "1257: <table border=\"1\" class=\"optstbl table\">",
          "1258: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1259: <tr><td>headers</td><td><i>BOOL</i></td><td>First row contains column labels.</td><td><i></i></td></tr>",
          "1260: <tr><td>csv</td><td><i>BOOL</i></td><td>Treat input values as CSV.</td><td><i></i></td></tr>",
          "1261: <tr><td>conflict</td><td><i>STRKEY</i></td><td>Set conflict resolution. (one of: <b>ROLLBACK</b>, <b>ABORT</b>, <b>FAIL</b>, <b>IGNORE</b>, <b>REPLACE</b>)</td><td><i></i></td></tr>",
          "1262: <tr><td>limit</td><td><i>INT</i></td><td>Maximum number of lines to load.</td><td><i></i></td></tr>",
          "1263: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string.</td><td><i></i></td></tr>",
          "1264: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string; default is comma if csv, else tabs.</td><td><i></i></td></tr>",
          "1265: </table>",
          "1268: <a name=\"Sqlite.queryOptions\"></a>",
          "1269: <a name=\"Sqlite.confOptions\"></a>",
          "1270: <h2>Options for \"Sqlite.query\"</h2>",
          "1271: <table border=\"1\" class=\"optstbl table\">",
          "1272: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1273: <tr><td>callback</td><td><i>FUNC</i></td><td>Function to call with each row result. @function(values:object)</td><td><i></i></td></tr>",
          "1274: <tr><td>cdata</td><td><i>STRKEY</i></td><td>Name of Cdata array object to use.</td><td><i></i></td></tr>",
          "1275: <tr><td>echo</td><td><i>BOOL</i></td><td>Output query string to log.</td><td><i></i></td></tr>",
          "1276: <tr><td>headers</td><td><i>BOOL</i></td><td>First row returned contains column labels.</td><td><i></i></td></tr>",
          "1277: <tr><td>limit</td><td><i>INT</i></td><td>Maximum number of returned values.</td><td><i></i></td></tr>",
          "1278: <tr><td>mapundef</td><td><i>BOOL</i></td><td>In variable bind, map an 'undefined' var to null.</td><td><i></i></td></tr>",
          "1279: <tr><td>mode</td><td><i>STRKEY</i></td><td>Set output mode of returned data. (one of: <b>rows</b>, <b>arrays</b>, <b>array1d</b>, <b>list</b>, <b>column</b>, <b>json</b>, <b>json2</b>, <b>html</b>, <b>csv</b>, <b>insert</b>, <b>line</b>, <b>tabs</b>, <b>none</b>)</td><td><i></i></td></tr>",
          "1280: <tr><td>nocache</td><td><i>BOOL</i></td><td>Disable query cache.</td><td><i></i></td></tr>",
          "1281: <tr><td>nullvalue</td><td><i>STRKEY</i></td><td>Null string output (for non js/json mode).</td><td><i></i></td></tr>",
          "1282: <tr><td>obj</td><td><i><a href='#objOptions'>options</a></i></td><td>Options for object.</td><td><i></i></td></tr>",
          "1283: <tr><td>retChanged</td><td><i>BOOL</i></td><td>Query returns value of sqlite3_changed().</td><td><i></i></td></tr>",
          "1284: <tr><td>separator</td><td><i>STRKEY</i></td><td>Separator string (for csv and text mode).</td><td><i></i></td></tr>",
          "1285: <tr><td>typeCheck</td><td><i>STRKEY</i></td><td>Type check mode (warn). (one of: <b>convert</b>, <b>warn</b>, <b>error</b>, <b>disable</b>)</td><td><i></i></td></tr>",
          "1286: <tr><td>table</td><td><i>STRKEY</i></td><td>Table name for mode=insert.</td><td><i></i></td></tr>",
          "1287: <tr><td>values</td><td><i>ARRAY</i></td><td>Values for ? bind parameters.</td><td><i></i></td></tr>",
          "1288: <tr><td>width</td><td><i>CUSTOM</i></td><td>In column mode, set column widths.</td><td><i></i></td></tr>",
          "1289: </table>",
          "1290: <a name=\"Sqliteend\"></a>",
          "1291: <p><a href=\"#TOC\">Return to top</a>",
          "1292: <a name=\"String\"></a>",
          "1294: <hr>",
          "1297: <h1>String</h1>",
          "1299: <font color=red>Synopsis:new String(str):string",
          "1301: </font><p>Commands for accessing string objects..",
          "1304: <h2>Methods for \"String\"</h2>",
          "1305: <table border=\"1\"class=\"cmdstbl table\">",
          "1306: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1307: <tr><td>String</td><td>new String(str):string </td><td>String constructor.</td></tr>",
          "1308: <tr><td>charAt</td><td>charAt(index:number):string </td><td>Return char at index.</td></tr>",
          "1309: <tr><td>charCodeAt</td><td>charCodeAt(index:number):number </td><td>Return char code at index.</td></tr>",
          "1310: <tr><td>concat</td><td>concat(str:string, ...):string </td><td>Append one or more strings.</td></tr>",
          "1311: <tr><td>fromCharCode</td><td>fromCharCode(...):string </td><td>Return string for char codes.</td></tr>",
          "1312: <tr><td>indexOf</td><td>indexOf(str:string, start:number):number </td><td>Return index of char.</td></tr>",
          "1313: <tr><td>lastIndexOf</td><td>lastIndexOf(str:string, start:number):number </td><td>Return index of last char.</td></tr>",
          "1314: <tr><td>map</td><td>map(strMap:array, nocase:boolean=false):string </td><td>Replaces characters in string based on the key-value pairs in strMap.</td></tr>",
          "1315: <tr><td>match</td><td>match(pattern:regexp|string):array|null </td><td>Return array of matches.</td></tr>",
          "1316: <tr><td>repeat</td><td>repeat(count:number):string </td><td>Return count copies of string.</td></tr>",
          "1317: <tr><td>replace</td><td>replace(pattern:regexp|string, replace:string|function):string </td><td>Regex/string replacement. If the replace argument is a function, it is called with match,p1,p2,...,offset,string.  If called function is known to have 1 argument, it is called with just the match.</td></tr>",
          "1318: <tr><td>search</td><td>search(pattern:regexp|string):number </td><td>Return index of first char matching pattern.</td></tr>",
          "1319: <tr><td>slice</td><td>slice(start:number, end:number):string </td><td>Return section of string.</td></tr>",
          "1320: <tr><td>split</td><td>split(char:string|null=void):array </td><td>Split on char and return Array. When char is omitted splits on bytes.  When char==null splits on whitespace and removes empty elements.</td></tr>",
          "1321: <tr><td>substr</td><td>substr(start:number, length:number):string </td><td>Return substring.</td></tr>",
          "1322: <tr><td>substring</td><td>substring(start:number, end:number):string </td><td>Return substring.</td></tr>",
          "1323: <tr><td>toLocaleLowerCase</td><td>toLocaleLowerCase():string </td><td>Lower case.</td></tr>",
          "1324: <tr><td>toLocaleUpperCase</td><td>toLocaleUpperCase():string </td><td>Upper case.</td></tr>",
          "1325: <tr><td>toLowerCase</td><td>toLowerCase():string </td><td>Return lower cased string.</td></tr>",
          "1326: <tr><td>toTitle</td><td>toTitle(chars:string):string </td><td>Make first char upper case.</td></tr>",
          "1327: <tr><td>toUpperCase</td><td>toUpperCase():string </td><td>Return upper cased string.</td></tr>",
          "1328: <tr><td>trim</td><td>trim(chars:string):string </td><td>Trim chars.</td></tr>",
          "1329: <tr><td>trimLeft</td><td>trimLeft(chars:string):string </td><td>Trim chars from left.</td></tr>",
          "1330: <tr><td>trimRight</td><td>trimRight(chars:string):string </td><td>Trim chars from right.</td></tr>",
          "1331: </table>",
          "1332: <a name=\"Stringend\"></a>",
          "1333: <p><a href=\"#TOC\">Return to top</a>",
          "1334: <a name=\"System\"></a>",
          "1336: <hr>",
          "1339: <h1>System</h1>",
          "1341: <font color=red>Synopsis:System.method(...)",
          "1343: </font><p>Builtin system commands. All methods are exported as global.",
          "1346: <h2>Methods for \"System\"</h2>",
          "1347: <table border=\"1\"class=\"cmdstbl table\">",
          "1348: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1349: <tr><td>LogDebug</td><td>LogDebug(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1350: <tr><td>LogError</td><td>LogError(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1351: <tr><td>LogInfo</td><td>LogInfo(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1352: <tr><td>LogTest</td><td>LogTest(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1353: <tr><td>LogTrace</td><td>LogTrace(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1354: <tr><td>LogWarn</td><td>LogWarn(str:string|boolean,...):void </td><td>Debug logging command.</td></tr>",
          "1355: <tr><td>assert</td><td>assert(expr:boolean|number|function, msg:string=void, <a href='#System.assertOptions'>options</a>:object=void):void </td><td>Throw or output msg if expr is false. Assertions.  Enable with jsish --I Assert or using the -Assert module option.</td></tr>",
          "1356: <tr><td>clearInterval</td><td>clearInterval(id:number):void </td><td>Delete event id returned from setInterval/setTimeout/info.events().</td></tr>",
          "1357: <tr><td>decodeURI</td><td>decodeURI(val:string):string </td><td>Decode an HTTP URL.</td></tr>",
          "1358: <tr><td>encodeURI</td><td>encodeURI(val:string):string </td><td>Encode an HTTP URL.</td></tr>",
          "1359: <tr><td>exec</td><td>exec(val:string, <a href='#System.execOptions'>options</a>:string|object=void) </td><td>Execute an OS command. If the command ends with '&', set the 'bg' option to true.",
          "1360: The second argument can be a string, which is the same as setting the 'inputStr' option.",
          "1361: By default, returns the string output, unless the 'bg', 'inputStr', 'retCode' or 'retAll' options are used</td></tr>",
          "1362: <tr><td>exit</td><td>exit(code:number=0):void </td><td>Exit the current interpreter.</td></tr>",
          "1363: <tr><td>format</td><td>format(format:string, ...):string </td><td>Printf style formatting: adds %q and %S.</td></tr>",
          "1364: <tr><td>isFinite</td><td>isFinite(val):boolean </td><td>Return true if is a finite number.</td></tr>",
          "1365: <tr><td>isMain</td><td>isMain():boolean </td><td>Return true if current script was the main script invoked from command-line.</td></tr>",
          "1366: <tr><td>isNaN</td><td>isNaN(val):boolean </td><td>Return true if not a number.</td></tr>",
          "1367: <tr><td>load</td><td>load(shlib:string):void </td><td>Load a shared executable and invoke its _Init call.</td></tr>",
          "1368: <tr><td>log</td><td>log(val, ...):void </td><td>Same as puts, but includes file:line.</td></tr>",
          "1369: <tr><td>matchObj</td><td>matchObj(obj:object, match:string=void, partial=false, noerror=false):string|boolean </td><td>Validate that object matches given name:type string. With single arg returns generated string.</td></tr>",
          "1370: <tr><td>moduleOpts</td><td>moduleOpts(self:object|userobj=void, options:object=void, conf:object|null|undefined=void):object </td><td>Parse module options.</td></tr>",
          "1371: <tr><td>moduleRun</td><td>moduleRun(cmd:string|null|function=void, conf:array=undefined) </td><td>Invoke named module. If name is empty, uses file basename. If isMain invokes function with same name as file. With no args will invoke provide.</td></tr>",
          "1372: <tr><td>noOp</td><td>noOp() </td><td>A No-Op. A zero overhead command call that is useful for debugging.</td></tr>",
          "1373: <tr><td>parseFloat</td><td>parseFloat(val):number </td><td>Convert string to a double.</td></tr>",
          "1374: <tr><td>parseInt</td><td>parseInt(val:any, base:number=10):number </td><td>Convert string to an integer.</td></tr>",
          "1375: <tr><td>parseOpts</td><td>parseOpts(self:object|userobj, options:object, conf:object|null|undefined=void):object </td><td>Parse module options: similar to moduleOpts but for non-modules.</td></tr>",
          "1376: <tr><td>printf</td><td>printf(format:string, ...):void </td><td>Formatted output to stdout.</td></tr>",
          "1377: <tr><td>provide</td><td>provide(name:string|null|function=void, version:number|string=void, <a href='#System.provideOptions'>options</a>:object|function=void):void </td><td>Provide a package for use with require.. Default is the file tail-rootname</td></tr>",
          "1378: <tr><td>puts</td><td>puts(val, ...):void </td><td>Output one or more values to stdout. Each argument is quoted.  Use Interp.logOpts to control source line and/or timestamps output.</td></tr>",
          "1379: <tr><td>quote</td><td>quote(val:string):string </td><td>Return quoted string.</td></tr>",
          "1380: <tr><td>require</td><td>require(name:string=void, version:number|string=1, <a href='#System.requireOptions'>options</a>:object=void):number|array|object </td><td>Load/query packages. With no arguments, returns the list of all loaded packages.",
          "1381: With one argument, loads the package (if necessary) and returns its version.",
          "1382: With two arguments, returns object containing: version, loadFile, func.",
          "1383: A third argument sets options for package or module.",
          "1384: Note an error is thrown if requested version is greater than actual version.</td></tr>",
          "1385: <tr><td>runModule</td><td>runModule(cmd:string|null|function=void, conf:array=undefined) </td><td>Invoke named module. If name is empty, uses file basename. If isMain invokes function with same name as file. With no args will invoke provide.</td></tr>",
          "1386: <tr><td>setInterval</td><td>setInterval(callback:function, ms:number):number </td><td>Setup recurring function to run every given millisecs.</td></tr>",
          "1387: <tr><td>setTimeout</td><td>setTimeout(callback:function, ms:number):number </td><td>Setup function to run after given millisecs.</td></tr>",
          "1388: <tr><td>sleep</td><td>sleep(secs:number=1.0):void </td><td>sleep for N milliseconds, minimum .001.</td></tr>",
          "1389: <tr><td>source</td><td>source(val:string|array, <a href='#System.sourceOptions'>options</a>:object=void) </td><td>Load and evaluate source files: trailing '/' appends PARENTDIR.jsi.</td></tr>",
          "1390: <tr><td>strftime</td><td>strftime(num:number=null, <a href='#System.strftimeOptions'>options</a>:string|object=void):string </td><td>Format numeric time (in ms) to a string. Null or no value will use current time.</td></tr>",
          "1391: <tr><td>strptime</td><td>strptime(val:string=void, <a href='#System.strptimeOptions'>options</a>:string|object=void):number </td><td>Parse time from string and return ms time since 1970-01-01 in UTC, or NaN.</td></tr>",
          "1392: <tr><td>times</td><td>times(callback:function|boolean, count:number=1):number </td><td>Call function count times and return execution time in microseconds.</td></tr>",
          "1393: <tr><td>unload</td><td>unload(shlib:string):void </td><td>Unload a shared executable and invoke its _Done call.</td></tr>",
          "1394: <tr><td>update</td><td>update(<a href='#System.updateOptions'>options</a>:number|object=void):number </td><td>Service all events, eg. setInterval/setTimeout. Returns the number of events processed. Events are processed until minTime (in milliseconds) is exceeded, or forever if -1.",
          "1395: The default minTime is 0, meaning return as soon as no events can be processed. A positive mintime will result in sleeps between event checks.</td></tr>",
          "1396: </table>",
          "1399: <a name=\"System.assertOptions\"></a>",
          "1400: <a name=\"System.confOptions\"></a>",
          "1401: <h2>Options for \"System.assert\"</h2>",
          "1402: <table border=\"1\" class=\"optstbl table\">",
          "1403: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1404: <tr><td>mode</td><td><i>STRKEY</i></td><td>Action when assertion fails. Default from Interp.assertMode. (one of: <b>throw</b>, <b>log</b>, <b>puts</b>)</td><td><i></i></td></tr>",
          "1405: <tr><td>noStderr</td><td><i>BOOL</i></td><td>Logged msg to stdout. Default from Interp.noStderr.</td><td><i></i></td></tr>",
          "1406: </table>",
          "1409: <a name=\"System.execOptions\"></a>",
          "1410: <a name=\"System.confOptions\"></a>",
          "1411: <h2>Options for \"System.exec\"</h2>",
          "1412: <table border=\"1\" class=\"optstbl table\">",
          "1413: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1414: <tr><td>bg</td><td><i>BOOL</i></td><td>Run command in background using system() and return OS code.</td><td><i></i></td></tr>",
          "1415: <tr><td>chdir</td><td><i>STRING</i></td><td>Change to directory.</td><td><i></i></td></tr>",
          "1416: <tr><td>inputStr</td><td><i>STRING</i></td><td>Use string as input and return OS code.</td><td><i></i></td></tr>",
          "1417: <tr><td>noError</td><td><i>BOOL</i></td><td>Suppress all OS errors.</td><td><i></i></td></tr>",
          "1418: <tr><td>noRedir</td><td><i>BOOL</i></td><td>Disable redirect and shell escapes in command.</td><td><i></i></td></tr>",
          "1419: <tr><td>noShell</td><td><i>BOOL</i></td><td>Do not use native popen which invokes via /bin/sh.</td><td><i></i></td></tr>",
          "1420: <tr><td>trim</td><td><i>BOOL</i></td><td>Trim trailing whitespace from output.</td><td><i></i></td></tr>",
          "1421: <tr><td>retAll</td><td><i>BOOL</i></td><td>Return the OS return code and data as an object.</td><td><i></i></td></tr>",
          "1422: <tr><td>retCode</td><td><i>BOOL</i></td><td>Return only the OS return code.</td><td><i></i></td></tr>",
          "1423: </table>",
          "1426: <a name=\"System.provideOptions\"></a>",
          "1427: <a name=\"System.confOptions\"></a>",
          "1428: <h2>Options for \"System.provide\"</h2>",
          "1429: <table border=\"1\" class=\"optstbl table\">",
          "1430: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1431: <tr><td>log</td><td><i>ARRAY</i></td><td>Logging flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "1432: <tr><td>logmask</td><td><i>ARRAY</i></td><td>Logging mask flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "1433: <tr><td>coverage</td><td><i>BOOL</i></td><td>On exit generate detailed code coverage for function calls (with profile).</td><td><i></i></td></tr>",
          "1434: <tr><td>nofreeze</td><td><i>BOOL</i></td><td>Disable moduleOpts freeze of first arg (self).</td><td><i></i></td></tr>",
          "1435: <tr><td>info</td><td><i>OBJ</i></td><td>Info provided by module.</td><td><i>initOnly</i></td></tr>",
          "1436: <tr><td>profile</td><td><i>BOOL</i></td><td>On exit generate profile of function calls.</td><td><i></i></td></tr>",
          "1437: <tr><td>traceCall</td><td><i>ARRAY</i></td><td>Trace commands. (zero or more of: <b>funcs</b>, <b>cmds</b>, <b>new</b>, <b>return</b>, <b>args</b>, <b>notrunc</b>, <b>noparent</b>, <b>full</b>, <b>before</b>)</td><td><i></i></td></tr>",
          "1438: <tr><td>udata</td><td><i>OBJ</i></td><td>User data settable by require.</td><td><i></i></td></tr>",
          "1439: </table>",
          "1442: <a name=\"System.requireOptions\"></a>",
          "1443: <a name=\"System.confOptions\"></a>",
          "1444: <h2>Options for \"System.require\"</h2>",
          "1445: <table border=\"1\" class=\"optstbl table\">",
          "1446: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1447: <tr><td>log</td><td><i>ARRAY</i></td><td>Logging flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "1448: <tr><td>logmask</td><td><i>ARRAY</i></td><td>Logging mask flags. (zero or more of: <b>bug</b>, <b>assert</b>, <b>debug</b>, <b>trace</b>, <b>test</b>, <b>info</b>, <b>warn</b>, <b>error</b>, <b>parse</b>)</td><td><i>noCase</i></td></tr>",
          "1449: <tr><td>coverage</td><td><i>BOOL</i></td><td>On exit generate detailed code coverage for function calls (with profile).</td><td><i></i></td></tr>",
          "1450: <tr><td>nofreeze</td><td><i>BOOL</i></td><td>Disable moduleOpts freeze of first arg (self).</td><td><i></i></td></tr>",
          "1451: <tr><td>info</td><td><i>OBJ</i></td><td>Info provided by module.</td><td><i>initOnly</i></td></tr>",
          "1452: <tr><td>profile</td><td><i>BOOL</i></td><td>On exit generate profile of function calls.</td><td><i></i></td></tr>",
          "1453: <tr><td>traceCall</td><td><i>ARRAY</i></td><td>Trace commands. (zero or more of: <b>funcs</b>, <b>cmds</b>, <b>new</b>, <b>return</b>, <b>args</b>, <b>notrunc</b>, <b>noparent</b>, <b>full</b>, <b>before</b>)</td><td><i></i></td></tr>",
          "1454: <tr><td>udata</td><td><i>OBJ</i></td><td>User data settable by require.</td><td><i></i></td></tr>",
          "1455: </table>",
          "1458: <a name=\"System.sourceOptions\"></a>",
          "1459: <a name=\"System.confOptions\"></a>",
          "1460: <h2>Options for \"System.source\"</h2>",
          "1461: <table border=\"1\" class=\"optstbl table\">",
          "1462: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1463: <tr><td>autoIndex</td><td><i>BOOL</i></td><td>Look for and load Jsi_Auto.jsi auto-index file.</td><td><i></i></td></tr>",
          "1464: <tr><td>exists</td><td><i>BOOL</i></td><td>Source file only if exists.</td><td><i></i></td></tr>",
          "1465: <tr><td>global</td><td><i>BOOL</i></td><td>File is to be sourced in global frame rather than local.</td><td><i></i></td></tr>",
          "1466: <tr><td>isMain</td><td><i>BOOL</i></td><td>Coerce to true the value of Info.isMain().</td><td><i></i></td></tr>",
          "1467: <tr><td>level</td><td><i>UINT</i></td><td>Frame to source file in.</td><td><i></i></td></tr>",
          "1468: <tr><td>noEval</td><td><i>BOOL</i></td><td>Disable eval: just parses file to check syntax.</td><td><i></i></td></tr>",
          "1469: <tr><td>noError</td><td><i>BOOL</i></td><td>Ignore errors in sourced file.</td><td><i></i></td></tr>",
          "1470: <tr><td>once</td><td><i>BOOL</i></td><td>Source file only if not already sourced (Default: Interp.debugOpts.includeOnce).</td><td><i></i></td></tr>",
          "1471: <tr><td>trace</td><td><i>BOOL</i></td><td>Trace include statements (Default: Interp.debugOpts.includeTrace).</td><td><i></i></td></tr>",
          "1472: </table>",
          "1475: <a name=\"System.strftimeOptions\"></a>",
          "1476: <a name=\"System.confOptions\"></a>",
          "1477: <h2>Options for \"System.strftime\"</h2>",
          "1478: <table border=\"1\" class=\"optstbl table\">",
          "1479: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1480: <tr><td>secs</td><td><i>BOOL</i></td><td>Time is seconds (out for parse, in for format).</td><td><i></i></td></tr>",
          "1481: <tr><td>fmt</td><td><i>STRKEY</i></td><td>Format string for time.</td><td><i></i></td></tr>",
          "1482: <tr><td>iso</td><td><i>BOOL</i></td><td>ISO fmt plus milliseconds ie: %FT%T.%f.</td><td><i></i></td></tr>",
          "1483: <tr><td>utc</td><td><i>BOOL</i></td><td>Time is utc (in for parse, out for format).</td><td><i></i></td></tr>",
          "1484: </table>",
          "1487: <a name=\"System.strptimeOptions\"></a>",
          "1488: <a name=\"System.confOptions\"></a>",
          "1489: <h2>Options for \"System.strptime\"</h2>",
          "1490: <table border=\"1\" class=\"optstbl table\">",
          "1491: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1492: <tr><td>secs</td><td><i>BOOL</i></td><td>Time is seconds (out for parse, in for format).</td><td><i></i></td></tr>",
          "1493: <tr><td>fmt</td><td><i>STRKEY</i></td><td>Format string for time.</td><td><i></i></td></tr>",
          "1494: <tr><td>iso</td><td><i>BOOL</i></td><td>ISO fmt plus milliseconds ie: %FT%T.%f.</td><td><i></i></td></tr>",
          "1495: <tr><td>utc</td><td><i>BOOL</i></td><td>Time is utc (in for parse, out for format).</td><td><i></i></td></tr>",
          "1496: </table>",
          "1499: <a name=\"System.updateOptions\"></a>",
          "1500: <a name=\"System.confOptions\"></a>",
          "1501: <h2>Options for \"System.update\"</h2>",
          "1502: <table border=\"1\" class=\"optstbl table\">",
          "1503: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1504: <tr><td>maxEvents</td><td><i>INT</i></td><td>Maximum number of events to process (or -1 for all).</td><td><i></i></td></tr>",
          "1505: <tr><td>maxPasses</td><td><i>INT</i></td><td>Maximum passes through event queue.</td><td><i></i></td></tr>",
          "1506: <tr><td>minTime</td><td><i>INT</i></td><td>Minimum milliseconds before returning, or -1 to loop forever (default is 0).</td><td><i></i></td></tr>",
          "1507: <tr><td>sleep</td><td><i>INT</i></td><td>Time to sleep time (in milliseconds) between event checks. Default is 1.</td><td><i></i></td></tr>",
          "1508: </table>",
          "1509: <a name=\"Systemend\"></a>",
          "1510: <p><a href=\"#TOC\">Return to top</a>",
          "1511: <a name=\"Util\"></a>",
          "1513: <hr>",
          "1516: <h1>Util</h1>",
          "1518: <font color=red>Synopsis:Util.method(...)",
          "1520: </font><p>Utilities commands.",
          "1523: <h2>Methods for \"Util\"</h2>",
          "1524: <table border=\"1\"class=\"cmdstbl table\">",
          "1525: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1526: <tr><td>argArray</td><td>argArray(arg:any|undefined):array|null </td><td>Coerces non-null to an array, if necessary.</td></tr>",
          "1527: <tr><td>base64</td><td>base64(val:string, decode:boolean=false):string </td><td>Base64 encode/decode a string.</td></tr>",
          "1528: <tr><td>complete</td><td>complete(val:string):boolean </td><td>Return true if string is complete command with balanced braces, etc.</td></tr>",
          "1529: <tr><td>crc32</td><td>crc32(val:string, crcSeed=0):number </td><td>Calculate 32-bit CRC.</td></tr>",
          "1530: <tr><td>decrypt</td><td>decrypt(val:string, key:string):string </td><td>Decrypt data using BTEA encryption. Keys that are not 16 bytes use the MD5 hash of the key.</td></tr>",
          "1531: <tr><td>encrypt</td><td>encrypt(val:string, key:string):string </td><td>Encrypt data using BTEA encryption. Keys that are not 16 bytes use the MD5 hash of the key.</td></tr>",
          "1532: <tr><td>fromCharCode</td><td>fromCharCode(code:number):string </td><td>Return char with given character code.</td></tr>",
          "1533: <tr><td>getenv</td><td>getenv(name:string=void):string|object|void </td><td>Get one or all environment.</td></tr>",
          "1534: <tr><td>getpid</td><td>getpid(parent:boolean=false):number </td><td>Get process/parent id.</td></tr>",
          "1535: <tr><td>getuser</td><td>getuser():object </td><td>Get userid info.</td></tr>",
          "1536: <tr><td>hash</td><td>hash(val:string, <a href='#Util.hashOptions'>options</a>:object=void):string </td><td>Return hash (default SHA256) of string/file.</td></tr>",
          "1537: <tr><td>hexStr</td><td>hexStr(val:string, decode:boolean=false):string </td><td>Hex encode/decode a string.</td></tr>",
          "1538: <tr><td>setenv</td><td>setenv(name:string, value:string=void) </td><td>Set/get an environment var.</td></tr>",
          "1539: <tr><td>sqlValues</td><td>sqlValues(name:string, obj:object=void) </td><td>Get object values for SQL.</td></tr>",
          "1540: <tr><td>times</td><td>times(callback:function|boolean, count:number=1):number </td><td>Call function count times and return execution time in microseconds.</td></tr>",
          "1541: <tr><td>verConvert</td><td>verConvert(ver:string|number, zeroTrim:number=0):number|string|null </td><td>Convert a version to/from a string/number, or return null if not a version. For string output zeroTrim says how many trailing .0 to trim (0-2).</td></tr>",
          "1542: </table>",
          "1545: <a name=\"Util.hashOptions\"></a>",
          "1546: <a name=\"Util.confOptions\"></a>",
          "1547: <h2>Options for \"Util.hash\"</h2>",
          "1548: <table border=\"1\" class=\"optstbl table\">",
          "1549: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1550: <tr><td>file</td><td><i>STRING</i></td><td>Read data from file and append to str.</td><td><i></i></td></tr>",
          "1551: <tr><td>hashcash</td><td><i>UINT</i></td><td>Search for a hash with this many leading zero bits by appending :nonce (Proof-Of-Work).</td><td><i></i></td></tr>",
          "1552: <tr><td>noHex</td><td><i>BOOL</i></td><td>Return binary digest, without conversion to hex chars.</td><td><i></i></td></tr>",
          "1553: <tr><td>type</td><td><i>STRKEY</i></td><td>Type of hash. (one of: <b>sha256</b>, <b>sha1</b>, <b>md5</b>, <b>sha3_224</b>, <b>sha3_384</b>, <b>sha3_512</b>, <b>sha3_256</b>)</td><td><i></i></td></tr>",
          "1554: </table>",
          "1555: <a name=\"Utilend\"></a>",
          "1556: <p><a href=\"#TOC\">Return to top</a>",
          "1557: <a name=\"Vfs\"></a>",
          "1559: <hr>",
          "1562: <h1>Vfs</h1>",
          "1564: <font color=red>Synopsis:Vfs.method(...)",
          "1566: </font><p>Commands for creating in memory readonly Virtual file-systems.",
          "1569: <h2>Methods for \"Vfs\"</h2>",
          "1570: <table border=\"1\"class=\"cmdstbl table\">",
          "1571: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1572: <tr><td>conf</td><td>conf(mount:string, <a href='#Vfs.confOptions'>options</a>:string|object|string=void) </td><td>Configure mount.</td></tr>",
          "1573: <tr><td>exec</td><td>exec(cmd:string) </td><td>Safe mode exec for VFS support cmds eg. fossil info/ls/cat.</td></tr>",
          "1574: <tr><td>fileconf</td><td>fileconf(mount:string, path:string, <a href='#Vfs.fileconfOptions'>options</a>:string|object=void) </td><td>Configure file info which is same info as in fileList.</td></tr>",
          "1575: <tr><td>list</td><td>list():array </td><td>Return list of all vfs mounts.</td></tr>",
          "1576: <tr><td>mount</td><td>mount(type:string, file:string, param:object=void):string </td><td>Mount fossil file as given VFS type name, returning the mount point: frontend for vmount.</td></tr>",
          "1577: <tr><td>type</td><td>type(type:string=void, <a href='#Vfs.typeOptions'>options</a>:object|null=void) </td><td>Set/get/delete VFS type name.</td></tr>",
          "1578: <tr><td>unmount</td><td>unmount(mount:string):void </td><td>Unmount a VFS.</td></tr>",
          "1579: <tr><td>vmount</td><td>vmount(<a href='#Vfs.vmountOptions'>options</a>:object=void):string </td><td>Create and mount a VFS, returning the mount point.</td></tr>",
          "1580: </table>",
          "1583: <a name=\"Vfs.confOptions\"></a>",
          "1584: <a name=\"Vfs.confOptions\"></a>",
          "1585: <h2>Options for \"Vfs.conf\"</h2>",
          "1586: <table border=\"1\" class=\"optstbl table\">",
          "1587: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1588: <tr><td>callback</td><td><i>FUNC</i></td><td>Function implementing VFS. @function(op:string, mount:string, arg:string|object|null)</td><td><i></i></td></tr>",
          "1589: <tr><td>extra</td><td><i>OBJ</i></td><td>Extra info, typically used by predefined VFS type.</td><td><i></i></td></tr>",
          "1590: <tr><td>noAddDirs</td><td><i>BOOL</i></td><td>Disable auto-adding of directories; needed by File.glob.</td><td><i></i></td></tr>",
          "1591: <tr><td>file</td><td><i>STRING</i></td><td>Fossil file to mount.</td><td><i></i></td></tr>",
          "1592: <tr><td>fileList</td><td><i>ARRAY</i></td><td>List of files in the VFS (from listFunc).</td><td><i></i></td></tr>",
          "1593: <tr><td>info</td><td><i>OBJ</i></td><td>Info for VFS that is stored upon init.</td><td><i></i></td></tr>",
          "1594: <tr><td>mount</td><td><i>STRING</i></td><td>Mount point for the VFS.</td><td><i></i></td></tr>",
          "1595: <tr><td>noPatches</td><td><i>BOOL</i></td><td>Ignore patchlevel updates: accepts only X.Y releases.</td><td><i></i></td></tr>",
          "1596: <tr><td>param</td><td><i>OBJ</i></td><td>Optional 3rd argument passed to mount.</td><td><i></i></td></tr>",
          "1597: <tr><td>type</td><td><i>STRKEY</i></td><td>Type for predefined VFS.</td><td><i></i></td></tr>",
          "1598: <tr><td>user</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1599: <tr><td>version</td><td><i>STRKEY</i></td><td>Version to mount.</td><td><i></i></td></tr>",
          "1600: </table>",
          "1603: <a name=\"Vfs.execOptions\"></a>",
          "1604: <a name=\"Vfs.confOptions\"></a>",
          "1605: <h2>Options for \"Vfs.exec\"</h2>",
          "1606: <table border=\"1\" class=\"optstbl table\">",
          "1607: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1608: <tr><td>data</td><td><i>STRING</i></td><td>Data for file.</td><td><i></i></td></tr>",
          "1609: <tr><td>file</td><td><i>STRKEY</i></td><td>File pathname.</td><td><i>required</i></td></tr>",
          "1610: <tr><td>perms</td><td><i>UINT32</i></td><td>Permissions for file.</td><td><i></i></td></tr>",
          "1611: <tr><td>size</td><td><i>SSIZE_T</i></td><td>Size of file.</td><td><i></i></td></tr>",
          "1612: <tr><td>timestamp</td><td><i>TIME_T</i></td><td>Timestamp of file.</td><td><i></i></td></tr>",
          "1613: </table>",
          "1616: <a name=\"Vfs.fileconfOptions\"></a>",
          "1617: <a name=\"Vfs.confOptions\"></a>",
          "1618: <h2>Options for \"Vfs.fileconf\"</h2>",
          "1619: <table border=\"1\" class=\"optstbl table\">",
          "1620: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1621: <tr><td>data</td><td><i>STRING</i></td><td>Data for file.</td><td><i></i></td></tr>",
          "1622: <tr><td>file</td><td><i>STRKEY</i></td><td>File pathname.</td><td><i>required</i></td></tr>",
          "1623: <tr><td>perms</td><td><i>UINT32</i></td><td>Permissions for file.</td><td><i></i></td></tr>",
          "1624: <tr><td>size</td><td><i>SSIZE_T</i></td><td>Size of file.</td><td><i></i></td></tr>",
          "1625: <tr><td>timestamp</td><td><i>TIME_T</i></td><td>Timestamp of file.</td><td><i></i></td></tr>",
          "1626: </table>",
          "1629: <a name=\"Vfs.typeOptions\"></a>",
          "1630: <a name=\"Vfs.confOptions\"></a>",
          "1631: <h2>Options for \"Vfs.type\"</h2>",
          "1632: <table border=\"1\" class=\"optstbl table\">",
          "1633: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1634: <tr><td>callback</td><td><i>FUNC</i></td><td>Function implementing VFS. @function(op:string, mount:string, arg:string|object|null)</td><td><i>required</i></td></tr>",
          "1635: <tr><td>extra</td><td><i>OBJ</i></td><td>Extra info, typically used by predefined VFS type.</td><td><i></i></td></tr>",
          "1636: <tr><td>noAddDirs</td><td><i>BOOL</i></td><td>Disable auto-adding of directories; needed by File.glob.</td><td><i></i></td></tr>",
          "1637: </table>",
          "1640: <a name=\"Vfs.vmountOptions\"></a>",
          "1641: <a name=\"Vfs.confOptions\"></a>",
          "1642: <h2>Options for \"Vfs.vmount\"</h2>",
          "1643: <table border=\"1\" class=\"optstbl table\">",
          "1644: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1645: <tr><td>callback</td><td><i>FUNC</i></td><td>Function implementing VFS. @function(op:string, mount:string, arg:string|object|null)</td><td><i></i></td></tr>",
          "1646: <tr><td>extra</td><td><i>OBJ</i></td><td>Extra info, typically used by predefined VFS type.</td><td><i></i></td></tr>",
          "1647: <tr><td>noAddDirs</td><td><i>BOOL</i></td><td>Disable auto-adding of directories; needed by File.glob.</td><td><i></i></td></tr>",
          "1648: <tr><td>file</td><td><i>STRING</i></td><td>Fossil file to mount.</td><td><i></i></td></tr>",
          "1649: <tr><td>fileList</td><td><i>ARRAY</i></td><td>List of files in the VFS (from listFunc).</td><td><i></i></td></tr>",
          "1650: <tr><td>info</td><td><i>OBJ</i></td><td>Info for VFS that is stored upon init.</td><td><i></i></td></tr>",
          "1651: <tr><td>mount</td><td><i>STRING</i></td><td>Mount point for the VFS.</td><td><i></i></td></tr>",
          "1652: <tr><td>noPatches</td><td><i>BOOL</i></td><td>Ignore patchlevel updates: accepts only X.Y releases.</td><td><i></i></td></tr>",
          "1653: <tr><td>param</td><td><i>OBJ</i></td><td>Optional 3rd argument passed to mount.</td><td><i></i></td></tr>",
          "1654: <tr><td>type</td><td><i>STRKEY</i></td><td>Type for predefined VFS.</td><td><i></i></td></tr>",
          "1655: <tr><td>user</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1656: <tr><td>version</td><td><i>STRKEY</i></td><td>Version to mount.</td><td><i></i></td></tr>",
          "1657: </table>",
          "1658: <a name=\"Vfsend\"></a>",
          "1659: <p><a href=\"#TOC\">Return to top</a>",
          "1660: <a name=\"WebSocket\"></a>",
          "1662: <hr>",
          "1665: <h1>WebSocket</h1>",
          "1667: <font color=red>Synopsis:new WebSocket(options:object=void):userobj",
          "1669: </font><p>Commands for managing WebSocket server/client connections.",
          "1672: <h2>Methods for \"WebSocket\"</h2>",
          "1673: <table border=\"1\"class=\"cmdstbl table\">",
          "1674: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1675: <tr><td>WebSocket</td><td>new WebSocket(<a href='#newWebSocketOptions'>options</a>:object=void):userobj </td><td>Create websocket server/client object.Create a websocket server/client object.  The server serves out pages to a web browser,",
          "1676: which can use javascript to upgrade connection to a bidirectional websocket.</td></tr>",
          "1677: <tr><td>conf</td><td>conf(<a href='#WebSocket.confOptions'>options</a>:string|object=void) </td><td>Configure options.</td></tr>",
          "1678: <tr><td>file</td><td>file(name:string=void):array|void </td><td>Add file to hash, or with no args return file hash.</td></tr>",
          "1679: <tr><td>handler</td><td>handler(extension:string=void, cmd:string|function=void, flags:number=0):string|array|function|void </td><td>Get/Set handler command for an extension. With no args, returns list of handlers.  With one arg, returns value for that handler.",
          "1680: Otherwise, sets the handler. When cmd is a string, the call is via moduleRun([cmd], arg).",
          "1681: If a cmd is a function, it is called with a single arg: the file name.</td></tr>",
          "1682: <tr><td>header</td><td>header(id:number, name:string=void):string|array|void </td><td>Get one or all input headers for connect id.</td></tr>",
          "1683: <tr><td>idconf</td><td>idconf(id:number, <a href='#WebSocket.idconfOptions'>options</a>:string|object=void) </td><td>Configure options for connect id.</td></tr>",
          "1684: <tr><td>ids</td><td>ids(name:string=void):array </td><td>Return list of ids, or lookup one id.</td></tr>",
          "1685: <tr><td>query</td><td>query(id:number, name:string=void):string|object|void </td><td>Get one or all query values for connect id.</td></tr>",
          "1686: <tr><td>send</td><td>send(id:number, data:any):void </td><td>Send a websocket message to id. Send a message to one (or all connections if -1). If not already a string, msg is formatted as JSON prior to the send.</td></tr>",
          "1687: <tr><td>status</td><td>status():object|void </td><td>Return liblws server status.</td></tr>",
          "1688: <tr><td>unalias</td><td>unalias(path:string):string|void </td><td>Return alias reverse lookup.</td></tr>",
          "1689: <tr><td>update</td><td>update():void </td><td>Service events for just this websocket.</td></tr>",
          "1690: <tr><td>version</td><td>version():string </td><td>Runtime library version string.</td></tr>",
          "1691: </table>",
          "1694: <a name=\"new WebSocketOptions\"></a>",
          "1695: <a name=\"WebSocket.confOptions\"></a>",
          "1696: <h2>Options for \"new WebSocket\"</h2>",
          "1697: <table border=\"1\" class=\"optstbl table\">",
          "1698: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1699: <tr><td>address</td><td><i>STRING</i></td><td>In client-mode the address to connect to (127.0.0.1).</td><td><i></i></td></tr>",
          "1700: <tr><td>bufferPwr2</td><td><i>INT</i></td><td>Tune the recv/send buffer: value is a power of 2 in [0-20] (16).</td><td><i></i></td></tr>",
          "1701: <tr><td>client</td><td><i>BOOL</i></td><td>Run in client mode.</td><td><i>initOnly</i></td></tr>",
          "1702: <tr><td>clientHost</td><td><i>STRKEY</i></td><td>Override host name for client.</td><td><i></i></td></tr>",
          "1703: <tr><td>clientOrigin</td><td><i>STRKEY</i></td><td>Override client origin (origin).</td><td><i></i></td></tr>",
          "1704: <tr><td>debug</td><td><i>INT</i></td><td>Set debug level. Setting this to 512 will turn on max liblws log levels.</td><td><i></i></td></tr>",
          "1705: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all websock Send/Recv messages.</td><td><i></i></td></tr>",
          "1706: <tr><td>formParams</td><td><i>STRKEY</i></td><td>Comma seperated list of upload form param names ('text,send,file,upload').</td><td><i>readOnly</i></td></tr>",
          "1707: <tr><td>extHandlers</td><td><i>BOOL</i></td><td>Setup builtin extension-handlers, ie: .htmli, .cssi, .jsi, .mdi.</td><td><i>initOnly</i></td></tr>",
          "1708: <tr><td>extOpts</td><td><i>OBJ</i></td><td>Key/value store for extension-handlers options.</td><td><i>initOnly</i></td></tr>",
          "1709: <tr><td>flags</td><td><i>INT</i></td><td>Flags for future use..</td><td><i></i></td></tr>",
          "1710: <tr><td>getRegexp</td><td><i>REGEXP</i></td><td>Call onGet() only if Url matches pattern.</td><td><i></i></td></tr>",
          "1711: <tr><td>headers</td><td><i>ARRAY</i></td><td>Headers to send to browser: name/value pairs.</td><td><i>initOnly</i></td></tr>",
          "1712: <tr><td>jsiFnPattern</td><td><i>STRKEY</i></td><td>A glob-match pattern for files to which is appended 'window.jsiWebSocket=true;' (jsig*.js).</td><td><i>readOnly</i></td></tr>",
          "1713: <tr><td>interface</td><td><i>STRING</i></td><td>Interface for server to listen on, eg. 'eth0' or 'lo'.</td><td><i>initOnly</i></td></tr>",
          "1714: <tr><td>local</td><td><i>BOOL</i></td><td>Limit connections to localhost addresses on the 127 network.</td><td><i></i></td></tr>",
          "1715: <tr><td>localhostName</td><td><i>STRKEY</i></td><td>Client name used by localhost connections ('localhost').</td><td><i></i></td></tr>",
          "1716: <tr><td>maxConnects</td><td><i>INT</i></td><td>In server mode, max number of client connections accepted.</td><td><i></i></td></tr>",
          "1717: <tr><td>maxDownload</td><td><i>INT</i></td><td>Max size of file download.</td><td><i></i></td></tr>",
          "1718: <tr><td>maxUpload</td><td><i>INT</i></td><td>Max size of file upload will accept.</td><td><i></i></td></tr>",
          "1719: <tr><td>mimeTypes</td><td><i>OBJ</i></td><td>Object map of file-exts to mime types; initial and/or override of builtins.</td><td><i></i></td></tr>",
          "1720: <tr><td>mimeLookupFunc</td><td><i>FUNC</i></td><td>Function to call to lookup mime; returns and/or inserts into mimeTypes. @function(ws:userobj, id:number, extension:string, url:string)</td><td><i></i></td></tr>",
          "1721: <tr><td>modifySecs</td><td><i>UINT</i></td><td>Seconds between checking for modified files with onModify (2).</td><td><i></i></td></tr>",
          "1722: <tr><td>noConfig</td><td><i>BOOL</i></td><td>Disable use of conf() to change options after options after create.</td><td><i>initOnly</i></td></tr>",
          "1723: <tr><td>noCompress</td><td><i>BOOL</i></td><td>Disable per-message-deflate extension which can truncate large msgs.</td><td><i></i></td></tr>",
          "1724: <tr><td>noUpdate</td><td><i>BOOL</i></td><td>Disable update event-processing.</td><td><i></i></td></tr>",
          "1725: <tr><td>noWebsock</td><td><i>BOOL</i></td><td>Serve html, but disallow websocket upgrade.</td><td><i>initOnly</i></td></tr>",
          "1726: <tr><td>noWarn</td><td><i>BOOL</i></td><td>Quietly ignore file related errors.</td><td><i></i></td></tr>",
          "1727: <tr><td>onAuth</td><td><i>FUNC</i></td><td>Function to call for http basic authentication. @function(ws:userobj, id:number, url:string, userpass:string)</td><td><i></i></td></tr>",
          "1728: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number, isError:boolean)</td><td><i></i></td></tr>",
          "1729: <tr><td>onCloseLast</td><td><i>FUNC</i></td><td>Function to call when last websock connection closes. On object delete arg is null. @function(ws:userobj|null)</td><td><i></i></td></tr>",
          "1730: <tr><td>onFilter</td><td><i>FUNC</i></td><td>Function to call on a new connection: return false to kill connection. @function(ws:userobj, id:number, url:string, ishttp:boolean)</td><td><i></i></td></tr>",
          "1731: <tr><td>onGet</td><td><i>FUNC</i></td><td>Function to call to server handle http-get. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "1732: <tr><td>onModify</td><td><i>FUNC</i></td><td>Function to call when a served-out-file is modified. @function(ws:userobj, file:string)</td><td><i>initOnly</i></td></tr>",
          "1733: <tr><td>onOpen</td><td><i>FUNC</i></td><td>Function to call when the websocket connection occurs. @function(ws:userobj, id:number)</td><td><i></i></td></tr>",
          "1734: <tr><td>onUnknown</td><td><i>FUNC</i></td><td>Function to call to server out content when no file exists. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "1735: <tr><td>onUpload</td><td><i>FUNC</i></td><td>Function to call handle http-post. @function(ws:userobj, id:number, filename:string, data:string, startpos:number, complete:boolean)</td><td><i></i></td></tr>",
          "1736: <tr><td>onRecv</td><td><i>FUNC</i></td><td>Function to call when websock data recieved. @function(ws:userobj, id:number, data:string)</td><td><i></i></td></tr>",
          "1737: <tr><td>pathAliases</td><td><i>OBJ</i></td><td>Path alias lookups.</td><td><i>initOnly</i></td></tr>",
          "1738: <tr><td>port</td><td><i>INT</i></td><td>Port for server to listen on (8080).</td><td><i>initOnly</i></td></tr>",
          "1739: <tr><td>post</td><td><i>STRING</i></td><td>Post string to serve.</td><td><i>initOnly</i></td></tr>",
          "1740: <tr><td>protocol</td><td><i>STRKEY</i></td><td>Name of protocol (ws/wss).</td><td><i></i></td></tr>",
          "1741: <tr><td>realm</td><td><i>STRKEY</i></td><td>Realm for basic auth (jsish).</td><td><i></i></td></tr>",
          "1742: <tr><td>recvBufMax</td><td><i>INT</i></td><td>Size limit of a websocket message.</td><td><i>initOnly</i></td></tr>",
          "1743: <tr><td>recvBufTimeout</td><td><i>INT</i></td><td>Timeout for recv of a websock msg.</td><td><i>initOnly</i></td></tr>",
          "1744: <tr><td>redirMax</td><td><i>BOOL</i></td><td>Temporarily disable redirects when see more than this in 10 minutes.</td><td><i></i></td></tr>",
          "1745: <tr><td>rootdir</td><td><i>STRING</i></td><td>Directory to serve html from (\".\").</td><td><i></i></td></tr>",
          "1746: <tr><td>server</td><td><i>STRKEY</i></td><td>String to send out int the header SERVER (jsiWebSocket).</td><td><i></i></td></tr>",
          "1747: <tr><td>ssiExts</td><td><i>OBJ</i></td><td>Object map of file extensions to apply SSI.  eg. {myext:true, shtml:false} .</td><td><i>initOnly</i></td></tr>",
          "1748: <tr><td>ssl</td><td><i>BOOL</i></td><td>Use https.</td><td><i>initOnly</i></td></tr>",
          "1749: <tr><td>sslCert</td><td><i>STRKEY</i></td><td>SSL certificate file.</td><td><i></i></td></tr>",
          "1750: <tr><td>sslKey</td><td><i>STRKEY</i></td><td>SSL key file.</td><td><i></i></td></tr>",
          "1751: <tr><td>stats</td><td><i><a href='#statsOptions'>options</a></i></td><td>Statistical data.</td><td><i>readOnly</i></td></tr>",
          "1752: <tr><td>startTime</td><td><i>TIME_T</i></td><td>Time of websocket start.</td><td><i>readOnly</i></td></tr>",
          "1753: <tr><td>includeFile</td><td><i>STRKEY</i></td><td>Default file when no extension given (include.shtml).</td><td><i></i></td></tr>",
          "1754: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1755: <tr><td>urlPrefix</td><td><i>STRKEY</i></td><td>Prefix in url to strip from path; for reverse proxy..</td><td><i></i></td></tr>",
          "1756: <tr><td>urlRedirect</td><td><i>STRKEY</i></td><td>Redirect when no url or /, and adds cookie sessionJsi..</td><td><i></i></td></tr>",
          "1757: <tr><td>useridPass</td><td><i>STRKEY</i></td><td>The USERID:PASSWORD to use for basic authentication.</td><td><i></i></td></tr>",
          "1758: <tr><td>version</td><td><i>OBJ</i></td><td>WebSocket version info.</td><td><i>readOnly</i></td></tr>",
          "1759: </table>",
          "1762: <a name=\"WebSocket.idconfOptions\"></a>",
          "1763: <a name=\"WebSocket.confOptions\"></a>",
          "1764: <h2>Options for \"WebSocket.idconf\"</h2>",
          "1765: <table border=\"1\" class=\"optstbl table\">",
          "1766: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1767: <tr><td>clientIP</td><td><i>STRKEY</i></td><td>Client IP Address.</td><td><i>readOnly</i></td></tr>",
          "1768: <tr><td>clientName</td><td><i>STRKEY</i></td><td>Client hostname.</td><td><i>readOnly</i></td></tr>",
          "1769: <tr><td>echo</td><td><i>BOOL</i></td><td>LogInfo outputs all websock Send/Recv messages.</td><td><i></i></td></tr>",
          "1770: <tr><td>headers</td><td><i>ARRAY</i></td><td>Headers to send to browser on connection: name/value pairs.</td><td><i></i></td></tr>",
          "1771: <tr><td>isWebsock</td><td><i>BOOL</i></td><td>Is a websocket connection.</td><td><i></i></td></tr>",
          "1772: <tr><td>key</td><td><i>STRBUF</i></td><td>String key lookup in ids command for SSI echo ${#}.</td><td><i>readOnly</i></td></tr>",
          "1773: <tr><td>onClose</td><td><i>FUNC</i></td><td>Function to call when the websocket connection closes. @function(ws:userobj|null, id:number, isError:boolean)</td><td><i></i></td></tr>",
          "1774: <tr><td>onGet</td><td><i>FUNC</i></td><td>Function to call to server handle http-get. @function(ws:userobj, id:number, url:string, query:array)</td><td><i></i></td></tr>",
          "1775: <tr><td>onUnknown</td><td><i>FUNC</i></td><td>Function to call to serve out content when no file exists. @function(ws:userobj, id:number, url:string, args:array)</td><td><i></i></td></tr>",
          "1776: <tr><td>onRecv</td><td><i>FUNC</i></td><td>Function to call when websock data recieved. @function(ws:userobj, id:number, data:string)</td><td><i></i></td></tr>",
          "1777: <tr><td>onUpload</td><td><i>FUNC</i></td><td>Function to call handle http-post. @function(ws:userobj, id:number, filename:string, data:string, startpos:number, complete:boolean)</td><td><i></i></td></tr>",
          "1778: <tr><td>rootdir</td><td><i>STRING</i></td><td>Directory to serve html from (\".\").</td><td><i></i></td></tr>",
          "1779: <tr><td>stats</td><td><i><a href='#statsOptions'>options</a></i></td><td>Statistics for connection.</td><td><i>readOnly</i></td></tr>",
          "1780: <tr><td>query</td><td><i>ARRAY</i></td><td>Uri arg values for connection.</td><td><i></i></td></tr>",
          "1781: <tr><td>queryObj</td><td><i>OBJ</i></td><td>Uri arg values for connection as an object.</td><td><i></i></td></tr>",
          "1782: <tr><td>udata</td><td><i>OBJ</i></td><td>User data.</td><td><i></i></td></tr>",
          "1783: <tr><td>url</td><td><i>DSTRING</i></td><td>Url for connection.</td><td><i></i></td></tr>",
          "1784: <tr><td>username</td><td><i>STRING</i></td><td>The login userid for this connection.</td><td><i></i></td></tr>",
          "1785: </table>",
          "1788: <a name=\"statsOptions\"></a>",
          "1789: <h2>Options for \"stats\"</h2>",
          "1790: <table border=\"1\" class=\"optstbl table\">",
          "1791: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1792: <tr><td>connectCnt</td><td><i>INT</i></td><td>Number of active connections.</td><td><i>readOnly</i></td></tr>",
          "1793: <tr><td>createTime</td><td><i>TIME_T</i></td><td>Time created.</td><td><i></i></td></tr>",
          "1794: <tr><td>eventCnt</td><td><i>INT</i></td><td>Number of events of any type.</td><td><i></i></td></tr>",
          "1795: <tr><td>eventLast</td><td><i>TIME_T</i></td><td>Time of last event of any type.</td><td><i></i></td></tr>",
          "1796: <tr><td>httpCnt</td><td><i>INT</i></td><td>Number of http reqs.</td><td><i></i></td></tr>",
          "1797: <tr><td>httpLast</td><td><i>TIME_T</i></td><td>Time of last http reqs.</td><td><i></i></td></tr>",
          "1798: <tr><td>isBinary</td><td><i>BOOL</i></td><td>Connection recv data is binary.</td><td><i>readOnly</i></td></tr>",
          "1799: <tr><td>isFinal</td><td><i>BOOL</i></td><td>Final data for current message was recieved.</td><td><i>readOnly</i></td></tr>",
          "1800: <tr><td>msgQLen</td><td><i>INT</i></td><td>Number of messages in input queue.</td><td><i>readOnly</i></td></tr>",
          "1801: <tr><td>recvCnt</td><td><i>INT</i></td><td>Number of recieves.</td><td><i>readOnly</i></td></tr>",
          "1802: <tr><td>recvLast</td><td><i>TIME_T</i></td><td>Time of last recv.</td><td><i>readOnly</i></td></tr>",
          "1803: <tr><td>redirLast</td><td><i>TIME_T</i></td><td>Time of last redirect.</td><td><i>readOnly</i></td></tr>",
          "1804: <tr><td>redirCnt</td><td><i>INT</i></td><td>Count of redirects.</td><td><i>readOnly</i></td></tr>",
          "1805: <tr><td>sentCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i>readOnly</i></td></tr>",
          "1806: <tr><td>sentLast</td><td><i>TIME_T</i></td><td>Time of last send.</td><td><i>readOnly</i></td></tr>",
          "1807: <tr><td>sentErrCnt</td><td><i>INT</i></td><td>Number of sends.</td><td><i>readOnly</i></td></tr>",
          "1808: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i>readOnly</i></td></tr>",
          "1809: <tr><td>sentErrLast</td><td><i>TIME_T</i></td><td>Time of last sendErr.</td><td><i>readOnly</i></td></tr>",
          "1810: <tr><td>uploadCnt</td><td><i>INT</i></td><td>Number of uploads.</td><td><i>readOnly</i></td></tr>",
          "1811: <tr><td>uploadEnd</td><td><i>TIME_T</i></td><td>Time of upload end.</td><td><i>readOnly</i></td></tr>",
          "1812: <tr><td>uploadLast</td><td><i>TIME_T</i></td><td>Time of last upload input.</td><td><i>readOnly</i></td></tr>",
          "1813: <tr><td>uploadStart</td><td><i>TIME_T</i></td><td>Time of upload start.</td><td><i>readOnly</i></td></tr>",
          "1814: </table>",
          "1815: <a name=\"WebSocketend\"></a>",
          "1816: <p><a href=\"#TOC\">Return to top</a>",
          "1817: <a name=\"Zvfs\"></a>",
          "1819: <hr>",
          "1822: <h1>Zvfs</h1>",
          "1824: <font color=red>Synopsis:Zvfs.method(...)",
          "1826: </font><p>Commands for mounting and accessing .zip files as a filesystem.",
          "1829: <h2>Methods for \"Zvfs\"</h2>",
          "1830: <table border=\"1\"class=\"cmdstbl table\">",
          "1831: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1832: <tr><td>append</td><td>append(archive:string, filelist:array, path:string|null=void, filelist2:array=void, path2:string|null=void, ...):void </td><td>Like 'create()', but appends to an existing archive (with no dup checking).</td></tr>",
          "1833: <tr><td>create</td><td>create(archive:string, filelist:array, path:string|null=void, filelist2:array=void, path2:string|null=void, ...):void </td><td>Create a zip with the given files in prefix path. This command creates a zip archive and adds files to it. Files are relative the given 'path', or the current directory. If the destignation file already exist but is not an archive (eg. an executable), zip data is appended to the end of the file. If the existing file is already an archive, an error will be thrown. To truncate an existing archive, use zvfs.truncate(). Or use zvfs.append() instead.",
          "1834:    zvfs.create('foo.zip',['main.js', 'bar.js'], 'src', ['a.html', 'css/a.css'], 'html');</td></tr>",
          "1835: <tr><td>deflate</td><td>deflate(data:string):string </td><td>Compress string using zlib deflate.</td></tr>",
          "1836: <tr><td>inflate</td><td>inflate(data:string):string </td><td>Uncompress string using zlib inflate.</td></tr>",
          "1837: <tr><td>list</td><td>list(archive:string):array </td><td>List files in archive. Return contents of zip directory as an array of arrays. The first element contains the labels, ie:",
          "1838: [ 'Name', 'Special', 'Offset', 'Bytes', 'BytesCompressed' ] </td></tr>",
          "1839: <tr><td>mount</td><td>mount(archive:string, mountdir:string=void):string </td><td>Mount zip on mount point. Read a ZIP archive and make entries in the virutal file hash table for all files contained therein.</td></tr>",
          "1840: <tr><td>names</td><td>names(mountdir:string=void):array </td><td>Return all zvfs mounted zips, or archive for specified mount. Given an mount point argument, returns the archive for it. Otherwise, returns an array of mount points</td></tr>",
          "1841: <tr><td>offset</td><td>offset(archive:string):number </td><td>Return the start offset of zip data. Opens and scans the file to determine start of zip data and truncate this off the end of the file.  For ordinary zip archives, the resulting truncated file will be of zero length. If an optional bool argument can disable errors. In any case, the start offset of zip data (or 0) is returned.</td></tr>",
          "1842: <tr><td>stat</td><td>stat(filename:string):object </td><td>Return details on file in zvfs mount. Return details about the given file in the ZVFS.  The information consists of (1) the name of the ZIP archive that contains the file, (2) the size of the file after decompressions, (3) the compressed size of the file, and (4) the offset of the compressed data in the archive.</td></tr>",
          "1843: <tr><td>truncate</td><td>truncate(archive:string, noerror:boolean=false):number </td><td>Truncate zip data from archive. Opens and scans the file to determine start of zip data and truncate this off the end of the file.  For ordinary zip archives, the resulting truncated file will be of zero length. If an optional bool argument can disable errors. In any case, the start offset of zip data (or 0) is returned.</td></tr>",
          "1844: <tr><td>unmount</td><td>unmount(archive:string):void </td><td>Unmount zip.</td></tr>",
          "1845: </table>",
          "1846: <a name=\"Zvfsend\"></a>",
          "1847: <p><a href=\"#TOC\">Return to top</a>",
          "1848: <a name=\"console\"></a>",
          "1850: <hr>",
          "1853: <h1>console</h1>",
          "1855: <font color=red>Synopsis:console.method(...)",
          "1857: </font><p>Console input and output to stderr.",
          "1860: <h2>Methods for \"console\"</h2>",
          "1861: <table border=\"1\"class=\"cmdstbl table\">",
          "1862: <tr><th>Method</th><th>Prototype</th><th>Description</th></tr>",
          "1863: <tr><td>assert</td><td>assert(expr:boolean|number|function, msg:string=void, <a href='#console.assertOptions'>options</a>:object=void):void </td><td>Same as System.assert().</td></tr>",
          "1864: <tr><td>error</td><td>error(val, ...):void </td><td>Same as log but adding prefix ERROR:.</td></tr>",
          "1865: <tr><td>input</td><td>input(prompt:null|string=''):string|void </td><td>Read input from the console: if prompt uses linenoise line editing.</td></tr>",
          "1866: <tr><td>log</td><td>log(val, ...):void </td><td>Like System.puts, but goes to stderr and includes file:line..</td></tr>",
          "1867: <tr><td>logp</td><td>logp(val, ...):void </td><td>Same as console.log, but first arg is string prefix and if second is a boolean it controls output.</td></tr>",
          "1868: <tr><td>printf</td><td>printf(format:string, ...):void </td><td>Same as System.printf but goes to stderr.</td></tr>",
          "1869: <tr><td>puts</td><td>puts(val, ...):void </td><td>Same as System.puts, but goes to stderr.</td></tr>",
          "1870: <tr><td>warn</td><td>warn(val, ...):void </td><td>Same as log.</td></tr>",
          "1871: </table>",
          "1874: <a name=\"console.assertOptions\"></a>",
          "1875: <a name=\"console.confOptions\"></a>",
          "1876: <h2>Options for \"console.assert\"</h2>",
          "1877: <table border=\"1\" class=\"optstbl table\">",
          "1878: <tr><th>Option</th> <th>Type</th> <th>Description</th><th>Flags</th></tr>",
          "1879: <tr><td>mode</td><td><i>STRKEY</i></td><td>Action when assertion fails. Default from Interp.assertMode. (one of: <b>throw</b>, <b>log</b>, <b>puts</b>)</td><td><i></i></td></tr>",
          "1880: <tr><td>noStderr</td><td><i>BOOL</i></td><td>Logged msg to stdout. Default from Interp.noStderr.</td><td><i></i></td></tr>",
          "1881: </table>",
          "1882: <a name=\"consoleend\"></a>",
          "1883: <p><a href=\"#TOC\">Return to top</a>",
          "1884: </nowiki><p>",
          "",
          "[Added Lines]",
          "1: # Reference",
          "2: The generated reference for Jsi builtin commands.",
          "6: ## Array",
          "10: Provide access to array objects.",
          "13: ### Methods",
          "14: |Method|Function Argument Types|Description|",
          "15: |---|---|---|",
          "16: |Array|(...):array |jsi_Array constructor.|",
          "17: |concat|(...):array |Return array with args appended.|",
          "18: |every|(callback:function) |Returns true if every value in array satisfies the test.|",
          "19: |fill|(value:any, start:number=0, end:number=-1):array |Fill an array with values.|",
          "20: |filter|(callback:function, thisArg:object=void):array |Return a filtered array.|",
          "21: |find|(callback:function) |Returns the value of the first element in the array that satisfies the test.|",
          "22: |findIndex|(callback:function) |Returns the index of the first element in the array that satisfies the test.|",
          "23: |flat|(depth:number=1):array |Flatten an arra.|",
          "24: |forEach|(callback:function, thisArg:object=void):void |Invoke function with each item in object.|",
          "25: |includes|(val:any) |Returns true if array contains value.|",
          "26: |indexOf|(str:any, startIdx:number=0):number |Return index of first occurrance in array.|",
          "27: |isArray|():boolean |True if val array.|",
          "28: |join|(sep:string=''):string |Return elements joined by char.|",
          "29: |lastIndexOf|(val:any, start:number=0):number |Return index of last occurence in array.|",
          "30: |map|(callback:function, thisArg:object=void):array |Creates a new array with the results of calling a provided function on every element in this array.|",
          "31: |pop|() |Remove and return last element of array.|",
          "32: |push|(val:any, ...):number |Push one or more elements onto array and return size.|",
          "33: |reduce|(callback:function, initial:any) |Return a reduced array.|",
          "34: |reduceRight|(callback:function, initial:any) |Return a reduced array.|",
          "35: |reverse|():array |Reverse order of all elements in an array.|",
          "36: |shift|() |Remove first element and shift downwards.|",
          "37: |sizeOf|():number |Return size of array.|",
          "38: |slice|(start:number, end:number=void):array |Return sub-array.|",
          "39: |some|(callback:function, thisArg:object=void):boolean |Return true if function returns true some element.|",
          "40: |sort|([options](#options-arraysort):function&#124;object=void):array |Sort an array.|",
          "41: |splice|(start:number, howmany:number=void, ...):array |Change the content of an array, adding new elements while removing old elements.|",
          "42: |unshift|(...):number |Add new elements to start of array and return size.|",
          "43: ### Options \"Array.sort\"",
          "44: |Option|Type|Description|Flags|",
          "45: |---|---|---|---|",
          "46: |mode|*STRKEY*|Mode to sort by. (one of: **default**, **desc**, **dict**, **nocase**)||",
          "47: |compare|*FUNC*|Function to do comparison. @`function(val1,val2)`||",
          "48: |unique|*BOOL*|Eliminate duplicate items.||",
          "51: ## Boolean",
          "55: A Boolean object.",
          "58: ### Methods",
          "59: |Method|Function Argument Types|Description|",
          "60: |---|---|---|",
          "61: |Boolean|(bool:boolean=false):boolean |Boolean constructor.|",
          "64: ## CData",
          "69: ### Methods",
          "70: |Method|Function Argument Types|Description|",
          "71: |---|---|---|",
          "72: |CData|([options](#options-newcdata):string&#124;object=void, inits:object=undefined):userobj |Create a new struct or map/array of structs.The 2nd arg is used for function option parsing and will report errors at the callers file:line|",
          "73: |conf|([options](#options-cdataconf):object&#124;string=void) |Configure options for c-data.|",
          "74: |get|(key:string&#124;number&#124;object=null, field:string=void) |Get struct/map/array value.|",
          "75: |incr|(key:string&#124;number&#124;object&#124;null, field:object&#124;string, value:number=1):number |Increment a numeric field: returns the new value.|",
          "76: |info|():object |Return info for data.|",
          "77: |names|():array |Return keys for map.|",
          "78: |set|(key:string&#124;number&#124;object&#124;null, field:object&#124;string, value:any=void) |Set a struct/map/array value.|",
          "79: |unset|(key:string&#124;number&#124;object) |Remove entry from map/array.|",
          "80: ### Options \"new\"",
          "81: |Option|Type|Description|Flags|",
          "82: |---|---|---|---|",
          "83: |arrSize|*UINT*|If an array, its size in elements.|initOnly|",
          "84: |flags|*UINT*|Flags.|initOnly|",
          "85: |help|*STRKEY*|Description of data.|initOnly|",
          "86: |keyName|*STRKEY*|Key struct, for key struct maps.|initOnly|",
          "87: |keyType|*STRKEY*|Key id. (one of: **string**, **strkey**, **number**)|initOnly|",
          "88: |mapType|*STRKEY*|If a map, its type. (one of: **none**, **hash**, **tree**, **list**)|initOnly|",
          "89: |maxSize|*UINT*|Limit the array size or number of keys in a map.||",
          "90: |name|*STRKEY*|Name (eg. of var assigned to on create).|initOnly|",
          "91: |noAuto|*BOOL*|Disable auto-create of map keys in set/incr.||",
          "92: |structName|*STRKEY*|Struct used for storing data.|initOnly&#124;required|",
          "93: |user|*INT64*|User data.||",
          "94: |varParam|*STRKEY*|Param for maps/array vars.|initOnly|",
          "97: ## CEnum",
          "101: Enum commands. Note: Enum() is a shortcut for Enum.add().",
          "104: ### Methods",
          "105: |Method|Function Argument Types|Description|",
          "106: |---|---|---|",
          "107: |add|([options](#options-cenumadd):object&#124;string, fields:array&#124;string) |Create a new enum: value of items same as in fieldconf.|",
          "108: |conf|([options](#options-cenumconf):object&#124;string=void) |Configure options for enum.|",
          "109: |fieldconf|([options](#options-cenumfieldconf):object&#124;string=void) |Configure options for fields.|",
          "110: |find|(enum:string, intValue:number):string |Find item with given value in enum.|",
          "111: |get|(enum:string):object |Return enum definition.|",
          "112: |names|(enum:string=void):array |Return name list of all enums, or items within one enum.|",
          "113: |remove|(enum:string) |Remove an enum.|",
          "114: |value|(enum:string, item:string):number |Return value for given enum item.|",
          "115: ### Options \"CEnum.add\"",
          "116: |Option|Type|Description|Flags|",
          "117: |---|---|---|---|",
          "118: |flags|*INT64*|Flags for enum.|initOnly|",
          "119: |help|*STRKEY*|Description of enum.|initOnly|",
          "120: |name|*STRKEY*|Name of enum.|initOnly|",
          "121: |idx|*UINT*|Number of items in enum.|readOnly|",
          "122: ### Options \"CEnum.conf\"",
          "123: |Option|Type|Description|Flags|",
          "124: |---|---|---|---|",
          "125: |flags|*INT64*|Flags for enum.|initOnly|",
          "126: |help|*STRKEY*|Description of enum.|initOnly|",
          "127: |name|*STRKEY*|Name of enum.|initOnly|",
          "128: |idx|*UINT*|Number of items in enum.|readOnly|",
          "129: ### Options \"CEnum.fieldconf\"",
          "130: |Option|Type|Description|Flags|",
          "131: |---|---|---|---|",
          "132: |flags|*INT64*|Flags for item.|initOnly|",
          "133: |help|*STRKEY*|Desciption of item.|initOnly|",
          "134: |name|*STRKEY*|Name of item.|initOnly|",
          "135: |value|*INT64*|Value for item.|initOnly|",
          "136: |idx|*UINT*|Index of item in enum.|readOnly|",
          "139: ## CStruct",
          "143: Struct commands. Note: Struct() is a shortcut for Struct.add().",
          "146: ### Methods",
          "147: |Method|Function Argument Types|Description|",
          "148: |---|---|---|",
          "149: |add|([options](#options-cstructadd):object&#124;string, fields:array&#124;string) |Create a struct: field values same as in fieldconf.|",
          "150: |conf|([options](#options-cstructconf):object&#124;string=void) |Configure options for struct.|",
          "151: |fieldconf|([options](#options-cstructfieldconf):object&#124;string=void) |Configure options for fields.|",
          "152: |get|(struct, options:object=void):object |Return the struct definition.|",
          "153: |names|(struct:string=void):array |Return name list of all structs, or fields for one struct.|",
          "154: |remove|(name:string) |Remove a struct.|",
          "155: |schema|():string |Return database schema for struct.|",
          "156: ### Options \"CStruct.add\"",
          "157: |Option|Type|Description|Flags|",
          "158: |---|---|---|---|",
          "159: |crc|*UINT32*|Crc for struct.|initOnly|",
          "160: |flags|*INT64*|Flags for struct.|initOnly|",
          "161: |help|*STRKEY*|Struct description.|initOnly|",
          "162: |idx|*UINT32*|Number of fields in struct.|readOnly|",
          "163: |name|*STRKEY*|Name of struct.|initOnly&#124;required|",
          "164: |size|*UINT*|Size of struct in bytes.|readOnly|",
          "165: |ssig|*UINT32*|Signature for struct.|initOnly|",
          "166: |value|*INT64*|Reference count.|readOnly|",
          "167: ### Options \"CStruct.conf\"",
          "168: |Option|Type|Description|Flags|",
          "169: |---|---|---|---|",
          "170: |crc|*UINT32*|Crc for struct.|initOnly|",
          "171: |flags|*INT64*|Flags for struct.|initOnly|",
          "172: |help|*STRKEY*|Struct description.|initOnly|",
          "173: |idx|*UINT32*|Number of fields in struct.|readOnly|",
          "174: |name|*STRKEY*|Name of struct.|initOnly&#124;required|",
          "175: |size|*UINT*|Size of struct in bytes.|readOnly|",
          "176: |ssig|*UINT32*|Signature for struct.|initOnly|",
          "177: |value|*INT64*|Reference count.|readOnly|",
          "178: ### Options \"CStruct.fieldconf\"",
          "179: |Option|Type|Description|Flags|",
          "180: |---|---|---|---|",
          "181: |arrSize|*UINT*|Size of field if an array.|initOnly|",
          "182: |bits|*UINT32*|Size of bitfield.|initOnly|",
          "183: |boffset|*UINT32*|Bit offset of field within struct.|readOnly|",
          "184: |flags|*INT64*|Flags for field.|initOnly|",
          "185: |idx|*UINT32*|Index of field in struct.|readOnly|",
          "186: |help|*STRKEY*|Field description.|initOnly|",
          "187: |info|*STRKEY*|Info for field.|initOnly|",
          "188: |name|*STRKEY*|Name of field.|initOnly&#124;required|",
          "189: |offset|*UINT*|Offset of field within struct.|readOnly|",
          "190: |size|*UINT*|Size of field in struct.|readOnly|",
          "191: |type|*CUSTOM*|Type of field.|initOnly&#124;required|",
          "192: |init|*CUSTOM*|Initial value for field.|initOnly|",
          "195: ## CType",
          "199: Type commands. Note: Type() is a shortcut for Type.conf().",
          "202: ### Methods",
          "203: |Method|Function Argument Types|Description|",
          "204: |---|---|---|",
          "205: |conf|([options](#options-ctypeconf):object&#124;string=void) |Configure options for type.|",
          "206: |names|(ctype=false):array |Return type names.|",
          "207: ### Options \"CType.conf\"",
          "208: |Option|Type|Description|Flags|",
          "209: |---|---|---|---|",
          "210: |idName|*STRKEY*|The id name: usually upcased cName.|initOnly|",
          "211: |cName|*STRKEY*|C type name.|initOnly|",
          "212: |help|*STRKEY*|Description of id.|initOnly|",
          "213: |fmt|*STRKEY*|Printf format for id.|initOnly|",
          "214: |xfmt|*STRKEY*|Hex printf format for id.|initOnly|",
          "215: |flags|*INT64*|Flags for id.|initOnly|",
          "216: |size|*INT*|Size for id.|initOnly|",
          "217: |user|*INT64*|User data.||",
          "220: ## Channel",
          "224: Commands for accessing Channel objects for file IO.",
          "227: ### Methods",
          "228: |Method|Function Argument Types|Description|",
          "229: |---|---|---|",
          "230: |Channel|(file:string, mode:string='r'):userobj |A file input/output object. The mode string is r or w and an optional +.|",
          "231: |close|():boolean |Close the file.|",
          "232: |eof|():boolean |Return true if read to end-of-file.|",
          "233: |filename|():string |Get file name.|",
          "234: |flush|():number |Flush file output.|",
          "235: |gets|():string&#124;void |Get one line of input.|",
          "236: |lstat|():object |Return status for file.|",
          "237: |mode|():string |Get file mode used with open.|",
          "238: |open|(file:string, mode:string='r'):boolean |Open the file (after close).|",
          "239: |puts|(str):boolean |Write one line of output.|",
          "240: |read|(size:number=-1):string&#124;void |Read some or all of file.|",
          "241: |seek|(pos:number, whence:string):number |Seek to position. Return 0 if ok.|",
          "242: |stat|():object |Return status for file.|",
          "243: |tell|():number |Return current position.|",
          "244: |truncate|(pos:number):number |Truncate file.|",
          "245: |write|(data):number |Write data to file.|",
          "248: ## Debugger",
          "252: Debugger breakpoint management.",
          "255: ### Methods",
          "256: |Method|Function Argument Types|Description|",
          "257: |---|---|---|",
          "258: |add|(val:string&#124;number, temp:boolean=false):number |Add a breakpoint for line, file:line or func.|",
          "259: |enable|(id:number, on:boolean):void |Enable/disable breakpoint.|",
          "260: |info|(id:number=void):array&#124;object |Return info about one breakpoint, or list of bp numbers.|",
          "261: |remove|(id:number):void |Remove breakpoint.|",
          "264: ## Event",
          "268: Event management.",
          "271: ### Methods",
          "272: |Method|Function Argument Types|Description|",
          "273: |---|---|---|",
          "274: |clearInterval|(id:number):void |Delete an event (created with setInterval/setTimeout).|",
          "275: |info|(id:number):object |Return info for the given event id.|",
          "276: |names|():array |Return list event ids (created with setTimeout/setInterval).|",
          "277: |setInterval|(callback:function, millisecs:number):number |Setup recurring function to run every given millisecs.|",
          "278: |setTimeout|(callback:function, millisecs:number):number |Setup function to run after given millisecs.|",
          "279: |update|([options](#options-eventupdate):number&#124;object=void):number |Service all events, eg. setInterval/setTimeout. Returns the number of events processed. Events are processed until minTime (in milliseconds) is exceeded, or forever if -1. The default minTime is 0, meaning return as soon as no events can be processed. A positive mintime will result in sleeps between event checks.|",
          "280: ### Options \"Event.update\"",
          "281: |Option|Type|Description|Flags|",
          "282: |---|---|---|---|",
          "283: |maxEvents|*INT*|Maximum number of events to process (or -1 for all).||",
          "284: |maxPasses|*INT*|Maximum passes through event queue.||",
          "285: |minTime|*INT*|Minimum milliseconds before returning, or -1 to loop forever (default is 0).||",
          "286: |sleep|*INT*|Time to sleep time (in milliseconds) between event checks. Default is 1.||",
          "289: ## File",
          "293: Commands for accessing the filesystem.",
          "296: ### Methods",
          "297: |Method|Function Argument Types|Description|",
          "298: |---|---|---|",
          "299: |atime|(file:string):number |Return file Jsi_Access time.|",
          "300: |chdir|(file:string) |Change current directory.|",
          "301: |chmod|(file:string, mode:number) |Set file permissions.|",
          "302: |copy|(src:string, dest:string, force:boolean=false) |Copy a file to destination. Directories are not handled. The third argument if given is a boolean force value which if true allows overwrite of an existing file. |",
          "303: |dirname|(file:string):string |Return directory path.|",
          "304: |executable|(file:string):boolean |Return true if file is executable.|",
          "305: |exists|(file:string):boolean |Return true if file exists.|",
          "306: |extension|(file:string):string |Return file extension.|",
          "307: |glob|([options](#options-fileglob):function&#124;object&#124;null=void):array |Return list of files in dir with optional pattern match. With no arguments (or null) returns all files/directories in current directory. The first argument can be a pattern (either a glob or regexp) of the files to return. When the second argument is a function, it is called with each path, and filter on false. Otherwise second argument must be a set of options.|",
          "308: |isdir|(file:string):boolean |Return true if file is a directory.|",
          "309: |isfile|(file:string):boolean |Return true if file is a normal file.|",
          "310: |isrelative|(file:string):boolean |Return true if file path is relative.|",
          "311: |join|(path1:string, path2:string):string |Join two file realpaths, or just second if an absolute path.|",
          "312: |link|(src:string, dest:string, ishard:boolean=false) |Link a file. The second argument is the destination file to be created. If a third bool argument is true, a hard link is created.|",
          "313: |lstat|(file:string):object |Return status info for file.|",
          "314: |mkdir|(file:string,force:boolean=false) |Create a directory: force creates subdirs.|",
          "315: |mknod|(file:string, mode:number, dev:number) |Create unix device file using mknod.|",
          "316: |mtime|(file:string):number |Return file modified time.|",
          "317: |owned|(file:string):boolean |Return true if file is owned by user.|",
          "318: |perms|(file:string):string |Return perms string.|",
          "319: |pwd|():string |Return current directory.|",
          "320: |read|(file:string, mode:string='rb'):string |Read a file.|",
          "321: |readable|(file:string):boolean |Return true if file is readable.|",
          "322: |readlink|(file:string):string |Read file link destination.|",
          "323: |realpath|(file:string):string |Return absolute file name minus .., ./ etc.|",
          "324: |remove|(file:string, force:boolean=false) |Delete a file or direcotry.|",
          "325: |rename|(src:string, dest:string, force:boolean=false) |Rename a file, with possible overwrite.|",
          "326: |rootname|(file:string):string |Return file name minus extension.|",
          "327: |size|(file:string):number |Return size for file.|",
          "328: |stat|(file:string):object |Return status info for file.|",
          "329: |tail|(file:string):string |Return file name minus dirname.|",
          "330: |tempfile|(file:string) |Create a temp file.|",
          "331: |truncate|(file:string, size:number) |Truncate file.|",
          "332: |writable|(file:string):boolean |Return true if file is writable.|",
          "333: |write|(file:string, str:string, mode:string='wb+'):number |Write a file.|",
          "334: ### Options \"File.glob\"",
          "335: |Option|Type|Description|Flags|",
          "336: |---|---|---|---|",
          "337: |dir|*STRING*|The start directory: this path will not be prepended to results.||",
          "338: |maxDepth|*INT*|Maximum directory depth to recurse into.||",
          "339: |maxDiscard|*INT*|Maximum number of items to discard before giving up.||",
          "340: |dirFilter|*FUNC*|Filter function for directories, returning false to discard. @`function(dir:string)`||",
          "341: |filter|*FUNC*|Filter function to call with each file, returning false to discard. @`function(file:string)`||",
          "342: |limit|*INT*|The maximum number of results to return/count: -1 is unlimited (Interp.maxArrayList).||",
          "343: |noTypes|*STRKEY*|Filter files to exclude these \"types\".||",
          "344: |prefix|*STRKEY*|String prefix to prepend to each file in result list.||",
          "345: |recurse|*BOOL*|Recurse into sub-directories.||",
          "346: |retCount|*BOOL*|Return only the count of matches.||",
          "347: |retInfo|*BOOL*|Return file info: size, uid, gid, mode, name, and path.||",
          "348: |tails|*BOOL*|Returned only tail of path.||",
          "349: |types|*STRKEY*|Filter files to include type: one or more of chars 'fdlpsbc' for file, directory, link, etc.||",
          "352: ## Function",
          "356: Commands for accessing functions.",
          "359: ### Methods",
          "360: |Method|Function Argument Types|Description|",
          "361: |---|---|---|",
          "362: |Function|():function |Function constructor (unimplemented).|",
          "363: |apply|(thisArg:null&#124;object&#124;function, args:array=void) |Call function passing args array.|",
          "364: |bind|(thisArg:object&#124;function=null,...) |Return function that calls bound function prepended with thisArg+arguments.|",
          "365: |call|(thisArg:null&#124;object&#124;function, arg1, ...) |Call function with args.|",
          "368: ## Info",
          "372: Commands for inspecting internal state information in JSI.",
          "375: ### Methods",
          "376: |Method|Function Argument Types|Description|",
          "377: |---|---|---|",
          "378: |argv0|():string&#124;void |Return initial start script file name.|",
          "379: |cmds|([options](#options-infocmds):object=void):array&#124;object |Return details or list of matching commands.|",
          "380: |completions|(str:string, start:number=0, end:number=void):array |Return command completions on portion of string from start to end.|",
          "381: |data|(val:string&#124;regexp&#124;object=void):array&#124;object |Return list of matching data (non-functions). Like info.vars(), but does not return function values.|",
          "382: |error|():object |Return file and line number of error (used inside catch).|",
          "383: |event|(id:number=void):array&#124;object |List events or info for 1 event (setTimeout/setInterval). With no args, returns list of all outstanding events.  With one arg, returns infofor the given event id.|",
          "384: |execZip|():string&#124;void |If executing a .zip file, return file name.|",
          "385: |executable|():string |Return name of executable.|",
          "386: |files|():array |Return list of all sourced files.|",
          "387: |funcs|(arg:string&#124;regexp&#124;function&#124;object=void):array&#124;object |Return details or list of matching functions.|",
          "388: |interp|(interp:userobj=void):object |Return info on given or current interp.|",
          "389: |isMain|():boolean |Return true if current script was the main script invoked from command-line.|",
          "390: |keywords|(isSql=false, name:string=void):boolean&#124;array |Return/lookup reserved keyword.|",
          "391: |level|(level:number=void):number&#124;array&#124;object |Return current level or details of a call-stack frame. With no arg, returns the number of the current stack frame level. Otherwise returns details on the specified level. The topmost level is 1, and 0 is the current level, and a negative level translates as relative to the current level.|",
          "392: |locals|(filter:boolean=void):object |Return locals; use filter=true/false just vars/functions.|",
          "393: |lookup|(name:string) |Given string name, lookup and return value, eg: function.|",
          "394: |methods|(val:string&#124;regexp):array&#124;object |Return functions and commands.|",
          "395: |named|(name:string=void):array&#124;userobj |Returns command names for builtin Objects, eg: 'File', 'Interp', sub-Object names, or the named object.|",
          "396: |options|(ctype:boolean=false):array |Return Option type name, or with true the C type.|",
          "397: |package|(pkgName:string):object&#124;null |Return info about provided package if exists, else null.|",
          "398: |platform|():object |N/A. Returns general platform information for JSI.|",
          "399: |script|(func:function&#124;regexp=void):string&#124;array&#124;void |Get current script file name, or file containing function.|",
          "400: |scriptDir|():string&#124;void |Get directory of current script.|",
          "401: |vars|(val:string&#124;regexp&#124;object=void):array&#124;object |Return details or list of matching variables. Returns all values, data or function.|",
          "402: |version|(full:boolean=false):number&#124;object |JSI version: returns object when full=true.|",
          "403: ### Options \"Info.cmds\"",
          "404: |Option|Type|Description|Flags|",
          "405: |---|---|---|---|",
          "406: |full|*BOOL*|Return full path.||",
          "407: |constructor|*BOOL*|Do not exclude constructor.||",
          "410: ## Interp",
          "414: Commands for accessing interps.",
          "417: ### Methods",
          "418: |Method|Function Argument Types|Description|",
          "419: |---|---|---|",
          "420: |Interp|([options](#options-newinterp):object=void):userobj |Create a new interp.|",
          "421: |alias|(name:string=void, func:function&#124;null=void, args:array&#124;null=void, async=false) |Set/get global alias bindings for command in an interp. With 0 args, returns list of all aliases in interp. With 1 arg returns func for given alias name. With 2 args where arg2 == null, returns args for given alias name . With 3 args, create/update an alias for func and args.  Delete an alias by creating it with null for both func and args.|",
          "422: |call|(funcName:string, args:array, wait:boolean=false) |Call named function in subinterp. Invoke function in sub-interp with arguments. Since interps are not allowed to share objects, data is automatically cleansed by encoding/decoding to/from JSON if required. Unless an 'async' parameter is true call is acyncronous. Otherwise waits until the sub-interp is idle, to make call and return result.|",
          "423: |conf|([options](#options-interpconf):string&#124;object=void) |Configure option(s).|",
          "424: |eval|(js:string, async:boolean=false) |Interpret script within sub-interp. When the 'async' option is used on a threaded interp, the script is queued as an Event.|",
          "425: |info|():object |Returns internal statistics about interp.|",
          "426: |source|(file:string, async:boolean=false) |Interpret file within sub-interp. When the 'async' option is used on a threaded interp, the script is queued as an Event.|",
          "427: |uplevel|(js:string, level:number=0) |Interpret code at the given stack level. The level argument is as returned by Info.level().  Not supported with threads.|",
          "428: |value|(varName:string, level:number=0) |Lookup value of variable at stack level.|",
          "429: ### Options \"new\"",
          "430: |Option|Type|Description|Flags|",
          "431: |---|---|---|---|",
          "432: |args|*ARRAY*|The console.arguments for interp.|initOnly|",
          "433: |assertMode|*STRKEY*|Action upon assert failure. (one of: **throw**, **log**, **puts**)||",
          "434: |autoFiles|*ARRAY*|File(s) to source for loading Jsi_Auto to handle unknown commands.||",
          "435: |busyCallback|*CUSTOM*|Command in parent interp (or noOp) to periodically call.||",
          "436: |busyInterval|*INT*|Call busyCallback command after this many op-code evals (100000).||",
          "437: |confFile|*STRKEY*|Config file of options in JSON non-strict format.|initOnly|",
          "438: |coverage|*BOOL*|On exit generate detailed code coverage for function calls (with profile).||",
          "439: |debugOpts|*[Options](#options-debugOpts)*|Options for debugging.||",
          "440: |interactive|*BOOL*|Force interactive mode. ie. ignore no_interactive flag.|initOnly|",
          "441: |hasOpenSSL|*BOOL*|WebSocket compiled with SSL is available.|initOnly|",
          "442: |historyFile|*STRKEY*|For readline, file to use for history (~/.jsish_history).||",
          "443: |isSafe|*BOOL*|Is this a safe interp (ie. with limited or no file access).|initOnly|",
          "444: |jsppChars|*STRKEY*|Line preprocessor when sourcing files. Line starts with first char, and either ends with it, or matches string.||",
          "445: |jsppCallback|*FUNC*|Command to preprocess lines that match jsppChars. Call func(interpName:string, opCnt:number).||",
          "446: |lockTimeout|*INT*|Thread time-out for mutex lock acquires (milliseconds).||",
          "447: |lockDown|*STRKEY*|Directory to Safe-lockdown interpreter to.||",
          "448: |logOpts|*[Options](#options-logOpts)*|Options for log output to add file/line/time.||",
          "449: |log|*ARRAY*|Logging flags. (zero or more of: **bug**, **assert**, **debug**, **trace**, **test**, **info**, **warn**, **error**, **parse**)|noCase|",
          "450: |maxDepth|*INT*|Depth limit of recursive function calls (1000).||",
          "451: |maxDumpStack|*UINT*|Maximum stack dump length (100).||",
          "452: |maxDumpArgs|*UINT*|Maximum arg length in stack dump (80).||",
          "453: |maxArrayList|*UINT*|Maximum array convertable to list (100000).||",
          "454: |maxIncDepth|*INT*|Maximum allowed source/require nesting depth (50).||",
          "455: |maxInterpDepth|*INT*|Maximum nested subinterp create depth (10).||",
          "456: |maxUserObjs|*INT*|Maximum number of 'new' object calls, eg. File, RegExp, etc.||",
          "457: |maxOpCnt|*INT*|Execution limit for op-code evaluation.|initOnly|",
          "458: |memDebug|*INT*|Memory debugging level: 1=summary, 2=detail.||",
          "459: |memLeakCnt|*INT*|Leak memory count due to object added to self.|initOnly|",
          "460: |name|*STRKEY*|Optional text name for this interp.||",
          "461: |noAutoLoad|*BOOL*|Disable autoload.||",
          "462: |noConfig|*BOOL*|Disable use of Interp.conf to change options after create.|initOnly|",
          "463: |noEval|*BOOL*|Disable eval: just parses file to check syntax.|initOnly|",
          "464: |noInput|*BOOL*|Disable use of console.input().||",
          "465: |noLoad|*BOOL*|Disable load of shared libs.||",
          "466: |noNetwork|*BOOL*|Disable new Socket/WebSocket, or load of builtin MySql.||",
          "467: |noStderr|*BOOL*|Make puts, log, assert, etc use stdout.||",
          "468: |noSubInterps|*BOOL*|Disallow sub-interp creation.||",
          "469: |onComplete|*FUNC*|Function to return commands completions for interactive mode.  Default uses Info.completions . @`function(prefix:string, start:number, end:number)`||",
          "470: |onEval|*FUNC*|Function to get control for interactive evals. @`function(cmd:string)`||",
          "471: |onExit|*FUNC*|Command to call in parent on exit, returns true to continue. @`function()`|initOnly|",
          "472: |pkgDirs|*ARRAY*|list of library directories for require() to search.||",
          "473: |profile|*BOOL*|On exit generate profile of function calls.||",
          "474: |retValue|*VALUE*|Return value from last eval.|readOnly|",
          "475: |safeMode|*STRKEY*|In safe mode source() support for pwd and script-dir . (one of: **none**, **read**, **write**, **writeRead**, **lockdown**)|initOnly|",
          "476: |safeReadDirs|*ARRAY*|In safe mode, files/dirs to allow reads to.|initOnly|",
          "477: |safeWriteDirs|*ARRAY*|In safe mode, files/dirs to allow writes to.|initOnly|",
          "478: |safeExecPattern|*STRKEY*|In safe mode, regexp pattern allow exec of commands.|initOnly|",
          "479: |scriptStr|*STRKEY*|Interp init script string.|initOnly|",
          "480: |scriptFile|*STRING*|Interp init script file.||",
          "481: |stdinStr|*STRING*|String to use as stdin for console.input().||",
          "482: |stdoutStr|*STRING*|String to collect stdout for puts().||",
          "483: |subOpts|*[Options](#options-subOpts)*|Infrequently used sub-options.||",
          "484: |subthread|*BOOL*|Create a threaded Interp.|initOnly|",
          "485: |traceCall|*ARRAY*|Trace commands. (zero or more of: **funcs**, **cmds**, **new**, **return**, **args**, **notrunc**, **noparent**, **full**, **before**)||",
          "486: |traceOp|*INT*|Set debugging level for OPCODE execution.||",
          "487: |tracePuts|*BOOL*|Trace puts by making it use logOpts.||",
          "488: |typeCheck|*ARRAY*|Type-check control options. (zero or more of: **none**, **parse**, **run**, **all**, **error**, **strict**, **noundef**, **nowith**, **funcsig**)||",
          "489: |typeWarnMax|*INT*|Type checking is silently disabled after this many warnings (50).||",
          "490: |udata|*OBJ*|User data.||",
          "491: |unitTest|*UINT*|Unit test control bits: 1=subst, 2=Puts with file:line prefix.||",
          "492: ### Options \"debugOpts\"",
          "493: |Option|Type|Description|Flags|",
          "494: |---|---|---|---|",
          "495: |debugCallback|*CUSTOM*|Command in parent interp for handling debugging.||",
          "496: |doContinue|*BOOL*|Continue execution until breakpoint.||",
          "497: |forceBreak|*BOOL*|Force debugger to break.||",
          "498: |includeOnce|*BOOL*|Source the file only if not already sourced.||",
          "499: |includeTrace|*BOOL*|Trace includes.||",
          "500: |minLevel|*INT*|Disable eval callback for level higher than this.||",
          "501: |msgCallback|*CUSTOM*|Comand in parent interp to handle Jsi_LogError/Jsi_LogWarn,...||",
          "502: |pkgTrace|*BOOL*|Trace package loads.||",
          "503: |putsCallback|*CUSTOM*|Comand in parent interp to handle puts output.||",
          "504: |traceCallback|*CUSTOM*|Comand in parent interp to handle traceCall.||",
          "505: |testFmtCallback|*CUSTOM*|Comand in parent interp to format unittest string.||",
          "506: ### Options \"logOpts\"",
          "507: |Option|Type|Description|Flags|",
          "508: |---|---|---|---|",
          "509: |time|*BOOL*|Prefix with time.||",
          "510: |date|*BOOL*|Prefix with date.||",
          "511: |file|*BOOL*|Ouptut contains file:line.||",
          "512: |func|*BOOL*|Output function.||",
          "513: |full|*BOOL*|Show full file path.||",
          "514: |ftail|*BOOL*|Show tail of file only, even in LogWarn, etc.||",
          "515: |before|*BOOL*|Output file:line before message string.||",
          "516: |isUTC|*BOOL*|Time is to be UTC.||",
          "517: |timeFmt|*STRKEY*|A format string to use with strftime.||",
          "518: |chan|*USEROBJ*|Channel to send output to.||",
          "519: ### Options \"subOpts\"",
          "520: |Option|Type|Description|Flags|",
          "521: |---|---|---|---|",
          "522: |blacklist|*STRKEY*|Comma separated modules to disable loading for.|initOnly|",
          "523: |compat|*BOOL*|Ignore unknown options via JSI_OPTS_IGNORE_EXTRA in option parser.||",
          "524: |dblPrec|*INT*|Format precision of double where 0=max, -1=max-1, ... (max-1).||",
          "525: |istty|*BOOL*|Indicates interp is in interactive mode.|readOnly|",
          "526: |nofreeze|*BOOL*|moduleOpts freeze disabled by default.||",
          "527: |logColNums|*BOOL*|Display column numbers in error messages.||",
          "528: |logAllowDups|*BOOL*|Log should not filter out duplicate messages.||",
          "529: |mutexUnlock|*BOOL*|Unlock own mutex when evaling in other interps (true).|initOnly|",
          "530: |noproto|*BOOL*|Disable support of the OOP symbols:  __proto__, prototype, constructor, etc.||",
          "531: |noFuncString|*BOOL*|Disable viewing code body for functions.|initOnly|",
          "532: |noRegex|*BOOL*|Disable viewing code for functions.|initOnly|",
          "533: |noReadline|*BOOL*|In interactive mode disable use of readline.||",
          "534: |outUndef|*BOOL*|In interactive mode output result values that are undefined.||",
          "535: |prompt|*STRKEY*|Prompt for interactive mode ('$ ').||",
          "536: |prompt2|*STRKEY*|Prompt for interactive mode line continue ('> ').||",
          "539: ## JSON",
          "543: Commands for handling JSON data.",
          "546: ### Methods",
          "547: |Method|Function Argument Types|Description|",
          "548: |---|---|---|",
          "549: |check|(str:string, strict:boolean=true):boolean |Return true if str is JSON.|",
          "550: |parse|(str:string, strict:boolean=true) |Parse JSON and return js.|",
          "551: |stringify|(value:any,  strict:boolean=true):string |Return JSON from a js object.|",
          "554: ## Math",
          "558: Commands performing math operations on numbers.",
          "561: ### Methods",
          "562: |Method|Function Argument Types|Description|",
          "563: |---|---|---|",
          "564: |abs|(num:number):number |Returns the absolute value of x.|",
          "565: |acos|(num:number):number |Returns the arccosine of x, in radians.|",
          "566: |asin|(num:number):number |Returns the arcsine of x, in radians.|",
          "567: |atan|(num:number):number |Returns the arctangent of x as a numeric value between -PI/2 and PI/2 radians.|",
          "568: |atan2|(x:number, y:number):number |Returns the arctangent of the quotient of its arguments.|",
          "569: |ceil|(num:number):number |Returns x, rounded upwards to the nearest integer.|",
          "570: |cos|(num:number):number |Returns the cosine of x (x is in radians).|",
          "571: |exp|(num:number):number |Returns the value of Ex.|",
          "572: |floor|(num:number):number |Returns x, rounded downwards to the nearest integer.|",
          "573: |log|(num:number):number |Returns the natural logarithm (base E) of x.|",
          "574: |max|(x:number, y:number, ...):number |Returns the number with the highest value.|",
          "575: |min|(x:number, y:number, ...):number |Returns the number with the lowest value.|",
          "576: |pow|(x:number, y:number):number |Returns the value of x to the power of y.|",
          "577: |random|():number |Returns a random number between 0 and 1.|",
          "578: |round|(num:number):number |Rounds x to the nearest integer.|",
          "579: |sin|(num:number):number |Returns the sine of x (x is in radians).|",
          "580: |sqrt|(num:number):number |Returns the square root of x.|",
          "581: |srand|(seed:number):number |Set random seed.|",
          "582: |tan|(num:number):number |Returns the tangent of an angle.|",
          "585: ## MySql",
          "589: Commands for accessing mysql databases.",
          "592: ### Methods",
          "593: |Method|Function Argument Types|Description|",
          "594: |---|---|---|",
          "595: |MySql|([options](#options-newmysql):object=void):userobj |Create a new db connection to a MySql database:.|",
          "596: |affectedRows|():number |Return affected rows.|",
          "597: |complete|(sql:string):boolean |Return true if sql is complete.|",
          "598: |conf|([options](#options-mysqlconf):string&#124;object=void) |Configure options.|",
          "599: |errorNo|():number |Return error code returned by most recent call to mysql3_exec().|",
          "600: |errorState|():string |Return the mysql error state str.|",
          "601: |eval|(sql:string):number |Run sql commands without input/output.|",
          "602: |exists|(sql:string):boolean |Execute sql, and return true if there is at least one result value.|",
          "603: |info|():object |Return info about last query.|",
          "604: |lastQuery|():string |Return info string about most recently executed statement.|",
          "605: |lastRowid|():number |Return rowid of last insert.|",
          "606: |onecolumn|(sql:string) |Execute sql, and return a single value.|",
          "607: |ping|(noError:boolean=false):number |Ping connection.|",
          "608: |query|([options](#options-mysqlquery):function&#124;string&#124;array&#124;object=void) |Run sql query with input and/or outputs..|",
          "609: |reconnect|():void |Reconnect with current settings.|",
          "610: |reset|():number |Reset connection.|",
          "611: ### Options \"new\"",
          "612: |Option|Type|Description|Flags|",
          "613: |---|---|---|---|",
          "614: |bindWarn|*BOOL*|Treat failed variable binds as a warning.|initOnly|",
          "615: |database|*STRKEY*|Database to use.|initOnly|",
          "616: |debug|*ARRAY*|Enable debug trace for various operations. (zero or more of: **eval**, **delete**, **prepare**, **step**)||",
          "617: |enableMulti|*BOOL*|Accept muiltiple semi-colon separated statements in eval().|initOnly|",
          "618: |errorCnt|*INT*|Count of errors.|readOnly|",
          "619: |queryOpts|*[Options](#options-queryOpts)*|Default options for exec.||",
          "620: |forceInt|*BOOL*|Bind float as int if possible.||",
          "621: |host|*STRING*|IP address or host name for mysqld (default is 127.0.0.1).||",
          "622: |maxStmts|*INT*|Max cache size for compiled statements.||",
          "623: |name|*DSTRING*|Name for this db handle.||",
          "624: |numStmts|*INT*|Current size of compiled statement cache.|readOnly|",
          "625: |password|*STRKEY*|Database password..|initOnly|",
          "626: |port|*INT*|IP port for mysqld.|initOnly|",
          "627: |reconnect|*BOOL*|Reconnect.||",
          "628: |sslKey|*STRING*|SSL key.||",
          "629: |sslCert|*STRING*|SSL Cert.||",
          "630: |sslCA|*STRING*|SSL CA.||",
          "631: |sslCAPath|*STRING*|SSL CA path.||",
          "632: |sslCipher|*STRING*|SSL Cipher.||",
          "633: |udata|*OBJ*|User data..||",
          "634: |user|*STRKEY*|Database user name. Default is current user-name..|initOnly|",
          "635: |version|*DOUBLE*|Mysql version number.|readOnly|",
          "636: ### Options \"queryOpts\"",
          "637: |Option|Type|Description|Flags|",
          "638: |---|---|---|---|",
          "639: |callback|*FUNC*|Function to call with each row result. @`function(values:object)`||",
          "640: |headers|*BOOL*|First row returned contains column labels.||",
          "641: |limit|*INT*|Maximum number of returned values.||",
          "642: |mapundef|*BOOL*|In variable binds, map an 'undefined' var to null.||",
          "643: |maxString|*INT*|If not using prefetch, the maximum string value size (0=8K).||",
          "644: |mode|*STRKEY*|Set output mode of returned data. (one of: **rows**, **arrays**, **array1d**, **list**, **column**, **json**, **json2**, **html**, **csv**, **insert**, **line**, **tabs**, **none**)||",
          "645: |nocache|*BOOL*|Disable query cache.||",
          "646: |noNamedParams|*BOOL*|Disable translating sql to support named params.||",
          "647: |nullvalue|*STRKEY*|Null string output (for non-json mode).||",
          "648: |obj|*[Options](#options-obj)*|Options for object.||",
          "649: |paramVar|*ARRAY*|Array var to use for parameters.||",
          "650: |prefetch|*BOOL*|Let client library cache entire results.||",
          "651: |separator|*STRKEY*|Separator string (for csv and text mode).||",
          "652: |table|*STRKEY*|Table name for mode=insert.||",
          "653: |typeCheck|*STRKEY*|Type check mode (error). (one of: **convert**, **error**, **warn**, **disable**)||",
          "654: |values|*ARRAY*|Values for ? bind parameters.||",
          "655: |width|*CUSTOM*|In column mode, set column widths.||",
          "656: ### Options \"MySql.query\"",
          "657: |Option|Type|Description|Flags|",
          "658: |---|---|---|---|",
          "659: |callback|*FUNC*|Function to call with each row result. @`function(values:object)`||",
          "660: |headers|*BOOL*|First row returned contains column labels.||",
          "661: |limit|*INT*|Maximum number of returned values.||",
          "662: |mapundef|*BOOL*|In variable binds, map an 'undefined' var to null.||",
          "663: |maxString|*INT*|If not using prefetch, the maximum string value size (0=8K).||",
          "664: |mode|*STRKEY*|Set output mode of returned data. (one of: **rows**, **arrays**, **array1d**, **list**, **column**, **json**, **json2**, **html**, **csv**, **insert**, **line**, **tabs**, **none**)||",
          "665: |nocache|*BOOL*|Disable query cache.||",
          "666: |noNamedParams|*BOOL*|Disable translating sql to support named params.||",
          "667: |nullvalue|*STRKEY*|Null string output (for non-json mode).||",
          "668: |obj|*[Options](#options-obj)*|Options for object.||",
          "669: |paramVar|*ARRAY*|Array var to use for parameters.||",
          "670: |prefetch|*BOOL*|Let client library cache entire results.||",
          "671: |separator|*STRKEY*|Separator string (for csv and text mode).||",
          "672: |table|*STRKEY*|Table name for mode=insert.||",
          "673: |typeCheck|*STRKEY*|Type check mode (error). (one of: **convert**, **error**, **warn**, **disable**)||",
          "674: |values|*ARRAY*|Values for ? bind parameters.||",
          "675: |width|*CUSTOM*|In column mode, set column widths.||",
          "676: ### Options \"obj\"",
          "677: |Option|Type|Description|Flags|",
          "678: |---|---|---|---|",
          "679: |name|*STRKEY*|Name of object var data source for %s.||",
          "680: |skip|*ARRAY*|Object members to ignore.||",
          "681: |getSql|*BOOL*|Return expanded SQL without evaluating.||",
          "682: |defaultNull|*BOOL*|Create with DEFAULT NULL.||",
          "683: |noChecks|*BOOL*|Create with no CHECK constraints.||",
          "684: |noDefaults|*BOOL*|Create with no defaults.||",
          "685: |noTypes|*BOOL*|Create with no types.||",
          "688: ## Number",
          "692: Commands for accessing number objects.",
          "695: ### Methods",
          "696: |Method|Function Argument Types|Description|",
          "697: |---|---|---|",
          "698: |Number|(num:string=0):number |Number constructor.|",
          "699: |isFinite|():boolean |Return true if is finite.|",
          "700: |isInteger|():boolean |Return true if is an integer.|",
          "701: |isNaN|():boolean |Return true if is NaN.|",
          "702: |isSafeInteger|():boolean |Return true if is a safe integer.|",
          "703: |toExponential|(num:number):string |Converts a number into an exponential notation.|",
          "704: |toFixed|(num:number=0):string |Formats a number with x numbers of digits after the decimal point.|",
          "705: |toPrecision|(num:number):string |Formats a number to x length.|",
          "706: |toString|(radix:number=10):string |Convert to string.|",
          "709: ## Object",
          "713: Commands for accessing Objects.",
          "716: ### Methods",
          "717: |Method|Function Argument Types|Description|",
          "718: |---|---|---|",
          "719: |Object|(val:object&#124;function&#124;null=void):object |Object constructor.|",
          "720: |create|(proto:null&#124;object, properties:object=void):object |Create a new object with prototype object and properties.|",
          "721: |freeze|(obj:object, freeze:boolean=true, modifyok:boolean=true, readcheck:boolean=true):void |Freeze/unfreeze an object with optionally.|",
          "722: |getPrototypeOf|(name:object&#124;function):function&#124;object |Return prototype of an object.|",
          "723: |hasOwnProperty|(name:string):boolean |Returns a true if object has the specified property.|",
          "724: |is|(value1, value2):boolean |Tests if two values are equal.|",
          "725: |isPrototypeOf|(name):boolean |Tests for an object in another object's prototype chain.|",
          "726: |keys|(obj:object&#124;function=void):array |Return the keys of an object or array.|",
          "727: |merge|(obj:object&#124;function):object |Return new object containing merged values.|",
          "728: |propertyIsEnumerable|(name):boolean |Determine if a property is enumerable.|",
          "729: |setPrototypeOf|(name:object, value:object) |Set prototype of an object.|",
          "730: |toLocaleString|(quote:boolean=false):string |Convert to string.|",
          "731: |toString|(quote:boolean=false):string |Convert to string.|",
          "732: |valueOf|() |Returns primitive value.|",
          "733: |values|(obj:object=void):array |Return the  values of an object.|",
          "736: ## RegExp",
          "740: Commands for managing reqular expression objects.",
          "743: ### Methods",
          "744: |Method|Function Argument Types|Description|",
          "745: |---|---|---|",
          "746: |RegExp|(val:regexp&#124;string, flags:string):regexp |Create a regexp object.|",
          "747: |exec|(val:string):array&#124;object&#124;null |return matching string. Perform regexp match checking.  Returns the array of matches.With the global flag g, sets lastIndex and returns next match.|",
          "748: |test|(val:string):boolean |test if a string matches.|",
          "751: ## Signal",
          "755: Commands for handling unix signals.",
          "758: ### Methods",
          "759: |Method|Function Argument Types|Description|",
          "760: |---|---|---|",
          "761: |alarm|(secs):number |Setup alarm in seconds.|",
          "762: |callback|(func:function, sig:number&#124;string):number |Setup callback handler for signal.|",
          "763: |handle|(sig:number&#124;string=void, ...) |Set named signals to handle action.|",
          "764: |ignore|(sig:number&#124;string=void, ...) |Set named signals to ignore action.|",
          "765: |kill|(pid:number, sig:number&#124;string='SIGTERM'):void |Send signal to process id.|",
          "766: |names|():array |Return names of all signals.|",
          "767: |reset|(sig:number&#124;string=void, ...):array |Set named signals to default action.|",
          "770: ## Socket",
          "774: Commands for managing Socket server/client connections.",
          "777: ### Methods",
          "778: |Method|Function Argument Types|Description|",
          "779: |---|---|---|",
          "780: |Socket|([options](#options-newsocket):object=void):userobj |Create socket server/client object.Create a socket server or client object.|",
          "781: |close|():void |Close socket(s).|",
          "782: |conf|([options](#options-socketconf):string&#124;object=void) |Configure options.|",
          "783: |idconf|([options](#options-socketidconf):string&#124;object=void) |Configure options for a connection id, or return list of ids.|",
          "784: |names|():array |Return list of active ids on server.|",
          "785: |recv|(id:number=void):string |Recieve data.|",
          "786: |send|([options](#options-socketsend):object=void):void |Send a socket message to id. Send a message to a (or all if -1) connection.|",
          "787: |update|():void |Service events for just this socket.|",
          "788: ### Options \"new\"",
          "789: |Option|Type|Description|Flags|",
          "790: |---|---|---|---|",
          "791: |address|*STRING*|Client destination address (127.0.0.0).|initOnly|",
          "792: |broadcast|*BOOL*|Enable broadcast.|initOnly|",
          "793: |client|*BOOL*|Enable client mode.|initOnly|",
          "794: |connectCnt|*INT*|Counter for number of active connections.|readOnly|",
          "795: |createLast|*TIME_T*|Time of last create.|readOnly|",
          "796: |debug|*INT*|Debugging level.||",
          "797: |echo|*BOOL*|LogInfo outputs all socket Send/Recv messages.||",
          "798: |interface|*STRING*|Interface for server to listen on, eg. 'eth0' or 'lo'.|initOnly|",
          "799: |keepalive|*BOOL*|Enable keepalive.|initOnly|",
          "800: |maxConnects|*INT*|In server mode, max number of client connections accepted.||",
          "801: |mcastAddMember|*STRING*|Multicast add membership: address/interface ('127.0.0.1/0.0.0.0').|initOnly|",
          "802: |mcastInterface|*STRING*|Multicast interface address.|initOnly|",
          "803: |mcastNoLoop|*BOOL*|Multicast loopback disable.|initOnly|",
          "804: |mcastTtl|*INT*|Multicast TTL.|initOnly|",
          "805: |noAsync|*BOOL*|Send is not async.|initOnly|",
          "806: |noUpdate|*BOOL*|Stop processing update events (eg. to exit).||",
          "807: |onClose|*FUNC*|Function to call when connection closes. @`function(s:userobj|null, id:number)`||",
          "808: |onCloseLast|*FUNC*|Function to call when last connection closes. On object delete arg is null. @`function(s:userobj|null)`||",
          "809: |noConfig|*BOOL*|Disable use of Socket.conf to change options after create.|initOnly|",
          "810: |onOpen|*FUNC*|Function to call when connection opens. @`function(s:userobj, info:object)`||",
          "811: |onRecv|*FUNC*|Function to call with recieved data. @`function(s:userobj, id:number, data:string)`||",
          "812: |port|*INT*|Port for client dest or server listen.|initOnly|",
          "813: |quiet|*BOOL*|Suppress info messages.|initOnly|",
          "814: |recvTimeout|*UINT64*|Timeout for receive, in microseconds.|initOnly|",
          "815: |sendTimeout|*UINT64*|Timeout for send, in microseconds.|initOnly|",
          "816: |srcAddress|*STRING*|Client source address.|initOnly|",
          "817: |srcPort|*INT*|Client source port.|initOnly|",
          "818: |startTime|*TIME_T*|Time of start.|readOnly|",
          "819: |stats|*[Options](#options-stats)*|Statistical data.|readOnly|",
          "820: |timeout|*NUMBER*|Timeout value in seconds (0.5).|initOnly|",
          "821: |tos|*INT8*|Type-Of-Service value.|initOnly|",
          "822: |ttl|*INT*|Time-To-Live value.|initOnly|",
          "823: |udata|*OBJ*|User data.||",
          "824: |udp|*BOOL*|Protocol is udp.|initOnly|",
          "825: ### Options \"stats\"",
          "826: |Option|Type|Description|Flags|",
          "827: |---|---|---|---|",
          "828: |echo|*BOOL*|LogInfo outputs all socket Send/Recv messages.||",
          "829: |eventCnt|*INT*|Number of events of any type.||",
          "830: |eventLast|*TIME_T*|Time of last event of any type.||",
          "831: |recvAddr|*CUSTOM*|Incoming port and address.||",
          "832: |recvCnt|*INT*|Number of recieves.||",
          "833: |recvLast|*TIME_T*|Time of last recv.||",
          "834: |sentCnt|*INT*|Number of sends.||",
          "835: |sentLast|*TIME_T*|Time of last send.||",
          "836: |sentErrCnt|*INT*|Number of sends.||",
          "837: |sentErrLast|*TIME_T*|Time of last sendErr.||",
          "838: |udata|*OBJ*|User data.||",
          "839: ### Options \"Socket.idconf\"",
          "840: |Option|Type|Description|Flags|",
          "841: |---|---|---|---|",
          "842: |echo|*BOOL*|LogInfo outputs all socket Send/Recv messages.||",
          "843: |eventCnt|*INT*|Number of events of any type.||",
          "844: |eventLast|*TIME_T*|Time of last event of any type.||",
          "845: |recvAddr|*CUSTOM*|Incoming port and address.||",
          "846: |recvCnt|*INT*|Number of recieves.||",
          "847: |recvLast|*TIME_T*|Time of last recv.||",
          "848: |sentCnt|*INT*|Number of sends.||",
          "849: |sentLast|*TIME_T*|Time of last send.||",
          "850: |sentErrCnt|*INT*|Number of sends.||",
          "851: |sentErrLast|*TIME_T*|Time of last sendErr.||",
          "852: |udata|*OBJ*|User data.||",
          "853: ### Options \"Socket.send\"",
          "854: |Option|Type|Description|Flags|",
          "855: |---|---|---|---|",
          "856: |noAsync|*BOOL*|Send is not async.||",
          "859: ## Sqlite",
          "863: Commands for accessing sqlite databases.",
          "866: ### Methods",
          "867: |Method|Function Argument Types|Description|",
          "868: |---|---|---|",
          "869: |Sqlite|([options](#options-newsqlite):object=void):userobj |Create a new db connection to the named file or :memory:.|",
          "870: |backup|(file:string, dbname:string='main'):void |Backup db to file. Open or create a database file named FILENAME. Transfer the content of local database DATABASE (default: 'main') into the FILENAME database.|",
          "871: |collate|(name:string, callback:function):void |Create new SQL collation command.|",
          "872: |complete|(sql:string):boolean |Return true if sql is complete.|",
          "873: |conf|([options](#options-sqliteconf):string&#124;object=void) |Configure options.|",
          "874: |eval|(sql:string):number |Run sql commands without input/output. Supports multiple semicolon seperated commands. Variable binding is NOT performed, results are discarded, and  returns sqlite3_changes()|",
          "875: |exists|(sql:string):boolean |Execute sql, and return true if there is at least one result value.|",
          "876: |filename|(name:string='main'):string |Return filename for named or all attached databases.|",
          "877: |func|(name:string, callback:function, numArgs:number=void):void |Register a new function with database.|",
          "878: |import|([options](#options-sqliteimport):object=void):number |Import data from file into table . Import data from a file into table. SqlOptions include the 'separator' to use, which defaults to commas for csv, or tabs otherwise. If a column contains a null string, or the value of 'nullvalue', a null is inserted for the column. A 'conflict' is one of the sqlite conflict algorithms:    rollback, abort, fail, ignore, replace On success, return the number of lines processed, not necessarily same as 'changeCnt' due to the conflict algorithm selected. |",
          "879: |interrupt|():void |Interrupt in progress statement.|",
          "880: |onecolumn|(sql:string) |Execute sql, and return a single value.|",
          "881: |query|([options](#options-sqlitequery):function&#124;string&#124;array&#124;object=void) |Evaluate an sql query with bindings. Return values in formatted as JSON, HTML, etc. , optionally calling function with a result object|",
          "882: |restore|(file:string, dbname:string):void |Restore db from file (default db is 'main').    db.restore(FILENAME, ?,DATABASE? )  Open a database file named FILENAME.  Transfer the content of FILENAME into the local database DATABASE (default: 'main').|",
          "883: |transaction|(callback:function, type:string=void):void |Call function inside db tranasaction. Type is: 'deferred', 'exclusive', 'immediate'. Start a new transaction (if we are not already in the midst of a transaction) and execute the JS function FUNC. After FUNC completes, either commit the transaction or roll it back if FUNC throws an exception. Or if no new transation was started, do nothing. pass the exception on up the stack.|",
          "884: ### Options \"new\"",
          "885: |Option|Type|Description|Flags|",
          "886: |---|---|---|---|",
          "887: |bindWarn|*BOOL*|Treat failed variable binds as a warning.|initOnly|",
          "888: |changeCnt|*INT*|The number of rows modified, inserted, or deleted by last command.||",
          "889: |changeCntAll|*INT*|Total number of rows modified, inserted, or deleted since db opened.||",
          "890: |debug|*ARRAY*|Enable debug trace for various operations. (zero or more of: **eval**, **delete**, **prepare**, **step**)||",
          "891: |echo|*BOOL*|Output query/eval string to log.||",
          "892: |errCnt|*INT*|Count of errors in script callbacks.|readOnly|",
          "893: |errorCode|*INT*|Numeric error code returned by the most recent call to sqlite3_exec.||",
          "894: |forceInt|*BOOL*|Bind float as int if possible.||",
          "895: |noJsonConv|*BOOL*|Do not JSON auto-convert array and object in CHARJSON columns.||",
          "896: |lastInsertId|*UINT64*|The rowid of last insert.||",
          "897: |load|*BOOL*|Extensions can be loaded.||",
          "898: |maxRegexCache|*INT*|Max cache size for regex patterns; 0=disable, -1=unlimited (100).||",
          "899: |mutex|*STRKEY*|Mutex type to use. (one of: **default**, **none**, **full**)|initOnly|",
          "900: |name|*DSTRING*|The dbname to use instead of 'main'.|initOnly|",
          "901: |noConfig|*BOOL*|Disable use of Sqlite.conf to change options after create.|initOnly|",
          "902: |noCreate|*BOOL*|Database is must already exist (false).|initOnly|",
          "903: |onAuth|*FUNC*|Function to call for auth. @`function(db:userobj, code:string, descr1:string, decr2:string, dbname:string, trigname:string)`||",
          "904: |onBusy|*FUNC*|Function to call when busy. @`function(db:userobj, tries:number)`||",
          "905: |onCommit|*FUNC*|Function to call on commit. @`function(db:userobj)`||",
          "906: |onNeedCollate|*FUNC*|Function to call for collation. @`function(db:userobj, name:string)`||",
          "907: |onProfile|*FUNC*|Function to call for profile. @`function(db:userobj, sql:string, time:number)`||",
          "908: |onProgress|*FUNC*|Function to call for progress: progressSteps must be >0. @`function(db:userobj)`||",
          "909: |onRollback|*FUNC*|Function to call for rollback. @`function(db:userobj)`||",
          "910: |onTrace|*FUNC*|Function to call for trace. @`function(db:userobj, sql:string)`||",
          "911: |onUpdate|*FUNC*|Function to call for update. @`function(db:userobj, op:string, dbname:string, table:string, rowid:number)`||",
          "912: |onWalHook|*FUNC*|Function to call for WAL. @`function(db:userobj, dbname:string, entry:number)`||",
          "913: |progressSteps|*UINT*|Number of steps between calling onProgress: 0 is disabled.||",
          "914: |queryOpts|*[Options](#options-queryOpts)*|Default options for to use with query().||",
          "915: |readonly|*BOOL*|Database opened in readonly mode.|initOnly|",
          "916: |sortCnt|*INT*|Number of sorts in most recent operation.|readOnly|",
          "917: |stepCnt|*INT*|Number of steps in most recent operation.|readOnly|",
          "918: |stmtCacheCnt|*INT*|Current size of compiled statement cache.|readOnly|",
          "919: |stmtCacheMax|*INT*|Max cache size for compiled statements.||",
          "920: |timeout|*INT*|Amount of time to wait when file is locked, in ms.||",
          "921: |udata|*OBJ*|User data.||",
          "922: |version|*OBJ*|Sqlite version info.|readOnly|",
          "923: |timeout|*INT*|Amount of time to wait when file is locked, in ms.||",
          "924: |vfs|*STRING*|VFS to use.|initOnly|",
          "925: ### Options \"queryOpts\"",
          "926: |Option|Type|Description|Flags|",
          "927: |---|---|---|---|",
          "928: |callback|*FUNC*|Function to call with each row result. @`function(values:object)`||",
          "929: |cdata|*STRKEY*|Name of Cdata array object to use.||",
          "930: |echo|*BOOL*|Output query string to log.||",
          "931: |headers|*BOOL*|First row returned contains column labels.||",
          "932: |limit|*INT*|Maximum number of returned values.||",
          "933: |mapundef|*BOOL*|In variable bind, map an 'undefined' var to null.||",
          "934: |mode|*STRKEY*|Set output mode of returned data. (one of: **rows**, **arrays**, **array1d**, **list**, **column**, **json**, **json2**, **html**, **csv**, **insert**, **line**, **tabs**, **none**)||",
          "935: |nocache|*BOOL*|Disable query cache.||",
          "936: |nullvalue|*STRKEY*|Null string output (for non js/json mode).||",
          "937: |obj|*[Options](#options-obj)*|Options for object.||",
          "938: |retChanged|*BOOL*|Query returns value of sqlite3_changed().||",
          "939: |separator|*STRKEY*|Separator string (for csv and text mode).||",
          "940: |typeCheck|*STRKEY*|Type check mode (warn). (one of: **convert**, **warn**, **error**, **disable**)||",
          "941: |table|*STRKEY*|Table name for mode=insert.||",
          "942: |values|*ARRAY*|Values for ? bind parameters.||",
          "943: |width|*CUSTOM*|In column mode, set column widths.||",
          "944: ### Options \"Sqlite.import\"",
          "945: |Option|Type|Description|Flags|",
          "946: |---|---|---|---|",
          "947: |headers|*BOOL*|First row contains column labels.||",
          "948: |csv|*BOOL*|Treat input values as CSV.||",
          "949: |conflict|*STRKEY*|Set conflict resolution. (one of: **ROLLBACK**, **ABORT**, **FAIL**, **IGNORE**, **REPLACE**)||",
          "950: |limit|*INT*|Maximum number of lines to load.||",
          "951: |nullvalue|*STRKEY*|Null string.||",
          "952: |separator|*STRKEY*|Separator string; default is comma if csv, else tabs.||",
          "953: ### Options \"Sqlite.query\"",
          "954: |Option|Type|Description|Flags|",
          "955: |---|---|---|---|",
          "956: |callback|*FUNC*|Function to call with each row result. @`function(values:object)`||",
          "957: |cdata|*STRKEY*|Name of Cdata array object to use.||",
          "958: |echo|*BOOL*|Output query string to log.||",
          "959: |headers|*BOOL*|First row returned contains column labels.||",
          "960: |limit|*INT*|Maximum number of returned values.||",
          "961: |mapundef|*BOOL*|In variable bind, map an 'undefined' var to null.||",
          "962: |mode|*STRKEY*|Set output mode of returned data. (one of: **rows**, **arrays**, **array1d**, **list**, **column**, **json**, **json2**, **html**, **csv**, **insert**, **line**, **tabs**, **none**)||",
          "963: |nocache|*BOOL*|Disable query cache.||",
          "964: |nullvalue|*STRKEY*|Null string output (for non js/json mode).||",
          "965: |obj|*[Options](#options-obj)*|Options for object.||",
          "966: |retChanged|*BOOL*|Query returns value of sqlite3_changed().||",
          "967: |separator|*STRKEY*|Separator string (for csv and text mode).||",
          "968: |typeCheck|*STRKEY*|Type check mode (warn). (one of: **convert**, **warn**, **error**, **disable**)||",
          "969: |table|*STRKEY*|Table name for mode=insert.||",
          "970: |values|*ARRAY*|Values for ? bind parameters.||",
          "971: |width|*CUSTOM*|In column mode, set column widths.||",
          "974: ## String",
          "978: Commands for accessing string objects..",
          "981: ### Methods",
          "982: |Method|Function Argument Types|Description|",
          "983: |---|---|---|",
          "984: |String|(str):string |String constructor.|",
          "985: |charAt|(index:number):string |Return char at index.|",
          "986: |charCodeAt|(index:number):number |Return char code at index.|",
          "987: |concat|(str:string, ...):string |Append one or more strings.|",
          "988: |fromCharCode|(...):string |Return string for char codes.|",
          "989: |indexOf|(str:string, start:number):number |Return index of char.|",
          "990: |lastIndexOf|(str:string, start:number):number |Return index of last char.|",
          "991: |map|(strMap:array, nocase:boolean=false):string |Replaces characters in string based on the key-value pairs in strMap.|",
          "992: |match|(pattern:regexp&#124;string):array&#124;null |Return array of matches.|",
          "993: |repeat|(count:number):string |Return count copies of string.|",
          "994: |replace|(pattern:regexp&#124;string, replace:string&#124;function):string |Regex/string replacement. If the replace argument is a function, it is called with match,p1,p2,...,offset,string.  If called function is known to have 1 argument, it is called with just the match.|",
          "995: |search|(pattern:regexp&#124;string):number |Return index of first char matching pattern.|",
          "996: |slice|(start:number, end:number):string |Return section of string.|",
          "997: |split|(char:string&#124;null=void):array |Split on char and return Array. When char is omitted splits on bytes.  When char==null splits on whitespace and removes empty elements.|",
          "998: |substr|(start:number, length:number):string |Return substring.|",
          "999: |substring|(start:number, end:number):string |Return substring.|",
          "1000: |toLocaleLowerCase|():string |Lower case.|",
          "1001: |toLocaleUpperCase|():string |Upper case.|",
          "1002: |toLowerCase|():string |Return lower cased string.|",
          "1003: |toTitle|(chars:string):string |Make first char upper case.|",
          "1004: |toUpperCase|():string |Return upper cased string.|",
          "1005: |trim|(chars:string):string |Trim chars.|",
          "1006: |trimLeft|(chars:string):string |Trim chars from left.|",
          "1007: |trimRight|(chars:string):string |Trim chars from right.|",
          "1010: ## System",
          "1014: Builtin system commands. All methods are exported as global.",
          "1017: ### Methods",
          "1018: |Method|Function Argument Types|Description|",
          "1019: |---|---|---|",
          "1020: |LogDebug|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1021: |LogError|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1022: |LogInfo|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1023: |LogTest|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1024: |LogTrace|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1025: |LogWarn|(str:string&#124;boolean,...):void |Debug logging command.|",
          "1026: |assert|([options](#options-systemassert):object=void):void |Throw or output msg if expr is false. Assertions.  Enable with jsish --I Assert or using the -Assert module option.|",
          "1027: |clearInterval|(id:number):void |Delete event id returned from setInterval/setTimeout/info.events().|",
          "1028: |decodeURI|(val:string):string |Decode an HTTP URL.|",
          "1029: |encodeURI|(val:string):string |Encode an HTTP URL.|",
          "1030: |exec|([options](#options-systemexec):string&#124;object=void) |Execute an OS command. If the command ends with '&', set the 'bg' option to true. The second argument can be a string, which is the same as setting the 'inputStr' option. By default, returns the string output, unless the 'bg', 'inputStr', 'retCode' or 'retAll' options are used|",
          "1031: |exit|(code:number=0):void |Exit the current interpreter.|",
          "1032: |format|(format:string, ...):string |Printf style formatting: adds %q and %S.|",
          "1033: |import|([options](#options-systemimport):object=void) |Same as source.|",
          "1034: |isFinite|(val):boolean |Return true if is a finite number.|",
          "1035: |isMain|():boolean |Return true if current script was the main script invoked from command-line.|",
          "1036: |isNaN|(val):boolean |Return true if not a number.|",
          "1037: |load|(shlib:string):void |Load a shared executable and invoke its _Init call.|",
          "1038: |log|(val, ...):void |Same as puts, but includes file:line.|",
          "1039: |matchObj|(obj:object, match:string=void, partial=false, noerror=false):string&#124;boolean |Validate that object matches given name:type string. With single arg returns generated string.|",
          "1040: |moduleOpts|(self:object&#124;userobj=void, options:object=void, conf:object&#124;null&#124;undefined=void):object |Parse module options.|",
          "1041: |moduleRun|(cmd:string&#124;null&#124;function=void, conf:array=undefined) |Invoke named module. If name is empty, uses file basename. If isMain invokes function with same name as file. With no args will invoke provide.|",
          "1042: |noOp|() |A No-Op. A zero overhead command call that is useful for debugging.|",
          "1043: |parseFloat|(val):number |Convert string to a double.|",
          "1044: |parseInt|(val:any, base:number=10):number |Convert string to an integer.|",
          "1045: |parseOpts|(self:object&#124;userobj, options:object, conf:object&#124;null&#124;undefined=void):object |Parse module options: similar to moduleOpts but for non-modules.|",
          "1046: |printf|(format:string, ...):void |Formatted output to stdout.|",
          "1047: |provide|([options](#options-systemprovide):object&#124;function=void):void |Provide a package for use with require.. Default is the file tail-rootname|",
          "1048: |puts|(val, ...):void |Output one or more values to stdout. Each argument is quoted.  Use Interp.logOpts to control source line and/or timestamps output.|",
          "1049: |quote|(val:string):string |Return quoted string.|",
          "1050: |require|([options](#options-systemrequire):object=void):number&#124;array&#124;object |Load/query packages. With no arguments, returns the list of all loaded packages. With one argument, loads the package (if necessary) and returns its version. With two arguments, returns object containing: version, loadFile, func. A third argument sets options for package or module. Note an error is thrown if requested version is greater than actual version.|",
          "1051: |runModule|(cmd:string&#124;null&#124;function=void, conf:array=undefined) |Invoke named module. If name is empty, uses file basename. If isMain invokes function with same name as file. With no args will invoke provide.|",
          "1052: |setInterval|(callback:function, ms:number):number |Setup recurring function to run every given millisecs.|",
          "1053: |setTimeout|(callback:function, ms:number):number |Setup function to run after given millisecs.|",
          "1054: |sleep|(secs:number=1.0):void |sleep for N milliseconds, minimum .001.|",
          "1055: |source|([options](#options-systemsource):object=void) |Load and evaluate source files: trailing '/' appends PARENTDIR.jsi.|",
          "1056: |strftime|([options](#options-systemstrftime):string&#124;object=void):string |Format numeric time (in ms) to a string. Null or no value will use current time.|",
          "1057: |strptime|([options](#options-systemstrptime):string&#124;object=void):number |Parse time from string and return ms time since 1970-01-01 in UTC, or NaN.|",
          "1058: |times|(callback:function&#124;boolean, count:number=1):number |Call function count times and return execution time in microseconds.|",
          "1059: |unload|(shlib:string):void |Unload a shared executable and invoke its _Done call.|",
          "1060: |update|([options](#options-systemupdate):number&#124;object=void):number |Service all events, eg. setInterval/setTimeout. Returns the number of events processed. Events are processed until minTime (in milliseconds) is exceeded, or forever if -1. The default minTime is 0, meaning return as soon as no events can be processed. A positive mintime will result in sleeps between event checks.|",
          "1061: ### Options \"System.assert\"",
          "1062: |Option|Type|Description|Flags|",
          "1063: |---|---|---|---|",
          "1064: |mode|*STRKEY*|Action when assertion fails. Default from Interp.assertMode. (one of: **throw**, **log**, **puts**)||",
          "1065: |noStderr|*BOOL*|Logged msg to stdout. Default from Interp.noStderr.||",
          "1066: ### Options \"System.exec\"",
          "1067: |Option|Type|Description|Flags|",
          "1068: |---|---|---|---|",
          "1069: |bg|*BOOL*|Run command in background using system() and return OS code.||",
          "1070: |chdir|*STRING*|Change to directory.||",
          "1071: |inputStr|*STRING*|Use string as input and return OS code.||",
          "1072: |noError|*BOOL*|Suppress all OS errors.||",
          "1073: |noRedir|*BOOL*|Disable redirect and shell escapes in command.||",
          "1074: |noShell|*BOOL*|Do not use native popen which invokes via /bin/sh.||",
          "1075: |trim|*BOOL*|Trim trailing whitespace from output.||",
          "1076: |retAll|*BOOL*|Return the OS return code and data as an object.||",
          "1077: |retCode|*BOOL*|Return only the OS return code.||",
          "1078: ### Options \"System.import\"",
          "1079: |Option|Type|Description|Flags|",
          "1080: |---|---|---|---|",
          "1081: |autoIndex|*BOOL*|Look for and load Jsi_Auto.jsi auto-index file.||",
          "1082: |exists|*BOOL*|Source file only if exists.||",
          "1083: |global|*BOOL*|File is to be sourced in global frame rather than local.||",
          "1084: |isMain|*BOOL*|Coerce to true the value of Info.isMain().||",
          "1085: |level|*UINT*|Frame to source file in.||",
          "1086: |noEval|*BOOL*|Disable eval: just parses file to check syntax.||",
          "1087: |noError|*BOOL*|Ignore errors in sourced file.||",
          "1088: |once|*BOOL*|Source file only if not already sourced (Default: Interp.debugOpts.includeOnce).||",
          "1089: |trace|*BOOL*|Trace include statements (Default: Interp.debugOpts.includeTrace).||",
          "1090: ### Options \"System.provide\"",
          "1091: |Option|Type|Description|Flags|",
          "1092: |---|---|---|---|",
          "1093: |log|*ARRAY*|Logging flags. (zero or more of: **bug**, **assert**, **debug**, **trace**, **test**, **info**, **warn**, **error**, **parse**)|noCase|",
          "1094: |logmask|*ARRAY*|Logging mask flags. (zero or more of: **bug**, **assert**, **debug**, **trace**, **test**, **info**, **warn**, **error**, **parse**)|noCase|",
          "1095: |coverage|*BOOL*|On exit generate detailed code coverage for function calls (with profile).||",
          "1096: |nofreeze|*BOOL*|Disable moduleOpts freeze of first arg (self).||",
          "1097: |info|*OBJ*|Info provided by module.|initOnly|",
          "1098: |profile|*BOOL*|On exit generate profile of function calls.||",
          "1099: |traceCall|*ARRAY*|Trace commands. (zero or more of: **funcs**, **cmds**, **new**, **return**, **args**, **notrunc**, **noparent**, **full**, **before**)||",
          "1100: |udata|*OBJ*|User data settable by require.||",
          "1101: ### Options \"System.require\"",
          "1102: |Option|Type|Description|Flags|",
          "1103: |---|---|---|---|",
          "1104: |log|*ARRAY*|Logging flags. (zero or more of: **bug**, **assert**, **debug**, **trace**, **test**, **info**, **warn**, **error**, **parse**)|noCase|",
          "1105: |logmask|*ARRAY*|Logging mask flags. (zero or more of: **bug**, **assert**, **debug**, **trace**, **test**, **info**, **warn**, **error**, **parse**)|noCase|",
          "1106: |coverage|*BOOL*|On exit generate detailed code coverage for function calls (with profile).||",
          "1107: |nofreeze|*BOOL*|Disable moduleOpts freeze of first arg (self).||",
          "1108: |info|*OBJ*|Info provided by module.|initOnly|",
          "1109: |profile|*BOOL*|On exit generate profile of function calls.||",
          "1110: |traceCall|*ARRAY*|Trace commands. (zero or more of: **funcs**, **cmds**, **new**, **return**, **args**, **notrunc**, **noparent**, **full**, **before**)||",
          "1111: |udata|*OBJ*|User data settable by require.||",
          "1112: ### Options \"System.source\"",
          "1113: |Option|Type|Description|Flags|",
          "1114: |---|---|---|---|",
          "1115: |autoIndex|*BOOL*|Look for and load Jsi_Auto.jsi auto-index file.||",
          "1116: |exists|*BOOL*|Source file only if exists.||",
          "1117: |global|*BOOL*|File is to be sourced in global frame rather than local.||",
          "1118: |isMain|*BOOL*|Coerce to true the value of Info.isMain().||",
          "1119: |level|*UINT*|Frame to source file in.||",
          "1120: |noEval|*BOOL*|Disable eval: just parses file to check syntax.||",
          "1121: |noError|*BOOL*|Ignore errors in sourced file.||",
          "1122: |once|*BOOL*|Source file only if not already sourced (Default: Interp.debugOpts.includeOnce).||",
          "1123: |trace|*BOOL*|Trace include statements (Default: Interp.debugOpts.includeTrace).||",
          "1124: ### Options \"System.strftime\"",
          "1125: |Option|Type|Description|Flags|",
          "1126: |---|---|---|---|",
          "1127: |secs|*BOOL*|Time is seconds (out for parse, in for format).||",
          "1128: |fmt|*STRKEY*|Format string for time.||",
          "1129: |iso|*BOOL*|ISO fmt plus milliseconds ie: %FT%T.%f.||",
          "1130: |utc|*BOOL*|Time is utc (in for parse, out for format).||",
          "1131: ### Options \"System.strptime\"",
          "1132: |Option|Type|Description|Flags|",
          "1133: |---|---|---|---|",
          "1134: |secs|*BOOL*|Time is seconds (out for parse, in for format).||",
          "1135: |fmt|*STRKEY*|Format string for time.||",
          "1136: |iso|*BOOL*|ISO fmt plus milliseconds ie: %FT%T.%f.||",
          "1137: |utc|*BOOL*|Time is utc (in for parse, out for format).||",
          "1138: ### Options \"System.update\"",
          "1139: |Option|Type|Description|Flags|",
          "1140: |---|---|---|---|",
          "1141: |maxEvents|*INT*|Maximum number of events to process (or -1 for all).||",
          "1142: |maxPasses|*INT*|Maximum passes through event queue.||",
          "1143: |minTime|*INT*|Minimum milliseconds before returning, or -1 to loop forever (default is 0).||",
          "1144: |sleep|*INT*|Time to sleep time (in milliseconds) between event checks. Default is 1.||",
          "1147: ## Util",
          "1151: Utilities commands.",
          "1154: ### Methods",
          "1155: |Method|Function Argument Types|Description|",
          "1156: |---|---|---|",
          "1157: |argArray|(arg:any&#124;undefined):array&#124;null |Coerces non-null to an array, if necessary.|",
          "1158: |base64|(val:string, decode:boolean=false):string |Base64 encode/decode a string.|",
          "1159: |complete|(val:string):boolean |Return true if string is complete command with balanced braces, etc.|",
          "1160: |crc32|(val:string, crcSeed=0):number |Calculate 32-bit CRC.|",
          "1161: |decrypt|(val:string, key:string):string |Decrypt data using BTEA encryption. Keys that are not 16 bytes use the MD5 hash of the key.|",
          "1162: |encrypt|(val:string, key:string):string |Encrypt data using BTEA encryption. Keys that are not 16 bytes use the MD5 hash of the key.|",
          "1163: |fromCharCode|(code:number):string |Return char with given character code.|",
          "1164: |getenv|(name:string=void):string&#124;object&#124;void |Get one or all environment.|",
          "1165: |getpid|(parent:boolean=false):number |Get process/parent id.|",
          "1166: |getuser|():object |Get userid info.|",
          "1167: |hash|([options](#options-utilhash):object=void):string |Return hash (default SHA256) of string/file.|",
          "1168: |hexStr|(val:string, decode:boolean=false):string |Hex encode/decode a string.|",
          "1169: |setenv|(name:string, value:string=void) |Set/get an environment var.|",
          "1170: |sqlValues|(name:string, obj:object=void) |Get object values for SQL.|",
          "1171: |times|(callback:function&#124;boolean, count:number=1):number |Call function count times and return execution time in microseconds.|",
          "1172: |verConvert|(ver:string&#124;number, zeroTrim:number=0):number&#124;string&#124;null |Convert a version to/from a string/number, or return null if not a version. For string output zeroTrim says how many trailing .0 to trim (0-2).|",
          "1173: ### Options \"Util.hash\"",
          "1174: |Option|Type|Description|Flags|",
          "1175: |---|---|---|---|",
          "1176: |file|*STRING*|Read data from file and append to str.||",
          "1177: |hashcash|*UINT*|Search for a hash with this many leading zero bits by appending :nonce (Proof-Of-Work).||",
          "1178: |noHex|*BOOL*|Return binary digest, without conversion to hex chars.||",
          "1179: |type|*STRKEY*|Type of hash. (one of: **sha256**, **sha1**, **md5**, **sha3_224**, **sha3_384**, **sha3_512**, **sha3_256**)||",
          "1182: ## Vfs",
          "1186: Commands for creating in memory readonly Virtual file-systems.",
          "1189: ### Methods",
          "1190: |Method|Function Argument Types|Description|",
          "1191: |---|---|---|",
          "1192: |conf|([options](#options-vfsconf):string&#124;object&#124;string=void) |Configure mount.|",
          "1193: |exec|(cmd:string) |Safe mode exec for VFS support cmds eg. fossil info/ls/cat.|",
          "1194: |fileconf|([options](#options-vfsfileconf):string&#124;object=void) |Configure file info which is same info as in fileList.|",
          "1195: |list|():array |Return list of all vfs mounts.|",
          "1196: |mount|(type:string, file:string, param:object=void):string |Mount fossil file as given VFS type name, returning the mount point: frontend for vmount.|",
          "1197: |type|([options](#options-vfstype):object&#124;null=void) |Set/get/delete VFS type name.|",
          "1198: |unmount|(mount:string):void |Unmount a VFS.|",
          "1199: |vmount|([options](#options-vfsvmount):object=void):string |Create and mount a VFS, returning the mount point.|",
          "1200: ### Options \"Vfs.conf\"",
          "1201: |Option|Type|Description|Flags|",
          "1202: |---|---|---|---|",
          "1203: |callback|*FUNC*|Function implementing VFS. @`function(op:string, mount:string, arg:string|object|null)`||",
          "1204: |extra|*OBJ*|Extra info, typically used by predefined VFS type.||",
          "1205: |noAddDirs|*BOOL*|Disable auto-adding of directories; needed by File.glob.||",
          "1206: |file|*STRING*|Fossil file to mount.||",
          "1207: |fileList|*ARRAY*|List of files in the VFS (from listFunc).||",
          "1208: |info|*OBJ*|Info for VFS that is stored upon init.||",
          "1209: |mount|*STRING*|Mount point for the VFS.||",
          "1210: |noPatches|*BOOL*|Ignore patchlevel updates: accepts only X.Y releases.||",
          "1211: |param|*OBJ*|Optional 3rd argument passed to mount.||",
          "1212: |type|*STRKEY*|Type for predefined VFS.||",
          "1213: |user|*OBJ*|User data.||",
          "1214: |version|*STRKEY*|Version to mount.||",
          "1215: ### Options \"Vfs.exec\"",
          "1216: |Option|Type|Description|Flags|",
          "1217: |---|---|---|---|",
          "1218: |data|*STRING*|Data for file.||",
          "1219: |file|*STRKEY*|File pathname.|required|",
          "1220: |perms|*UINT32*|Permissions for file.||",
          "1221: |size|*SSIZE_T*|Size of file.||",
          "1222: |timestamp|*TIME_T*|Timestamp of file.||",
          "1223: ### Options \"Vfs.fileconf\"",
          "1224: |Option|Type|Description|Flags|",
          "1225: |---|---|---|---|",
          "1226: |data|*STRING*|Data for file.||",
          "1227: |file|*STRKEY*|File pathname.|required|",
          "1228: |perms|*UINT32*|Permissions for file.||",
          "1229: |size|*SSIZE_T*|Size of file.||",
          "1230: |timestamp|*TIME_T*|Timestamp of file.||",
          "1231: ### Options \"Vfs.type\"",
          "1232: |Option|Type|Description|Flags|",
          "1233: |---|---|---|---|",
          "1234: |callback|*FUNC*|Function implementing VFS. @`function(op:string, mount:string, arg:string|object|null)`|required|",
          "1235: |extra|*OBJ*|Extra info, typically used by predefined VFS type.||",
          "1236: |noAddDirs|*BOOL*|Disable auto-adding of directories; needed by File.glob.||",
          "1237: ### Options \"Vfs.vmount\"",
          "1238: |Option|Type|Description|Flags|",
          "1239: |---|---|---|---|",
          "1240: |callback|*FUNC*|Function implementing VFS. @`function(op:string, mount:string, arg:string|object|null)`||",
          "1241: |extra|*OBJ*|Extra info, typically used by predefined VFS type.||",
          "1242: |noAddDirs|*BOOL*|Disable auto-adding of directories; needed by File.glob.||",
          "1243: |file|*STRING*|Fossil file to mount.||",
          "1244: |fileList|*ARRAY*|List of files in the VFS (from listFunc).||",
          "1245: |info|*OBJ*|Info for VFS that is stored upon init.||",
          "1246: |mount|*STRING*|Mount point for the VFS.||",
          "1247: |noPatches|*BOOL*|Ignore patchlevel updates: accepts only X.Y releases.||",
          "1248: |param|*OBJ*|Optional 3rd argument passed to mount.||",
          "1249: |type|*STRKEY*|Type for predefined VFS.||",
          "1250: |user|*OBJ*|User data.||",
          "1251: |version|*STRKEY*|Version to mount.||",
          "1254: ## WebSocket",
          "1258: Commands for managing WebSocket server/client connections.",
          "1261: ### Methods",
          "1262: |Method|Function Argument Types|Description|",
          "1263: |---|---|---|",
          "1264: |WebSocket|([options](#options-newwebsocket):object=void):userobj |Create websocket server/client object.Create a websocket server/client object.  The server serves out pages to a web browser, which can use javascript to upgrade connection to a bidirectional websocket.|",
          "1265: |conf|([options](#options-websocketconf):string&#124;object=void) |Configure options.|",
          "1266: |file|(name:string=void):array&#124;void |Add file to hash, or with no args return file hash.|",
          "1267: |handler|(extension:string=void, cmd:string&#124;function=void, flags:number=0):string&#124;array&#124;function&#124;void |Get/Set handler command for an extension. With no args, returns list of handlers.  With one arg, returns value for that handler. Otherwise, sets the handler. When cmd is a string, the call is via moduleRun([cmd], arg). If a cmd is a function, it is called with a single arg: the file name.|",
          "1268: |header|(id:number, name:string=void):string&#124;array&#124;void |Get one or all input headers for connect id.|",
          "1269: |idconf|([options](#options-websocketidconf):string&#124;object=void) |Configure options for connect id.|",
          "1270: |ids|(name:string=void):array |Return list of ids, or lookup one id.|",
          "1271: |query|(id:number, name:string=void):string&#124;object&#124;void |Get one or all query values for connect id.|",
          "1272: |send|(id:number, data:any):void |Send a websocket message to id. Send a message to one (or all connections if -1). If not already a string, msg is formatted as JSON prior to the send.|",
          "1273: |status|():object&#124;void |Return liblws server status.|",
          "1274: |unalias|(path:string):string&#124;void |Return alias reverse lookup.|",
          "1275: |update|():void |Service events for just this websocket.|",
          "1276: |version|():string |Runtime library version string.|",
          "1277: ### Options \"new\"",
          "1278: |Option|Type|Description|Flags|",
          "1279: |---|---|---|---|",
          "1280: |address|*STRING*|In client-mode the address to connect to (127.0.0.1).||",
          "1281: |bufferPwr2|*INT*|Tune the recv/send buffer: value is a power of 2 in [0-20] (16).||",
          "1282: |client|*BOOL*|Run in client mode.|initOnly|",
          "1283: |clientHost|*STRKEY*|Override host name for client.||",
          "1284: |clientOrigin|*STRKEY*|Override client origin (origin).||",
          "1285: |debug|*INT*|Set debug level. Setting this to 512 will turn on max liblws log levels.||",
          "1286: |echo|*BOOL*|LogInfo outputs all websock Send/Recv messages.||",
          "1287: |formParams|*STRKEY*|Comma seperated list of upload form param names ('text,send,file,upload').|readOnly|",
          "1288: |extHandlers|*BOOL*|Setup builtin extension-handlers, ie: .htmli, .cssi, .jsi, .mdi.|initOnly|",
          "1289: |extOpts|*OBJ*|Key/value store for extension-handlers options.|initOnly|",
          "1290: |flags|*INT*|Flags for future use..||",
          "1291: |getRegexp|*REGEXP*|Call onGet() only if Url matches pattern.||",
          "1292: |headers|*ARRAY*|Headers to send to browser: name/value pairs.|initOnly|",
          "1293: |jsiFnPattern|*STRKEY*|A glob-match pattern for files to which is appended 'window.jsiWebSocket=true;' (jsig*.js).|readOnly|",
          "1294: |interface|*STRING*|Interface for server to listen on, eg. 'eth0' or 'lo'.|initOnly|",
          "1295: |local|*BOOL*|Limit connections to localhost addresses on the 127 network.||",
          "1296: |localhostName|*STRKEY*|Client name used by localhost connections ('localhost').||",
          "1297: |maxConnects|*INT*|In server mode, max number of client connections accepted.||",
          "1298: |maxDownload|*INT*|Max size of file download.||",
          "1299: |maxUpload|*INT*|Max size of file upload will accept.||",
          "1300: |mimeTypes|*OBJ*|Object map of file-exts to mime types; initial and/or override of builtins.||",
          "1301: |mimeLookupFunc|*FUNC*|Function to call to lookup mime; returns and/or inserts into mimeTypes. @`function(ws:userobj, id:number, extension:string, url:string)`||",
          "1302: |modifySecs|*UINT*|Seconds between checking for modified files with onModify (2).||",
          "1303: |noConfig|*BOOL*|Disable use of conf() to change options after options after create.|initOnly|",
          "1304: |noCompress|*BOOL*|Disable per-message-deflate extension which can truncate large msgs.||",
          "1305: |noUpdate|*BOOL*|Disable update event-processing.||",
          "1306: |noWebsock|*BOOL*|Serve html, but disallow websocket upgrade.|initOnly|",
          "1307: |noWarn|*BOOL*|Quietly ignore file related errors.||",
          "1308: |onAuth|*FUNC*|Function to call for http basic authentication. @`function(ws:userobj, id:number, url:string, userpass:string)`||",
          "1309: |onClose|*FUNC*|Function to call when the websocket connection closes. @`function(ws:userobj|null, id:number, isError:boolean)`||",
          "1310: |onCloseLast|*FUNC*|Function to call when last websock connection closes. On object delete arg is null. @`function(ws:userobj|null)`||",
          "1311: |onFilter|*FUNC*|Function to call on a new connection: return false to kill connection. @`function(ws:userobj, id:number, url:string, ishttp:boolean)`||",
          "1312: |onGet|*FUNC*|Function to call to server handle http-get. @`function(ws:userobj, id:number, url:string, query:array)`||",
          "1313: |onModify|*FUNC*|Function to call when a served-out-file is modified. @`function(ws:userobj, file:string)`|initOnly|",
          "1314: |onOpen|*FUNC*|Function to call when the websocket connection occurs. @`function(ws:userobj, id:number)`||",
          "1315: |onUnknown|*FUNC*|Function to call to server out content when no file exists. @`function(ws:userobj, id:number, url:string, query:array)`||",
          "1316: |onUpload|*FUNC*|Function to call handle http-post. @`function(ws:userobj, id:number, filename:string, data:string, startpos:number, complete:boolean)`||",
          "1317: |onRecv|*FUNC*|Function to call when websock data recieved. @`function(ws:userobj, id:number, data:string)`||",
          "1318: |pathAliases|*OBJ*|Path alias lookups.|initOnly|",
          "1319: |port|*INT*|Port for server to listen on (8080).|initOnly|",
          "1320: |post|*STRING*|Post string to serve.|initOnly|",
          "1321: |protocol|*STRKEY*|Name of protocol (ws/wss).||",
          "1322: |realm|*STRKEY*|Realm for basic auth (jsish).||",
          "1323: |recvBufMax|*INT*|Size limit of a websocket message.|initOnly|",
          "1324: |recvBufTimeout|*INT*|Timeout for recv of a websock msg.|initOnly|",
          "1325: |redirMax|*BOOL*|Temporarily disable redirects when see more than this in 10 minutes.||",
          "1326: |rootdir|*STRING*|Directory to serve html from (\".\").||",
          "1327: |server|*STRKEY*|String to send out int the header SERVER (jsiWebSocket).||",
          "1328: |ssiExts|*OBJ*|Object map of file extensions to apply SSI.  eg. {myext:true, shtml:false} .|initOnly|",
          "1329: |ssl|*BOOL*|Use https.|initOnly|",
          "1330: |sslCert|*STRKEY*|SSL certificate file.||",
          "1331: |sslKey|*STRKEY*|SSL key file.||",
          "1332: |stats|*[Options](#options-stats)*|Statistical data.|readOnly|",
          "1333: |startTime|*TIME_T*|Time of websocket start.|readOnly|",
          "1334: |includeFile|*STRKEY*|Default file when no extension given (include.shtml).||",
          "1335: |udata|*OBJ*|User data.||",
          "1336: |urlPrefix|*STRKEY*|Prefix in url to strip from path; for reverse proxy..||",
          "1337: |urlRedirect|*STRKEY*|Redirect when no url or /, and adds cookie sessionJsi..||",
          "1338: |useridPass|*STRKEY*|The USERID:PASSWORD to use for basic authentication.||",
          "1339: |version|*OBJ*|WebSocket version info.|readOnly|",
          "1340: ### Options \"WebSocket.idconf\"",
          "1341: |Option|Type|Description|Flags|",
          "1342: |---|---|---|---|",
          "1343: |clientIP|*STRKEY*|Client IP Address.|readOnly|",
          "1344: |clientName|*STRKEY*|Client hostname.|readOnly|",
          "1345: |echo|*BOOL*|LogInfo outputs all websock Send/Recv messages.||",
          "1346: |headers|*ARRAY*|Headers to send to browser on connection: name/value pairs.||",
          "1347: |isWebsock|*BOOL*|Is a websocket connection.||",
          "1348: |key|*STRBUF*|String key lookup in ids command for SSI echo ${#}.|readOnly|",
          "1349: |onClose|*FUNC*|Function to call when the websocket connection closes. @`function(ws:userobj|null, id:number, isError:boolean)`||",
          "1350: |onGet|*FUNC*|Function to call to server handle http-get. @`function(ws:userobj, id:number, url:string, query:array)`||",
          "1351: |onUnknown|*FUNC*|Function to call to serve out content when no file exists. @`function(ws:userobj, id:number, url:string, args:array)`||",
          "1352: |onRecv|*FUNC*|Function to call when websock data recieved. @`function(ws:userobj, id:number, data:string)`||",
          "1353: |onUpload|*FUNC*|Function to call handle http-post. @`function(ws:userobj, id:number, filename:string, data:string, startpos:number, complete:boolean)`||",
          "1354: |rootdir|*STRING*|Directory to serve html from (\".\").||",
          "1355: |stats|*[Options](#options-stats)*|Statistics for connection.|readOnly|",
          "1356: |query|*ARRAY*|Uri arg values for connection.||",
          "1357: |queryObj|*OBJ*|Uri arg values for connection as an object.||",
          "1358: |udata|*OBJ*|User data.||",
          "1359: |url|*DSTRING*|Url for connection.||",
          "1360: |username|*STRING*|The login userid for this connection.||",
          "1361: ### Options \"stats\"",
          "1362: |Option|Type|Description|Flags|",
          "1363: |---|---|---|---|",
          "1364: |connectCnt|*INT*|Number of active connections.|readOnly|",
          "1365: |createTime|*TIME_T*|Time created.||",
          "1366: |eventCnt|*INT*|Number of events of any type.||",
          "1367: |eventLast|*TIME_T*|Time of last event of any type.||",
          "1368: |httpCnt|*INT*|Number of http reqs.||",
          "1369: |httpLast|*TIME_T*|Time of last http reqs.||",
          "1370: |isBinary|*BOOL*|Connection recv data is binary.|readOnly|",
          "1371: |isFinal|*BOOL*|Final data for current message was recieved.|readOnly|",
          "1372: |msgQLen|*INT*|Number of messages in input queue.|readOnly|",
          "1373: |recvCnt|*INT*|Number of recieves.|readOnly|",
          "1374: |recvLast|*TIME_T*|Time of last recv.|readOnly|",
          "1375: |redirLast|*TIME_T*|Time of last redirect.|readOnly|",
          "1376: |redirCnt|*INT*|Count of redirects.|readOnly|",
          "1377: |sentCnt|*INT*|Number of sends.|readOnly|",
          "1378: |sentLast|*TIME_T*|Time of last send.|readOnly|",
          "1379: |sentErrCnt|*INT*|Number of sends.|readOnly|",
          "1380: |sentErrLast|*TIME_T*|Time of last sendErr.|readOnly|",
          "1381: |sentErrLast|*TIME_T*|Time of last sendErr.|readOnly|",
          "1382: |uploadCnt|*INT*|Number of uploads.|readOnly|",
          "1383: |uploadEnd|*TIME_T*|Time of upload end.|readOnly|",
          "1384: |uploadLast|*TIME_T*|Time of last upload input.|readOnly|",
          "1385: |uploadStart|*TIME_T*|Time of upload start.|readOnly|",
          "1388: ## Zvfs",
          "1392: Commands for mounting and accessing .zip files as a filesystem.",
          "1395: ### Methods",
          "1396: |Method|Function Argument Types|Description|",
          "1397: |---|---|---|",
          "1398: |append|(archive:string, filelist:array, path:string&#124;null=void, filelist2:array=void, path2:string&#124;null=void, ...):void |Like 'create()', but appends to an existing archive (with no dup checking).|",
          "1399: |create|(archive:string, filelist:array, path:string&#124;null=void, filelist2:array=void, path2:string&#124;null=void, ...):void |Create a zip with the given files in prefix path. This command creates a zip archive and adds files to it. Files are relative the given 'path', or the current directory. If the destignation file already exist but is not an archive (eg. an executable), zip data is appended to the end of the file. If the existing file is already an archive, an error will be thrown. To truncate an existing archive, use zvfs.truncate(). Or use zvfs.append() instead.     zvfs.create('foo.zip',['main.js', 'bar.js'], 'src', ['a.html', 'css/a.css'], 'html');|",
          "1400: |deflate|(data:string):string |Compress string using zlib deflate.|",
          "1401: |inflate|(data:string):string |Uncompress string using zlib inflate.|",
          "1402: |list|(archive:string):array |List files in archive. Return contents of zip directory as an array of arrays. The first element contains the labels, ie:  [ 'Name', 'Special', 'Offset', 'Bytes', 'BytesCompressed' ] |",
          "1403: |mount|(archive:string, mountdir:string=void):string |Mount zip on mount point. Read a ZIP archive and make entries in the virutal file hash table for all files contained therein.|",
          "1404: |names|(mountdir:string=void):array |Return all zvfs mounted zips, or archive for specified mount. Given an mount point argument, returns the archive for it. Otherwise, returns an array of mount points|",
          "1405: |offset|(archive:string):number |Return the start offset of zip data. Opens and scans the file to determine start of zip data and truncate this off the end of the file.  For ordinary zip archives, the resulting truncated file will be of zero length. If an optional bool argument can disable errors. In any case, the start offset of zip data (or 0) is returned.|",
          "1406: |stat|(filename:string):object |Return details on file in zvfs mount. Return details about the given file in the ZVFS.  The information consists of (1) the name of the ZIP archive that contains the file, (2) the size of the file after decompressions, (3) the compressed size of the file, and (4) the offset of the compressed data in the archive.|",
          "1407: |truncate|(archive:string, noerror:boolean=false):number |Truncate zip data from archive. Opens and scans the file to determine start of zip data and truncate this off the end of the file.  For ordinary zip archives, the resulting truncated file will be of zero length. If an optional bool argument can disable errors. In any case, the start offset of zip data (or 0) is returned.|",
          "1408: |unmount|(archive:string):void |Unmount zip.|",
          "1411: ## console",
          "1415: Console input and output to stderr.",
          "1418: ### Methods",
          "1419: |Method|Function Argument Types|Description|",
          "1420: |---|---|---|",
          "1421: |assert|([options](#options-consoleassert):object=void):void |Same as System.assert().|",
          "1422: |error|(val, ...):void |Same as log but adding prefix ERROR:.|",
          "1423: |input|(prompt:null&#124;string=''):string&#124;void |Read input from the console: if prompt uses linenoise line editing.|",
          "1424: |log|(val, ...):void |Like System.puts, but goes to stderr and includes file:line..|",
          "1425: |logp|(val, ...):void |Same as console.log, but first arg is string prefix and if second is a boolean it controls output.|",
          "1426: |printf|(format:string, ...):void |Same as System.printf but goes to stderr.|",
          "1427: |puts|(val, ...):void |Same as System.puts, but goes to stderr.|",
          "1428: |warn|(val, ...):void |Same as log.|",
          "1429: ### Options \"console.assert\"",
          "1430: |Option|Type|Description|Flags|",
          "1431: |---|---|---|---|",
          "1432: |mode|*STRKEY*|Action when assertion fails. Default from Interp.assertMode. (one of: **throw**, **log**, **puts**)||",
          "1433: |noStderr|*BOOL*|Logged msg to stdout. Default from Interp.noStderr.||",
          "",
          "---------------"
        ]
      }
    }
  ]
}