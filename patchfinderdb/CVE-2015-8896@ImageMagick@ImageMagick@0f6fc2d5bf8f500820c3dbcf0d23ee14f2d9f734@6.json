{
  "cve_id": "CVE-2015-8896",
  "cve_desc": "Integer truncation issue in coders/pict.c in ImageMagick before 7.0.5-0 allows remote attackers to cause a denial of service (application crash) via a crafted .pict file.",
  "repo": "ImageMagick/ImageMagick",
  "patch_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
  "patch_info": {
    "commit_hash": "0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "repo": "ImageMagick/ImageMagick",
    "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/0f6fc2d5bf8f500820c3dbcf0d23ee14f2d9f734",
    "files": [
      "MagickCore/memory.c",
      "MagickCore/studio.h",
      "MagickCore/version.c",
      "MagickCore/version.h",
      "MagickWand/studio.h",
      "coders/icon.c",
      "coders/pict.c",
      "configure",
      "configure.ac"
    ],
    "message": "",
    "before_after_code_files": [
      "MagickCore/memory.c||MagickCore/memory.c",
      "MagickCore/studio.h||MagickCore/studio.h",
      "MagickCore/version.c||MagickCore/version.c",
      "MagickCore/version.h||MagickCore/version.h",
      "MagickWand/studio.h||MagickWand/studio.h",
      "coders/icon.c||coders/icon.c",
      "coders/pict.c||coders/pict.c",
      "configure.ac||configure.ac"
    ]
  },
  "patch_diff": {
    "MagickCore/memory.c||MagickCore/memory.c": [
      "File: MagickCore/memory.c -> MagickCore/memory.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "606:     }",
      "607:   if ((memory_info->blob == NULL) &&",
      "608:       (AcquireMagickResource(MapResource,length) != MagickFalse))",
      "611:         Heap memory failed, try anonymous memory mapping.",
      "",
      "[Removed Lines]",
      "609:     {",
      "",
      "[Added Lines]",
      "609:     {",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "615:         memory_info->type=MapVirtualMemory;",
      "616:       else",
      "617:         RelinquishMagickResource(MapResource,length);",
      "619:   if (memory_info->blob == NULL)",
      "621:       int",
      "627:       file=AcquireUniqueFileResource(memory_info->filename);",
      "628:       if (file != -1)",
      "629:         {",
      "",
      "[Removed Lines]",
      "618:     }",
      "620:     {",
      "622:         file;",
      "625:         Anonymous memory mapping failed, try file-backed memory mapping.",
      "",
      "[Added Lines]",
      "619:   if ((memory_info->blob == NULL) &&",
      "620:       (AcquireMagickResource(DiskResource,length) != MagickFalse))",
      "621:     {",
      "623:         file;",
      "628:       file=AcquireUniqueFileResource(memory_info->filename);",
      "629:       if (file == -1)",
      "631:       else",
      "632:         {",
      "633:           if ((lseek(file,length-1,SEEK_SET) < 0) || (write(file,\"\",1) != 1))",
      "634:             RelinquishMagickResource(DiskResource,length);",
      "635:           else",
      "636:             {",
      "637:               if (AcquireMagickResource(MapResource,length) == MagickFalse)",
      "638:                 RelinquishMagickResource(DiskResource,length);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1033: %",
      "1035: MagickExport MemoryInfo *RelinquishVirtualMemory(MemoryInfo *memory_info)",
      "1037:   assert(memory_info != (MemoryInfo *) NULL);",
      "1038:   assert(memory_info->signature == MagickSignature);",
      "1039:   if (memory_info->blob != (void *) NULL)",
      "",
      "[Removed Lines]",
      "1036: {",
      "",
      "[Added Lines]",
      "1048: {",
      "1049:   assert(memory_info != (MemoryInfo *) NULL);",
      "1050:   assert(memory_info->signature == MagickSignature);",
      "1051:   if (memory_info->blob != (void *) NULL)",
      "",
      "---------------"
    ],
    "MagickCore/studio.h||MagickCore/studio.h": [
      "File: MagickCore/studio.h -> MagickCore/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline  _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "75: #  include <stdlib.h>",
      "76: # endif",
      "77: #endif",
      "78: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "79: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "80: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "75: #if defined(_magickcore_restrict) && !defined(restrict)",
      "76: # define restrict  _magickcore_restrict",
      "77: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.c||MagickCore/version.c": [
      "File: MagickCore/version.c -> MagickCore/version.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "219: %      const char *GetMagickFeatures(void)",
      "220: %",
      "221: %  No parameters are required.",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "227: #if defined(MAGICKCORE_BUILD_MODULES) || defined(_DLL)",
      "228:   \" Modules\"",
      "229: #endif",
      "230: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "231:   \" HDRI\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "234:   \" OpenCL\"",
      "235: #endif",
      "",
      "[Removed Lines]",
      "222: %",
      "",
      "[Added Lines]",
      "222: %",
      "224: MagickExport const char *GetMagickFeatures(void)",
      "225: {",
      "226:   return \"DPC\"",
      "231:   \" Cipher\"",
      "232: #endif",
      "233: #if defined(MAGICKCORE_HDRI_SUPPORT)",
      "239: #if defined(MAGICKCORE_OPENCL_SUPPORT)",
      "240:   \" OpenCL\"",
      "241: #endif",
      "",
      "---------------"
    ],
    "MagickCore/version.h||MagickCore/version.h": [
      "File: MagickCore/version.h -> MagickCore/version.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "28: #define MagickPackageName \"ImageMagick\"",
      "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
      "31: #define MagickLibVersion  0x700",
      "32: #define MagickLibVersionText  \"7.0.0\"",
      "33: #define MagickLibVersionNumber  0,0,0",
      "",
      "[Removed Lines]",
      "30: #define MagickSVNRevision  \"18658:18662M\"",
      "",
      "[Added Lines]",
      "30: #define MagickSVNRevision  \"18670M\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "48: #define MagickppLibAddendum  \"-0\"",
      "49: #define MagickppLibInterface  0",
      "50: #define MagickppLibMinInterface  0",
      "52: #define MagickChangeDate   \"20120427\"",
      "53: #define MagickAuthoritativeLicense  \\",
      "54:   \"http://www.imagemagick.org/script/license.php\"",
      "55: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
      "57: #define MagickDelegates \"bzlib djvu mpeg fftw fpx fontconfig freetype jbig jng jpeg lcms lzma openexr pango png ps tiff webp x xml zlib\"",
      "58: #define MagickHomeURL  \"file:///usr/local/share/doc/ImageMagick-7/index.html\"",
      "59: #if (MAGICKCORE_QUANTUM_DEPTH == 8)",
      "",
      "[Removed Lines]",
      "51: #define MagickReleaseDate  \"2015-05-26\"",
      "56: #define MagickFeatures \"DPC HDRI OpenMP\"",
      "",
      "[Added Lines]",
      "51: #define MagickReleaseDate  \"2015-05-29\"",
      "56: #define MagickFeatures \"DPC HDRI Cipher OpenMP\"",
      "",
      "---------------"
    ],
    "MagickWand/studio.h||MagickWand/studio.h": [
      "File: MagickWand/studio.h -> MagickWand/studio.h",
      "--- Hunk 1 ---",
      "[Context before]",
      "46: #if defined(_magickcore_inline) && !defined(inline)",
      "47: # define inline _magickcore_inline",
      "48: #endif",
      "52: # if defined(__cplusplus) || defined(c_plusplus)",
      "53: #  undef inline",
      "54: # endif",
      "",
      "[Removed Lines]",
      "49: #if defined(_magickcore_restrict) && !defined(restrict)",
      "50: # define restrict  _magickcore_restrict",
      "51: #endif",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "77: #  include <stdlib.h>",
      "78: # endif",
      "79: #endif",
      "80: #if defined(MAGICKCORE_HAVE_STRING_H)",
      "81: # if !defined(STDC_HEADERS) && defined(MAGICKCORE_HAVE_MEMORY_H)",
      "82: #  include <memory.h>",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "77: #if defined(_magickcore_restrict) && !defined(restrict)",
      "78: # define restrict  _magickcore_restrict",
      "79: #endif",
      "",
      "---------------"
    ],
    "coders/icon.c||coders/icon.c": [
      "File: coders/icon.c -> coders/icon.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "183:     size_t",
      "184:       size;",
      "189:     size=(size_t)strtol(p,&q,10);",
      "190:     if (p == q || size < 16 || size > 256)",
      "",
      "[Removed Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "[Added Lines]",
      "186:     while ((isspace((int) ((unsigned char) *p)) != 0))",
      "187:       p++;",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "355:         unsigned char",
      "359:           Icon image encoded as a compressed PNG image.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------"
    ],
    "coders/pict.c||coders/pict.c": [
      "File: coders/pict.c -> coders/pict.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1637:     source_rectangle;",
      "1639:   register const Quantum",
      "1642:   register ssize_t",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1649:     storage_class;",
      "1651:   ssize_t",
      "1654:   unsigned char",
      "",
      "[Removed Lines]",
      "1652:     y;",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1682:     Initialize image info.",
      "1685:   size_rectangle.left=0;",
      "1686:   size_rectangle.bottom=(short) image->rows;",
      "1687:   size_rectangle.right=(short) image->columns;",
      "",
      "[Removed Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "[Added Lines]",
      "1684:   size_rectangle.top=0;",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "1711:   y_resolution=image->resolution.y != 0.0 ? image->resolution.y :",
      "1712:     DefaultResolution;",
      "1713:   storage_class=image->storage_class;",
      "1715:     storage_class=DirectClass;",
      "1716:   if (storage_class == DirectClass)",
      "1717:     {",
      "",
      "[Removed Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "[Added Lines]",
      "1714:   if (image_info->compression == JPEGCompression)",
      "",
      "---------------"
    ],
    "configure.ac||configure.ac": [
      "File: configure.ac -> configure.ac",
      "--- Hunk 1 ---",
      "[Context before]",
      "643: if test \"$enable_cipher\" = 'yes'; then",
      "644:     AC_DEFINE(CIPHER_SUPPORT,1,[permit enciphering and deciphering image pixels])",
      "645: fi",
      "647: # Build a zero-configuration version of ImageMagick.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "645:     MAGICK_FEATURES=\"Cipher $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "654: if test \"$enable_zero_configuration\" = 'yes'; then",
      "655:     AC_DEFINE(ZERO_CONFIGURATION_SUPPORT,1,[Build self-contained, embeddable, zero-configuration ImageMagick])",
      "657: fi",
      "659: # Build a high dynamic range version of ImageMagick.",
      "",
      "[Removed Lines]",
      "656:     MAGICK_FEATURES=\"Zero-Configuration $MAGICK_FEATURES\"",
      "",
      "[Added Lines]",
      "657:     MAGICK_FEATURES=\"Zero-configuration $MAGICK_FEATURES\"",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "3996: if test \"$build_modules\" != 'no'; then",
      "3997:     MAGICK_DEP_LIBS=\"$USER_LIBS $LCMS_LIBS $FREETYPE_LIBS $LQR_LIBS $FFTW_LIBS $FONTCONFIG_LIBS $XEXT_LIBS $IPC_LIBS $X11_LIBS $XT_LIBS $LZMA_LIBS $BZLIB_LIBS $ZLIB_LIBS $LTDL_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "3998: else",
      "4000: fi",
      "4001: AC_SUBST(MAGICK_DEP_LIBS)",
      "",
      "[Removed Lines]",
      "3999:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $OPENJPEG_LIBS $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "[Added Lines]",
      "4000:     MAGICK_DEP_LIBS=\"$USER_LIBS $JBIG_LIBS $LCMS_LIBS $TIFF_LIBS $FREETYPE_LIBS $JPEG_LIBS $GS_LIBS $LQR_LIBS $PNG_LIBS $AUTOTRACE_LIBS $DJVU_LIBS $FFTW_LIBS $FPX_LIBS $FONTCONFIG_LIBS $WEBP_LIBS $WMF_LIBS $DPS_LIBS $XEXT_LIBS $XT_LIBS $IPC_LIBS $X11_LIBS $LZMA_LIBS $BZLIB_LIBS $OPENEXR_LIBS $LIBOPENJP2_LIB $PANGO_LIBS $RSVG_LIBS $XML_LIBS $GVC_LIBS $ZLIB_LIBS $GDI32_LIBS $MATH_LIBS $GOMP_LIBS $CL_LIBS $UMEM_LIBS $JEMALLOC_LIBS $THREAD_LIBS\"",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "16b412dfdff50c347f75a56f2e1095cd39f32e96",
      "candidate_info": {
        "commit_hash": "16b412dfdff50c347f75a56f2e1095cd39f32e96",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/16b412dfdff50c347f75a56f2e1095cd39f32e96",
        "files": [
          "MagickCore/version.h",
          "Makefile.in",
          "configure"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "Makefile.in||Makefile.in"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"17128:17158M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"17236:17250\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-12-05\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-12-15\"",
          "",
          "---------------"
        ],
        "Makefile.in||Makefile.in": [
          "File: Makefile.in -> Makefile.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "2547: AUTOTRACE_LIBS = @AUTOTRACE_LIBS@",
          "2548: AWK = @AWK@",
          "2549: AutotraceDecodeDelegate = @AutotraceDecodeDelegate@",
          "2550: BIN_DIR = @BIN_DIR@",
          "2551: BZIPDelegate = @BZIPDelegate@",
          "2552: BZLIB_LIBS = @BZLIB_LIBS@",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2550: BGPDecodeDelegate = @BGPDecodeDelegate@",
          "2551: BGPEncodeDelegate = @BGPEncodeDelegate@",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "98beafc4f050297cc84a5c9f5f9c93138c7900f3",
      "candidate_info": {
        "commit_hash": "98beafc4f050297cc84a5c9f5f9c93138c7900f3",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/98beafc4f050297cc84a5c9f5f9c93138c7900f3",
        "files": [
          "MagickCore/locale.c",
          "MagickCore/magick-baseconfig.h",
          "MagickCore/version.h",
          "config/config.h.in",
          "configure",
          "configure.ac"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/locale.c||MagickCore/locale.c",
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/version.h||MagickCore/version.h",
          "config/config.h.in||config/config.h.in",
          "configure.ac||configure.ac"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/locale.c||MagickCore/locale.c": [
          "File: MagickCore/locale.c -> MagickCore/locale.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "89: static SemaphoreInfo",
          "96: static volatile locale_t",
          "97:   c_locale = (locale_t) NULL;",
          "98: #endif",
          "",
          "[Removed Lines]",
          "92: static SplayTreeInfo",
          "95: #if defined(MAGICKCORE_HAVE_LOCALE_H)",
          "",
          "[Added Lines]",
          "92: static SplayTreeInfo",
          "95: #if !defined(MAGICKCORE_HAVE_LOCALE_T)",
          "",
          "---------------"
        ],
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "406: #define MAGICKCORE_HAVE_LOCALE_H 1",
          "407: #endif",
          "410: #ifndef MAGICKCORE_HAVE_LOCALTIME_R",
          "411: #define MAGICKCORE_HAVE_LOCALTIME_R 1",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "410: #ifndef MAGICKCORE_HAVE_LOCALE_T",
          "411: #define MAGICKCORE_HAVE_LOCALE_T 1",
          "412: #endif",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  0,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"18537:18543M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"18537:18545M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  0",
          "50: #define MagickppLibMinInterface  0",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeLicense  \\",
          "54:   \"http://www.imagemagick.org/script/license.php\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2015-05-12\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2015-05-14\"",
          "",
          "---------------"
        ],
        "config/config.h.in||config/config.h.in": [
          "File: config/config.h.in -> config/config.h.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "270: #undef HAVE_LOCALE_H",
          "273: #undef HAVE_LOCALTIME_R",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "273: #undef HAVE_LOCALE_T",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "978: AC_TYPE_UINTPTR_T",
          "979: AC_TYPE_UNSIGNED_LONG_LONG_INT",
          "981: # Float_t and double_t are intended to be the the most efficient type.",
          "982: AC_CHECK_TYPES([float_t], [], [], [[#include <math.h>]])",
          "983: AC_CHECK_TYPES([double_t], [], [], [[#include <math.h>]])",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "981: AC_CHECK_TYPES([locale_t])",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "66988abda13e6b91586a74dff40d581b0fb0e31e",
      "candidate_info": {
        "commit_hash": "66988abda13e6b91586a74dff40d581b0fb0e31e",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/66988abda13e6b91586a74dff40d581b0fb0e31e",
        "files": [
          "MagickCore/blob.h",
          "MagickCore/cache.c",
          "MagickCore/magick-baseconfig.h",
          "MagickCore/studio.h",
          "MagickCore/version.h",
          "MagickWand/studio.h",
          "config/config.h.in",
          "configure",
          "configure.ac"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/blob.h||MagickCore/blob.h",
          "MagickCore/cache.c||MagickCore/cache.c",
          "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h",
          "MagickCore/studio.h||MagickCore/studio.h",
          "MagickCore/version.h||MagickCore/version.h",
          "MagickWand/studio.h||MagickWand/studio.h",
          "config/config.h.in||config/config.h.in",
          "configure.ac||configure.ac"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/studio.h||MagickCore/studio.h",
            "MagickCore/version.h||MagickCore/version.h",
            "MagickWand/studio.h||MagickWand/studio.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/studio.h||MagickCore/studio.h",
            "MagickCore/version.h||MagickCore/version.h",
            "MagickWand/studio.h||MagickWand/studio.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/blob.h||MagickCore/blob.h": [
          "File: MagickCore/blob.h -> MagickCore/blob.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "25: extern \"C\" {",
          "26: #endif",
          "30: typedef enum",
          "31: {",
          "",
          "[Removed Lines]",
          "28: #define MagickMaxBufferExtent  (32*8192)",
          "",
          "[Added Lines]",
          "28: #define MagickMaxBufferExtent  8192",
          "",
          "---------------"
        ],
        "MagickCore/cache.c||MagickCore/cache.c": [
          "File: MagickCore/cache.c -> MagickCore/cache.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "120: static MagickBooleanType",
          "121:   GetOneAuthenticPixelFromCache(Image *,const ssize_t,const ssize_t,Quantum *,",
          "122:     ExceptionInfo *),",
          "123:   GetOneVirtualPixelFromCache(const Image *,const VirtualPixelMethod,",
          "124:     const ssize_t,const ssize_t,Quantum *,ExceptionInfo *),",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "122:     ExceptionInfo *),",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "472: %",
          "473: %  The format of the ClonePixelCacheRepository() method is:",
          "474: %",
          "475: %      MagickBooleanType ClonePixelCacheRepository(CacheInfo *cache_info,",
          "476: %        CacheInfo *source_info,ExceptionInfo *exception)",
          "477: %",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "476: %      MagickBooleanType ClonePixelCacheRepository(CacheInfo *cache_info,",
          "477: %        CacheInfo *source_info,ExceptionInfo *exception)",
          "478: %",
          "479: %  A description of each parameter follows:",
          "480: %",
          "481: %    o cache_info: the pixel cache.",
          "482: %",
          "483: %    o source_info: the source pixel cache.",
          "484: %",
          "485: %    o exception: return any errors or warnings in this structure.",
          "486: %",
          "489: static MagickBooleanType ClonePixelCacheOnDisk(CacheInfo *restrict cache_info,",
          "490:   CacheInfo *restrict clone_info,ExceptionInfo *exception)",
          "491: {",
          "492:   MagickSizeType",
          "493:     extent;",
          "495:   ssize_t",
          "496:     count;",
          "498:   unsigned char",
          "499:     buffer[MagickMaxBufferExtent];",
          "502:     Clone pixel cache on disk with identifcal morphology.",
          "504:   if ((OpenPixelCacheOnDisk(cache_info,ReadMode) == MagickFalse) ||",
          "505:       (OpenPixelCacheOnDisk(clone_info,IOMode) == MagickFalse))",
          "506:     return(MagickFalse);",
          "507: #if defined(MAGICKCORE_HAVE_SENDFILE)",
          "508:   if (cache_info->length == (MagickSizeType) ((ssize_t) cache_info->length))",
          "509:     {",
          "510:       off_t",
          "511:         offset;",
          "513:       offset=0;",
          "514:       count=sendfile(clone_info->file,cache_info->file,&offset,",
          "515:         (size_t) cache_info->length);",
          "516:       if (count == (ssize_t) cache_info->length)",
          "517:         return(MagickTrue);",
          "518:     }",
          "519: #endif",
          "520:   extent=0;",
          "521:   while ((count=read(cache_info->file,buffer,sizeof(buffer))) > 0)",
          "522:   {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "502:   NexusInfo",
          "509:   ssize_t",
          "510:     y;",
          "512:   assert(cache_info != (CacheInfo *) NULL);",
          "522:       (cache_info->number_channels == clone_info->number_channels) &&",
          "523:       (memcmp(cache_info->channel_map,clone_info->channel_map,length) == 0) &&",
          "524:       (cache_info->metacontent_extent == clone_info->metacontent_extent))",
          "",
          "[Removed Lines]",
          "506:   size_t",
          "507:     length;",
          "513:   assert(clone_info != (CacheInfo *) NULL);",
          "514:   assert(exception != (ExceptionInfo *) NULL);",
          "515:   if (cache_info->type == PingCache)",
          "516:     return(MagickTrue);",
          "517:   length=cache_info->number_channels*sizeof(*cache_info->channel_map);",
          "518:   if (((cache_info->type == MemoryCache) || (cache_info->type == MapCache)) &&",
          "519:       ((clone_info->type == MemoryCache) || (clone_info->type == MapCache)) &&",
          "520:       (cache_info->columns == clone_info->columns) &&",
          "521:       (cache_info->rows == clone_info->rows) &&",
          "",
          "[Added Lines]",
          "560:   assert(cache_info != (CacheInfo *) NULL);",
          "561:   assert(clone_info != (CacheInfo *) NULL);",
          "562:   assert(exception != (ExceptionInfo *) NULL);",
          "563:   if (cache_info->type == PingCache)",
          "564:     return(MagickTrue);",
          "565:   length=cache_info->number_channels*sizeof(*cache_info->channel_map);",
          "566:   if ((cache_info->columns == clone_info->columns) &&",
          "567:       (cache_info->rows == clone_info->rows) &&",
          "568:       (cache_info->number_channels == clone_info->number_channels) &&",
          "569:       (memcmp(cache_info->channel_map,clone_info->channel_map,length) == 0) &&",
          "570:       (cache_info->metacontent_extent == clone_info->metacontent_extent))",
          "571:     {",
          "573:         Identical pixel cache morphology.",
          "575:       if (((cache_info->type == MemoryCache) ||",
          "576:            (cache_info->type == MapCache)) &&",
          "577:           ((clone_info->type == MemoryCache) ||",
          "578:            (clone_info->type == MapCache)))",
          "579:         {",
          "580:           (void) memcpy(clone_info->pixels,cache_info->pixels,",
          "581:             cache_info->columns*cache_info->number_channels*cache_info->rows*",
          "582:             sizeof(*cache_info->pixels));",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "3144: %  The format of the OpenPixelCache() method is:",
          "3145: %",
          "3146: %      MagickBooleanType OpenPixelCache(Image *image,const MapMode mode,",
          "3149: %  A description of each parameter follows:",
          "3150: %",
          "3151: %    o image: the image.",
          "",
          "[Removed Lines]",
          "3147: %        ExceptionInfo *exception)",
          "3148: %",
          "",
          "[Added Lines]",
          "3208: %        ExceptionInfo *exception)",
          "3209: %",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "3177: static void CacheSignalHandler(int status)",
          "3178: {",
          "3179:   ThrowFatalException(CacheFatalError,\"UnableToExtendPixelCache\");",
          "3180: }",
          "3181: #endif",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "3241: }",
          "3242: #endif",
          "",
          "---------------"
        ],
        "MagickCore/magick-baseconfig.h||MagickCore/magick-baseconfig.h": [
          "File: MagickCore/magick-baseconfig.h -> MagickCore/magick-baseconfig.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "845: #define MAGICKCORE_HAVE_SYS_SELECT_H 1",
          "846: #endif",
          "849: #ifndef MAGICKCORE_HAVE_SYS_SOCKET_H",
          "850: #define MAGICKCORE_HAVE_SYS_SOCKET_H 1",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "849: #ifndef MAGICKCORE_HAVE_SYS_SENDFILE_H",
          "850: #define MAGICKCORE_HAVE_SYS_SENDFILE_H 1",
          "851: #endif",
          "",
          "---------------"
        ],
        "MagickCore/studio.h||MagickCore/studio.h": [
          "File: MagickCore/studio.h -> MagickCore/studio.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "210: # if defined(MAGICKCORE_HAVE_SYS_MMAN_H)",
          "211: #  include <sys/mman.h>",
          "212: # endif",
          "213: #endif",
          "214: #else",
          "215: # include <types.h>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "213: # if defined(MAGICKCORE_HAVE_SYS_SENDFILE_H)",
          "214: #  include <sys/sendfile.h>",
          "215: # endif",
          "",
          "---------------"
        ],
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  0,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"18670:18677M\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"18670:18682M\"",
          "",
          "---------------"
        ],
        "MagickWand/studio.h||MagickWand/studio.h": [
          "File: MagickWand/studio.h -> MagickWand/studio.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "213: # if defined(MAGICKCORE_HAVE_SYS_MMAN_H)",
          "214: #  include <sys/mman.h>",
          "215: # endif",
          "216: #endif",
          "217: #else",
          "218: # include <types.h>",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "216: # if defined(MAGICKCORE_HAVE_SYS_SENDFILE_H)",
          "217: #  include <sys/sendfile.h>",
          "218: # endif",
          "",
          "---------------"
        ],
        "config/config.h.in||config/config.h.in": [
          "File: config/config.h.in -> config/config.h.in",
          "--- Hunk 1 ---",
          "[Context before]",
          "549: #undef HAVE_SYS_SELECT_H",
          "552: #undef HAVE_SYS_SOCKET_H",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "552: #undef HAVE_SYS_SENDFILE_H",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "924: AC_HEADER_DIRENT",
          "926: # Check additional headers",
          "929: ########",
          "930: #",
          "",
          "[Removed Lines]",
          "927: AC_CHECK_HEADERS(arm/limits.h arpa/inet.h complex.h errno.h fcntl.h limits.h linux/unistd.h locale.h machine/param.h mach-o/dyld.h netinet/in.h OS.h process.h sun_prefetch.h stdarg.h sys/ipc.h sys/mman.h sys/resource.h sys/socket.h sys/syslimits.h sys/time.h sys/timeb.h sys/times.h sys/wait.h wchar.h xlocale.h)",
          "",
          "[Added Lines]",
          "927: AC_CHECK_HEADERS(arm/limits.h arpa/inet.h complex.h errno.h fcntl.h limits.h linux/unistd.h locale.h machine/param.h mach-o/dyld.h netinet/in.h OS.h process.h sun_prefetch.h stdarg.h sys/ipc.h sys/mman.h sys/resource.h sys/sendfile.h sys/socket.h sys/syslimits.h sys/time.h sys/timeb.h sys/times.h sys/wait.h wchar.h xlocale.h)",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "9af1cbf22772d54e5ec81c085e7f4de4698eab1a",
      "candidate_info": {
        "commit_hash": "9af1cbf22772d54e5ec81c085e7f4de4698eab1a",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/9af1cbf22772d54e5ec81c085e7f4de4698eab1a",
        "files": [
          "MagickCore/version.h",
          "configure",
          "configure.ac"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "configure.ac||configure.ac"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h",
            "configure.ac||configure.ac"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "28: #define MagickPackageName \"ImageMagick\"",
          "29: #define MagickCopyright  \"Copyright (C) 1999-2015 ImageMagick Studio LLC\"",
          "31: #define MagickLibVersion  0x700",
          "32: #define MagickLibVersionText  \"7.0.0\"",
          "33: #define MagickLibVersionNumber  1,0,0",
          "",
          "[Removed Lines]",
          "30: #define MagickSVNRevision  \"17236:17250\"",
          "",
          "[Added Lines]",
          "30: #define MagickSVNRevision  \"17466:17491M\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-12-22\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-12-28\"",
          "",
          "---------------"
        ],
        "configure.ac||configure.ac": [
          "File: configure.ac -> configure.ac",
          "--- Hunk 1 ---",
          "[Context before]",
          "18: #  are permitted in any medium without royalty provided the copyright",
          "19: #  notice and this notice are preserved.",
          "21: AC_PREREQ(2.69)",
          "23: m4_define([magick_major_version], [7])",
          "24: m4_define([magick_minor_version], [0])",
          "25: m4_define([magick_micro_version], [0])",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "21: # Process this file with autoconf to create configure script.",
          "24: # ==============================================================================",
          "25: # ImageMagick release.",
          "26: # ==============================================================================",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "28:           [magick_major_version.magick_minor_version.magick_micro_version-magick_patchlevel_version])",
          "29: m4_define([magick_svn_revision], esyscmd([sh -c \"(svnversion .) | awk '{ print \\$1 }' | tr -d '\\n'\"]))",
          "31: AC_INIT([ImageMagick],[magick_version],[http://www.imagemagick.org],[ImageMagick])",
          "32: AC_CONFIG_SRCDIR([MagickCore/MagickCore.h])",
          "33: AC_CONFIG_AUX_DIR([config])",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "35: # ==============================================================================",
          "36: # Initalize Automake",
          "37: # ==============================================================================",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "35: AC_CONFIG_MACRO_DIR([m4])",
          "36: AC_CONFIG_HEADERS([config/config.h])",
          "37: AX_PREFIX_CONFIG_H([MagickCore/magick-baseconfig.h],[MagickCore])",
          "83: #",
          "84: # Save initial user-tunable values",
          "",
          "[Removed Lines]",
          "38: AC_CONFIG_FILES([\\",
          "39:     common.shi \\",
          "40:     config/configure.xml \\",
          "41:     config/delegates.xml \\",
          "42:     config/ImageMagick.rdf \\",
          "43:     config/MagickCore.dox \\",
          "44:     config/MagickWand.dox \\",
          "45:     config/Magick++.dox \\",
          "46:     config/type-apple.xml \\",
          "47:     config/type-dejavu.xml \\",
          "48:     config/type-ghostscript.xml \\",
          "49:     config/type-windows.xml \\",
          "50:     config/type.xml \\",
          "51:     ImageMagick.spec \\",
          "52:     Magick++/bin/Magick++-config \\",
          "53:     MagickCore/ImageMagick.pc \\",
          "54:     Magick++/lib/Magick++.pc \\",
          "55:     MagickCore/MagickCore-config \\",
          "56:     MagickCore/MagickCore.pc \\",
          "57:     MagickCore/version.h \\",
          "58:     Makefile \\",
          "59:     magick.sh \\",
          "60:     PerlMagick/check.sh \\",
          "61:     PerlMagick/default/Magick.pm \\",
          "62:     PerlMagick/Makefile.PL \\",
          "63:     PerlMagick/default/Makefile.PL \\",
          "64:     PerlMagick/quantum/Makefile.PL \\",
          "65:     PerlMagick/quantum/quantum.pm \\",
          "66:     PerlMagick/quantum/quantum.xs \\",
          "67:     PerlMagick/quantum/typemap \\",
          "68:     utilities/animate.1 \\",
          "69:     utilities/compare.1 \\",
          "70:     utilities/composite.1 \\",
          "71:     utilities/conjure.1 \\",
          "72:     utilities/convert.1 \\",
          "73:     utilities/display.1 \\",
          "74:     utilities/identify.1 \\",
          "75:     utilities/ImageMagick.1 \\",
          "76:     utilities/import.1 \\",
          "77:     utilities/mogrify.1 \\",
          "78:     utilities/montage.1 \\",
          "79:     utilities/stream.1 \\",
          "80:     MagickWand/MagickWand-config \\",
          "81:     MagickWand/MagickWand.pc ])",
          "",
          "[Added Lines]",
          "45: AC_CANONICAL_SYSTEM",
          "46: AC_CANONICAL_TARGET",
          "47: AM_INIT_AUTOMAKE([1.12 nostdinc color-tests foreign parallel-tests silent-rules subdir-objects dist-bzip2 dist-lzip dist-xz dist-zip])",
          "48: m4_ifdef([AM_SILENT_RULES],[AM_SILENT_RULES([yes])])",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "100: . ${srcdir}/version.sh",
          "102: echo \"configuring ${PACKAGE_NAME} ${PACKAGE_VERSION}${PACKAGE_VERSION_ADDENDUM}\"",
          "108: MAGICK_TARGET_CPU=$host_cpu",
          "109: AC_SUBST(MAGICK_TARGET_CPU)",
          "",
          "[Removed Lines]",
          "103: AC_CANONICAL_SYSTEM",
          "104: AC_CANONICAL_BUILD",
          "105: AC_CANONICAL_HOST",
          "106: AC_CANONICAL_TARGET",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "156: # Ensure that make can run correctly",
          "157: AM_SANITY_CHECK",
          "164: # versioning of library",
          "165: MAGICK_LIB_VERSION=\"0x\"",
          "166: if test ${MAGICK_LIBRARY_CURRENT} -lt 10 ; then",
          "",
          "[Removed Lines]",
          "159: AM_INIT_AUTOMAKE([1.12 nostdinc color-tests foreign parallel-tests silent-rules subdir-objects dist-bzip2 dist-lzip dist-xz dist-zip])",
          "161: # Enable support for silent build rules",
          "162: m4_ifdef([AM_SILENT_RULES],[AM_SILENT_RULES([yes])])",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "303: #",
          "304: AC_USE_SYSTEM_EXTENSIONS",
          "307: AC_PROG_CC",
          "308: AC_PROG_CXX",
          "309: AC_PROG_CC_STDC",
          "",
          "[Removed Lines]",
          "306: # Check for programs",
          "",
          "[Added Lines]",
          "264: # ==============================================================================",
          "265: # Find required base packages",
          "266: # ==============================================================================",
          "267: m4_ifdef([AM_PROG_AR], [AM_PROG_AR])",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "322: AX_C___ATTRIBUTE__",
          "323: AX_GCC_ARCHFLAG([no])",
          "324: PKG_PROG_PKG_CONFIG",
          "326: # Test for 64-bit build.",
          "327: AC_CHECK_SIZEOF([size_t])",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "286: AC_CANONICAL_BUILD",
          "287: AC_CANONICAL_HOST",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "4077: AC_MSG_RESULT([-------------------------------------------------------------])",
          "4078: AC_MSG_RESULT([Update ImageMagick configuration])",
          "4081: rm -f magick-version",
          "",
          "[Removed Lines]",
          "4079: AC_OUTPUT",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "4095:     result_windows_font_dir=${windows_font_dir}",
          "4096: fi",
          "4099: ImageMagick is configured as follows. Please verify that this configuration",
          "4100: matches your expectations.",
          "4105:                   Option                        Value",
          "4180: ])",
          "",
          "[Removed Lines]",
          "4098: AC_MSG_RESULT([",
          "4102: Host system type: $host",
          "4103: Build system type: $build",
          "4106: -------------------------------------------------------------------------------",
          "4107: Shared libraries  --enable-shared=$enable_shared  $libtool_build_shared_libs",
          "4108: Static libraries  --enable-static=$enable_static  $libtool_build_static_libs",
          "4109: Module support    --with-modules=$build_modules  $build_modules",
          "4110: GNU ld            --with-gnu-ld=$with_gnu_ld  $lt_cv_prog_gnu_ld",
          "4111: Quantum depth     --with-quantum-depth=$with_quantum_depth $with_quantum_depth",
          "4112: High Dynamic Range Imagery",
          "4113:                   --enable-hdri=$enable_hdri  $enable_hdri",
          "4115: Delegate Library Configuration:",
          "4116: BZLIB             --with-bzlib=$with_bzlib  $have_bzlib",
          "4117: Autotrace         --with-autotrace=$with_autotrace  $have_autotrace",
          "4118: DJVU              --with-djvu=$with_djvu  $have_djvu",
          "4119: DPS               --with-dps=$with_dps  $have_dps",
          "4120: FFTW              --with-fftw=$with_fftw  $have_fftw",
          "4121: FlashPIX          --with-fpx=$with_fpx  $have_fpx",
          "4122: FontConfig        --with-fontconfig=$with_fontconfig  $have_fontconfig",
          "4123: FreeType          --with-freetype=$with_freetype  $have_freetype",
          "4124: Ghostscript lib   --with-gslib=$with_gslib  $have_gslib",
          "4125: Graphviz          --with-gvc=$with_gvc  $have_gvc",
          "4126: JBIG              --with-jbig=$with_jbig  $have_jbig",
          "4127: JPEG v1           --with-jpeg=$with_jpeg  $have_jpeg",
          "4128: JPEG-2000         --with-jp2=$with_jp2  $have_jp2",
          "4129: LCMS v1           --with-lcms=$with_lcms  $have_lcms",
          "4130: LCMS v2           --with-lcms2=$with_lcms2  $have_lcms2",
          "4131: LIBJPEG2          --with-openjp2=$with_openjp2 $have_openjp2",
          "4132: LQR               --with-lqr=$with_lqr  $have_lqr",
          "4133: LTDL              --with-ltdl=$with_ltdl  $have_ltdl",
          "4134: LZMA              --with-lzma=$with_lzma  $have_lzma",
          "4135: Magick++          --with-magick-plus-plus=$with_magick_plus_plus $have_magick_plus_plus",
          "4136: OpenEXR           --with-openexr=$with_openexr  $have_openexr",
          "4137: PANGO             --with-pango=$with_pango  $have_pango",
          "4138: PERL              --with-perl=$with_perl  $have_perl",
          "4139: PNG               --with-png=$with_png  $have_png",
          "4140: RSVG              --with-rsvg=$with_rsvg  $have_rsvg",
          "4141: TIFF              --with-tiff=$with_tiff  $have_tiff",
          "4142: WEBP              --with-webp=$with_webp  $have_webp",
          "4143: WMF               --with-wmf=$with_wmf  $have_wmf",
          "4144: X11               --with-x=$with_x   $have_x",
          "4145: XML               --with-xml=$with_xml  $have_xml",
          "4146: ZLIB              --with-zlib=$with_zlib  $have_zlib",
          "4148: Delegate Program Configuration:",
          "4149: GhostPCL          None    $PCLDelegate ($PCLVersion)",
          "4150: GhostXPS          None    $XPSDelegate ($XPSVersion)",
          "4151: Ghostscript       None    $PSDelegate ($GSVersion)",
          "4153: Font Configuration:",
          "4154: Apple fonts       --with-apple-font-dir=$with_apple_font_dir $result_apple_font_dir",
          "4155: Dejavu fonts      --with-dejavu-font-dir=$with_dejavu_font_dir $result_dejavu_font_dir",
          "4156: Ghostscript fonts --with-gs-font-dir=$with_gs_font_dir $result_ghostscript_font_dir",
          "4157: Windows fonts     --with-windows-font-dir=$with_windows_font_dir $result_windows_font_dir",
          "4159: X11 Configuration:",
          "4160:       X_CFLAGS        = $X_CFLAGS",
          "4161:       X_PRE_LIBS      = $X_PRE_LIBS",
          "4162:       X_LIBS          = $X_LIBS",
          "4163:       X_EXTRA_LIBS    = $X_EXTRA_LIBS",
          "4165: Options used to compile and link:",
          "4166:   PREFIX          = $PREFIX_DIR",
          "4167:   EXEC-PREFIX     = $EXEC_PREFIX_DIR",
          "4168:   VERSION         = $PACKAGE_VERSION",
          "4169:   CC              = $CC",
          "4170:   CFLAGS          = $CFLAGS",
          "4171:   CPPFLAGS        = $CPPFLAGS",
          "4172:   PCFLAGS         = $PCFLAGS",
          "4173:   DEFS            = $DEFS",
          "4174:   LDFLAGS         = $LDFLAGS",
          "4175:   LIBS            = $LIBS",
          "4176:   CXX             = $CXX",
          "4177:   CXXFLAGS        = $CXXFLAGS",
          "4178:   FEATURES        = $MAGICK_FEATURES",
          "4179:   DELEGATES       = $MAGICK_DELEGATES",
          "",
          "[Added Lines]",
          "4060: # ==============================================================================",
          "4061: # Generate build environment",
          "4062: # ==============================================================================",
          "4063: AC_CONFIG_FILES([\\",
          "4064:     common.shi \\",
          "4065:     config/configure.xml \\",
          "4066:     config/delegates.xml \\",
          "4067:     config/ImageMagick.rdf \\",
          "4068:     config/MagickCore.dox \\",
          "4069:     config/MagickWand.dox \\",
          "4070:     config/Magick++.dox \\",
          "4071:     config/type-apple.xml \\",
          "4072:     config/type-dejavu.xml \\",
          "4073:     config/type-ghostscript.xml \\",
          "4074:     config/type-windows.xml \\",
          "4075:     config/type.xml \\",
          "4076:     ImageMagick.spec \\",
          "4077:     Magick++/bin/Magick++-config \\",
          "4078:     MagickCore/ImageMagick.pc \\",
          "4079:     Magick++/lib/Magick++.pc \\",
          "4080:     MagickCore/MagickCore-config \\",
          "4081:     MagickCore/MagickCore.pc \\",
          "4082:     MagickCore/version.h \\",
          "4083:     Makefile \\",
          "4084:     magick.sh \\",
          "4085:     PerlMagick/check.sh \\",
          "4086:     PerlMagick/default/Magick.pm \\",
          "4087:     PerlMagick/Makefile.PL \\",
          "4088:     PerlMagick/default/Makefile.PL \\",
          "4089:     PerlMagick/quantum/Makefile.PL \\",
          "4090:     PerlMagick/quantum/quantum.pm \\",
          "4091:     PerlMagick/quantum/quantum.xs \\",
          "4092:     PerlMagick/quantum/typemap \\",
          "4093:     utilities/animate.1 \\",
          "4094:     utilities/compare.1 \\",
          "4095:     utilities/composite.1 \\",
          "4096:     utilities/conjure.1 \\",
          "4097:     utilities/convert.1 \\",
          "4098:     utilities/display.1 \\",
          "4099:     utilities/identify.1 \\",
          "4100:     utilities/ImageMagick.1 \\",
          "4101:     utilities/import.1 \\",
          "4102:     utilities/mogrify.1 \\",
          "4103:     utilities/montage.1 \\",
          "4104:     utilities/stream.1 \\",
          "4105:     MagickWand/MagickWand-config \\",
          "4106:     MagickWand/MagickWand.pc ])",
          "4107: AC_OUTPUT",
          "4109: # ==============================================================================",
          "4110: # ImageMagick Configuration",
          "4111: # ==============================================================================",
          "4112: AC_MSG_NOTICE([",
          "4113: ==============================================================================",
          "4117:   Host system type: $host",
          "4118:   Build system type: $build",
          "4121:   ------------------------------------------------------------------------------",
          "4122:   Shared libraries  --enable-shared=$enable_shared  $libtool_build_shared_libs",
          "4123:   Static libraries  --enable-static=$enable_static  $libtool_build_static_libs",
          "4124:   Module support    --with-modules=$build_modules  $build_modules",
          "4125:   GNU ld            --with-gnu-ld=$with_gnu_ld  $lt_cv_prog_gnu_ld",
          "4126:   Quantum depth     --with-quantum-depth=$with_quantum_depth $with_quantum_depth",
          "4127:   High Dynamic Range Imagery",
          "4128:                     --enable-hdri=$enable_hdri  $enable_hdri",
          "4130:   Install documentation:     $wantdocs",
          "4132:   Delegate Library Configuration:",
          "4133:   BZLIB             --with-bzlib=$with_bzlib  $have_bzlib",
          "4134:   Autotrace         --with-autotrace=$with_autotrace  $have_autotrace",
          "4135:   DJVU              --with-djvu=$with_djvu  $have_djvu",
          "4136:   DPS               --with-dps=$with_dps  $have_dps",
          "4137:   FFTW              --with-fftw=$with_fftw  $have_fftw",
          "4138:   FlashPIX          --with-fpx=$with_fpx  $have_fpx",
          "4139:   FontConfig        --with-fontconfig=$with_fontconfig  $have_fontconfig",
          "4140:   FreeType          --with-freetype=$with_freetype  $have_freetype",
          "4141:   Ghostscript lib   --with-gslib=$with_gslib  $have_gslib",
          "4142:   Graphviz          --with-gvc=$with_gvc  $have_gvc",
          "4143:   JBIG              --with-jbig=$with_jbig  $have_jbig",
          "4144:   JPEG v1           --with-jpeg=$with_jpeg  $have_jpeg",
          "4145:   JPEG-2000         --with-jp2=$with_jp2  $have_jp2",
          "4146:   LCMS v1           --with-lcms=$with_lcms  $have_lcms",
          "4147:   LCMS v2           --with-lcms2=$with_lcms2  $have_lcms2",
          "4148:   LIBJPEG2          --with-openjp2=$with_openjp2 $have_openjp2",
          "4149:   LQR               --with-lqr=$with_lqr  $have_lqr",
          "4150:   LTDL              --with-ltdl=$with_ltdl  $have_ltdl",
          "4151:   LZMA              --with-lzma=$with_lzma  $have_lzma",
          "4152:   Magick++          --with-magick-plus-plus=$with_magick_plus_plus $have_magick_plus_plus",
          "4153:   OpenEXR           --with-openexr=$with_openexr  $have_openexr",
          "4154:   PANGO             --with-pango=$with_pango  $have_pango",
          "4155:   PERL              --with-perl=$with_perl  $have_perl",
          "4156:   PNG               --with-png=$with_png  $have_png",
          "4157:   RSVG              --with-rsvg=$with_rsvg  $have_rsvg",
          "4158:   TIFF              --with-tiff=$with_tiff  $have_tiff",
          "4159:   WEBP              --with-webp=$with_webp  $have_webp",
          "4160:   WMF               --with-wmf=$with_wmf  $have_wmf",
          "4161:   X11               --with-x=$with_x   $have_x",
          "4162:   XML               --with-xml=$with_xml  $have_xml",
          "4163:   ZLIB              --with-zlib=$with_zlib  $have_zlib",
          "4165:   Delegate Program Configuration:",
          "4166:   GhostPCL          None    $PCLDelegate ($PCLVersion)",
          "4167:   GhostXPS          None    $XPSDelegate ($XPSVersion)",
          "4168:   Ghostscript       None    $PSDelegate ($GSVersion)",
          "4170:   Font Configuration:",
          "4171:   Apple fonts       --with-apple-font-dir=$with_apple_font_dir $result_apple_font_dir",
          "4172:   Dejavu fonts      --with-dejavu-font-dir=$with_dejavu_font_dir $result_dejavu_font_dir",
          "4173:   Ghostscript fonts --with-gs-font-dir=$with_gs_font_dir $result_ghostscript_font_dir",
          "4174:   Windows fonts     --with-windows-font-dir=$with_windows_font_dir $result_windows_font_dir",
          "4176:   X11 Configuration:",
          "4177:         X_CFLAGS        = $X_CFLAGS",
          "4178:         X_PRE_LIBS      = $X_PRE_LIBS",
          "4179:         X_LIBS          = $X_LIBS",
          "4180:         X_EXTRA_LIBS    = $X_EXTRA_LIBS",
          "4182:   Options used to compile and link:",
          "4183:     PREFIX          = $PREFIX_DIR",
          "4184:     EXEC-PREFIX     = $EXEC_PREFIX_DIR",
          "4185:     VERSION         = $PACKAGE_VERSION",
          "4186:     CC              = $CC",
          "4187:     CFLAGS          = $CFLAGS",
          "4188:     CPPFLAGS        = $CPPFLAGS",
          "4189:     PCFLAGS         = $PCFLAGS",
          "4190:     DEFS            = $DEFS",
          "4191:     LDFLAGS         = $LDFLAGS",
          "4192:     LIBS            = $LIBS",
          "4193:     CXX             = $CXX",
          "4194:     CXXFLAGS        = $CXXFLAGS",
          "4195:     FEATURES        = $MAGICK_FEATURES",
          "4196:     DELEGATES       = $MAGICK_DELEGATES",
          "4197: ==============================================================================",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "50631bc4acdd263d7927b739df41bde86298feee",
      "candidate_info": {
        "commit_hash": "50631bc4acdd263d7927b739df41bde86298feee",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/50631bc4acdd263d7927b739df41bde86298feee",
        "files": [
          "MagickCore/version.h",
          "coders/svg.c"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/version.h||MagickCore/version.h",
          "coders/svg.c||coders/svg.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/version.h||MagickCore/version.h"
          ],
          "candidate": [
            "MagickCore/version.h||MagickCore/version.h"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/version.h||MagickCore/version.h": [
          "File: MagickCore/version.h -> MagickCore/version.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "48: #define MagickppLibAddendum  \"-0\"",
          "49: #define MagickppLibInterface  1",
          "50: #define MagickppLibMinInterface  1",
          "52: #define MagickChangeDate   \"20120427\"",
          "53: #define MagickAuthoritativeURL  \"http://www.imagemagick.org\"",
          "54: #define MagickFeatures \"DPC HDRI OpenMP\"",
          "",
          "[Removed Lines]",
          "51: #define MagickReleaseDate  \"2014-07-18\"",
          "",
          "[Added Lines]",
          "51: #define MagickReleaseDate  \"2014-07-25\"",
          "",
          "---------------"
        ],
        "coders/svg.c||coders/svg.c": [
          "File: coders/svg.c -> coders/svg.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2963:         if (image_info->ping == MagickFalse)",
          "2964:           {",
          "2965:             size_t",
          "2968: #if defined(MAGICKCORE_CAIRO_DELEGATE)",
          "2969:             stride=4*image->columns;",
          "",
          "[Removed Lines]",
          "2966:               stride;",
          "",
          "[Added Lines]",
          "2966:               stride;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "2977:                 g_object_unref(svg_handle);",
          "2978:                 ThrowReaderException(ResourceLimitError,",
          "2979:                   \"MemoryAllocationFailed\");",
          "2981:             pixels=(unsigned char *) GetVirtualMemoryBlob(pixel_info);",
          "2982: #endif",
          "2983:             (void) SetImageBackgroundColor(image,exception);",
          "",
          "[Removed Lines]",
          "2980:               }",
          "",
          "[Added Lines]",
          "2980:               }",
          "2981:             pixels=(unsigned char *) GetVirtualMemoryBlob(pixel_info);",
          "",
          "---------------"
        ]
      }
    }
  ]
}