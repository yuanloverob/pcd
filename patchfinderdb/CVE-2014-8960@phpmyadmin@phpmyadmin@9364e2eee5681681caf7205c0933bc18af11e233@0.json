{
  "cve_id": "CVE-2014-8960",
  "cve_desc": "Cross-site scripting (XSS) vulnerability in libraries/error_report.lib.php in the error-reporting feature in phpMyAdmin 4.1.x before 4.1.14.7 and 4.2.x before 4.2.12 allows remote authenticated users to inject arbitrary web script or HTML via a crafted filename.",
  "repo": "phpmyadmin/phpmyadmin",
  "patch_hash": "9364e2eee5681681caf7205c0933bc18af11e233",
  "patch_info": {
    "commit_hash": "9364e2eee5681681caf7205c0933bc18af11e233",
    "repo": "phpmyadmin/phpmyadmin",
    "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/9364e2eee5681681caf7205c0933bc18af11e233",
    "files": [
      "ChangeLog",
      "libraries/error_report.lib.php"
    ],
    "message": "bug #4596 [security] XSS through exception stack\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
    "before_after_code_files": [
      "libraries/error_report.lib.php||libraries/error_report.lib.php"
    ]
  },
  "patch_diff": {
    "libraries/error_report.lib.php||libraries/error_report.lib.php": [
      "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
      "--- Hunk 1 ---",
      "[Context before]",
      "279:             . __('You may examine the data in the error report:')",
      "280:             . '</p></label></div>'",
      "281:             . '<pre class=\"report-data\">'",
      "283:             . '</pre>';",
      "285:     $html .= '<div class=\"label\"><label><p>'",
      "",
      "[Removed Lines]",
      "282:             . PMA_getReportData()",
      "",
      "[Added Lines]",
      "282:             . htmlspecialchars(PMA_getReportData())",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "6335b10574c1ea2ac6ffb9d687b2d576e7d7271a",
      "candidate_info": {
        "commit_hash": "6335b10574c1ea2ac6ffb9d687b2d576e7d7271a",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/6335b10574c1ea2ac6ffb9d687b2d576e7d7271a",
        "files": [
          "db_structure.php",
          "db_tracking.php",
          "gis_data_editor.php",
          "import.php",
          "index.php",
          "libraries/DatabaseInterface.class.php",
          "libraries/DisplayResults.class.php",
          "libraries/Footer.class.php",
          "libraries/StorageEngine.class.php",
          "libraries/Table.class.php",
          "libraries/TableSearch.class.php",
          "libraries/Tracker.class.php",
          "libraries/Util.class.php",
          "libraries/create_addfield.lib.php",
          "libraries/error_report.lib.php",
          "libraries/import.lib.php",
          "libraries/sql.lib.php",
          "libraries/sql_query_form.lib.php",
          "libraries/sqlparser.lib.php",
          "libraries/structure.lib.php",
          "libraries/tbl_columns_definition_form.lib.php",
          "libraries/tbl_printview.lib.php"
        ],
        "message": "Fix coding style\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "db_structure.php||db_structure.php",
          "db_tracking.php||db_tracking.php",
          "gis_data_editor.php||gis_data_editor.php",
          "import.php||import.php",
          "index.php||index.php",
          "libraries/DatabaseInterface.class.php||libraries/DatabaseInterface.class.php",
          "libraries/DisplayResults.class.php||libraries/DisplayResults.class.php",
          "libraries/Footer.class.php||libraries/Footer.class.php",
          "libraries/StorageEngine.class.php||libraries/StorageEngine.class.php",
          "libraries/Table.class.php||libraries/Table.class.php",
          "libraries/TableSearch.class.php||libraries/TableSearch.class.php",
          "libraries/Tracker.class.php||libraries/Tracker.class.php",
          "libraries/Util.class.php||libraries/Util.class.php",
          "libraries/create_addfield.lib.php||libraries/create_addfield.lib.php",
          "libraries/error_report.lib.php||libraries/error_report.lib.php",
          "libraries/import.lib.php||libraries/import.lib.php",
          "libraries/sql.lib.php||libraries/sql.lib.php",
          "libraries/sql_query_form.lib.php||libraries/sql_query_form.lib.php",
          "libraries/sqlparser.lib.php||libraries/sqlparser.lib.php",
          "libraries/structure.lib.php||libraries/structure.lib.php",
          "libraries/tbl_columns_definition_form.lib.php||libraries/tbl_columns_definition_form.lib.php",
          "libraries/tbl_printview.lib.php||libraries/tbl_printview.lib.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ],
          "candidate": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ]
        }
      },
      "candidate_diff": {
        "db_structure.php||db_structure.php": [
          "File: db_structure.php -> db_structure.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "28:     || isset($_POST['mult_btn'])",
          "29: ) {",
          "30:     $action = 'db_structure.php';",
          "",
          "[Removed Lines]",
          "31:     $err_url = 'db_structure.php?'. PMA_URL_getCommon($db);",
          "",
          "[Added Lines]",
          "31:     $err_url = 'db_structure.php?' . PMA_URL_getCommon($db);",
          "",
          "---------------"
        ],
        "db_tracking.php||db_tracking.php": [
          "File: db_tracking.php -> db_tracking.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "218:     foreach ($my_tables as $key => $tablename) {",
          "219:         if (PMA_Tracker::getVersion($GLOBALS['db'], $tablename) == -1) {",
          "220:             $my_link = '<a href=\"tbl_tracking.php?' . $url_query",
          "222:             $my_link .= PMA_Util::getIcon('eye.png', __('Track table'));",
          "223:             $my_link .= '</a>';",
          "224:             ?>",
          "",
          "[Removed Lines]",
          "221:                 . '&amp;table=' . htmlspecialchars($tablename) .'\">';",
          "",
          "[Added Lines]",
          "221:                 . '&amp;table=' . htmlspecialchars($tablename) . '\">';",
          "",
          "---------------"
        ],
        "gis_data_editor.php||gis_data_editor.php": [
          "File: gis_data_editor.php -> gis_data_editor.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "240:             echo '<label for=\"y\">' . __(\"Y\") . '</label>';",
          "241:             echo '<input type=\"text\"'",
          "242:                 . ' name=\"gis_data[' . $a . '][' . $type . '][' . $i . '][y]\"'",
          "244:         }",
          "245:         echo '<input type=\"submit\"'",
          "246:             . ' name=\"gis_data[' . $a . '][' . $type . '][add_point]\"'",
          "",
          "[Removed Lines]",
          "243:                 . ' value=\"' . escape($gis_data[$a][$type][$i]['y']). '\" />';",
          "",
          "[Added Lines]",
          "243:                 . ' value=\"' . escape($gis_data[$a][$type][$i]['y']) . '\" />';",
          "",
          "---------------"
        ],
        "import.php||import.php": [
          "File: import.php -> import.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "152: $post_patterns = array(",
          "153:     '/^force_file_/',",
          "155: );",
          "156: foreach (array_keys($_POST) as $post_key) {",
          "157:     foreach ($post_patterns as $one_post_pattern) {",
          "",
          "[Removed Lines]",
          "154:     '/^'. $format . '_/'",
          "",
          "[Added Lines]",
          "154:     '/^' . $format . '_/'",
          "",
          "---------------"
        ],
        "index.php||index.php": [
          "File: index.php -> index.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "169:         echo '        <form method=\"post\" action=\"index.php\">' . \"\\n\"",
          "170:            . PMA_URL_getHiddenInputs(null, null, 4, 'collation_connection')",
          "171:            . '            <label for=\"select_collation_connection\">' . \"\\n\"",
          "173:                                . __('Server connection collation') . \"\\n\"",
          "175:            . PMA_Util::showMySQLDocu('Charset-connection')",
          "",
          "[Removed Lines]",
          "172:            . '                '. PMA_Util::getImage('s_asci.png') . \" \"",
          "",
          "[Added Lines]",
          "172:            . '                ' . PMA_Util::getImage('s_asci.png') . \" \"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "223: if ($server > 0) {",
          "224:     echo '<ul>';",
          "225:     PMA_printListItem(",
          "227:         'li_user_preferences',",
          "228:         'prefs_manage.php?' . $common_url_query,",
          "229:         null,",
          "",
          "[Removed Lines]",
          "226:         PMA_Util::getImage('b_tblops.png').\" \" .__('More settings'),",
          "",
          "[Added Lines]",
          "226:         PMA_Util::getImage('b_tblops.png') . \" \" .__('More settings'),",
          "",
          "---------------"
        ],
        "libraries/DatabaseInterface.class.php||libraries/DatabaseInterface.class.php": [
          "File: libraries/DatabaseInterface.class.php -> libraries/DatabaseInterface.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "512:                 if ($table || (true === $tbl_is_group) || $tble_type) {",
          "513:                     $sql = 'SHOW TABLE STATUS FROM '",
          "514:                         . PMA_Util::backquote($each_database)",
          "516:                     $needAnd = false;",
          "517:                     if ($table || (true === $tbl_is_group)) {",
          "518:                         $sql .= \" `Name` LIKE '\"",
          "",
          "[Removed Lines]",
          "515:                         .' WHERE';",
          "",
          "[Added Lines]",
          "515:                         . ' WHERE';",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1934:                     . $one_result['full_trigger_name'];",
          "1935:                 $one_result['create'] = 'CREATE TRIGGER '",
          "1936:                     . $one_result['full_trigger_name'] . ' '",
          "1938:                     . $trigger['EVENT_MANIPULATION']",
          "1939:                     . ' ON ' . PMA_Util::backquote($trigger['EVENT_OBJECT_TABLE'])",
          "1940:                     . \"\\n\" . ' FOR EACH ROW '",
          "",
          "[Removed Lines]",
          "1937:                     . $trigger['ACTION_TIMING']. ' '",
          "",
          "[Added Lines]",
          "1937:                     . $trigger['ACTION_TIMING'] . ' '",
          "",
          "---------------"
        ],
        "libraries/DisplayResults.class.php||libraries/DisplayResults.class.php": [
          "File: libraries/DisplayResults.class.php -> libraries/DisplayResults.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "778:                     )",
          "779:                     . ')'",
          "780:                 . ')'",
          "783:         $table_navigation_html .= PMA_URL_getHiddenInputs(",
          "784:             $this->__get('db'), $this->__get('table')",
          "",
          "[Removed Lines]",
          "781:             .'\">';",
          "",
          "[Added Lines]",
          "781:             . '\">';",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "3132:         } else {",
          "3138:             $linking_url_params[$link_relations['link_param'][0]] = $sql;",
          "3139:         }",
          "",
          "[Removed Lines]",
          "3135:             $sql = 'SELECT `'.$column_value.'` FROM `'",
          "3136:                 . $row_info[$link_relations['link_param'][1]] .'`.`'",
          "3137:                 . $row_info[$link_relations['link_param'][2]] .'`';",
          "",
          "[Added Lines]",
          "3135:             $sql = 'SELECT `' . $column_value . '` FROM `'",
          "3136:                 . $row_info[$link_relations['link_param'][1]] . '`.`'",
          "3137:                 . $row_info[$link_relations['link_param'][2]] . '`';",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "3296:                 $support_html .= '    <th colspan=\"'",
          "3297:                     . $vertical_display['emptypre'] . '\">'",
          "3300:             } else if ($GLOBALS['cfg']['RowActionLinks'] == self::POSITION_NONE) {",
          "3301:                 $support_html .= '    <th></th>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "3298:                     . \"\\n\".'        &nbsp;</th>' . \"\\n\";",
          "",
          "[Added Lines]",
          "3298:                     . \"\\n\" . '        &nbsp;</th>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "3659:         if (! isset($column) || is_null($column)) {",
          "3661:             $cell = $this->_buildNullDisplay(",
          "3663:             );",
          "3665:         } elseif ($column != '') {",
          "",
          "[Removed Lines]",
          "3662:                 'right '.$class, $condition_field, $meta, ''",
          "",
          "[Added Lines]",
          "3662:                 'right ' . $class, $condition_field, $meta, ''",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "3668:             $where_comparison = ' = ' . $column;",
          "3670:             $cell = $this->_getRowData(",
          "3672:                 $analyzed_sql, $meta, $map, $column,",
          "3673:                 $transformation_plugin, $default_function, $nowrap,",
          "3674:                 $where_comparison, $transform_options,",
          "",
          "[Removed Lines]",
          "3671:                 'right '.$class, $condition_field,",
          "",
          "[Added Lines]",
          "3671:                 'right ' . $class, $condition_field,",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "3677:         } else {",
          "3679:             $cell = $this->_buildEmptyDisplay(",
          "3681:             );",
          "3682:         }",
          "",
          "[Removed Lines]",
          "3680:                 'right '.$class, $condition_field, $meta, ''",
          "",
          "[Added Lines]",
          "3680:                 'right ' . $class, $condition_field, $meta, ''",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "5113:         $links_html .= \"\\n\";",
          "5115:         $links_html .= '<input type=\"hidden\" name=\"sql_query\"'",
          "5117:             . \"\\n\";",
          "5119:         if (! empty($url_query)) {",
          "5120:             $links_html .= '<input type=\"hidden\" name=\"url_query\"'",
          "5122:         }",
          "",
          "[Removed Lines]",
          "5116:             .' value=\"' . htmlspecialchars($this->__get('sql_query')) . '\" />'",
          "5121:                 .' value=\"' . $url_query . '\" />' . \"\\n\";",
          "",
          "[Added Lines]",
          "5116:             . ' value=\"' . htmlspecialchars($this->__get('sql_query')) . '\" />'",
          "5121:                 . ' value=\"' . $url_query . '\" />' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "5140:         $GLOBALS['dbi']->dataSeek($dt_result, 0);",
          "5142:         $links_html .= '<input type=\"hidden\" name=\"clause_is_unique\"'",
          "5145:         $links_html .= '</form>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "5143:             .' value=\"' . $clause_is_unique . '\" />' . \"\\n\";",
          "",
          "[Added Lines]",
          "5143:             . ' value=\"' . $clause_is_unique . '\" />' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "5488:             $size = strlen($content);",
          "5489:             $display_size = PMA_Util::formatByteDown($size, 3, 1);",
          "5492:         } else {",
          "",
          "[Removed Lines]",
          "5490:             $result .= ' - '. $display_size[0] . ' ' . $display_size[1];",
          "",
          "[Added Lines]",
          "5490:             $result .= ' - ' . $display_size[0] . ' ' . $display_size[1];",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "5743:             );",
          "5745:             $result .= '<input type=\"hidden\" class=\"data_browse_link\" value=\"'",
          "5748:         }",
          "",
          "[Removed Lines]",
          "5746:                 . PMA_URL_getCommon($_url_params_for_show_data_row). '\" />';",
          "",
          "[Added Lines]",
          "5746:                 . PMA_URL_getCommon($_url_params_for_show_data_row) . '\" />';",
          "",
          "---------------"
        ],
        "libraries/Footer.class.php||libraries/Footer.class.php": [
          "File: libraries/Footer.class.php -> libraries/Footer.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "73:             $message .= sprintf(",
          "74:                 __('Currently running Git revision %1$s from the %2$s branch.'),",
          "75:                 '<a target=\"_blank\" href=\"' . $repobase . $fullrevision . '\">'",
          "77:                 '<a target=\"_blank\" href=\"' . $repobranchbase . $branch . '\">'",
          "78:                 . $branch . '</a>'",
          "79:             );",
          "",
          "[Removed Lines]",
          "76:                 . $revision .'</a>',",
          "",
          "[Added Lines]",
          "76:                 . $revision . '</a>',",
          "",
          "---------------"
        ],
        "libraries/StorageEngine.class.php||libraries/StorageEngine.class.php": [
          "File: libraries/StorageEngine.class.php -> libraries/StorageEngine.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "148:                 continue;",
          "149:             }",
          "152:                 . (empty($details['Comment'])",
          "153:                     ? '' : ' title=\"' . htmlspecialchars($details['Comment']) . '\"')",
          "154:                 . (strtolower($key) == $selected",
          "",
          "[Removed Lines]",
          "151:             $output .= '    <option value=\"' . htmlspecialchars($key). '\"'",
          "",
          "[Added Lines]",
          "151:             $output .= '    <option value=\"' . htmlspecialchars($key) . '\"'",
          "",
          "---------------"
        ],
        "libraries/Table.class.php||libraries/Table.class.php": [
          "File: libraries/Table.class.php -> libraries/Table.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "1447:     protected function getUiPrefsFromDb()",
          "1448:     {",
          "1450:             . PMA_Util::backquote($GLOBALS['cfg']['Server']['table_uiprefs']);",
          "",
          "[Removed Lines]",
          "1449:         $pma_table = PMA_Util::backquote($GLOBALS['cfg']['Server']['pmadb']) .\".\"",
          "",
          "[Added Lines]",
          "1449:         $pma_table = PMA_Util::backquote($GLOBALS['cfg']['Server']['pmadb']) . \".\"",
          "",
          "---------------"
        ],
        "libraries/TableSearch.class.php||libraries/TableSearch.class.php": [
          "File: libraries/TableSearch.class.php -> libraries/TableSearch.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "269:         $html_output = '';",
          "270:         if (is_array($foreignData['disp_row'])) {",
          "271:             $html_output .=  '<select name=\"criteriaValues[' . $column_index . ']\"'",
          "273:             $html_output .= PMA_foreignDropdown(",
          "274:                 $foreignData['disp_row'], $foreignData['foreign_field'],",
          "275:                 $foreignData['foreign_display'], '', $foreignMaxLimit",
          "",
          "[Removed Lines]",
          "272:                 . ' id=\"' . $column_id . $column_index .'\">';",
          "",
          "[Added Lines]",
          "272:                 . ' id=\"' . $column_id . $column_index . '\">';",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "280:             $html_output .= '<input type=\"text\" id=\"' . $column_id",
          "281:                 . $column_index . '\"'",
          "282:                 . ' name=\"criteriaValues[' . $column_index . ']\" id=\"field_'",
          "284:                 . (isset($criteriaValues[$column_index])",
          "285:                     && is_string($criteriaValues[$column_index])",
          "286:                     ? (' value=\"' . $criteriaValues[$column_index] . '\"')",
          "",
          "[Removed Lines]",
          "283:                 . md5($column_name) . '[' . $column_index .']\" class=\"textfield\"'",
          "",
          "[Added Lines]",
          "283:                 . md5($column_name) . '[' . $column_index . ']\" class=\"textfield\"'",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "334:             || (strncasecmp($column_type, 'set', 3) && $in_zoom_search_edit)",
          "335:         ) {",
          "336:             $html_output .= '<select name=\"criteriaValues[' . ($column_index)",
          "338:         } else {",
          "339:             $html_output .= '<select name=\"criteriaValues[' . $column_index . ']\"'",
          "340:                 . ' id=\"' . $column_id . $column_index . '\" multiple=\"multiple\"'",
          "",
          "[Removed Lines]",
          "337:                 . ']\" id=\"' . $column_id . $column_index .'\">';",
          "",
          "[Added Lines]",
          "337:                 . ']\" id=\"' . $column_id . $column_index . '\">';",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "418:             }",
          "420:             $str .= '<input type=\"text\" name=\"criteriaValues[' . $column_index . ']\"'",
          "422:                 . $column_id . $column_index . '\"'",
          "423:                 . (isset($criteriaValues[$column_index])",
          "424:                     && is_string($criteriaValues[$column_index])",
          "",
          "[Removed Lines]",
          "421:                 .' size=\"40\" class=\"' . $the_class . '\" id=\"'",
          "",
          "[Added Lines]",
          "421:                 . ' size=\"40\" class=\"' . $the_class . '\" id=\"'",
          "",
          "---------------"
        ],
        "libraries/Tracker.class.php||libraries/Tracker.class.php": [
          "File: libraries/Tracker.class.php -> libraries/Tracker.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "594:             \" WHERE `db_name` = '\" . PMA_Util::sqlAddSlashes($dbname) . \"' \";",
          "595:         if (! empty($tablename)) {",
          "596:             $sql_query .= \" AND `table_name` = '\"",
          "598:         }",
          "599:         $sql_query .= \" AND `version` = '\" . PMA_Util::sqlAddSlashes($version)",
          "600:             . \"' \" . \" ORDER BY `version` DESC LIMIT 1\";",
          "",
          "[Removed Lines]",
          "597:                 . PMA_Util::sqlAddSlashes($tablename) .\"' \";",
          "",
          "[Added Lines]",
          "597:                 . PMA_Util::sqlAddSlashes($tablename) . \"' \";",
          "",
          "---------------"
        ],
        "libraries/Util.class.php||libraries/Util.class.php": [
          "File: libraries/Util.class.php -> libraries/Util.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "666:                    . '</a>';",
          "667:             } // end if",
          "668:             $error_msg .= '    </p>' . \"\\n\"",
          "670:                 . $formatted_sql . \"\\n\"",
          "671:                 . '</p>' . \"\\n\";",
          "672:         } // end if",
          "",
          "[Removed Lines]",
          "669:                 .'<p>' . \"\\n\"",
          "",
          "[Added Lines]",
          "669:                 . '<p>' . \"\\n\"",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1739:         }",
          "1743:         $out = '<li' . ($tab['class'] == 'active' ? ' class=\"active\"' : '') . '>';",
          "1745:         if (! empty($tab['link'])) {",
          "1746:             $out .= '<a class=\"tab' . htmlentities($tab['class']) . '\"'",
          "1749:                 . $tab['text'] . '</a>';",
          "1750:         } else {",
          "1751:             $out .= '<span class=\"tab' . htmlentities($tab['class']) . '\"'",
          "1753:         }",
          "1755:         $out .= '</li>';",
          "",
          "[Removed Lines]",
          "1742:         $id_string = ( empty($tab['id']) ? '' : ' id=\"'.$tab['id'].'\" ' );",
          "1747:                 .$id_string",
          "1748:                 .' href=\"' . $tab['link'] . '\" ' . $tab['attr'] . '>'",
          "1752:                 . $id_string. '>' . $tab['text'] . '</span>';",
          "",
          "[Added Lines]",
          "1742:         $id_string = ( empty($tab['id']) ? '' : ' id=\"' . $tab['id'] . '\" ' );",
          "1747:                 . $id_string",
          "1748:                 . ' href=\"' . $tab['link'] . '\" ' . $tab['attr'] . '>'",
          "1752:                 . $id_string . '>' . $tab['text'] . '</span>';",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1777:         $tab_navigation = '<div id=\"' . htmlentities($menu_id)",
          "1778:             . 'container\" class=\"menucontainer\">'",
          "1781:         foreach ($tabs as $tab) {",
          "1782:             $tab_navigation .= self::getHtmlTab($tab, $url_params);",
          "",
          "[Removed Lines]",
          "1779:             .'<ul id=\"' . htmlentities($menu_id) . '\" ' . $class . '>';",
          "",
          "[Added Lines]",
          "1779:             . '<ul id=\"' . htmlentities($menu_id) . '\" ' . $class . '>';",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1785:         $tab_navigation .=",
          "1786:              '</ul>' . \"\\n\"",
          "1790:         return $tab_navigation;",
          "1791:     }",
          "",
          "[Removed Lines]",
          "1787:             .'<div class=\"clearfloat\"></div>'",
          "1788:             .'</div>' . \"\\n\";",
          "",
          "[Added Lines]",
          "1787:             . '<div class=\"clearfloat\"></div>'",
          "1788:             . '</div>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "2276:         if ($GLOBALS['cfg']['ActionLinksMode'] == 'text') {",
          "2277:             return ' <input type=\"submit\" name=\"' . $button_name . '\"'",
          "2280:         }",
          "",
          "[Removed Lines]",
          "2278:                 .' value=\"' . htmlspecialchars($value) . '\"'",
          "2279:                 .' title=\"' . htmlspecialchars($text) . '\" />' . \"\\n\";",
          "",
          "[Added Lines]",
          "2278:                 . ' value=\"' . htmlspecialchars($value) . '\"'",
          "2279:                 . ' title=\"' . htmlspecialchars($text) . '\" />' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "2286:                 . '\" class=\"' . $button_class",
          "2287:                 . '\" value=\"' . htmlspecialchars($value)",
          "2288:                 . '\" title=\"' . htmlspecialchars($text)",
          "2290:                 . ($GLOBALS['cfg']['ActionLinksMode'] == 'both'",
          "2291:                     ? '&nbsp;' . htmlspecialchars($text)",
          "2292:                     : '') . \"\\n\";",
          "2293:         } else {",
          "2294:             return '<button class=\"' . $button_class . '\" type=\"submit\"'",
          "2296:                 . '\" title=\"' . htmlspecialchars($text) . '\">' . \"\\n\"",
          "2297:                 . self::getIcon($image, $text)",
          "2299:         }",
          "2300:     } // end function",
          "",
          "[Removed Lines]",
          "2289:                 . '\" src=\"' . $GLOBALS['pmaThemeImage']. $image . '\" />'",
          "2295:                 .' name=\"' . $button_name . '\" value=\"' . htmlspecialchars($value)",
          "2298:                 .'</button>' . \"\\n\";",
          "",
          "[Added Lines]",
          "2289:                 . '\" src=\"' . $GLOBALS['pmaThemeImage'] . $image . '\" />'",
          "2295:                 . ' name=\"' . $button_name . '\" value=\"' . htmlspecialchars($value)",
          "2298:                 . '</button>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "2498:                     . '</a>';",
          "2499:             }",
          "2504:             $list_navigator_html .= PMA_URL_getHiddenInputs($_url_params);",
          "2505:             $list_navigator_html .= self::pageselector(",
          "",
          "[Removed Lines]",
          "2501:             $list_navigator_html .= '<form action=\"' . basename($script).",
          "2502:                 '\" method=\"post\">';",
          "",
          "[Added Lines]",
          "2501:             $list_navigator_html .= '<form action=\"' . basename($script)",
          "2502:                 . '\" method=\"post\">';",
          "",
          "---------------"
        ],
        "libraries/create_addfield.lib.php||libraries/create_addfield.lib.php": [
          "File: libraries/create_addfield.lib.php -> libraries/create_addfield.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "167:         $fields[] = PMA_Util::backquote($_REQUEST['field_name'][$field_nr]);",
          "168:     }",
          "169:     $statement[] = PMA_getStatementPrefix($is_create_tbl)",
          "171:     unset($fields);",
          "173:     return $statement;",
          "",
          "[Removed Lines]",
          "170:     .' '.$index_type.' (' . implode(', ', $fields) . ') ';",
          "",
          "[Added Lines]",
          "170:         . ' ' . $index_type . ' (' . implode(', ', $fields) . ') ';",
          "",
          "---------------"
        ],
        "libraries/error_report.lib.php||libraries/error_report.lib.php": [
          "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "273: {",
          "274:     $html = \"\";",
          "275:     $html .= '<form action=\"error_report.php\" method=\"post\" name=\"report_frm\"'",
          "279:     $html .= '<p>' . __(",
          "280:         'phpMyAdmin has encountered an error. We have collected data about'",
          "286:     $html .= '<div class=\"label\"><label><p>'",
          "287:             . __('You may examine the data in the error report:')",
          "293:     $html .= '<div class=\"label\"><label><p>'",
          "294:             . __('Please explain the steps that lead to the error:')",
          "299:     $html .= '<input type=\"checkbox\" name=\"always_send\"'",
          "302:             . __('Automatically send report next time')",
          "305:     $html .= '</fieldset>';",
          "",
          "[Removed Lines]",
          "276:             .' id=\"report_frm\" class=\"ajax\">'",
          "277:             .'<fieldset style=\"padding-top:0px\">';",
          "281:         .' this error as well as information about relevant configuration'",
          "282:         .' settings to send to the phpMyAdmin team to help us in'",
          "283:         .' debugging the problem.'",
          "284:     ) .'</p>';",
          "288:             .'</p></label></div>'",
          "289:             .'<pre class=\"report-data\">'",
          "290:             .PMA_getReportData()",
          "291:             .'</pre>';",
          "295:             .'</p></label></div>'",
          "296:             .'<textarea class=\"report-description\" name=\"description\"'",
          "297:             .'id=\"report_description\"></textarea>';",
          "300:             .' id=\"always_send_checkbox\"/>'",
          "301:             .'<label for=\"always_send_checkbox\">'",
          "303:             .'</label>';",
          "",
          "[Added Lines]",
          "276:             . ' id=\"report_frm\" class=\"ajax\">'",
          "277:             . '<fieldset style=\"padding-top:0px\">';",
          "281:         . ' this error as well as information about relevant configuration'",
          "282:         . ' settings to send to the phpMyAdmin team to help us in'",
          "283:         . ' debugging the problem.'",
          "284:     ) . '</p>';",
          "288:             . '</p></label></div>'",
          "289:             . '<pre class=\"report-data\">'",
          "290:             . PMA_getReportData()",
          "291:             . '</pre>';",
          "295:             . '</p></label></div>'",
          "296:             . '<textarea class=\"report-description\" name=\"description\"'",
          "297:             . 'id=\"report_description\"></textarea>';",
          "300:             . ' id=\"always_send_checkbox\"/>'",
          "301:             . '<label for=\"always_send_checkbox\">'",
          "303:             . '</label>';",
          "",
          "---------------"
        ],
        "libraries/import.lib.php||libraries/import.lib.php": [
          "File: libraries/import.lib.php -> libraries/import.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "200:                     $a_num_rows = (int)@$GLOBALS['dbi']->numRows($result);",
          "201:                     $a_aff_rows = (int)@$GLOBALS['dbi']->affectedRows();",
          "202:                     if ($a_num_rows > 0) {",
          "204:                         $last_query_with_results = $import_run_buffer['sql'];",
          "205:                     } elseif ($a_aff_rows > 0) {",
          "206:                         $message = PMA_Message::getMessageForAffectedRows(",
          "",
          "[Removed Lines]",
          "203:                         $msg .= __('Rows'). ': ' . $a_num_rows;",
          "",
          "[Added Lines]",
          "203:                         $msg .= __('Rows') . ': ' . $a_num_rows;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "711:             if ($size[M] >= $last_cumulative_size) {",
          "712:                 return $size[FULL];",
          "713:             } else {",
          "715:             }",
          "716:         } elseif (! isset($last_cumulative_type) || $last_cumulative_type == NONE) {",
          "",
          "[Removed Lines]",
          "714:                 return ($last_cumulative_size.\",\".$size[D]);",
          "",
          "[Added Lines]",
          "714:                 return ($last_cumulative_size . \",\" . $size[D]);",
          "",
          "---------------"
        ],
        "libraries/sql.lib.php||libraries/sql.lib.php": [
          "File: libraries/sql.lib.php -> libraries/sql.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "367:             . '</span>'",
          "368:             . '<a href=\"browse_foreigners.php'",
          "369:             . PMA_URL_getCommon($_url_params) . '\"'",
          "371:             . __('Browse foreign values')",
          "372:             . '</a>';",
          "373:     } else {",
          "",
          "[Removed Lines]",
          "370:             . ' target=\"_blank\" class=\"browse_foreign\" ' .'>'",
          "",
          "[Added Lines]",
          "370:             . ' target=\"_blank\" class=\"browse_foreign\" ' . '>'",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1684:         $createViewHTML = $displayResultsObject->getCreateViewQueryResultOp(",
          "1685:             $analyzed_sql",
          "1686:         );",
          "1688:     }",
          "1690:     $response->addJSON(isset($extra_data) ? $extra_data : array());",
          "",
          "[Removed Lines]",
          "1687:         $response->addHTML($createViewHTML.'<br />');",
          "",
          "[Added Lines]",
          "1687:         $response->addHTML($createViewHTML . '<br />');",
          "",
          "---------------"
        ],
        "libraries/sql_query_form.lib.php||libraries/sql_query_form.lib.php": [
          "File: libraries/sql_query_form.lib.php -> libraries/sql_query_form.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "95:     if ($is_querywindow) {",
          "96:         $html .= '<input type=\"hidden\" name=\"focus_querywindow\"'",
          "98:         if ($display_tab != 'sql' && $display_tab != 'full') {",
          "99:             $html .= '<input type=\"hidden\" name=\"sql_query\"'",
          "101:             $html .= '<input type=\"hidden\" name=\"show_query\"'",
          "103:         }",
          "104:     }",
          "105:     $html .= '<input type=\"hidden\" name=\"is_js_confirmed\" value=\"0\" />'",
          "106:         . \"\\n\" . PMA_URL_getHiddenInputs($db, $table) . \"\\n\"",
          "111:         . __('Your SQL query has been executed successfully') . '\" />'",
          "113:         . htmlspecialchars($query) . '\" />' . \"\\n\";",
          "",
          "[Removed Lines]",
          "97:             .' value=\"true\" />' . \"\\n\";",
          "100:                 .' value=\"\" />' . \"\\n\";",
          "102:                 .' value=\"1\" />' . \"\\n\";",
          "107:         .'<input type=\"hidden\" name=\"pos\" value=\"0\" />' . \"\\n\"",
          "108:         .'<input type=\"hidden\" name=\"goto\" value=\"'",
          "109:         .htmlspecialchars($goto) . '\" />' . \"\\n\"",
          "110:         .'<input type=\"hidden\" name=\"message_to_show\" value=\"'",
          "112:         . \"\\n\" .'<input type=\"hidden\" name=\"prev_sql_query\" value=\"'",
          "",
          "[Added Lines]",
          "97:             . ' value=\"true\" />' . \"\\n\";",
          "100:                 . ' value=\"\" />' . \"\\n\";",
          "102:                 . ' value=\"1\" />' . \"\\n\";",
          "107:         . '<input type=\"hidden\" name=\"pos\" value=\"0\" />' . \"\\n\"",
          "108:         . '<input type=\"hidden\" name=\"goto\" value=\"'",
          "109:         . htmlspecialchars($goto) . '\" />' . \"\\n\"",
          "110:         . '<input type=\"hidden\" name=\"message_to_show\" value=\"'",
          "112:         . \"\\n\" . '<input type=\"hidden\" name=\"prev_sql_query\" value=\"'",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "169:     if ($is_querywindow) {",
          "170:         $locking = ' onkeypress=\"document.sqlform.elements[\\'LockFromUpdate\\'].'",
          "172:         $height = $GLOBALS['cfg']['TextareaRows'] * 1.25;",
          "173:     } else {",
          "174:         $locking = '';",
          "",
          "[Removed Lines]",
          "171:             .'checked = true;\"';",
          "",
          "[Added Lines]",
          "171:             . 'checked = true;\"';",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "224:             $tmp_db_link .= 'target=\"_parent\" '",
          "225:                 . 'onclick=\"window.opener.location.href = \\''",
          "226:                 . $GLOBALS['cfg']['DefaultTabDatabase']",
          "228:         }",
          "229:         $tmp_db_link .= '>'",
          "230:             . htmlspecialchars($db) . '</a>';",
          "",
          "[Removed Lines]",
          "227:                 . '?' . PMA_URL_getCommon($db).'\\';return false;\"';",
          "",
          "[Added Lines]",
          "227:                 . '?' . PMA_URL_getCommon($db) . '\\';return false;\"';",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "305:                 . ' onclick=\"insertValueQuery()\" />';",
          "306:         }",
          "307:         $html .= '</div>' . \"\\n\"",
          "309:     }",
          "311:     $html .= '<div class=\"clearfloat\"></div>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "308:             .'</div>' . \"\\n\";",
          "",
          "[Added Lines]",
          "308:             . '</div>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "337:     $html .= '<div class=\"clearfloat\"></div>' . \"\\n\";",
          "338:     $html .= '</fieldset>' . \"\\n\"",
          "341:     $html .= '<fieldset id=\"queryboxfooter\" class=\"tblFooters\">' . \"\\n\";",
          "342:     $html .= '<div class=\"formelement\">' . \"\\n\";",
          "",
          "[Removed Lines]",
          "339:         .'</div>' . \"\\n\";",
          "",
          "[Added Lines]",
          "339:         . '</div>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "351:     $html .= '</div>' . \"\\n\";",
          "352:     $html .= '<div class=\"formelement\">' . \"\\n\";",
          "353:     $html .= '<label for=\"id_sql_delimiter\">[ ' . __('Delimiter')",
          "355:     $html .= '<input type=\"text\" name=\"sql_delimiter\" tabindex=\"131\" size=\"3\" '",
          "356:         . 'value=\"' . $delimiter . '\" '",
          "357:         . 'id=\"id_sql_delimiter\" /> ]';",
          "",
          "[Removed Lines]",
          "354:         .'</label>' . \"\\n\";",
          "",
          "[Added Lines]",
          "354:         . '</label>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "407:     $html .= '<option value=\"\">&nbsp;</option>' . \"\\n\";",
          "408:     foreach ($bookmark_list as $key => $value) {",
          "409:         $html .= '<option value=\"' . htmlspecialchars($key) . '\">'",
          "411:     }",
          "413:     $html .= '</select>&nbsp;' . \"\\n\";",
          "",
          "[Removed Lines]",
          "410:             .htmlspecialchars($value) . '</option>' . \"\\n\";",
          "",
          "[Added Lines]",
          "410:             . htmlspecialchars($value) . '</option>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "416:     $html .= __('Variable');",
          "417:     $html .= PMA_Util::showDocu('faq', 'faqbookmark');",
          "418:     $html .= '<input type=\"text\" name=\"bookmark_variable\" class=\"textfield\"'",
          "420:     $html .= '</div>' . \"\\n\";",
          "421:     $html .= '<div class=\"formelement\">' . \"\\n\";",
          "422:     $html .= '<input type=\"radio\" name=\"action_bookmark\" value=\"0\"'",
          "426:     $html .= '<input type=\"radio\" name=\"action_bookmark\" value=\"1\"'",
          "430:     $html .= '<input type=\"radio\" name=\"action_bookmark\" value=\"2\"'",
          "434:     $html .= '</div>' . \"\\n\";",
          "435:     $html .= '<div class=\"clearfloat\"></div>' . \"\\n\";",
          "436:     $html .= '</fieldset>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "419:         .' size=\"10\" />' . \"\\n\";",
          "423:         .' id=\"radio_bookmark_exe\" checked=\"checked\" />'",
          "424:         .'<label for=\"radio_bookmark_exe\">' . __('Submit')",
          "425:         .'</label>' . \"\\n\";",
          "427:         .' id=\"radio_bookmark_view\" />'",
          "428:         .'<label for=\"radio_bookmark_view\">' . __('View only')",
          "429:         .'</label>' . \"\\n\";",
          "431:         .' id=\"radio_bookmark_del\" />'",
          "432:         .'<label for=\"radio_bookmark_del\">' . __('Delete')",
          "433:         .'</label>' . \"\\n\";",
          "",
          "[Added Lines]",
          "419:         . ' size=\"10\" />' . \"\\n\";",
          "423:         . ' id=\"radio_bookmark_exe\" checked=\"checked\" />'",
          "424:         . '<label for=\"radio_bookmark_exe\">' . __('Submit')",
          "425:         . '</label>' . \"\\n\";",
          "427:         . ' id=\"radio_bookmark_view\" />'",
          "428:         . '<label for=\"radio_bookmark_view\">' . __('View only')",
          "429:         . '</label>' . \"\\n\";",
          "431:         . ' id=\"radio_bookmark_del\" />'",
          "432:         . '<label for=\"radio_bookmark_del\">' . __('Delete')",
          "433:         . '</label>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "488:         );",
          "489:     } elseif (!empty($files)) {",
          "490:         $html .= '<div class=\"formelement\">';",
          "492:         $html .= '<select size=\"1\" name=\"sql_localfile\">' . \"\\n\";",
          "493:         $html .= '<option value=\"\" selected=\"selected\"></option>' . \"\\n\";",
          "494:         $html .= $files;",
          "",
          "[Removed Lines]",
          "491:         $html .= '<strong>' . __('web server upload directory:') .'</strong>' . \"\\n\";",
          "",
          "[Added Lines]",
          "491:         $html .= '<strong>' . __('web server upload directory:') . '</strong>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "507:         'charset_of_file', null, 'utf8', false",
          "508:     );",
          "509:     $html .= '<input type=\"submit\" name=\"SQL\" value=\"' . __('Go')",
          "511:     $html .= '<div class=\"clearfloat\"></div>' . \"\\n\";",
          "512:     $html .= '</fieldset>';",
          "",
          "[Removed Lines]",
          "510:         .'\" />' . \"\\n\";",
          "",
          "[Added Lines]",
          "510:         . '\" />' . \"\\n\";",
          "",
          "---------------"
        ],
        "libraries/sqlparser.lib.php||libraries/sqlparser.lib.php": [
          "File: libraries/sqlparser.lib.php -> libraries/sqlparser.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "407:                         }",
          "408:                     } else {",
          "409:                         $debugstr = __('Unclosed quote')",
          "411:                             . 'STR: ' . htmlspecialchars($quotetype);",
          "412:                         PMA_SQP_throwError($debugstr, $sql);",
          "413:                         return $sql_array;",
          "",
          "[Removed Lines]",
          "410:                             . ' @ ' . $startquotepos. \"\\n\"",
          "",
          "[Added Lines]",
          "410:                             . ' @ ' . $startquotepos . \"\\n\"",
          "",
          "---------------"
        ],
        "libraries/structure.lib.php||libraries/structure.lib.php": [
          "File: libraries/structure.lib.php -> libraries/structure.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "181:     if ($server_slave_status) {",
          "182:         $html_output .= '<th>' . __('Replication') . '</th>' . \"\\n\";",
          "183:     }",
          "185:         . __('Sum')",
          "186:         . '</th>';",
          "187:     $html_output .= '<th class=\"value tbl_rows\">'",
          "",
          "[Removed Lines]",
          "184:     $html_output .= '<th colspan=\"'. ($db_is_system_schema ? 3 : 6) . '\">'",
          "",
          "[Added Lines]",
          "184:     $html_output .= '<th colspan=\"' . ($db_is_system_schema ? 3 : 6) . '\">'",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "200:                 __('%s is the default storage engine on this MySQL server.'),",
          "201:                 $default_engine",
          "202:             )",
          "205:         $html_output .= '<th>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "203:             . '\">' .$default_engine . '</dfn></th>' . \"\\n\";",
          "",
          "[Added Lines]",
          "203:             . '\">' . $default_engine . '</dfn></th>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "273: ) {",
          "274:     $html_output = '<div class=\"clearfloat\">';",
          "275:     $html_output .= '<img class=\"selectallarrow\" '",
          "277:         . 'width=\"38\" height=\"22\" alt=\"' . __('With selected:') . '\" />';",
          "279:     $html_output .= '<input type=\"checkbox\" id=\"tablesForm_checkall\" '",
          "282:         . '</label>';",
          "284:     if ($overhead_check != '') {",
          "",
          "[Removed Lines]",
          "276:         . 'src=\"' .$pmaThemeImage .'arrow_'.$text_dir.'.png' . '\"'",
          "280:         . 'class=\"checkall_box\" title=\"' . __('Check All') .'\" />';",
          "281:     $html_output .= '<label for=\"tablesForm_checkall\">' .__('Check All')",
          "",
          "[Added Lines]",
          "276:         . 'src=\"' . $pmaThemeImage . 'arrow_' . $text_dir . '.png' . '\"'",
          "280:         . 'class=\"checkall_box\" title=\"' . __('Check All') . '\" />';",
          "281:     $html_output .= '<label for=\"tablesForm_checkall\">' . __('Check All')",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "454:     $html_output = '<tr class=\"' . ($odd_row ? 'odd' : 'even');",
          "455:     $odd_row = ! $odd_row;",
          "456:     $html_output .= ($table_is_view ? ' is_view' : '')",
          "459:     $html_output .= '<td class=\"center\">'",
          "460:         . '<input type=\"checkbox\" name=\"selected_tbl[]\" class=\"checkall\" '",
          "461:         . 'value=\"' . htmlspecialchars($current_table['TABLE_NAME']) . '\" '",
          "464:     $html_output .= '<th>'",
          "465:         . $browse_table_label",
          "",
          "[Removed Lines]",
          "457:     .'\" id=\"row_tbl_' . $curr . '\">';",
          "462:         . 'id=\"checkbox_tbl_' . $curr .'\" /></td>';",
          "",
          "[Added Lines]",
          "457:         . '\" id=\"row_tbl_' . $curr . '\">';",
          "462:         . 'id=\"checkbox_tbl_' . $curr . '\" /></td>';",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "751:     }",
          "753:     $html_output = '<table class=\"data\">' . \"\\n\"",
          "757:         . PMA_sortableTableHeader(__('Table'), 'table')",
          "758:         . '</th>' . \"\\n\";",
          "759:     if ($replication) {",
          "760:         $html_output .= '<th>' . \"\\n\"",
          "763:     }",
          "764:     $html_output .= '<th colspan=\"' . $action_colspan . '\">' . \"\\n\"",
          "769:         . PMA_Util::showHint(",
          "770:             PMA_sanitize(",
          "771:                 __('May be approximate. See [doc@faq3-11]FAQ 3.11[/doc].')",
          "772:             )",
          "773:         ) . \"\\n\"",
          "775:     if (!($GLOBALS['cfg']['PropertiesNumColumns'] > 1)) {",
          "776:         $html_output .= '<th>' . PMA_sortableTableHeader(__('Type'), 'type')",
          "777:             . '</th>' . \"\\n\";",
          "",
          "[Removed Lines]",
          "754:         .'<thead>' . \"\\n\"",
          "755:         .'<tr><th></th>' . \"\\n\"",
          "756:         .'<th>'",
          "761:             .'        ' . __('Replication') . \"\\n\"",
          "762:             .'</th>';",
          "765:         .'        ' . __('Action') . \"\\n\"",
          "766:         .'</th>'",
          "768:         .'<th>' . PMA_sortableTableHeader(__('Rows'), 'records', 'DESC')",
          "774:         .'</th>' . \"\\n\";",
          "",
          "[Added Lines]",
          "754:         . '<thead>' . \"\\n\"",
          "755:         . '<tr><th></th>' . \"\\n\"",
          "756:         . '<th>'",
          "761:             . '        ' . __('Replication') . \"\\n\"",
          "762:             . '</th>';",
          "765:         . '        ' . __('Action') . \"\\n\"",
          "766:         . '</th>'",
          "768:         . '<th>' . PMA_sortableTableHeader(__('Rows'), 'records', 'DESC')",
          "774:         . '</th>' . \"\\n\";",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1193:     $html_output .= '<th></th>'",
          "1194:         . '<th>#</th>'",
          "1195:         . '<th>' . __('Name') . '</th>'",
          "1197:         . '<th>' . __('Collation') . '</th>'",
          "1198:         . '<th>' . __('Attributes') . '</th>'",
          "1199:         . '<th>' . __('Null') . '</th>'",
          "",
          "[Removed Lines]",
          "1196:         . '<th>' . __('Type'). '</th>'",
          "",
          "[Added Lines]",
          "1196:         . '<th>' . __('Type') . '</th>'",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1266:         . '</th>';",
          "1268:     $html_output .= '<td' . $type_nowrap . '>'",
          "1270:         . $extracted_columnspec['displayed_type'] . $type_mime",
          "1271:         . '</bdo></td>';",
          "",
          "[Removed Lines]",
          "1269:         .'<bdo dir=\"ltr\" lang=\"en\">'",
          "",
          "[Added Lines]",
          "1269:         . '<bdo dir=\"ltr\" lang=\"en\">'",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "1835:     $class, $hasField, $hasLinkClass, $url_query, $primary, $syntax,",
          "1836:     $message, $action, $titles, $row, $isPrimary",
          "1837: ) {",
          "1840:     if ($type == 'text'",
          "1841:         || $type == 'blob'",
          "",
          "[Removed Lines]",
          "1838:     $html_output = '<li class=\"'. $class .'\">';",
          "",
          "[Added Lines]",
          "1838:     $html_output = '<li class=\"' . $class . '\">';",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "2442:         $response->addJSON(",
          "2443:             'message',",
          "2444:             PMA_Message::rawError(",
          "2446:             )",
          "2447:         );",
          "2448:         $regenerate = true;",
          "",
          "[Removed Lines]",
          "2445:                 __('Query error') . ':<br />'.$GLOBALS['dbi']->getError()",
          "",
          "[Added Lines]",
          "2445:                 __('Query error') . ':<br />' . $GLOBALS['dbi']->getError()",
          "",
          "---------------"
        ],
        "libraries/tbl_columns_definition_form.lib.php||libraries/tbl_columns_definition_form.lib.php": [
          "File: libraries/tbl_columns_definition_form.lib.php -> libraries/tbl_columns_definition_form.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "588: {",
          "589:     $select_id = 'field_' . $columnNumber . '_' . ($ci - $ci_offset);",
          "590:     $html = '<select class=\"column_type\" name=\"field_type[' .",
          "592:     $html .= PMA_Util::getSupportedDatatypes(true, $type_upper);",
          "593:     $html .= '    </select>';",
          "",
          "[Removed Lines]",
          "591:         $columnNumber . ']\"' .' id=\"' . $select_id . '\">';",
          "",
          "[Added Lines]",
          "591:         $columnNumber . ']\"' . ' id=\"' . $select_id . '\">';",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "749:             . (($current_index == $mi || $current_index == $mi + 1)",
          "750:                 ? ' disabled=\"disabled\"'",
          "751:                 : '')",
          "753:             . sprintf(",
          "754:                 __('after %s'),",
          "755:                 PMA_Util::backquote(",
          "",
          "[Removed Lines]",
          "752:             .'>'",
          "",
          "[Added Lines]",
          "752:             . '>'",
          "",
          "---------------"
        ],
        "libraries/tbl_printview.lib.php||libraries/tbl_printview.lib.php": [
          "File: libraries/tbl_printview.lib.php -> libraries/tbl_printview.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "27:             $tbl_list .= (empty($tbl_list) ? '' : ', ')",
          "28:                       . PMA_Util::backquote($table);",
          "29:         }",
          "31:             . htmlspecialchars($tbl_list) . '</strong>' . \"\\n\";",
          "32:         $html .= '<hr />' . \"\\n\";",
          "33:     } // end if",
          "",
          "[Removed Lines]",
          "30:         $html .= '<strong>'.  __('Showing tables:') . ' '",
          "",
          "[Added Lines]",
          "30:         $html .= '<strong>' .  __('Showing tables:') . ' '",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "107:             $html .= '    ' . $field_name . \"\\n\";",
          "108:         }",
          "109:         $html .= '</td>';",
          "111:         $html .= '<td>';",
          "112:         $html .= (($row['Null'] == '' || $row['Null'] == 'NO')",
          "113:             ? __('No')",
          "",
          "[Removed Lines]",
          "110:         $html .= '<td>' . $type. '<bdo dir=\"ltr\"></bdo></td>';",
          "",
          "[Added Lines]",
          "110:         $html .= '<td>' . $type . '<bdo dir=\"ltr\"></bdo></td>';",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "224:     if (isset($showtable['Auto_increment'])) {",
          "225:         $html .= \"\\n\";",
          "226:         $html .= '<tr>';",
          "228:         $html .= '<td class=\"right\">';",
          "229:         $html .= PMA_Util::formatNumber(",
          "230:             $showtable['Auto_increment'], 0",
          "",
          "[Removed Lines]",
          "227:         $html .= '<td>' . __('Next autoindex'). ' </td>';",
          "",
          "[Added Lines]",
          "227:         $html .= '<td>' . __('Next autoindex') . ' </td>';",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "309:         $html .= '<tr>';",
          "310:         $html .= '<td style=\"padding-right: 10px\">' . __('Index') . '</td>';",
          "311:         $html .= '<td class=\"right\">' . $index_size . '</td>';",
          "313:         $html .= '</tr>';",
          "314:     }",
          "315:     if (isset($free_size)) {",
          "",
          "[Removed Lines]",
          "312:         $html .= '<td>' . $index_unit. '</td>';",
          "",
          "[Added Lines]",
          "312:         $html .= '<td>' . $index_unit . '</td>';",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "93366c8c2403a1dc07d9b198a423d250ffb7ecd2",
      "candidate_info": {
        "commit_hash": "93366c8c2403a1dc07d9b198a423d250ffb7ecd2",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/93366c8c2403a1dc07d9b198a423d250ffb7ecd2",
        "files": [
          "ChangeLog",
          "libraries/Config.class.php",
          "libraries/Theme.class.php",
          "libraries/error_report.lib.php",
          "libraries/gis/GIS_Factory.class.php",
          "libraries/mult_submits.lib.php",
          "libraries/tbl_printview.lib.php",
          "tbl_zoom_select.php"
        ],
        "message": "Merge branch 'QA_4_2' into QA_4_3\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "libraries/Config.class.php||libraries/Config.class.php",
          "libraries/Theme.class.php||libraries/Theme.class.php",
          "libraries/error_report.lib.php||libraries/error_report.lib.php",
          "libraries/gis/GIS_Factory.class.php||libraries/gis/GIS_Factory.class.php",
          "libraries/mult_submits.lib.php||libraries/mult_submits.lib.php",
          "libraries/tbl_printview.lib.php||libraries/tbl_printview.lib.php",
          "tbl_zoom_select.php||tbl_zoom_select.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ],
          "candidate": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ]
        }
      },
      "candidate_diff": {
        "libraries/Config.class.php||libraries/Config.class.php": [
          "File: libraries/Config.class.php -> libraries/Config.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "1771:         if (empty($current_size)) {",
          "1772:             if (isset($_COOKIE['pma_fontsize'])) {",
          "1774:             } else {",
          "1775:                 $current_size = '82%';",
          "1776:             }",
          "",
          "[Removed Lines]",
          "1773:                 $current_size = $_COOKIE['pma_fontsize'];",
          "",
          "[Added Lines]",
          "1773:                 $current_size = htmlspecialchars($_COOKIE['pma_fontsize']);",
          "",
          "---------------"
        ],
        "libraries/Theme.class.php||libraries/Theme.class.php": [
          "File: libraries/Theme.class.php -> libraries/Theme.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "434:             return $fs;",
          "435:         }",
          "436:         if (isset($_COOKIE['pma_fontsize'])) {",
          "438:         }",
          "439:         return '82%';",
          "440:     }",
          "",
          "[Removed Lines]",
          "437:             return $_COOKIE['pma_fontsize'];",
          "",
          "[Added Lines]",
          "437:             return htmlspecialchars($_COOKIE['pma_fontsize']);",
          "",
          "---------------"
        ],
        "libraries/error_report.lib.php||libraries/error_report.lib.php": [
          "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "237:         return $LINE_COUNT[$filename];",
          "238:     }",
          "240:     $linecount = 0;",
          "241:     $handle = fopen('./js/' . $filename, 'r');",
          "242:     while (!feof($handle)) {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "241:     $depath = 1;",
          "242:     foreach (explode('/', $filename) as $part) {",
          "243:         if ($part == '..') {",
          "244:             $depath--;",
          "245:         } elseif ($part != '.') {",
          "246:             $depath++;",
          "247:         }",
          "248:         if ($depath < 0) {",
          "249:             return 0;",
          "250:         }",
          "251:     }",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "342:             . __('You may examine the data in the error report:')",
          "343:             . '</p></label></div>'",
          "344:             . '<pre class=\"report-data\">'",
          "346:             . '</pre>';",
          "348:     $html .= '<div class=\"label\"><label><p>'",
          "",
          "[Removed Lines]",
          "345:             . PMA_getPrettyReportData()",
          "",
          "[Added Lines]",
          "358:             . htmlspecialchars(PMA_getPrettyReportData())",
          "",
          "---------------"
        ],
        "libraries/gis/GIS_Factory.class.php||libraries/gis/GIS_Factory.class.php": [
          "File: libraries/gis/GIS_Factory.class.php -> libraries/gis/GIS_Factory.class.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "32:     {",
          "33:         include_once './libraries/gis/GIS_Geometry.class.php';",
          "38:             return false;",
          "39:         }",
          "40:         if (include_once $file) {",
          "",
          "[Removed Lines]",
          "35:         $file = './libraries/gis/GIS_'",
          "36:             . ucfirst(/*overload*/mb_strtolower($type)) . '.class.php';",
          "37:         if (! file_exists($file)) {",
          "",
          "[Added Lines]",
          "35:         $type_lower = strtolower($type);",
          "36:         if (! PMA_isValid($type_lower, PMA_Util::getGISDatatypes())",
          "37:             || ! file_exists('./libraries/gis/GIS_' . ucfirst($type_lower) . '.class.php')",
          "38:         ) {",
          "",
          "---------------"
        ],
        "libraries/mult_submits.lib.php||libraries/mult_submits.lib.php": [
          "File: libraries/mult_submits.lib.php -> libraries/mult_submits.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "571:     foreach ($selected as $sval) {",
          "572:         switch ($what) {",
          "573:         case 'row_delete':",
          "581:                 . ';<br />';",
          "582:             break;",
          "583:         case 'drop_db':",
          "",
          "[Removed Lines]",
          "574:             $full_query .= 'DELETE FROM ' . PMA_Util::backquote($db)",
          "575:                 . '.' . PMA_Util::backquote($table)",
          "580:                 . ' WHERE ' . urldecode($sval)",
          "",
          "[Added Lines]",
          "574:             $full_query .= 'DELETE FROM '",
          "575:                 . PMA_Util::backquote(htmlspecialchars($db))",
          "576:                 . '.' . PMA_Util::backquote(htmlspecialchars($table))",
          "581:                 . ' WHERE ' . urldecode(htmlspecialchars($sval))",
          "",
          "---------------"
        ],
        "libraries/tbl_printview.lib.php||libraries/tbl_printview.lib.php": [
          "File: libraries/tbl_printview.lib.php -> libraries/tbl_printview.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "107:         }",
          "108:         $html .= \"\\n\";",
          "109:         $html .= '</td>';",
          "111:         $html .= '<td>';",
          "112:         $html .= (($row['Null'] == '' || $row['Null'] == 'NO')",
          "113:             ? __('No')",
          "",
          "[Removed Lines]",
          "110:         $html .= '<td>' . $type . '<bdo dir=\"ltr\"></bdo></td>';",
          "",
          "[Added Lines]",
          "110:         $html .= '<td>' . htmlspecialchars($type) . '<bdo dir=\"ltr\"></bdo></td>';",
          "",
          "---------------"
        ],
        "tbl_zoom_select.php||tbl_zoom_select.php": [
          "File: tbl_zoom_select.php -> tbl_zoom_select.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "81:     }",
          "82:     $key = array_search($field, $table_search->getColumnNames());",
          "83:     $properties = $table_search->getColumnProperties($_REQUEST['it'], $key);",
          "85:     $response->addJSON('field_collation', $properties['collation']);",
          "86:     $response->addJSON('field_operators', $properties['func']);",
          "87:     $response->addJSON('field_value', $properties['value']);",
          "",
          "[Removed Lines]",
          "84:     $response->addJSON('field_type', $properties['type']);",
          "",
          "[Added Lines]",
          "84:     $response->addJSON('field_type', htmlspecialchars($properties['type']));",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "3f21b2816f35bcc356f3fa47adf5e203cb616785",
      "candidate_info": {
        "commit_hash": "3f21b2816f35bcc356f3fa47adf5e203cb616785",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/3f21b2816f35bcc356f3fa47adf5e203cb616785",
        "files": [
          "error_report.php",
          "libraries/error_report.lib.php"
        ],
        "message": "Get rid of overridable return type\n\nSeparate function for collecting the data from pretty printing it.\n\nSigned-off-by: Michal \u010ciha\u0159 <michal@cihar.com>",
        "before_after_code_files": [
          "error_report.php||error_report.php",
          "libraries/error_report.lib.php||libraries/error_report.lib.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ],
          "candidate": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ]
        }
      },
      "candidate_diff": {
        "error_report.php||error_report.php": [
          "File: error_report.php -> error_report.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "13: if (isset($_REQUEST['send_error_report'])",
          "14:     && $_REQUEST['send_error_report'] == true",
          "15: ) {",
          "18:     if ($server_response === false) {",
          "19:         $success = false;",
          "",
          "[Removed Lines]",
          "16:     $server_response = PMA_sendErrorReport(PMA_getReportData(false));",
          "",
          "[Added Lines]",
          "16:     $server_response = PMA_sendErrorReport(PMA_getReportData());",
          "",
          "---------------"
        ],
        "libraries/error_report.lib.php||libraries/error_report.lib.php": [
          "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "30: define('SUBMISSION_URL', \"http://reports.phpmyadmin.net/incidents/create\");",
          "41: {",
          "42:     if (empty($_REQUEST['exception'])) {",
          "44:     }",
          "45:     $exception = $_REQUEST['exception'];",
          "46:     $exception[\"stack\"] = PMA_translateStacktrace($exception[\"stack\"]);",
          "",
          "[Removed Lines]",
          "40: function PMA_getReportData($pretty_print = true)",
          "43:         return '';",
          "",
          "[Added Lines]",
          "39: function PMA_getPrettyReportData()",
          "40: {",
          "41:     $report = PMA_getReportData();",
          "44:     if (defined('JSON_PRETTY_PRINT')) {",
          "45:         return json_encode($report, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES);",
          "46:     }",
          "48:     return PMA_prettyPrint($report);",
          "49: }",
          "59: function PMA_getReportData()",
          "62:         return array();",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "68:         $report['steps'] = $_REQUEST['description'];",
          "69:     }",
          "81: }",
          "",
          "[Removed Lines]",
          "71:     if (!$pretty_print) {",
          "72:         return $report;",
          "73:     }",
          "76:     if (defined('JSON_PRETTY_PRINT')) {",
          "77:         return json_encode($report, JSON_PRETTY_PRINT | JSON_UNESCAPED_SLASHES);",
          "78:     }",
          "80:     return PMA_prettyPrint($report);",
          "",
          "[Added Lines]",
          "90:     return $report;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "278:             . __('You may examine the data in the error report:')",
          "279:             . '</p></label></div>'",
          "280:             . '<pre class=\"report-data\">'",
          "282:             . '</pre>';",
          "284:     $html .= '<div class=\"label\"><label><p>'",
          "",
          "[Removed Lines]",
          "281:             . PMA_getReportData()",
          "",
          "[Added Lines]",
          "291:             . PMA_getPrettyReportData()",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "298:     $html .= PMA_URL_getHiddenInputs();",
          "301:     if (! empty($reportData)) {",
          "302:         $html .= PMA_getHiddenFields($reportData);",
          "303:     }",
          "",
          "[Removed Lines]",
          "300:     $reportData = PMA_getReportData(false);",
          "",
          "[Added Lines]",
          "310:     $reportData = PMA_getReportData();",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "ef16b1e3584e08f42647cc2c92542ae07568057c",
      "candidate_info": {
        "commit_hash": "ef16b1e3584e08f42647cc2c92542ae07568057c",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/ef16b1e3584e08f42647cc2c92542ae07568057c",
        "files": [
          "libraries/error_report.lib.php",
          "templates/error/report_form.phtml"
        ],
        "message": "Templating error report form.\n\nSigned-off-by: Hugues Peccatte <hugues.peccatte@gmail.com>",
        "before_after_code_files": [
          "libraries/error_report.lib.php||libraries/error_report.lib.php",
          "templates/error/report_form.phtml||templates/error/report_form.phtml"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 0,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ],
          "candidate": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ]
        }
      },
      "candidate_diff": {
        "libraries/error_report.lib.php||libraries/error_report.lib.php": [
          "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "344: function PMA_getErrorReportForm()",
          "345: {",
          "381:     $reportData = PMA_getReportData();",
          "384:     }",
          "389: }",
          "",
          "[Removed Lines]",
          "346:     $html = \"\";",
          "347:     $html .= '<form action=\"error_report.php\" method=\"post\" name=\"report_frm\"'",
          "348:             . ' id=\"report_frm\" class=\"ajax\">'",
          "349:             . '<fieldset style=\"padding-top:0px\">';",
          "351:     $html .= '<p>' . __(",
          "352:         'phpMyAdmin has encountered an error. We have collected data about'",
          "353:         . ' this error as well as information about relevant configuration'",
          "354:         . ' settings to send to the phpMyAdmin team to help us in'",
          "355:         . ' debugging the problem.'",
          "356:     ) . '</p>';",
          "358:     $html .= '<div class=\"label\"><label><p>'",
          "359:             . __('You may examine the data in the error report:')",
          "360:             . '</p></label></div>'",
          "361:             . '<pre class=\"report-data\">'",
          "362:             . htmlspecialchars(PMA_getPrettyReportData())",
          "363:             . '</pre>';",
          "365:     $html .= '<div class=\"label\"><label><p>'",
          "366:             . __('Please explain the steps that lead to the error:')",
          "367:             . '</p></label></div>'",
          "368:             . '<textarea class=\"report-description\" name=\"description\"'",
          "369:             . 'id=\"report_description\"></textarea>';",
          "371:     $html .= '<input type=\"checkbox\" name=\"always_send\"'",
          "372:             . ' id=\"always_send_checkbox\"/>'",
          "373:             . '<label for=\"always_send_checkbox\">'",
          "374:             . __('Automatically send report next time')",
          "375:             . '</label>';",
          "377:     $html .= '</fieldset>';",
          "379:     $html .= PMA_URL_getHiddenInputs();",
          "382:     if (! empty($reportData)) {",
          "383:         $html .= PMA_getHiddenFields($reportData);",
          "386:     $html .= '</form>';",
          "388:     return $html;",
          "",
          "[Added Lines]",
          "346:     $datas = array(",
          "347:         'report_data' => PMA_getPrettyReportData(),",
          "348:         'hidden_inputs' => PMA_URL_getHiddenInputs(),",
          "349:         'hidden_fields' => null,",
          "350:     );",
          "353:     if (!empty($reportData)) {",
          "354:         $datas['hidden_fields'] = PMA_getHiddenFields($reportData);",
          "357:     include_once './libraries/Template.class.php';",
          "358:     return PMA\\Template::get('error/report_form')",
          "359:         ->render($datas);",
          "",
          "---------------"
        ],
        "templates/error/report_form.phtml||templates/error/report_form.phtml": [
          "File: templates/error/report_form.phtml -> templates/error/report_form.phtml",
          "--- Hunk 1 ---",
          "[Context before]",
          "[No context available]",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1: <form action=\"error_report.php\" method=\"post\" name=\"report_frm\" id=\"report_frm\"",
          "2:       class=\"ajax\">",
          "3:     <fieldset style=\"padding-top:0px\">",
          "5:         <p>",
          "6:             <?php echo __(",
          "7:                 'phpMyAdmin has encountered an error. We have collected data about'",
          "8:                 . ' this error as well as information about relevant configuration'",
          "9:                 . ' settings to send to the phpMyAdmin team to help us in'",
          "10:                 . ' debugging the problem.'",
          "11:             ) ?>",
          "12:         </p>",
          "14:         <div class=\"label\"><label><p>",
          "15:             <?php echo __('You may examine the data in the error report:') ?>",
          "16:         </p></label></div>",
          "17:         <pre class=\"report-data\"><?php echo htmlspecialchars($report_data) ?></pre>",
          "19:         <div class=\"label\"><label><p>",
          "20:             <?php echo __('Please explain the steps that lead to the error:') ?>",
          "21:         </p></label>",
          "22:         </div>",
          "23:         <textarea class=\"report-description\" name=\"description\"",
          "24:                   id=\"report_description\"></textarea>",
          "26:         <input type=\"checkbox\" name=\"always_send\" id=\"always_send_checkbox\" />",
          "27:         <label for=\"always_send_checkbox\">",
          "28:             <?php echo __('Automatically send report next time') ?>",
          "29:         </label>",
          "31:     </fieldset>",
          "33:     <?php echo $hidden_inputs ?>",
          "34:     <?php echo $hidden_fields ?>",
          "35: </form>",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "c641ad40c37bc562226c8a25cce77a273a07756b",
      "candidate_info": {
        "commit_hash": "c641ad40c37bc562226c8a25cce77a273a07756b",
        "repo": "phpmyadmin/phpmyadmin",
        "commit_url": "https://github.com/phpmyadmin/phpmyadmin/commit/c641ad40c37bc562226c8a25cce77a273a07756b",
        "files": [
          "ChangeLog",
          "libraries/error_report.lib.php"
        ],
        "message": "bug #4596 [security] XSS through exception stack\n\nSigned-off-by: Madhura Jayaratne <madhura.cj@gmail.com>",
        "before_after_code_files": [
          "libraries/error_report.lib.php||libraries/error_report.lib.php"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "diff_branch_message": 1,
        "olp_code_files": {
          "patch": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ],
          "candidate": [
            "libraries/error_report.lib.php||libraries/error_report.lib.php"
          ]
        }
      },
      "candidate_diff": {
        "libraries/error_report.lib.php||libraries/error_report.lib.php": [
          "File: libraries/error_report.lib.php -> libraries/error_report.lib.php",
          "--- Hunk 1 ---",
          "[Context before]",
          "286:             . __('You may examine the data in the error report:')",
          "287:             .'</p></label></div>'",
          "288:             .'<pre class=\"report-data\">'",
          "290:             .'</pre>';",
          "292:     $html .= '<div class=\"label\"><label><p>'",
          "",
          "[Removed Lines]",
          "289:             .PMA_getReportData()",
          "",
          "[Added Lines]",
          "289:             . htmlspecialchars(PMA_getReportData())",
          "",
          "---------------"
        ]
      }
    }
  ]
}