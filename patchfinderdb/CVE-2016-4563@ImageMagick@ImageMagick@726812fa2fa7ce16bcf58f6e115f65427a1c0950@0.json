{
  "cve_id": "CVE-2016-4563",
  "cve_desc": "The TraceStrokePolygon function in MagickCore/draw.c in ImageMagick before 6.9.4-0 and 7.x before 7.0.1-2 mishandles the relationship between the BezierQuantum value and certain strokes data, which allows remote attackers to cause a denial of service (buffer overflow and application crash) or possibly have unspecified other impact via a crafted file.",
  "repo": "ImageMagick/ImageMagick",
  "patch_hash": "726812fa2fa7ce16bcf58f6e115f65427a1c0950",
  "patch_info": {
    "commit_hash": "726812fa2fa7ce16bcf58f6e115f65427a1c0950",
    "repo": "ImageMagick/ImageMagick",
    "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/726812fa2fa7ce16bcf58f6e115f65427a1c0950",
    "files": [
      "ChangeLog",
      "MagickCore/draw.c"
    ],
    "message": "Prevent buffer overflow in magick/draw.c",
    "before_after_code_files": [
      "MagickCore/draw.c||MagickCore/draw.c"
    ]
  },
  "patch_diff": {
    "MagickCore/draw.c||MagickCore/draw.c": [
      "File: MagickCore/draw.c -> MagickCore/draw.c",
      "--- Hunk 1 ---",
      "[Context before]",
      "1417:   MagickStatusType",
      "1418:     status;",
      "1421:   assert(image->signature == MagickCoreSignature);",
      "1422:   if (image->debug != MagickFalse)",
      "1423:     (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"%s\",image->filename);",
      "",
      "[Removed Lines]",
      "1420:   assert(image != (Image *) NULL);",
      "",
      "[Added Lines]",
      "1420:   assert(image != (Image *) NULL);",
      "",
      "---------------",
      "--- Hunk 2 ---",
      "[Context before]",
      "1541:       {",
      "1542:         offset-=length;",
      "1543:         n++;",
      "1545:         continue;",
      "1546:       }",
      "1547:     if (offset < length)",
      "",
      "[Removed Lines]",
      "1544:         length=scale*(draw_info->dash_pattern[n]+0.5);",
      "",
      "[Added Lines]",
      "1544:         length=scale*(draw_info->dash_pattern[n]+0.5);",
      "",
      "---------------",
      "--- Hunk 3 ---",
      "[Context before]",
      "1794:         image->filename);",
      "1795:     }",
      "1796:   graphic_context[n]=CloneDrawInfo((ImageInfo *) NULL,draw_info);",
      "1798:   if ((image->page.width == 0) || (image->page.height == 0))",
      "1799:     {",
      "1800:       graphic_context[n]->viewbox.width=image->columns;",
      "",
      "[Removed Lines]",
      "1797:   graphic_context[n]->viewbox=image->page;",
      "",
      "[Added Lines]",
      "1797:   graphic_context[n]->viewbox=image->page;",
      "",
      "---------------",
      "--- Hunk 4 ---",
      "[Context before]",
      "2104:             ssize_t",
      "2105:               style;",
      "2108:             style=ParseCommandOption(MagickStyleOptions,MagickFalse,token);",
      "2109:             if (style == -1)",
      "2110:               status=MagickFalse;",
      "",
      "[Removed Lines]",
      "2107:             GetNextToken(q,&q,extent,token);",
      "",
      "[Added Lines]",
      "2107:             GetNextToken(q,&q,extent,token);",
      "",
      "---------------",
      "--- Hunk 5 ---",
      "[Context before]",
      "2353:                   break;",
      "2354:                 }",
      "2355:                 (void) CopyMagickString(token,p,(size_t) (q-p-4+1));",
      "2357:                   graphic_context[n]->affine.ry*segment.y1+",
      "2358:                   graphic_context[n]->affine.tx;",
      "2359:                 bounds.y1=graphic_context[n]->affine.rx*segment.x1+",
      "",
      "[Removed Lines]",
      "2356:                 bounds.x1=graphic_context[n]->affine.sx*segment.x1+",
      "",
      "[Added Lines]",
      "2356:                 bounds.x1=graphic_context[n]->affine.sx*segment.x1+",
      "2357:                   graphic_context[n]->affine.ry*segment.y1+",
      "",
      "---------------",
      "--- Hunk 6 ---",
      "[Context before]",
      "4608:     }",
      "4609:     default:",
      "4610:     {",
      "4612:         mid,",
      "4613:         scale;",
      "",
      "[Removed Lines]",
      "4611:       double",
      "",
      "[Added Lines]",
      "4612:       double",
      "",
      "---------------",
      "--- Hunk 7 ---",
      "[Context before]",
      "4643:           MagickBooleanType",
      "4644:             closed_path;",
      "4647:             Draw strokes while respecting line cap/join attributes.",
      "4649:           for (i=0; primitive_info[i].primitive != UndefinedPrimitive; i++) ;",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 8 ---",
      "[Context before]",
      "4744:   MagickStatusType",
      "4745:     status;",
      "4747:   PrimitiveInfo",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 9 ---",
      "[Context before]",
      "4860:   ImageInfo",
      "4864:     Initialize draw attributes.",
      "",
      "[Removed Lines]",
      "[None]",
      "",
      "[Added Lines]",
      "[None]",
      "",
      "---------------",
      "--- Hunk 10 ---",
      "[Context before]",
      "4925:   option=GetImageOption(clone_info,\"kerning\");",
      "4926:   if (option != (const char *) NULL)",
      "4927:     draw_info->kerning=StringToDouble(option,(char **) NULL);",
      "4929:   if (option != (const char *) NULL)",
      "4930:     (void) QueryColorCompliance(option,AllCompliance,&draw_info->stroke,",
      "4931:       exception);",
      "",
      "[Removed Lines]",
      "4928:   option=GetImageOption(clone_info,\"stroke\");",
      "",
      "[Added Lines]",
      "4929:   option=GetImageOption(clone_info,\"stroke\");",
      "",
      "---------------",
      "--- Hunk 11 ---",
      "[Context before]",
      "6021:       }",
      "6022:     else",
      "6023:       {",
      "6035:         box_p[4]=box_p[1];",
      "6036:         box_q[4]=box_q[1];",
      "6037:       }",
      "",
      "[Removed Lines]",
      "6024:         box_p[2].x=polygon_primitive[n].point.x+offset.x;",
      "6025:         box_p[2].y=polygon_primitive[n].point.y+offset.y;",
      "6026:         box_p[3].x=polygon_primitive[i].point.x+offset.x;",
      "6027:         box_p[3].y=polygon_primitive[i].point.y+offset.y;",
      "6028:         box_q[2].x=polygon_primitive[n].point.x-offset.x;",
      "6029:         box_q[2].y=polygon_primitive[n].point.y-offset.y;",
      "6030:         box_q[3].x=polygon_primitive[i].point.x-offset.x;",
      "6031:         box_q[3].y=polygon_primitive[i].point.y-offset.y;",
      "6032:       }",
      "6033:     if (fabs((double) (slope.p-slope.q)) < MagickEpsilon)",
      "6034:       {",
      "",
      "[Added Lines]",
      "6025:         box_p[2].x=polygon_primitive[n].point.x+offset.x;",
      "6026:         box_p[2].y=polygon_primitive[n].point.y+offset.y;",
      "6027:         box_p[3].x=polygon_primitive[i].point.x+offset.x;",
      "6028:         box_p[3].y=polygon_primitive[i].point.y+offset.y;",
      "6029:         box_q[2].x=polygon_primitive[n].point.x-offset.x;",
      "6030:         box_q[2].y=polygon_primitive[n].point.y-offset.y;",
      "6031:         box_q[3].x=polygon_primitive[i].point.x-offset.x;",
      "6032:         box_q[3].y=polygon_primitive[i].point.y-offset.y;",
      "6033:       }",
      "6034:     if (fabs((double) (slope.p-slope.q)) < MagickEpsilon)",
      "6035:       {",
      "6036:         box_p[4]=box_p[1];",
      "6037:         box_q[4]=box_q[1];",
      "6038:       }",
      "6039:     else",
      "6040:       {",
      "6041:         box_p[4].x=(double) ((slope.p*box_p[0].x-box_p[0].y-slope.q*box_p[3].x+",
      "6042:           box_p[3].y)/(slope.p-slope.q));",
      "6043:         box_p[4].y=(double) (slope.p*(box_p[4].x-box_p[0].x)+box_p[0].y);",
      "6044:         box_q[4].x=(double) ((slope.p*box_q[0].x-box_q[0].y-slope.q*box_q[3].x+",
      "6045:           box_q[3].y)/(slope.p-slope.q));",
      "6046:         box_q[4].y=(double) (slope.p*(box_q[4].x-box_q[0].x)+box_q[0].y);",
      "6047:       }",
      "",
      "---------------"
    ]
  },
  "candidates": [
    {
      "candidate_hash": "341d2ec5994279dcc8dad238b75fdceddc5b0437",
      "candidate_info": {
        "commit_hash": "341d2ec5994279dcc8dad238b75fdceddc5b0437",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/341d2ec5994279dcc8dad238b75fdceddc5b0437",
        "files": [
          "MagickCore/draw.c",
          "MagickCore/option.c",
          "MagickCore/type.c",
          "MagickWand/drawing-wand.c"
        ],
        "message": "Added extra aliases for weight names. Fixed parsing weight in various methods.",
        "before_after_code_files": [
          "MagickCore/draw.c||MagickCore/draw.c",
          "MagickCore/option.c||MagickCore/option.c",
          "MagickCore/type.c||MagickCore/type.c",
          "MagickWand/drawing-wand.c||MagickWand/drawing-wand.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ],
          "candidate": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/draw.c||MagickCore/draw.c": [
          "File: MagickCore/draw.c -> MagickCore/draw.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2098:             else",
          "2099:               graphic_context[n]->stretch=(StretchType) stretch;",
          "2100:             break;",
          "2101:           }",
          "2115:         if (LocaleCompare(\"font-weight\",keyword) == 0)",
          "2116:           {",
          "2117:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2102:         if (LocaleCompare(\"font-style\",keyword) == 0)",
          "2103:           {",
          "2104:             ssize_t",
          "2105:               style;",
          "2107:             GetMagickToken(q,&q,token);",
          "2108:             style=ParseCommandOption(MagickStyleOptions,MagickFalse,token);",
          "2109:             if (style == -1)",
          "2110:               status=MagickFalse;",
          "2111:             else",
          "2112:               graphic_context[n]->style=(StyleType) style;",
          "2113:             break;",
          "2114:           }",
          "",
          "[Added Lines]",
          "2101:           }",
          "2102:         if (LocaleCompare(\"font-style\",keyword) == 0)",
          "2103:           {",
          "2105:               style;",
          "2107:             GetMagickToken(q,&q,token);",
          "2108:             style=ParseCommandOption(MagickStyleOptions,MagickFalse,token);",
          "2109:             if (style == -1)",
          "",
          "---------------"
        ],
        "MagickCore/option.c||MagickCore/option.c": [
          "File: MagickCore/option.c -> MagickCore/option.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1754:   WeightOptions[] =",
          "1755:   {",
          "1756:     { \"Undefined\", 0L, UndefinedOptionFlag, MagickTrue },",
          "1757:     { \"Thin\", 100L, UndefinedOptionFlag, MagickFalse },",
          "1758:     { \"ExtraLight\", 200L, UndefinedOptionFlag, MagickFalse },",
          "1759:     { \"Light\", 300L, DeprecateOptionFlag, MagickTrue },",
          "1760:     { \"Normal\", 400L, UndefinedOptionFlag, MagickFalse },",
          "1761:     { \"Medium\", 500L, UndefinedOptionFlag, MagickFalse },",
          "1762:     { \"DemiBold\", 600L, UndefinedOptionFlag, MagickFalse },",
          "1763:     { \"Bold\", 700L, UndefinedOptionFlag, MagickFalse },",
          "1764:     { \"ExtraBold\", 800L, UndefinedOptionFlag, MagickFalse },",
          "1765:     { \"Heavy\", 900L, UndefinedOptionFlag, MagickFalse },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1757:     { \"Thin\", 100L, UndefinedOptionFlag, MagickFalse },",
          "1760:     { \"Light\", 300L, DeprecateOptionFlag, MagickTrue },",
          "1763:     { \"Medium\", 500L, UndefinedOptionFlag, MagickFalse },",
          "1766:     { \"Bold\", 700L, UndefinedOptionFlag, MagickFalse },",
          "",
          "---------------"
        ],
        "MagickCore/type.c||MagickCore/type.c": [
          "File: MagickCore/type.c -> MagickCore/type.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1311:               MagickStretchOptions,MagickFalse,token);",
          "1312:             break;",
          "1313:           }",
          "1319:           }",
          "1320:         break;",
          "1321:       }",
          "",
          "[Removed Lines]",
          "1314:         if (LocaleCompare((char *) keyword,\"style\") == 0)",
          "1315:           {",
          "1316:             type_info->style=(StyleType) ParseCommandOption(MagickStyleOptions,",
          "1317:               MagickFalse,token);",
          "1318:             break;",
          "",
          "[Added Lines]",
          "1314:         if (LocaleCompare((char *) keyword,\"style\") == 0)",
          "1315:           {",
          "1316:             type_info->style=(StyleType) ParseCommandOption(MagickStyleOptions,",
          "1317:               MagickFalse,token);",
          "1318:             break;",
          "1319:           }",
          "1320:         break;",
          "",
          "---------------"
        ],
        "MagickWand/drawing-wand.c||MagickWand/drawing-wand.c": [
          "File: MagickWand/drawing-wand.c -> MagickWand/drawing-wand.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "6320: %  to persist the vector graphics state.",
          "6321: %",
          "6322: %  The format of the DrawSetVectorGraphics method is:",
          "6324: %      MagickBooleanType DrawSetVectorGraphics(DrawingWand *wand,",
          "6325: %        const char *xml)",
          "6326: %",
          "",
          "[Removed Lines]",
          "6323: %",
          "",
          "[Added Lines]",
          "6323: %",
          "6324: %      MagickBooleanType DrawSetVectorGraphics(DrawingWand *wand,",
          "6325: %        const char *xml)",
          "6326: %",
          "6327: %  A description of each parameter follows:",
          "6328: %",
          "6329: %    o wand: the drawing wand.",
          "6330: %",
          "6331: %    o xml: the drawing wand XML.",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "9cdadd93510445e657e40e7877f2d85279683049",
      "candidate_info": {
        "commit_hash": "9cdadd93510445e657e40e7877f2d85279683049",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/9cdadd93510445e657e40e7877f2d85279683049",
        "files": [
          "MagickCore/draw.c"
        ],
        "message": "Fix possible memory leak",
        "before_after_code_files": [
          "MagickCore/draw.c||MagickCore/draw.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ],
          "candidate": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/draw.c||MagickCore/draw.c": [
          "File: MagickCore/draw.c -> MagickCore/draw.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1505:   register ssize_t",
          "1506:     i;",
          "1509:     dx,",
          "1510:     dy;",
          "1512:   size_t",
          "1513:     number_vertices;",
          "1515:   ssize_t",
          "1516:     j,",
          "1517:     n;",
          "",
          "[Removed Lines]",
          "1508:   register double",
          "",
          "[Added Lines]",
          "1513:     number_vertices;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1541:       {",
          "1542:         offset-=length;",
          "1543:         n++;",
          "1545:         continue;",
          "1546:       }",
          "1547:     if (offset < length)",
          "",
          "[Removed Lines]",
          "1544:         length=scale*(draw_info->dash_pattern[n]+0.5);",
          "",
          "[Added Lines]",
          "1544:         length=scale*(draw_info->dash_pattern[n]+0.5);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1553:     offset=0.0;",
          "1554:     n++;",
          "1555:   }",
          "1557:   maximum_length=0.0;",
          "1558:   total_length=0.0;",
          "1559:   for (i=1; i < (ssize_t) number_vertices; i++)",
          "",
          "[Removed Lines]",
          "1556:   status=MagickTrue;",
          "",
          "[Added Lines]",
          "1556:   status=MagickTrue;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "2589:                     GetNextToken(r,&r,extent,token);",
          "2590:                 }",
          "2591:                 graphic_context[n]->dash_pattern=(double *)",
          "2592:                   AcquireQuantumMemory((size_t) (2UL*x+1UL),",
          "2593:                   sizeof(*graphic_context[n]->dash_pattern));",
          "2594:                 if (graphic_context[n]->dash_pattern == (double *) NULL)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2592:                   AcquireQuantumMemory((size_t) (2UL*x+1UL),",
          "2593:                   sizeof(*graphic_context[n]->dash_pattern));",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "c381376ece1a1e59d83018f2c8caf78b36a89fda",
      "candidate_info": {
        "commit_hash": "c381376ece1a1e59d83018f2c8caf78b36a89fda",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/c381376ece1a1e59d83018f2c8caf78b36a89fda",
        "files": [
          "MagickCore/draw.c"
        ],
        "message": "",
        "before_after_code_files": [
          "MagickCore/draw.c||MagickCore/draw.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ],
          "candidate": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/draw.c||MagickCore/draw.c": [
          "File: MagickCore/draw.c -> MagickCore/draw.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "255:   clone_info=(DrawInfo *) AcquireMagickMemory(sizeof(*clone_info));",
          "258:   GetDrawInfo(image_info,clone_info);",
          "259:   if (draw_info == (DrawInfo *) NULL)",
          "260:     return(clone_info);",
          "",
          "[Removed Lines]",
          "256:   if (clone_info == (DrawInfo *) NULL)",
          "257:     ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "",
          "[Added Lines]",
          "256:   if (clone_info == (DrawInfo *) NULL)",
          "257:     ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "258:   GetDrawInfo(image_info,clone_info);",
          "259:   if (draw_info == (DrawInfo *) NULL)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "276:   clone_info->stroke_antialias=draw_info->stroke_antialias;",
          "277:   clone_info->text_antialias=draw_info->text_antialias;",
          "278:   clone_info->fill_rule=draw_info->fill_rule;",
          "283:   clone_info->decorate=draw_info->decorate;",
          "284:   clone_info->compose=draw_info->compose;",
          "285:   (void) CloneString(&clone_info->text,draw_info->text);",
          "287:   (void) CloneString(&clone_info->metrics,draw_info->metrics);",
          "288:   (void) CloneString(&clone_info->family,draw_info->family);",
          "289:   clone_info->style=draw_info->style;",
          "290:   clone_info->stretch=draw_info->stretch;",
          "291:   clone_info->weight=draw_info->weight;",
          "293:   clone_info->pointsize=draw_info->pointsize;",
          "294:   clone_info->kerning=draw_info->kerning;",
          "295:   clone_info->interline_spacing=draw_info->interline_spacing;",
          "297:   clone_info->direction=draw_info->direction;",
          "298:   (void) CloneString(&clone_info->density,draw_info->density);",
          "299:   clone_info->align=draw_info->align;",
          "",
          "[Removed Lines]",
          "279:   clone_info->linecap=draw_info->linecap;",
          "280:   clone_info->linejoin=draw_info->linejoin;",
          "281:   clone_info->miterlimit=draw_info->miterlimit;",
          "282:   clone_info->dash_offset=draw_info->dash_offset;",
          "286:   (void) CloneString(&clone_info->font,draw_info->font);",
          "292:   (void) CloneString(&clone_info->encoding,draw_info->encoding);",
          "296:   clone_info->interword_spacing=draw_info->interword_spacing;",
          "",
          "[Added Lines]",
          "281:   clone_info->linecap=draw_info->linecap;",
          "282:   clone_info->linejoin=draw_info->linejoin;",
          "283:   clone_info->miterlimit=draw_info->miterlimit;",
          "284:   clone_info->dash_offset=draw_info->dash_offset;",
          "285:   clone_info->decorate=draw_info->decorate;",
          "286:   clone_info->compose=draw_info->compose;",
          "287:   if (draw_info->text != (char *) NULL)",
          "288:     (void) CloneString(&clone_info->text,draw_info->text);",
          "292:     (void) CloneString(&clone_info->metrics,draw_info->metrics);",
          "293:   if (draw_info->family != (char *) NULL)",
          "299:     (void) CloneString(&clone_info->encoding,draw_info->encoding);",
          "300:   clone_info->pointsize=draw_info->pointsize;",
          "304:   clone_info->direction=draw_info->direction;",
          "305:   if (draw_info->density != (char *) NULL)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "324:       clone_info->gradient.stops=(StopInfo *) AcquireQuantumMemory((size_t)",
          "325:         number_stops,sizeof(*clone_info->gradient.stops));",
          "326:       if (clone_info->gradient.stops == (StopInfo *) NULL)",
          "328:           \"UnableToAllocateDashPattern\");",
          "329:       (void) CopyMagickMemory(clone_info->gradient.stops,",
          "330:         draw_info->gradient.stops,(size_t) number_stops*",
          "",
          "[Removed Lines]",
          "327:         ThrowFatalException(ResourceLimitFatalError,",
          "",
          "[Added Lines]",
          "336:         ThrowFatalException(ResourceLimitFatalError,",
          "337:           \"UnableToAllocateDashPattern\");",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "4770: %                                                                             %",
          "4771: %                                                                             %",
          "4772: %                                                                             %",
          "4773: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "4774: %",
          "4775: %  GetDrawInfo() initializes draw_info to default values from image_info.",
          "4776: %",
          "4777: %  The format of the GetDrawInfo method is:",
          "4778: %",
          "4779: %      void GetDrawInfo(const ImageInfo *image_info,DrawInfo *draw_info)",
          "4780: %",
          "4781: %  A description of each parameter follows:",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4783: %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%",
          "4784: %",
          "4785: %  GetDrawInfo() initializes draw_info to default values from image_info.",
          "4792: %",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "4848:           MagickDirectionOptions,MagickFalse,option);",
          "4849:       else",
          "4850:         draw_info->direction=UndefinedDirection;",
          "4851:       option=GetImageOption(image_info,\"fill\");",
          "4852:       if (option != (const char *) NULL)",
          "4853:         (void) QueryColorCompliance(option,AllCompliance,&draw_info->fill,",
          "",
          "[Removed Lines]",
          "4797:     Initialize draw attributes.",
          "4799:   (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"...\");",
          "4800:   assert(draw_info != (DrawInfo *) NULL);",
          "4801:   (void) ResetMagickMemory(draw_info,0,sizeof(*draw_info));",
          "4802:   GetAffineMatrix(&draw_info->affine);",
          "4803:   exception=AcquireExceptionInfo();",
          "4804:   (void) QueryColorCompliance(\"#000F\",AllCompliance,&draw_info->fill,",
          "4805:     exception);",
          "4806:   (void) QueryColorCompliance(\"#0000\",AllCompliance,&draw_info->stroke,",
          "4807:     exception);",
          "4808:   draw_info->stroke_width=1.0;",
          "4809:   draw_info->alpha=OpaqueAlpha;",
          "4810:   draw_info->fill_rule=EvenOddRule;",
          "4811:   draw_info->linecap=ButtCap;",
          "4812:   draw_info->linejoin=MiterJoin;",
          "4813:   draw_info->miterlimit=10;",
          "4814:   draw_info->decorate=NoDecoration;",
          "4815:   draw_info->pointsize=12.0;",
          "4816:   draw_info->undercolor.alpha=(Quantum) TransparentAlpha;",
          "4817:   draw_info->compose=OverCompositeOp;",
          "4818:   draw_info->render=MagickTrue;",
          "4819:   draw_info->debug=IsEventLogging();",
          "4820:   if (image_info != (ImageInfo *) NULL)",
          "4821:     {",
          "4822:       draw_info->stroke_antialias=image_info->antialias;",
          "4823:       if (image_info->font != (char *) NULL)",
          "4824:         draw_info->font=AcquireString(image_info->font);",
          "4825:       if (image_info->density != (char *) NULL)",
          "4826:         draw_info->density=AcquireString(image_info->density);",
          "4827:       draw_info->text_antialias=image_info->antialias;",
          "4828:       if (image_info->pointsize != 0.0)",
          "4829:         draw_info->pointsize=image_info->pointsize;",
          "4830:       draw_info->border_color=image_info->border_color;",
          "4831:       if (image_info->server_name != (char *) NULL)",
          "4832:         draw_info->server_name=AcquireString(image_info->server_name);",
          "4833:       option=GetImageOption(image_info,\"encoding\");",
          "4834:       if (option != (const char *) NULL)",
          "4835:         (void) CloneString(&draw_info->encoding,option);",
          "4836:       option=GetImageOption(image_info,\"kerning\");",
          "4837:       if (option != (const char *) NULL)",
          "4838:         draw_info->kerning=StringToDouble(option,(char **) NULL);",
          "4839:       option=GetImageOption(image_info,\"interline-spacing\");",
          "4840:       if (option != (const char *) NULL)",
          "4841:         draw_info->interline_spacing=StringToDouble(option,(char **) NULL);",
          "4842:       option=GetImageOption(image_info,\"interword-spacing\");",
          "4843:       if (option != (const char *) NULL)",
          "4844:         draw_info->interword_spacing=StringToDouble(option,(char **) NULL);",
          "4845:       option=GetImageOption(image_info,\"direction\");",
          "4846:       if (option != (const char *) NULL)",
          "4847:         draw_info->direction=(DirectionType) ParseCommandOption(",
          "",
          "[Added Lines]",
          "4812:   (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"...\");",
          "4813:   assert(draw_info != (DrawInfo *) NULL);",
          "4814:   (void) ResetMagickMemory(draw_info,0,sizeof(*draw_info));",
          "4815:   clone_info=CloneImageInfo(image_info);",
          "4816:   GetAffineMatrix(&draw_info->affine);",
          "4817:   exception=AcquireExceptionInfo();",
          "4818:   (void) QueryColorCompliance(\"#000F\",AllCompliance,&draw_info->fill,",
          "4819:     exception);",
          "4820:   (void) QueryColorCompliance(\"#0000\",AllCompliance,&draw_info->stroke,",
          "4821:     exception);",
          "4822:   draw_info->stroke_width=1.0;",
          "4823:   draw_info->alpha=OpaqueAlpha;",
          "4824:   draw_info->fill_rule=EvenOddRule;",
          "4825:   draw_info->linecap=ButtCap;",
          "4826:   draw_info->linejoin=MiterJoin;",
          "4827:   draw_info->miterlimit=10;",
          "4828:   draw_info->decorate=NoDecoration;",
          "4829:   draw_info->pointsize=12.0;",
          "4830:   draw_info->undercolor.alpha=(Quantum) TransparentAlpha;",
          "4831:   draw_info->compose=OverCompositeOp;",
          "4832:   draw_info->render=MagickTrue;",
          "4833:   draw_info->debug=IsEventLogging();",
          "4834:   draw_info->stroke_antialias=clone_info->antialias;",
          "4835:   if (clone_info->font != (char *) NULL)",
          "4836:     draw_info->font=AcquireString(clone_info->font);",
          "4837:   if (clone_info->density != (char *) NULL)",
          "4838:     draw_info->density=AcquireString(clone_info->density);",
          "4839:   draw_info->text_antialias=clone_info->antialias;",
          "4840:   if (clone_info->pointsize != 0.0)",
          "4841:     draw_info->pointsize=clone_info->pointsize;",
          "4842:   draw_info->border_color=clone_info->border_color;",
          "4843:   if (clone_info->server_name != (char *) NULL)",
          "4844:     draw_info->server_name=AcquireString(clone_info->server_name);",
          "4845:   option=GetImageOption(clone_info,\"encoding\");",
          "4846:   if (option != (const char *) NULL)",
          "4847:     (void) CloneString(&draw_info->encoding,option);",
          "4848:   option=GetImageOption(clone_info,\"kerning\");",
          "4849:   if (option != (const char *) NULL)",
          "4850:     draw_info->kerning=StringToDouble(option,(char **) NULL);",
          "4851:   option=GetImageOption(clone_info,\"interline-spacing\");",
          "4852:   if (option != (const char *) NULL)",
          "4853:     draw_info->interline_spacing=StringToDouble(option,(char **) NULL);",
          "4854:   option=GetImageOption(clone_info,\"interword-spacing\");",
          "4855:   if (option != (const char *) NULL)",
          "4856:     draw_info->interword_spacing=StringToDouble(option,(char **) NULL);",
          "4857:   option=GetImageOption(clone_info,\"direction\");",
          "4858:   if (option != (const char *) NULL)",
          "4861:   else",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "5acf702fa2aa906dc44bd26edc57023344e8b77a",
      "candidate_info": {
        "commit_hash": "5acf702fa2aa906dc44bd26edc57023344e8b77a",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/5acf702fa2aa906dc44bd26edc57023344e8b77a",
        "files": [
          "MagickCore/draw.c",
          "MagickCore/option.c",
          "MagickCore/option.h",
          "MagickWand/mogrify.c",
          "MagickWand/operation.c"
        ],
        "message": "Fixed options for -weight and -list weight.",
        "before_after_code_files": [
          "MagickCore/draw.c||MagickCore/draw.c",
          "MagickCore/option.c||MagickCore/option.c",
          "MagickCore/option.h||MagickCore/option.h",
          "MagickWand/mogrify.c||MagickWand/mogrify.c",
          "MagickWand/operation.c||MagickWand/operation.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ],
          "candidate": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ]
        }
      },
      "candidate_diff": {
        "MagickCore/draw.c||MagickCore/draw.c": [
          "File: MagickCore/draw.c -> MagickCore/draw.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "4884:   draw_info->stroke_width=1.0;",
          "4885:   draw_info->alpha=OpaqueAlpha;",
          "4886:   draw_info->fill_rule=EvenOddRule;",
          "4896:   draw_info->stroke_antialias=clone_info->antialias;",
          "4897:   if (clone_info->font != (char *) NULL)",
          "4898:     draw_info->font=AcquireString(clone_info->font);",
          "",
          "[Removed Lines]",
          "4887:   draw_info->linecap=ButtCap;",
          "4888:   draw_info->linejoin=MiterJoin;",
          "4889:   draw_info->miterlimit=10;",
          "4890:   draw_info->decorate=NoDecoration;",
          "4891:   draw_info->pointsize=12.0;",
          "4892:   draw_info->undercolor.alpha=(Quantum) TransparentAlpha;",
          "4893:   draw_info->compose=OverCompositeOp;",
          "4894:   draw_info->render=MagickTrue;",
          "4895:   draw_info->debug=IsEventLogging();",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "4903:     draw_info->pointsize=clone_info->pointsize;",
          "4904:   draw_info->border_color=clone_info->border_color;",
          "4905:   if (clone_info->server_name != (char *) NULL)",
          "4906:     draw_info->server_name=AcquireString(clone_info->server_name);",
          "4907:   option=GetImageOption(clone_info,\"encoding\");",
          "4908:   if (option != (const char *) NULL)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "4897:   if (clone_info->font != (char *) NULL)",
          "4898:     draw_info->font=AcquireString(clone_info->font);",
          "4899:   if (clone_info->density != (char *) NULL)",
          "4900:     draw_info->density=AcquireString(clone_info->density);",
          "4901:   draw_info->text_antialias=clone_info->antialias;",
          "4902:   if (clone_info->pointsize != 0.0)",
          "4903:     draw_info->pointsize=clone_info->pointsize;",
          "4904:   draw_info->border_color=clone_info->border_color;",
          "4905:   if (clone_info->server_name != (char *) NULL)",
          "4906:     draw_info->server_name=AcquireString(clone_info->server_name);",
          "4907:   option=GetImageOption(clone_info,\"encoding\");",
          "4908:   if (option != (const char *) NULL)",
          "4909:     (void) CloneString(&draw_info->encoding,option);",
          "4910:   option=GetImageOption(clone_info,\"direction\");",
          "4911:   if (option != (const char *) NULL)",
          "4912:     draw_info->direction=(DirectionType) ParseCommandOption(",
          "4913:       MagickDirectionOptions,MagickFalse,option);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "4914:   if (option != (const char *) NULL)",
          "4915:     draw_info->interline_spacing=StringToDouble(option,(char **) NULL);",
          "4916:   option=GetImageOption(clone_info,\"interword-spacing\");",
          "4918:     draw_info->interword_spacing=StringToDouble(option,(char **) NULL);",
          "4921:     draw_info->direction=(DirectionType) ParseCommandOption(",
          "4922:       MagickDirectionOptions,MagickFalse,option);",
          "4923:   else",
          "",
          "[Removed Lines]",
          "4917:   if (option != (const char *) NULL)",
          "4919:   option=GetImageOption(clone_info,\"direction\");",
          "4920:   if (option != (const char *) NULL)",
          "",
          "[Added Lines]",
          "4925:   if (option != (const char *) NULL)",
          "4927:   option=GetImageOption(clone_info,\"interword-spacing\");",
          "4928:   if (option != (const char *) NULL)",
          "4929:     draw_info->interword_spacing=StringToDouble(option,(char **) NULL);",
          "4930:   option=GetImageOption(clone_info,\"kerning\");",
          "4931:   if (option != (const char *) NULL)",
          "4932:     draw_info->kerning=StringToDouble(option,(char **) NULL);",
          "4933:   option=GetImageOption(clone_info,\"style\");",
          "4934:   if (option != (const char *) NULL)",
          "4935:     draw_info->style=(StyleType) ParseCommandOption(MagickStyleOptions,",
          "",
          "---------------"
        ],
        "MagickCore/option.c||MagickCore/option.c": [
          "File: MagickCore/option.c -> MagickCore/option.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1294:     { \"FillRule\", MagickFillRuleOptions, UndefinedOptionFlag, MagickFalse },",
          "1295:     { \"Filter\", MagickFilterOptions, UndefinedOptionFlag, MagickFalse },",
          "1296:     { \"Font\", MagickFontOptions, UndefinedOptionFlag, MagickFalse },",
          "1297:     { \"Format\", MagickFormatOptions, UndefinedOptionFlag, MagickFalse },",
          "1298:     { \"Function\", MagickFunctionOptions, UndefinedOptionFlag, MagickFalse },",
          "1299:     { \"Gravity\", MagickGravityOptions, UndefinedOptionFlag, MagickFalse },",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1297:     { \"Format\", MagickFormatOptions, UndefinedOptionFlag, MagickFalse },",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1338:     { \"Type\", MagickTypeOptions, UndefinedOptionFlag, MagickFalse },",
          "1339:     { \"Units\", MagickResolutionOptions, UndefinedOptionFlag, MagickFalse },",
          "1340:     { \"Undefined\", MagickUndefinedOptions, UndefinedOptionFlag, MagickTrue },",
          "1341:     { \"Validate\", MagickValidateOptions, UndefinedOptionFlag, MagickFalse },",
          "1342:     { \"VirtualPixel\", MagickVirtualPixelOptions, UndefinedOptionFlag, MagickFalse },",
          "1343:     { (char *) NULL, MagickUndefinedOptions, UndefinedOptionFlag, MagickFalse }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1342:     { \"Validate\", MagickValidateOptions, UndefinedOptionFlag, MagickFalse },",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1746:     { \"Transparent\", TransparentVirtualPixelMethod, UndefinedOptionFlag, MagickFalse },",
          "1747:     { \"VerticalTile\", VerticalTileVirtualPixelMethod, UndefinedOptionFlag, MagickFalse },",
          "1748:     { \"VerticalTileEdge\", VerticalTileEdgeVirtualPixelMethod, UndefinedOptionFlag, MagickFalse },",
          "1749:     { \"White\", WhiteVirtualPixelMethod, UndefinedOptionFlag, MagickFalse },",
          "1750:     { (char *) NULL, UndefinedVirtualPixelMethod, UndefinedOptionFlag, MagickFalse }",
          "1751:   };",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "1751:     { \"White\", WhiteVirtualPixelMethod, UndefinedOptionFlag, MagickFalse },",
          "1752:     { (char *) NULL, UndefinedVirtualPixelMethod, UndefinedOptionFlag, MagickFalse }",
          "1753:   },",
          "1754:   WeightOptions[] =",
          "1755:   {",
          "1756:     { \"Undefined\", 0L, UndefinedOptionFlag, MagickTrue },",
          "1757:     { \"Thin\", 100L, UndefinedOptionFlag, MagickFalse },",
          "1758:     { \"ExtraLight\", 200L, UndefinedOptionFlag, MagickFalse },",
          "1759:     { \"Light\", 300L, DeprecateOptionFlag, MagickTrue },",
          "1760:     { \"Normal\", 400L, UndefinedOptionFlag, MagickFalse },",
          "1761:     { \"Medium\", 500L, UndefinedOptionFlag, MagickFalse },",
          "1762:     { \"DemiBold\", 600L, UndefinedOptionFlag, MagickFalse },",
          "1763:     { \"Bold\", 700L, UndefinedOptionFlag, MagickFalse },",
          "1764:     { \"ExtraBold\", 800L, UndefinedOptionFlag, MagickFalse },",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "2053:     case MagickQuantumFormatOptions: return(QuantumFormatOptions);",
          "2054:     case MagickResolutionOptions: return(ResolutionOptions);",
          "2055:     case MagickResourceOptions: return(ResourceOptions);",
          "2056:     case MagickSparseColorOptions: return(SparseColorOptions);",
          "2057:     case MagickStatisticOptions: return(StatisticOptions);",
          "2058:     case MagickStorageOptions: return(StorageOptions);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "2072:     case MagickSparseColorOptions: return(SparseColorOptions);",
          "",
          "---------------"
        ],
        "MagickCore/option.h||MagickCore/option.h": [
          "File: MagickCore/option.h -> MagickCore/option.h",
          "--- Hunk 1 ---",
          "[Context before]",
          "99:   MagickThresholdOptions,",
          "100:   MagickTypeOptions,",
          "101:   MagickValidateOptions,",
          "103: } CommandOption;",
          "105: typedef enum",
          "",
          "[Removed Lines]",
          "102:   MagickVirtualPixelOptions",
          "",
          "[Added Lines]",
          "102:   MagickVirtualPixelOptions,",
          "103:   MagickWeightOptions",
          "",
          "---------------"
        ],
        "MagickWand/mogrify.c||MagickWand/mogrify.c": [
          "File: MagickWand/mogrify.c -> MagickWand/mogrify.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "3273:             if ((flags & SigmaValue) == 0)",
          "3274:               geometry_info.sigma=1.0;",
          "3275:             mogrify_image=WaveImage(*image,geometry_info.rho,",
          "3289:             if (LocaleCompare(argv[i+1],\"lighter\") == 0)",
          "3290:               if (draw_info->weight >= 100)",
          "3291:                 draw_info->weight-=100;",
          "",
          "[Removed Lines]",
          "3276:               geometry_info.sigma,interpolate_method,exception);",
          "3277:             break;",
          "3278:           }",
          "3279:         if (LocaleCompare(\"weight\",option+1) == 0)",
          "3280:           {",
          "3281:             draw_info->weight=StringToUnsignedLong(argv[i+1]);",
          "3282:             if (LocaleCompare(argv[i+1],\"all\") == 0)",
          "3283:               draw_info->weight=0;",
          "3284:             if (LocaleCompare(argv[i+1],\"bold\") == 0)",
          "3285:               draw_info->weight=700;",
          "3286:             if (LocaleCompare(argv[i+1],\"bolder\") == 0)",
          "3287:               if (draw_info->weight <= 800)",
          "3288:                 draw_info->weight+=100;",
          "",
          "[Added Lines]",
          "3276:               geometry_info.sigma,interpolate_method,exception);",
          "3277:             break;",
          "3278:           }",
          "3279:         if (LocaleCompare(\"weight\",option+1) == 0)",
          "3280:           {",
          "3281:             ssize_t",
          "3282:               weight;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "7400:           {",
          "7401:             if (*option == '+')",
          "7402:               {",
          "7403:                 (void) SetImageOption(image_info,option+1,\"none\");",
          "7404:                 break;",
          "7405:               }",
          "7407:             break;",
          "7408:           }",
          "7409:         if (LocaleCompare(\"strokewidth\",option+1) == 0)",
          "",
          "[Removed Lines]",
          "7406:             (void) SetImageOption(image_info,option+1,argv[i+1]);",
          "",
          "[Added Lines]",
          "7398:                 (void) SetImageOption(image_info,option+1,\"none\");",
          "7399:                 break;",
          "7400:               }",
          "7401:             (void) SetImageOption(image_info,option+1,argv[i+1]);",
          "7402:             break;",
          "7403:           }",
          "7404:         if (LocaleCompare(\"strokewidth\",option+1) == 0)",
          "7405:           {",
          "7409:               (void) SetImageOption(image_info,option+1,argv[i+1]);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "7542:             if (*option == '+')",
          "7543:               (void) SetImageOption(image_info,option+1,\"undefined\");",
          "7544:             else",
          "7545:               (void) SetImageOption(image_info,option+1,argv[i+1]);",
          "7546:             break;",
          "7547:           }",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "7548:               (void) SetImageOption(image_info,option+1,argv[i+1]);",
          "7549:             break;",
          "7550:           }",
          "7551:         break;",
          "7552:       }",
          "7553:       case 'w':",
          "7554:       {",
          "7555:         if (LocaleCompare(\"weight\",option+1) == 0)",
          "",
          "---------------"
        ],
        "MagickWand/operation.c||MagickWand/operation.c": [
          "File: MagickWand/operation.c -> MagickWand/operation.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1562:           break;",
          "1563:         }",
          "1564:       CLIWandExceptionBreak(OptionError,\"UnrecognizedOption\",option);",
          "1565:     }",
          "1582:           if (LocaleCompare(arg1,\"lighter\") == 0)",
          "1583:             if (_draw_info->weight >= 100)",
          "1584:               _draw_info->weight-=100;",
          "",
          "[Removed Lines]",
          "1566:     case 'w':",
          "1567:     {",
          "1568:       if (LocaleCompare(\"weight\",option+1) == 0)",
          "1569:         {",
          "1571:              There is no \"-list weight\" output (reference manual says there is)",
          "1573:           arg1=ArgOption(\"all\");",
          "1574:           _draw_info->weight=StringToUnsignedLong(arg1);",
          "1575:           if (LocaleCompare(arg1,\"all\") == 0)",
          "1576:             _draw_info->weight=0;",
          "1577:           if (LocaleCompare(arg1,\"bold\") == 0)",
          "1578:             _draw_info->weight=700;",
          "1579:           if (LocaleCompare(arg1,\"bolder\") == 0)",
          "1580:             if (_draw_info->weight <= 800)",
          "1581:               _draw_info->weight+=100;",
          "",
          "[Added Lines]",
          "1565:     }",
          "1566:     case 'w':",
          "1567:     {",
          "1568:       if (LocaleCompare(\"weight\",option+1) == 0)",
          "1569:         {",
          "1570:           ssize_t",
          "1571:             weight;",
          "",
          "---------------"
        ]
      }
    },
    {
      "candidate_hash": "a8b2bb29cfc3909ff5772673d568ac2add6a5083",
      "candidate_info": {
        "commit_hash": "a8b2bb29cfc3909ff5772673d568ac2add6a5083",
        "repo": "ImageMagick/ImageMagick",
        "commit_url": "https://github.com/ImageMagick/ImageMagick/commit/a8b2bb29cfc3909ff5772673d568ac2add6a5083",
        "files": [
          "ImageMagick-7.0.0-0/enhance.c",
          "MagickCore/channel.c",
          "MagickCore/coder.c",
          "MagickCore/color.c",
          "MagickCore/configure.c",
          "MagickCore/delegate.c",
          "MagickCore/draw.c",
          "MagickCore/enhance.c",
          "MagickCore/geometry.c",
          "MagickCore/locale.c",
          "MagickCore/log.c",
          "MagickCore/magic.c",
          "MagickCore/module.c",
          "MagickCore/morphology.c",
          "MagickCore/option.c",
          "MagickCore/policy.c",
          "MagickCore/threshold.c",
          "MagickCore/token.c",
          "MagickCore/type.c",
          "MagickCore/vision.c",
          "MagickWand/convert.c",
          "MagickWand/drawing-wand.c",
          "MagickWand/mogrify.c",
          "MagickWand/operation.c",
          "coders/pdf.c",
          "coders/svg.c"
        ],
        "message": "Check to ensure token does not exceed maximum extent",
        "before_after_code_files": [
          "ImageMagick-7.0.0-0/enhance.c||ImageMagick-7.0.0-0/enhance.c",
          "MagickCore/channel.c||MagickCore/channel.c",
          "MagickCore/coder.c||MagickCore/coder.c",
          "MagickCore/color.c||MagickCore/color.c",
          "MagickCore/configure.c||MagickCore/configure.c",
          "MagickCore/delegate.c||MagickCore/delegate.c",
          "MagickCore/draw.c||MagickCore/draw.c",
          "MagickCore/enhance.c||MagickCore/enhance.c",
          "MagickCore/geometry.c||MagickCore/geometry.c",
          "MagickCore/locale.c||MagickCore/locale.c",
          "MagickCore/log.c||MagickCore/log.c",
          "MagickCore/magic.c||MagickCore/magic.c",
          "MagickCore/module.c||MagickCore/module.c",
          "MagickCore/morphology.c||MagickCore/morphology.c",
          "MagickCore/option.c||MagickCore/option.c",
          "MagickCore/policy.c||MagickCore/policy.c",
          "MagickCore/threshold.c||MagickCore/threshold.c",
          "MagickCore/token.c||MagickCore/token.c",
          "MagickCore/type.c||MagickCore/type.c",
          "MagickCore/vision.c||MagickCore/vision.c",
          "MagickWand/convert.c||MagickWand/convert.c",
          "MagickWand/drawing-wand.c||MagickWand/drawing-wand.c",
          "MagickWand/mogrify.c||MagickWand/mogrify.c",
          "MagickWand/operation.c||MagickWand/operation.c",
          "coders/pdf.c||coders/pdf.c",
          "coders/svg.c||coders/svg.c"
        ]
      },
      "candidate_patch_features": {
        "candidate_earlier_than_patch": 1,
        "same_branch_evolution": 1,
        "olp_code_files": {
          "patch": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ],
          "candidate": [
            "MagickCore/draw.c||MagickCore/draw.c"
          ]
        }
      },
      "candidate_diff": {
        "ImageMagick-7.0.0-0/enhance.c||ImageMagick-7.0.0-0/enhance.c": [
          "File: ImageMagick-7.0.0-0/enhance.c -> ImageMagick-7.0.0-0/enhance.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "579:       slope=GetXMLTreeChild(sop,\"Slope\");",
          "581:         {",
          "583:           p=(const char *) content;",
          "584:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "585:           {",
          "",
          "[Removed Lines]",
          "580:       if (slope != (XMLTreeInfo *) NULL)",
          "582:           content=GetXMLTreeContent(slope);",
          "",
          "[Added Lines]",
          "580:       if (slope != (XMLTreeInfo *) NULL)",
          "582:           content=GetXMLTreeContent(slope);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "609:           }",
          "610:         }",
          "611:       offset=GetXMLTreeChild(sop,\"Offset\");",
          "613:         {",
          "615:           p=(const char *) content;",
          "616:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "617:           {",
          "",
          "[Removed Lines]",
          "612:       if (offset != (XMLTreeInfo *) NULL)",
          "614:           content=GetXMLTreeContent(offset);",
          "",
          "[Added Lines]",
          "612:       if (offset != (XMLTreeInfo *) NULL)",
          "614:           content=GetXMLTreeContent(offset);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "642:           }",
          "643:         }",
          "644:       power=GetXMLTreeChild(sop,\"Power\");",
          "646:         {",
          "648:           p=(const char *) content;",
          "649:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "650:           {",
          "",
          "[Removed Lines]",
          "645:       if (power != (XMLTreeInfo *) NULL)",
          "647:           content=GetXMLTreeContent(power);",
          "",
          "[Added Lines]",
          "645:       if (power != (XMLTreeInfo *) NULL)",
          "647:           content=GetXMLTreeContent(power);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "679:     {",
          "680:       XMLTreeInfo",
          "683:       saturation=GetXMLTreeChild(sat,\"Saturation\");",
          "684:       if (saturation != (XMLTreeInfo *) NULL)",
          "685:         {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "MagickCore/channel.c||MagickCore/channel.c": [
          "File: MagickCore/channel.c -> MagickCore/channel.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "243:   channel_mask=UndefinedChannel;",
          "244:   pixel=0.0;",
          "245:   p=(char *) expression;",
          "247:   channel_op=ExtractChannelOp;",
          "248:   for (channels=0; *token != '\\0'; )",
          "249:   {",
          "",
          "[Removed Lines]",
          "246:   GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "246:   GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "257:     {",
          "258:       case ',':",
          "259:       {",
          "261:         break;",
          "262:       }",
          "263:       case '|':",
          "",
          "[Removed Lines]",
          "260:         GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "260:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "266:           source_image=GetNextImageInList(source_image);",
          "267:         else",
          "268:           source_image=GetFirstImageInList(source_image);",
          "270:         break;",
          "271:       }",
          "272:       case ';':",
          "",
          "[Removed Lines]",
          "269:         GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "269:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "291:           }",
          "292:         AppendImageToList(&destination_image,canvas);",
          "293:         destination_image=GetLastImageInList(destination_image);",
          "295:         channels=0;",
          "296:         destination_channel=RedPixelChannel;",
          "297:         channel_mask=UndefinedChannel;",
          "",
          "[Removed Lines]",
          "294:         GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "294:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "310:       }",
          "311:     source_channel=(PixelChannel) i;",
          "312:     channel_op=ExtractChannelOp;",
          "314:     if (*token == '<')",
          "315:       {",
          "316:         channel_op=ExchangeChannelOp;",
          "318:       }",
          "319:     if (*token == '=')",
          "320:       {",
          "321:         if (channel_op != ExchangeChannelOp)",
          "322:           channel_op=AssignChannelOp;",
          "324:       }",
          "325:     if (*token == '>')",
          "326:       {",
          "327:         if (channel_op != ExchangeChannelOp)",
          "328:           channel_op=TransferChannelOp;",
          "330:       }",
          "331:     switch (channel_op)",
          "332:     {",
          "333:       case AssignChannelOp:",
          "334:       {",
          "335:         pixel=StringToDoubleInterval(token,(double) QuantumRange+1.0);",
          "337:         break;",
          "338:       }",
          "339:       case ExchangeChannelOp:",
          "",
          "[Removed Lines]",
          "313:     GetMagickToken(p,&p,token);",
          "317:         GetMagickToken(p,&p,token);",
          "323:         GetMagickToken(p,&p,token);",
          "329:         GetMagickToken(p,&p,token);",
          "336:         GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "313:     GetMagickToken(p,&p,MagickPathExtent,token);",
          "317:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "323:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "329:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "336:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "383:         if (((channels >= 1)  || (destination_channel >= 1)) &&",
          "384:             (IsGrayColorspace(destination_image->colorspace) != MagickFalse))",
          "385:           (void) SetImageColorspace(destination_image,sRGBColorspace,exception);",
          "387:         break;",
          "388:       }",
          "389:       default:",
          "",
          "[Removed Lines]",
          "386:         GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "386:         GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------"
        ],
        "MagickCore/coder.c||MagickCore/coder.c": [
          "File: MagickCore/coder.c -> MagickCore/coder.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "834:     status;",
          "839:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "840:     \"Loading coder configuration file \\\"%s\\\" ...\",filename);",
          "",
          "[Removed Lines]",
          "837:     Load the coder map file.",
          "",
          "[Added Lines]",
          "837:     Load the coder map file.",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "844:   coder_info=(CoderInfo *) NULL;",
          "845:   token=AcquireString(xml);",
          "846:   for (q=(char *) xml; *q != '\\0'; )",
          "849:       Interpret XML.",
          "",
          "[Removed Lines]",
          "847:   {",
          "",
          "[Added Lines]",
          "847:   {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "853:       break;",
          "854:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "855:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "858:           Doctype element.",
          "",
          "[Removed Lines]",
          "856:       {",
          "",
          "[Added Lines]",
          "856:       {",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "864:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "865:       {",
          "869:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "871:         continue;",
          "872:       }",
          "873:     if (LocaleCompare(keyword,\"<include\") == 0)",
          "",
          "[Removed Lines]",
          "867:           Comment element.",
          "870:           GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "867:           Comment element.",
          "870:           GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "926:         coder_info->exempt=MagickFalse;",
          "927:         coder_info->signature=MagickCoreSignature;",
          "928:         continue;",
          "930:     if (coder_info == (CoderInfo *) NULL)",
          "931:       continue;",
          "934:         status=AddValueToSplayTree(coder_cache,ConstantString(",
          "935:           coder_info->magick),coder_info);",
          "936:         if (status == MagickFalse)",
          "",
          "[Removed Lines]",
          "929:       }",
          "932:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "933:       {",
          "",
          "[Added Lines]",
          "929:       }",
          "932:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "933:       {",
          "",
          "---------------"
        ],
        "MagickCore/color.c||MagickCore/color.c": [
          "File: MagickCore/color.c -> MagickCore/color.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2008:   ColorInfo",
          "2014:   MagickStatusType",
          "",
          "[Removed Lines]",
          "2011:   const char",
          "",
          "[Added Lines]",
          "2011:   const char",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "2018:     Load the color map file.",
          "2020:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "2022:   if (xml == (char *) NULL)",
          "2023:     return(MagickFalse);",
          "2024:   status=MagickTrue;",
          "",
          "[Removed Lines]",
          "2021:     \"Loading color file \\\"%s\\\" ...\",filename);",
          "",
          "[Added Lines]",
          "2021:     \"Loading color file \\\"%s\\\" ...\",filename);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "2027:   for (q=(char *) xml; *q != '\\0'; )",
          "2028:   {",
          "2032:     GetMagickToken(q,&q,token);",
          "2033:     if (*token == '\\0')",
          "",
          "[Removed Lines]",
          "2030:       Interpret XML.",
          "",
          "[Added Lines]",
          "2030:       Interpret XML.",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "2039:           Doctype element.",
          "2042:           GetMagickToken(q,&q,token);",
          "2043:         continue;",
          "2045:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "2046:       {",
          "",
          "[Removed Lines]",
          "2041:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "2044:       }",
          "",
          "[Added Lines]",
          "2041:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "2044:       }",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "2100:           Color element.",
          "2103:         if (color_info == (ColorInfo *) NULL)",
          "2104:           ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "2107:         color_info->exempt=MagickFalse;",
          "2108:         color_info->signature=MagickCoreSignature;",
          "2109:         continue;",
          "",
          "[Removed Lines]",
          "2102:         color_info=(ColorInfo *) AcquireMagickMemory(sizeof(*color_info));",
          "2105:         (void) ResetMagickMemory(color_info,0,sizeof(*color_info));",
          "2106:         color_info->path=ConstantString(filename);",
          "",
          "[Added Lines]",
          "2102:         color_info=(ColorInfo *) AcquireMagickMemory(sizeof(*color_info));",
          "2105:         (void) ResetMagickMemory(color_info,0,sizeof(*color_info));",
          "2106:         color_info->path=ConstantString(filename);",
          "",
          "---------------"
        ],
        "MagickCore/configure.c||MagickCore/configure.c": [
          "File: MagickCore/configure.c -> MagickCore/configure.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "895:   (void) AppendValueToLinkedList(paths,ConstantString(\"\"));",
          "896: #endif",
          "897:   {",
          "901:     home=GetEnvironmentValue(\"XDG_CONFIG_HOME\");",
          "",
          "[Removed Lines]",
          "898:     char",
          "",
          "[Added Lines]",
          "898:     char",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1165:   ConfigureInfo",
          "1171:   MagickStatusType",
          "",
          "[Removed Lines]",
          "1168:   const char",
          "",
          "[Added Lines]",
          "1168:   const char",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1175:     Load the configure map file.",
          "1177:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "1179:   status=MagickTrue;",
          "1180:   configure_info=(ConfigureInfo *) NULL;",
          "1181:   token=AcquireString((char *) xml);",
          "",
          "[Removed Lines]",
          "1178:     \"Loading configure file \\\"%s\\\" ...\",filename);",
          "",
          "[Added Lines]",
          "1178:     \"Loading configure file \\\"%s\\\" ...\",filename);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1185:       Interpret XML.",
          "1188:     if (*token == '\\0')",
          "1189:       break;",
          "1190:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "",
          "[Removed Lines]",
          "1187:     GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "1187:     GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1196:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "1197:           GetMagickToken(q,&q,token);",
          "1199:       }",
          "1200:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "1203:           Comment element.",
          "",
          "[Removed Lines]",
          "1198:         continue;",
          "1201:       {",
          "",
          "[Added Lines]",
          "1198:         continue;",
          "1201:       {",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1260:           ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "1261:         (void) ResetMagickMemory(configure_info,0,sizeof(*configure_info));",
          "1262:         configure_info->path=ConstantString(filename);",
          "1264:         configure_info->signature=MagickCoreSignature;",
          "1265:         continue;",
          "1268:       continue;",
          "1269:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "1270:       {",
          "",
          "[Removed Lines]",
          "1263:         configure_info->exempt=MagickFalse;",
          "1266:       }",
          "1267:     if (configure_info == (ConfigureInfo *) NULL)",
          "",
          "[Added Lines]",
          "1263:         configure_info->exempt=MagickFalse;",
          "1266:       }",
          "1267:     if (configure_info == (ConfigureInfo *) NULL)",
          "",
          "---------------"
        ],
        "MagickCore/delegate.c||MagickCore/delegate.c": [
          "File: MagickCore/delegate.c -> MagickCore/delegate.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1521:   DelegateInfo",
          "1524:   MagickStatusType",
          "1525:     status;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1530:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "1531:     \"Loading delegate configuration file \\\"%s\\\" ...\",filename);",
          "1533:     return(MagickFalse);",
          "1534:   status=MagickTrue;",
          "1535:   delegate_info=(DelegateInfo *) NULL;",
          "",
          "[Removed Lines]",
          "1532:   if (xml == (const char *) NULL)",
          "",
          "[Added Lines]",
          "1532:   if (xml == (const char *) NULL)",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1538:   {",
          "1540:       Interpret XML.",
          "1542:     GetMagickToken(q,&q,token);",
          "1543:     if (*token == '\\0')",
          "1544:       break;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1549:           Doctype element.",
          "1551:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "1553:         continue;",
          "1554:       }",
          "1556:       {",
          "1558:           Comment element.",
          "",
          "[Removed Lines]",
          "1552:           GetMagickToken(q,&q,token);",
          "1555:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "",
          "[Added Lines]",
          "1552:           GetMagickToken(q,&q,MagickPathExtent,token);",
          "1555:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1612:         delegate_info=(DelegateInfo *) AcquireMagickMemory(",
          "1613:           sizeof(*delegate_info));",
          "1615:           ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "1616:         (void) ResetMagickMemory(delegate_info,0,sizeof(*delegate_info));",
          "1619:         delegate_info->signature=MagickCoreSignature;",
          "1620:         continue;",
          "1621:       }",
          "",
          "[Removed Lines]",
          "1614:         if (delegate_info == (DelegateInfo *) NULL)",
          "1617:         delegate_info->path=ConstantString(filename);",
          "1618:         delegate_info->thread_support=MagickTrue;",
          "",
          "[Added Lines]",
          "1614:         if (delegate_info == (DelegateInfo *) NULL)",
          "1617:         delegate_info->path=ConstantString(filename);",
          "1618:         delegate_info->thread_support=MagickTrue;",
          "",
          "---------------"
        ],
        "MagickCore/draw.c||MagickCore/draw.c": [
          "File: MagickCore/draw.c -> MagickCore/draw.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1792:       ThrowBinaryException(ResourceLimitError,\"MemoryAllocationFailed\",",
          "1793:         image->filename);",
          "1794:     }",
          "1796:   graphic_context[n]->viewbox=image->page;",
          "1797:   if ((image->page.width == 0) || (image->page.height == 0))",
          "1798:     {",
          "",
          "[Removed Lines]",
          "1795:   graphic_context[n]=CloneDrawInfo((ImageInfo *) NULL,draw_info);",
          "",
          "[Added Lines]",
          "1795:   graphic_context[n]=CloneDrawInfo((ImageInfo *) NULL,draw_info);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1817:           Comment.",
          "1819:         while ((*q != '\\n') && (*q != '\\0'))",
          "1821:         continue;",
          "1823:     p=q-strlen(keyword)-1;",
          "1825:     current=graphic_context[n]->affine;",
          "1827:     switch (*keyword)",
          "1829:       case ';':",
          "1831:       case 'a':",
          "1833:       {",
          "1835:           {",
          "1837:             affine.sx=StringToDouble(token,(char **) NULL);",
          "1839:             if (*token == ',')",
          "1841:             affine.rx=StringToDouble(token,(char **) NULL);",
          "1842:             GetMagickToken(q,&q,token);",
          "1843:             if (*token == ',')",
          "",
          "[Removed Lines]",
          "1820:           q++;",
          "1822:       }",
          "1824:     primitive_type=UndefinedPrimitive;",
          "1826:     GetAffineMatrix(&affine);",
          "1828:     {",
          "1830:         break;",
          "1832:       case 'A':",
          "1834:         if (LocaleCompare(\"affine\",keyword) == 0)",
          "1836:             GetMagickToken(q,&q,token);",
          "1838:             GetMagickToken(q,&q,token);",
          "1840:               GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "1820:           q++;",
          "1822:       }",
          "1824:     primitive_type=UndefinedPrimitive;",
          "1826:     GetAffineMatrix(&affine);",
          "1828:     {",
          "1830:         break;",
          "1832:       case 'A':",
          "1834:         if (LocaleCompare(\"affine\",keyword) == 0)",
          "1836:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "1838:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "1840:               GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1864:           }",
          "1865:         if (LocaleCompare(\"arc\",keyword) == 0)",
          "1866:           {",
          "1868:             break;",
          "1869:           }",
          "1870:         status=MagickFalse;",
          "",
          "[Removed Lines]",
          "1867:             primitive_type=ArcPrimitive;",
          "",
          "[Added Lines]",
          "1867:             primitive_type=ArcPrimitive;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1880:           }",
          "1881:         if (LocaleCompare(\"border-color\",keyword) == 0)",
          "1882:           {",
          "1884:             (void) QueryColorCompliance(token,AllCompliance,",
          "1885:               &graphic_context[n]->border_color,exception);",
          "1886:             break;",
          "",
          "[Removed Lines]",
          "1883:             GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "1883:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1891:       case 'c':",
          "1892:       case 'C':",
          "1893:       {",
          "1895:           {",
          "1897:               Create clip mask.",
          "",
          "[Removed Lines]",
          "1894:         if (LocaleCompare(\"clip-path\",keyword) == 0)",
          "",
          "[Added Lines]",
          "1894:         if (LocaleCompare(\"clip-path\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1905:         if (LocaleCompare(\"clip-rule\",keyword) == 0)",
          "1906:           {",
          "1907:             ssize_t",
          "1910:             GetMagickToken(q,&q,token);",
          "1911:             fill_rule=ParseCommandOption(MagickFillRuleOptions,MagickFalse,",
          "",
          "[Removed Lines]",
          "1908:               fill_rule;",
          "",
          "[Added Lines]",
          "1908:               fill_rule;",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1946:             primitive_type=CirclePrimitive;",
          "1947:             break;",
          "1948:           }",
          "1950:           {",
          "1951:             primitive_type=ColorPrimitive;",
          "1952:             break;",
          "",
          "[Removed Lines]",
          "1949:         if (LocaleCompare(\"color\",keyword) == 0)",
          "",
          "[Added Lines]",
          "1949:         if (LocaleCompare(\"color\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "1957:       case 'd':",
          "1958:       case 'D':",
          "1959:       {",
          "1961:           {",
          "1962:             ssize_t",
          "1963:               decorate;",
          "",
          "[Removed Lines]",
          "1960:         if (LocaleCompare(\"decorate\",keyword) == 0)",
          "",
          "[Added Lines]",
          "1960:         if (LocaleCompare(\"decorate\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "1966:             decorate=ParseCommandOption(MagickDecorateOptions,MagickFalse,",
          "1967:               token);",
          "1968:             if (decorate == -1)",
          "1970:             else",
          "1971:               graphic_context[n]->decorate=(DecorationType) decorate;",
          "1972:             break;",
          "",
          "[Removed Lines]",
          "1969:               status=MagickFalse;",
          "",
          "[Added Lines]",
          "1969:               status=MagickFalse;",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1988:             if (direction == -1)",
          "1989:               status=MagickFalse;",
          "1990:             else",
          "1992:             break;",
          "1993:           }",
          "1994:         status=MagickFalse;",
          "",
          "[Removed Lines]",
          "1991:               graphic_context[n]->direction=(DirectionType) direction;",
          "",
          "[Added Lines]",
          "1991:               graphic_context[n]->direction=(DirectionType) direction;",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "2000:         if (LocaleCompare(\"ellipse\",keyword) == 0)",
          "2001:           {",
          "2002:             primitive_type=EllipsePrimitive;",
          "2004:           }",
          "2005:         if (LocaleCompare(\"encoding\",keyword) == 0)",
          "2006:           {",
          "",
          "[Removed Lines]",
          "2003:             break;",
          "",
          "[Added Lines]",
          "2003:             break;",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "2027:                   &graphic_context[n]->fill,exception);",
          "2028:                 if (status == MagickFalse)",
          "2029:                   {",
          "2033:                     pattern_info=AcquireImageInfo();",
          "",
          "[Removed Lines]",
          "2030:                     ImageInfo",
          "",
          "[Added Lines]",
          "2030:                     ImageInfo",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "2038:                     CatchException(exception);",
          "2039:                     pattern_info=DestroyImageInfo(pattern_info);",
          "2040:                   }",
          "2042:             break;",
          "2043:           }",
          "2044:         if (LocaleCompare(\"fill-opacity\",keyword) == 0)",
          "",
          "[Removed Lines]",
          "2041:               }",
          "",
          "[Added Lines]",
          "2041:               }",
          "",
          "---------------",
          "--- Hunk 14 ---",
          "[Context before]",
          "2049:               factor*StringToDouble(token,(char **) NULL);",
          "2050:             break;",
          "2051:           }",
          "2053:           {",
          "2054:             ssize_t",
          "2055:               fill_rule;",
          "",
          "[Removed Lines]",
          "2052:         if (LocaleCompare(\"fill-rule\",keyword) == 0)",
          "",
          "[Added Lines]",
          "2052:         if (LocaleCompare(\"fill-rule\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 15 ---",
          "[Context before]",
          "2058:             fill_rule=ParseCommandOption(MagickFillRuleOptions,MagickFalse,",
          "2059:               token);",
          "2060:             if (fill_rule == -1)",
          "2062:             else",
          "2063:               graphic_context[n]->fill_rule=(FillRule) fill_rule;",
          "2064:             break;",
          "2065:           }",
          "2066:         if (LocaleCompare(\"font\",keyword) == 0)",
          "2068:             GetMagickToken(q,&q,token);",
          "2069:             (void) CloneString(&graphic_context[n]->font,token);",
          "2070:             if (LocaleCompare(\"none\",token) == 0)",
          "",
          "[Removed Lines]",
          "2061:               status=MagickFalse;",
          "2067:           {",
          "",
          "[Added Lines]",
          "2061:               status=MagickFalse;",
          "2067:           {",
          "",
          "---------------",
          "--- Hunk 16 ---",
          "[Context before]",
          "2073:             break;",
          "2074:           }",
          "2075:         if (LocaleCompare(\"font-family\",keyword) == 0)",
          "2077:             GetMagickToken(q,&q,token);",
          "2078:             (void) CloneString(&graphic_context[n]->family,token);",
          "2079:             break;",
          "",
          "[Removed Lines]",
          "2076:           {",
          "",
          "[Added Lines]",
          "2076:           {",
          "",
          "---------------",
          "--- Hunk 17 ---",
          "[Context before]",
          "2086:           }",
          "2087:         if (LocaleCompare(\"font-stretch\",keyword) == 0)",
          "2088:           {",
          "2090:               stretch;",
          "2092:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2089:             ssize_t",
          "",
          "[Added Lines]",
          "2089:             ssize_t",
          "",
          "---------------",
          "--- Hunk 18 ---",
          "[Context before]",
          "2099:           }",
          "2100:         if (LocaleCompare(\"font-style\",keyword) == 0)",
          "2101:           {",
          "2103:               style;",
          "2105:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2102:             ssize_t",
          "",
          "[Added Lines]",
          "2102:             ssize_t",
          "",
          "---------------",
          "--- Hunk 19 ---",
          "[Context before]",
          "2115:             ssize_t",
          "2116:               weight;",
          "2119:             weight=ParseCommandOption(MagickWeightOptions,MagickFalse,",
          "2120:               token);",
          "2121:             if (weight == -1)",
          "",
          "[Removed Lines]",
          "2118:             GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "2118:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 20 ---",
          "[Context before]",
          "2123:             graphic_context[n]->weight=(size_t) weight;",
          "2124:             break;",
          "2125:           }",
          "2127:         break;",
          "2128:       }",
          "2129:       case 'g':",
          "",
          "[Removed Lines]",
          "2126:         status=MagickFalse;",
          "",
          "[Added Lines]",
          "2126:         status=MagickFalse;",
          "",
          "---------------",
          "--- Hunk 21 ---",
          "[Context before]",
          "2143:             gravity=ParseCommandOption(MagickGravityOptions,MagickFalse,token);",
          "2144:             if (gravity == -1)",
          "2145:               status=MagickFalse;",
          "2147:               graphic_context[n]->gravity=(GravityType) gravity;",
          "2148:             break;",
          "2149:           }",
          "",
          "[Removed Lines]",
          "2146:             else",
          "",
          "[Added Lines]",
          "2146:             else",
          "",
          "---------------",
          "--- Hunk 22 ---",
          "[Context before]",
          "2153:       case 'i':",
          "2154:       case 'I':",
          "2155:       {",
          "2157:           {",
          "2158:             ssize_t",
          "2159:               compose;",
          "2161:             primitive_type=ImagePrimitive;",
          "2162:             GetMagickToken(q,&q,token);",
          "2164:             if (compose == -1)",
          "2165:               status=MagickFalse;",
          "2166:             else",
          "",
          "[Removed Lines]",
          "2156:         if (LocaleCompare(\"image\",keyword) == 0)",
          "2163:             compose=ParseCommandOption(MagickComposeOptions,MagickFalse,token);",
          "",
          "[Added Lines]",
          "2156:         if (LocaleCompare(\"image\",keyword) == 0)",
          "2163:             compose=ParseCommandOption(MagickComposeOptions,MagickFalse,token);",
          "",
          "---------------",
          "--- Hunk 23 ---",
          "[Context before]",
          "2173:             graphic_context[n]->interline_spacing=StringToDouble(token,",
          "2174:               (char **) NULL);",
          "2175:             break;",
          "2177:         if (LocaleCompare(\"interword-spacing\",keyword) == 0)",
          "2178:           {",
          "2179:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2176:           }",
          "",
          "[Added Lines]",
          "2176:           }",
          "",
          "---------------",
          "--- Hunk 24 ---",
          "[Context before]",
          "2194:             break;",
          "2195:           }",
          "2196:         status=MagickFalse;",
          "2198:       }",
          "2199:       case 'l':",
          "2200:       case 'L':",
          "2201:       {",
          "2203:           primitive_type=LinePrimitive;",
          "2204:         else",
          "2205:           status=MagickFalse;",
          "",
          "[Removed Lines]",
          "2197:         break;",
          "2202:         if (LocaleCompare(\"line\",keyword) == 0)",
          "",
          "[Added Lines]",
          "2197:         break;",
          "2202:         if (LocaleCompare(\"line\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 25 ---",
          "[Context before]",
          "2236:             break;",
          "2237:           }",
          "2238:         if (LocaleCompare(\"point\",keyword) == 0)",
          "2240:             primitive_type=PointPrimitive;",
          "2241:             break;",
          "2242:           }",
          "",
          "[Removed Lines]",
          "2239:           {",
          "",
          "[Added Lines]",
          "2239:           {",
          "",
          "---------------",
          "--- Hunk 26 ---",
          "[Context before]",
          "2268:                     n=0;",
          "2269:                     break;",
          "2270:                   }",
          "2272:                   if (LocaleCompare(graphic_context[n]->clip_mask,",
          "2273:                       graphic_context[n-1]->clip_mask) != 0)",
          "2274:                     (void) SetImageMask(image,ReadPixelMask,(Image *) NULL,",
          "2275:                       exception);",
          "2276:                 graphic_context[n]=DestroyDrawInfo(graphic_context[n]);",
          "2278:                 break;",
          "2279:               }",
          "2280:             if (LocaleCompare(\"pattern\",token) == 0)",
          "2282:             status=MagickFalse;",
          "2283:             break;",
          "2285:         if (LocaleCompare(\"push\",keyword) == 0)",
          "2286:           {",
          "2287:             GetMagickToken(q,&q,token);",
          "2288:             if (LocaleCompare(\"clip-path\",token) == 0)",
          "2289:               {",
          "2290:                 char",
          "2293:                 GetMagickToken(q,&q,token);",
          "2294:                 (void) FormatLocaleString(name,MagickPathExtent,\"%s\",token);",
          "",
          "[Removed Lines]",
          "2271:                 if (graphic_context[n]->clip_mask != (char *) NULL)",
          "2277:                 n--;",
          "2281:               break;",
          "2284:           }",
          "2291:                   name[MagickPathExtent];",
          "",
          "[Added Lines]",
          "2271:                 if (graphic_context[n]->clip_mask != (char *) NULL)",
          "2277:                 n--;",
          "2281:               break;",
          "2284:           }",
          "2291:                   name[MagickPathExtent];",
          "",
          "---------------",
          "--- Hunk 27 ---",
          "[Context before]",
          "2301:                   if (LocaleCompare(token,\"clip-path\") != 0)",
          "2302:                     continue;",
          "2303:                   break;",
          "2305:                 (void) CopyMagickString(token,p,(size_t) (q-p-4+1));",
          "2307:                 GetMagickToken(q,&q,token);",
          "2309:               }",
          "2311:               {",
          "2313:                   key[2*MagickPathExtent],",
          "2315:                   type[MagickPathExtent];",
          "2317:                 SegmentInfo",
          "2321:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "2322:                 GetMagickToken(q,&q,token);",
          "2323:                 (void) CopyMagickString(type,token,MagickPathExtent);",
          "2325:                 segment.x1=StringToDouble(token,(char **) NULL);",
          "2327:                 if (*token == ',')",
          "2328:                   GetMagickToken(q,&q,token);",
          "2329:                 segment.y1=StringToDouble(token,(char **) NULL);",
          "2331:                 if (*token == ',')",
          "2332:                   GetMagickToken(q,&q,token);",
          "2334:                 GetMagickToken(q,&q,token);",
          "2335:                 if (*token == ',')",
          "2336:                   GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2304:                 }",
          "2306:                 (void) SetImageArtifact(image,name,token);",
          "2308:                 break;",
          "2310:             if (LocaleCompare(\"gradient\",token) == 0)",
          "2312:                 char",
          "2314:                   name[MagickPathExtent],",
          "2318:                   segment;",
          "2320:                 GetMagickToken(q,&q,token);",
          "2324:                 GetMagickToken(q,&q,token);",
          "2326:                 GetMagickToken(q,&q,token);",
          "2330:                 GetMagickToken(q,&q,token);",
          "2333:                 segment.x2=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "2304:                 }",
          "2306:                 (void) SetImageArtifact(image,name,token);",
          "2308:                 break;",
          "2310:             if (LocaleCompare(\"gradient\",token) == 0)",
          "2312:                 char",
          "2314:                   name[MagickPathExtent],",
          "2318:                   segment;",
          "2320:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "2324:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "2326:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "2330:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "2333:                 segment.x2=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 28 ---",
          "[Context before]",
          "2359:                   graphic_context[n]->affine.sy*segment.y1+",
          "2360:                   graphic_context[n]->affine.ty;",
          "2361:                 bounds.x2=graphic_context[n]->affine.sx*segment.x2+",
          "2363:                   graphic_context[n]->affine.tx;",
          "2364:                 bounds.y2=graphic_context[n]->affine.rx*segment.x2+",
          "2365:                   graphic_context[n]->affine.sy*segment.y2+",
          "",
          "[Removed Lines]",
          "2362:                   graphic_context[n]->affine.ry*segment.y2+",
          "",
          "[Added Lines]",
          "2362:                   graphic_context[n]->affine.ry*segment.y2+",
          "",
          "---------------",
          "--- Hunk 29 ---",
          "[Context before]",
          "2371:                 (void) FormatLocaleString(key,MagickPathExtent,\"%s-geometry\",name);",
          "2372:                 (void) FormatLocaleString(geometry,MagickPathExtent,",
          "2373:                   \"%gx%g%+.15g%+.15g\",",
          "2375:                   MagickMax(fabs(bounds.y2-bounds.y1+1.0),1.0),",
          "2377:                 (void) SetImageArtifact(image,key,geometry);",
          "2378:                 GetMagickToken(q,&q,token);",
          "2380:               }",
          "2382:               {",
          "2383:                 char",
          "2385:                   name[MagickPathExtent];",
          "2387:                 RectangleInfo",
          "2388:                   pattern_bounds;",
          "2390:                 GetMagickToken(q,&q,token);",
          "2392:                 GetMagickToken(q,&q,token);",
          "2393:                 pattern_bounds.x=(ssize_t) ceil(StringToDouble(token,",
          "2394:                   (char **) NULL)-0.5);",
          "2395:                 GetMagickToken(q,&q,token);",
          "2397:                   GetMagickToken(q,&q,token);",
          "2398:                 pattern_bounds.y=(ssize_t) ceil(StringToDouble(token,",
          "2400:                 GetMagickToken(q,&q,token);",
          "2401:                 if (*token == ',')",
          "2402:                   GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2374:                   MagickMax(fabs(bounds.x2-bounds.x1+1.0),1.0),",
          "2376:                   bounds.x1,bounds.y1);",
          "2379:                 break;",
          "2381:             if (LocaleCompare(\"pattern\",token) == 0)",
          "2384:                   key[2*MagickPathExtent],",
          "2391:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "2396:                 if (*token == ',')",
          "2399:                   (char **) NULL)-0.5);",
          "",
          "[Added Lines]",
          "2374:                   MagickMax(fabs(bounds.x2-bounds.x1+1.0),1.0),",
          "2376:                   bounds.x1,bounds.y1);",
          "2379:                 break;",
          "2381:             if (LocaleCompare(\"pattern\",token) == 0)",
          "2384:                   key[2*MagickPathExtent],",
          "2391:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "2396:                 if (*token == ',')",
          "2399:                   (char **) NULL)-0.5);",
          "",
          "---------------",
          "--- Hunk 30 ---",
          "[Context before]",
          "2411:                 {",
          "2412:                   GetMagickToken(q,&q,token);",
          "2413:                   if (LocaleCompare(token,\"pop\") != 0)",
          "2415:                   GetMagickToken(q,(const char **) NULL,token);",
          "2416:                   if (LocaleCompare(token,\"pattern\") != 0)",
          "2417:                     continue;",
          "",
          "[Removed Lines]",
          "2414:                     continue;",
          "",
          "[Added Lines]",
          "2414:                     continue;",
          "",
          "---------------",
          "--- Hunk 31 ---",
          "[Context before]",
          "2448:               }",
          "2449:             if (LocaleCompare(\"defs\",token) == 0)",
          "2450:               break;",
          "2452:             break;",
          "2453:           }",
          "2454:         status=MagickFalse;",
          "",
          "[Removed Lines]",
          "2451:             status=MagickFalse;",
          "",
          "[Added Lines]",
          "2451:             status=MagickFalse;",
          "",
          "---------------",
          "--- Hunk 32 ---",
          "[Context before]",
          "2469:             affine.sx=cos(DegreesToRadians(fmod((double) angle,360.0)));",
          "2470:             affine.rx=sin(DegreesToRadians(fmod((double) angle,360.0)));",
          "2471:             affine.ry=(-sin(DegreesToRadians(fmod((double) angle,360.0))));",
          "2473:             break;",
          "2475:         if (LocaleCompare(\"roundRectangle\",keyword) == 0)",
          "2477:             primitive_type=RoundRectanglePrimitive;",
          "2478:             break;",
          "2479:           }",
          "2480:         status=MagickFalse;",
          "2481:         break;",
          "2483:       case 's':",
          "2484:       case 'S':",
          "2485:       {",
          "2486:         if (LocaleCompare(\"scale\",keyword) == 0)",
          "2487:           {",
          "2488:             GetMagickToken(q,&q,token);",
          "2490:             GetMagickToken(q,&q,token);",
          "2491:             if (*token == ',')",
          "2492:               GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2472:             affine.sy=cos(DegreesToRadians(fmod((double) angle,360.0)));",
          "2474:           }",
          "2476:           {",
          "2482:       }",
          "2489:             affine.sx=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "2472:             affine.sy=cos(DegreesToRadians(fmod((double) angle,360.0)));",
          "2474:           }",
          "2476:           {",
          "2482:       }",
          "2489:             affine.sx=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 33 ---",
          "[Context before]",
          "2509:           }",
          "2510:         if (LocaleCompare(\"stop-color\",keyword) == 0)",
          "2511:           {",
          "2513:               stop_color;",
          "2515:             number_stops++;",
          "2517:               stops=(StopInfo *) AcquireQuantumMemory(2,sizeof(*stops));",
          "2518:             else if (number_stops > 2)",
          "2519:               stops=(StopInfo *) ResizeQuantumMemory(stops,number_stops,",
          "2520:                 sizeof(*stops));",
          "2521:             if (stops == (StopInfo *) NULL)",
          "2523:                 (void) ThrowMagickException(exception,GetMagickModule(),",
          "2524:                   ResourceLimitError,\"MemoryAllocationFailed\",\"`%s'\",",
          "2525:                   image->filename);",
          "",
          "[Removed Lines]",
          "2512:             PixelInfo",
          "2516:             if (number_stops == 1)",
          "2522:               {",
          "",
          "[Added Lines]",
          "2512:             PixelInfo",
          "2516:             if (number_stops == 1)",
          "2522:               {",
          "",
          "---------------",
          "--- Hunk 34 ---",
          "[Context before]",
          "2546:                   &graphic_context[n]->stroke,exception);",
          "2547:                 if (status == MagickFalse)",
          "2548:                   {",
          "2552:                     pattern_info=AcquireImageInfo();",
          "",
          "[Removed Lines]",
          "2549:                     ImageInfo",
          "",
          "[Added Lines]",
          "2549:                     ImageInfo",
          "",
          "---------------",
          "--- Hunk 35 ---",
          "[Context before]",
          "2562:           }",
          "2563:         if (LocaleCompare(\"stroke-antialias\",keyword) == 0)",
          "2564:           {",
          "2566:             graphic_context[n]->stroke_antialias=",
          "2568:             break;",
          "2569:           }",
          "2571:           {",
          "2573:               graphic_context[n]->dash_pattern=(double *)",
          "2574:                 RelinquishMagickMemory(graphic_context[n]->dash_pattern);",
          "2575:             if (IsPoint(q) != MagickFalse)",
          "",
          "[Removed Lines]",
          "2565:             GetMagickToken(q,&q,token);",
          "2567:               StringToLong(token) != 0 ? MagickTrue : MagickFalse;",
          "2570:         if (LocaleCompare(\"stroke-dasharray\",keyword) == 0)",
          "2572:             if (graphic_context[n]->dash_pattern != (double *) NULL)",
          "",
          "[Added Lines]",
          "2565:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "2567:               StringToLong(token) != 0 ? MagickTrue : MagickFalse;",
          "2570:         if (LocaleCompare(\"stroke-dasharray\",keyword) == 0)",
          "2572:             if (graphic_context[n]->dash_pattern != (double *) NULL)",
          "",
          "---------------",
          "--- Hunk 36 ---",
          "[Context before]",
          "2583:                   GetMagickToken(r,&r,token);",
          "2584:                 for (x=0; IsPoint(token) != MagickFalse; x++)",
          "2585:                 {",
          "2587:                   if (*token == ',')",
          "2589:                 }",
          "2590:                 graphic_context[n]->dash_pattern=(double *)",
          "2591:                   AcquireQuantumMemory((size_t) (2UL*x+1UL),",
          "",
          "[Removed Lines]",
          "2586:                   GetMagickToken(r,&r,token);",
          "2588:                     GetMagickToken(r,&r,token);",
          "",
          "[Added Lines]",
          "2586:                   GetMagickToken(r,&r,MagickPathExtent,token);",
          "2588:                     GetMagickToken(r,&r,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 37 ---",
          "[Context before]",
          "2596:                       ResourceLimitError,\"MemoryAllocationFailed\",\"`%s'\",",
          "2597:                       image->filename);",
          "2598:                     break;",
          "2600:                 for (j=0; j < x; j++)",
          "2601:                 {",
          "2602:                   GetMagickToken(q,&q,token);",
          "2603:                   if (*token == ',')",
          "2605:                   graphic_context[n]->dash_pattern[j]=StringToDouble(token,",
          "2606:                     (char **) NULL);",
          "2607:                 }",
          "",
          "[Removed Lines]",
          "2599:                   }",
          "2604:                     GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "2599:                   }",
          "2604:                     GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 38 ---",
          "[Context before]",
          "2611:                       graphic_context[n]->dash_pattern[j-x];",
          "2612:                 graphic_context[n]->dash_pattern[j]=0.0;",
          "2613:                 break;",
          "2615:             GetMagickToken(q,&q,token);",
          "2616:             break;",
          "2617:           }",
          "",
          "[Removed Lines]",
          "2614:               }",
          "",
          "[Added Lines]",
          "2614:               }",
          "",
          "---------------",
          "--- Hunk 39 ---",
          "[Context before]",
          "2624:           }",
          "2625:         if (LocaleCompare(\"stroke-linecap\",keyword) == 0)",
          "2626:           {",
          "2628:               linecap;",
          "2630:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2627:             ssize_t",
          "",
          "[Added Lines]",
          "2627:             ssize_t",
          "",
          "---------------",
          "--- Hunk 40 ---",
          "[Context before]",
          "2635:               graphic_context[n]->linecap=(LineCap) linecap;",
          "2636:             break;",
          "2637:           }",
          "2639:           {",
          "2640:             ssize_t",
          "2641:               linejoin;",
          "2643:             GetMagickToken(q,&q,token);",
          "2645:               token);",
          "2646:             if (linejoin == -1)",
          "2647:               status=MagickFalse;",
          "",
          "[Removed Lines]",
          "2638:         if (LocaleCompare(\"stroke-linejoin\",keyword) == 0)",
          "2644:             linejoin=ParseCommandOption(MagickLineJoinOptions,MagickFalse,",
          "",
          "[Added Lines]",
          "2638:         if (LocaleCompare(\"stroke-linejoin\",keyword) == 0)",
          "2644:             linejoin=ParseCommandOption(MagickLineJoinOptions,MagickFalse,",
          "",
          "---------------",
          "--- Hunk 41 ---",
          "[Context before]",
          "2649:               graphic_context[n]->linejoin=(LineJoin) linejoin;",
          "2650:             break;",
          "2651:           }",
          "2653:           {",
          "2654:             GetMagickToken(q,&q,token);",
          "2655:             graphic_context[n]->miterlimit=StringToUnsignedLong(token);",
          "",
          "[Removed Lines]",
          "2652:         if (LocaleCompare(\"stroke-miterlimit\",keyword) == 0)",
          "",
          "[Added Lines]",
          "2652:         if (LocaleCompare(\"stroke-miterlimit\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 42 ---",
          "[Context before]",
          "2670:               (char **) NULL);",
          "2671:             break;",
          "2672:           }",
          "2674:         break;",
          "2675:       }",
          "2676:       case 't':",
          "",
          "[Removed Lines]",
          "2673:         status=MagickFalse;",
          "",
          "[Added Lines]",
          "2673:         status=MagickFalse;",
          "",
          "---------------",
          "--- Hunk 43 ---",
          "[Context before]",
          "2683:           }",
          "2684:         if (LocaleCompare(\"text-align\",keyword) == 0)",
          "2685:           {",
          "2687:               align;",
          "2689:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "2686:             ssize_t",
          "",
          "[Added Lines]",
          "2686:             ssize_t",
          "",
          "---------------",
          "--- Hunk 44 ---",
          "[Context before]",
          "2693:             else",
          "2694:               graphic_context[n]->align=(AlignType) align;",
          "2695:             break;",
          "2697:         if (LocaleCompare(\"text-anchor\",keyword) == 0)",
          "2698:           {",
          "2699:             ssize_t",
          "2700:               align;",
          "2702:             GetMagickToken(q,&q,token);",
          "2704:             if (align == -1)",
          "2705:               status=MagickFalse;",
          "2706:             else",
          "2707:               graphic_context[n]->align=(AlignType) align;",
          "2708:             break;",
          "2709:           }",
          "2711:           {",
          "2713:             graphic_context[n]->text_antialias=",
          "2715:             break;",
          "2716:           }",
          "2717:         if (LocaleCompare(\"text-undercolor\",keyword) == 0)",
          "",
          "[Removed Lines]",
          "2696:           }",
          "2703:             align=ParseCommandOption(MagickAlignOptions,MagickFalse,token);",
          "2710:         if (LocaleCompare(\"text-antialias\",keyword) == 0)",
          "2712:             GetMagickToken(q,&q,token);",
          "2714:               StringToLong(token) != 0 ? MagickTrue : MagickFalse;",
          "",
          "[Added Lines]",
          "2696:           }",
          "2703:             align=ParseCommandOption(MagickAlignOptions,MagickFalse,token);",
          "2710:         if (LocaleCompare(\"text-antialias\",keyword) == 0)",
          "2712:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "2714:               StringToLong(token) != 0 ? MagickTrue : MagickFalse;",
          "",
          "---------------",
          "--- Hunk 45 ---",
          "[Context before]",
          "2723:           }",
          "2724:         if (LocaleCompare(\"translate\",keyword) == 0)",
          "2725:           {",
          "2727:             affine.tx=StringToDouble(token,(char **) NULL);",
          "2728:             GetMagickToken(q,&q,token);",
          "2730:               GetMagickToken(q,&q,token);",
          "2732:             break;",
          "2733:           }",
          "2735:         break;",
          "2737:       case 'v':",
          "2738:       case 'V':",
          "2740:         if (LocaleCompare(\"viewbox\",keyword) == 0)",
          "2742:             GetMagickToken(q,&q,token);",
          "2743:             graphic_context[n]->viewbox.x=(ssize_t) ceil(StringToDouble(token,",
          "2744:               (char **) NULL)-0.5);",
          "",
          "[Removed Lines]",
          "2726:             GetMagickToken(q,&q,token);",
          "2729:             if (*token == ',')",
          "2731:             affine.ty=StringToDouble(token,(char **) NULL);",
          "2734:         status=MagickFalse;",
          "2736:       }",
          "2739:       {",
          "2741:           {",
          "",
          "[Added Lines]",
          "2726:             GetMagickToken(q,&q,MagickPathExtent,token);",
          "2729:             if (*token == ',')",
          "2731:             affine.ty=StringToDouble(token,(char **) NULL);",
          "2734:         status=MagickFalse;",
          "2736:       }",
          "2739:       {",
          "2741:           {",
          "",
          "---------------",
          "--- Hunk 46 ---",
          "[Context before]",
          "2803:         if (image->debug != MagickFalse)",
          "2804:           (void) LogMagickEvent(DrawEvent,GetMagickModule(),\"  %.*s\",",
          "2805:             (int) (q-p),p);",
          "2807:       }",
          "2809:       Parse the primitive attributes.",
          "2811:     i=0;",
          "2813:     primitive_info[0].point.x=0.0;",
          "2815:     for (x=0; *q != '\\0'; x++)",
          "2816:     {",
          "",
          "[Removed Lines]",
          "2806:         continue;",
          "2812:     j=0;",
          "2814:     primitive_info[0].point.y=0.0;",
          "",
          "[Added Lines]",
          "2806:         continue;",
          "2812:     j=0;",
          "2814:     primitive_info[0].point.y=0.0;",
          "",
          "---------------",
          "--- Hunk 47 ---",
          "[Context before]",
          "2891:         radius=hypot((double) alpha,(double) beta);",
          "2892:         length*=5;",
          "2893:         length+=2*((size_t) ceil((double) MagickPI*radius))+6*BezierQuantum+360;",
          "2895:       }",
          "2896:       case BezierPrimitive:",
          "2897:       {",
          "",
          "[Removed Lines]",
          "2894:         break;",
          "",
          "[Added Lines]",
          "2894:         break;",
          "",
          "---------------",
          "--- Hunk 48 ---",
          "[Context before]",
          "3068:         i=(ssize_t) (j+primitive_info[j].coordinates);",
          "3069:         break;",
          "3070:       }",
          "3072:       {",
          "3073:         i=(ssize_t) (j+TracePath(primitive_info+j,token));",
          "3074:         break;",
          "",
          "[Removed Lines]",
          "3071:       case PathPrimitive:",
          "",
          "[Added Lines]",
          "3071:       case PathPrimitive:",
          "",
          "---------------",
          "--- Hunk 49 ---",
          "[Context before]",
          "3084:             status=MagickFalse;",
          "3085:             break;",
          "3086:           }",
          "3088:         method=ParseCommandOption(MagickMethodOptions,MagickFalse,token);",
          "3089:         if (method == -1)",
          "3090:           status=MagickFalse;",
          "",
          "[Removed Lines]",
          "3087:         GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "3087:         GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 50 ---",
          "[Context before]",
          "3095:       case TextPrimitive:",
          "3096:       {",
          "3097:         if (primitive_info[j].coordinates != 1)",
          "3099:             status=MagickFalse;",
          "3100:             break;",
          "3101:           }",
          "",
          "[Removed Lines]",
          "3098:           {",
          "",
          "[Added Lines]",
          "3098:           {",
          "",
          "---------------",
          "--- Hunk 51 ---",
          "[Context before]",
          "5387:   for (p=path; *p != '\\0'; )",
          "5388:   {",
          "5389:     while (isspace((int) ((unsigned char) *p)) != 0)",
          "5391:     if (*p == '\\0')",
          "5393:     last_attribute=attribute;",
          "5395:     switch (attribute)",
          "5397:       case 'a':",
          "5399:       {",
          "5401:           large_arc,",
          "5405:           angle;",
          "5407:         PointInfo",
          "5411:           Compute arc points.",
          "5413:         do",
          "5415:           GetMagickToken(p,&p,token);",
          "5417:             GetMagickToken(p,&p,token);",
          "5418:           arc.x=StringToDouble(token,(char **) NULL);",
          "5419:           GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "5390:       p++;",
          "5392:       break;",
          "5394:     attribute=(int) (*p++);",
          "5396:     {",
          "5398:       case 'A':",
          "5400:         MagickBooleanType",
          "5402:           sweep;",
          "5404:         double",
          "5408:           arc;",
          "5414:         {",
          "5416:           if (*token == ',')",
          "",
          "[Added Lines]",
          "5390:       p++;",
          "5392:       break;",
          "5394:     attribute=(int) (*p++);",
          "5396:     {",
          "5398:       case 'A':",
          "5400:         MagickBooleanType",
          "5402:           sweep;",
          "5404:         double",
          "5408:           arc;",
          "5414:         {",
          "5416:           if (*token == ',')",
          "",
          "---------------",
          "--- Hunk 52 ---",
          "[Context before]",
          "5438:           x=StringToDouble(token,(char **) NULL);",
          "5439:           GetMagickToken(p,&p,token);",
          "5440:           if (*token == ',')",
          "5442:           y=StringToDouble(token,(char **) NULL);",
          "5444:           end.y=(double) (attribute == (int) 'A' ? y : point.y+y);",
          "5446:           q+=q->coordinates;",
          "5448:           while (isspace((int) ((unsigned char) *p)) != 0)",
          "5449:             p++;",
          "5450:           if (*p == ',')",
          "",
          "[Removed Lines]",
          "5441:             GetMagickToken(p,&p,token);",
          "5443:           end.x=(double) (attribute == (int) 'A' ? x : point.x+x);",
          "5445:           TraceArcPath(q,point,end,arc,angle,large_arc,sweep);",
          "5447:           point=end;",
          "",
          "[Added Lines]",
          "5441:             GetMagickToken(p,&p,MagickPathExtent,token);",
          "5443:           end.x=(double) (attribute == (int) 'A' ? x : point.x+x);",
          "5445:           TraceArcPath(q,point,end,arc,angle,large_arc,sweep);",
          "5447:           point=end;",
          "",
          "---------------",
          "--- Hunk 53 ---",
          "[Context before]",
          "5463:           points[0]=point;",
          "5464:           for (i=1; i < 4; i++)",
          "5465:           {",
          "5467:             if (*token == ',')",
          "5469:             x=StringToDouble(token,(char **) NULL);",
          "5470:             GetMagickToken(p,&p,token);",
          "5471:             if (*token == ',')",
          "",
          "[Removed Lines]",
          "5466:             GetMagickToken(p,&p,token);",
          "5468:               GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "5466:             GetMagickToken(p,&p,MagickPathExtent,token);",
          "5468:               GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 54 ---",
          "[Context before]",
          "5478:           for (i=0; i < 4; i++)",
          "5479:             (q+i)->point=points[i];",
          "5480:           TraceBezier(q,4);",
          "5482:           point=end;",
          "5484:         break;",
          "5486:       case 'H':",
          "5488:       {",
          "5489:         do",
          "5490:         {",
          "",
          "[Removed Lines]",
          "5481:           q+=q->coordinates;",
          "5483:         } while (IsPoint(p) != MagickFalse);",
          "5485:       }",
          "5487:       case 'h':",
          "",
          "[Added Lines]",
          "5481:           q+=q->coordinates;",
          "5483:         } while (IsPoint(p) != MagickFalse);",
          "5485:       }",
          "5487:       case 'h':",
          "",
          "---------------",
          "--- Hunk 55 ---",
          "[Context before]",
          "5505:         {",
          "5506:           GetMagickToken(p,&p,token);",
          "5507:           if (*token == ',')",
          "5509:           x=StringToDouble(token,(char **) NULL);",
          "5511:           if (*token == ',')",
          "5513:           y=StringToDouble(token,(char **) NULL);",
          "5515:           point.y=(double) (attribute == (int) 'L' ? y : point.y+y);",
          "5516:           TracePoint(q,point);",
          "5517:           q+=q->coordinates;",
          "",
          "[Removed Lines]",
          "5508:             GetMagickToken(p,&p,token);",
          "5510:           GetMagickToken(p,&p,token);",
          "5512:             GetMagickToken(p,&p,token);",
          "5514:           point.x=(double) (attribute == (int) 'L' ? x : point.x+x);",
          "",
          "[Added Lines]",
          "5508:             GetMagickToken(p,&p,MagickPathExtent,token);",
          "5510:           GetMagickToken(p,&p,MagickPathExtent,token);",
          "5512:             GetMagickToken(p,&p,MagickPathExtent,token);",
          "5514:           point.x=(double) (attribute == (int) 'L' ? x : point.x+x);",
          "",
          "---------------",
          "--- Hunk 56 ---",
          "[Context before]",
          "5539:             GetMagickToken(p,&p,token);",
          "5540:           y=StringToDouble(token,(char **) NULL);",
          "5541:           point.x=(double) (attribute == (int) 'M' ? x : point.x+x);",
          "5543:           if (i == 0)",
          "5545:           i++;",
          "5547:           q+=q->coordinates;",
          "5549:             {",
          "5550:               TracePoint(q,point);",
          "5551:               q+=q->coordinates;",
          "",
          "[Removed Lines]",
          "5542:           point.y=(double) (attribute == (int) 'M' ? y : point.y+y);",
          "5544:             start=point;",
          "5546:           TracePoint(q,point);",
          "5548:           if ((i != 0) && (attribute == (int) 'M'))",
          "",
          "[Added Lines]",
          "5542:           point.y=(double) (attribute == (int) 'M' ? y : point.y+y);",
          "5544:             start=point;",
          "5546:           TracePoint(q,point);",
          "5548:           if ((i != 0) && (attribute == (int) 'M'))",
          "",
          "---------------",
          "--- Hunk 57 ---",
          "[Context before]",
          "5574:             y=StringToDouble(token,(char **) NULL);",
          "5575:             if (*p == ',')",
          "5576:               p++;",
          "5578:             end.y=(double) (attribute == (int) 'Q' ? y : point.y+y);",
          "5580:           }",
          "5582:             (q+i)->point=points[i];",
          "5584:           q+=q->coordinates;",
          "5585:           point=end;",
          "5586:         } while (IsPoint(p) != MagickFalse);",
          "",
          "[Removed Lines]",
          "5577:             end.x=(double) (attribute == (int) 'Q' ? x : point.x+x);",
          "5579:             points[i]=end;",
          "5581:           for (i=0; i < 3; i++)",
          "5583:           TraceBezier(q,3);",
          "",
          "[Added Lines]",
          "5577:             end.x=(double) (attribute == (int) 'Q' ? x : point.x+x);",
          "5579:             points[i]=end;",
          "5581:           for (i=0; i < 3; i++)",
          "5583:           TraceBezier(q,3);",
          "",
          "---------------",
          "--- Hunk 58 ---",
          "[Context before]",
          "5614:             points[i]=end;",
          "5615:           }",
          "5616:           if (strchr(\"CcSs\",last_attribute) == (char *) NULL)",
          "5618:               points[0]=point;",
          "5620:             }",
          "5622:             (q+i)->point=points[i];",
          "5624:           q+=q->coordinates;",
          "5625:           point=end;",
          "5626:         } while (IsPoint(p) != MagickFalse);",
          "",
          "[Removed Lines]",
          "5617:             {",
          "5619:               points[1]=point;",
          "5621:           for (i=0; i < 4; i++)",
          "5623:           TraceBezier(q,4);",
          "",
          "[Added Lines]",
          "5617:             {",
          "5619:               points[1]=point;",
          "5621:           for (i=0; i < 4; i++)",
          "5623:           TraceBezier(q,4);",
          "",
          "---------------",
          "--- Hunk 59 ---",
          "[Context before]",
          "5644:               GetMagickToken(p,&p,token);",
          "5645:             x=StringToDouble(token,(char **) NULL);",
          "5646:             GetMagickToken(p,&p,token);",
          "5648:               GetMagickToken(p,&p,token);",
          "5650:             end.x=(double) (attribute == (int) 'T' ? x : point.x+x);",
          "5651:             end.y=(double) (attribute == (int) 'T' ? y : point.y+y);",
          "5652:             points[i]=end;",
          "",
          "[Removed Lines]",
          "5647:             if (*token == ',')",
          "5649:             y=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "5647:             if (*token == ',')",
          "5649:             y=StringToDouble(token,(char **) NULL);",
          "",
          "---------------"
        ],
        "MagickCore/enhance.c||MagickCore/enhance.c": [
          "File: MagickCore/enhance.c -> MagickCore/enhance.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "579:       slope=GetXMLTreeChild(sop,\"Slope\");",
          "581:         {",
          "583:           p=(const char *) content;",
          "584:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "585:           {",
          "",
          "[Removed Lines]",
          "580:       if (slope != (XMLTreeInfo *) NULL)",
          "582:           content=GetXMLTreeContent(slope);",
          "",
          "[Added Lines]",
          "580:       if (slope != (XMLTreeInfo *) NULL)",
          "582:           content=GetXMLTreeContent(slope);",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "609:           }",
          "610:         }",
          "611:       offset=GetXMLTreeChild(sop,\"Offset\");",
          "613:         {",
          "615:           p=(const char *) content;",
          "616:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "617:           {",
          "",
          "[Removed Lines]",
          "612:       if (offset != (XMLTreeInfo *) NULL)",
          "614:           content=GetXMLTreeContent(offset);",
          "",
          "[Added Lines]",
          "612:       if (offset != (XMLTreeInfo *) NULL)",
          "614:           content=GetXMLTreeContent(offset);",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "642:           }",
          "643:         }",
          "644:       power=GetXMLTreeChild(sop,\"Power\");",
          "646:         {",
          "648:           p=(const char *) content;",
          "649:           for (i=0; (*p != '\\0') && (i < 3); i++)",
          "650:           {",
          "",
          "[Removed Lines]",
          "645:       if (power != (XMLTreeInfo *) NULL)",
          "647:           content=GetXMLTreeContent(power);",
          "",
          "[Added Lines]",
          "645:       if (power != (XMLTreeInfo *) NULL)",
          "647:           content=GetXMLTreeContent(power);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "679:     {",
          "680:       XMLTreeInfo",
          "683:       saturation=GetXMLTreeChild(sat,\"Saturation\");",
          "684:       if (saturation != (XMLTreeInfo *) NULL)",
          "685:         {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------"
        ],
        "MagickCore/geometry.c||MagickCore/geometry.c": [
          "File: MagickCore/geometry.c -> MagickCore/geometry.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "729:   MagickStatusType",
          "730:     flags;",
          "733:     i;",
          "735:   GetAffineMatrix(affine_matrix);",
          "736:   flags=NoValue;",
          "737:   p=(char *) geometry;",
          "",
          "[Removed Lines]",
          "732:   register ssize_t",
          "",
          "[Added Lines]",
          "732:   register ssize_t",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "864:       geometry_info->sigma=coordinate.sigma;",
          "865:       geometry_info->xi=coordinate.xi;",
          "866:       geometry_info->psi=coordinate.psi;",
          "868:       return(flags);",
          "869:     }",
          "870:   (void) CopyMagickString(pedantic_geometry,geometry,MagickPathExtent);",
          "",
          "[Removed Lines]",
          "867:       flags|=RhoValue | SigmaValue | XiValue | PsiValue;",
          "",
          "[Added Lines]",
          "867:       flags|=RhoValue | SigmaValue | XiValue | PsiValue;",
          "",
          "---------------"
        ],
        "MagickCore/locale.c||MagickCore/locale.c": [
          "File: MagickCore/locale.c -> MagickCore/locale.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1194:   register char",
          "1198:     Read the locale configure file.",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1204:   status=MagickTrue;",
          "1205:   locale_info=(LocaleInfo *) NULL;",
          "1209:   fatal_handler=SetFatalErrorHandler(LocaleFatalErrorHandler);",
          "1210:   token=AcquireString(xml);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1217:     if (*token == '\\0')",
          "1218:       break;",
          "1219:     (void) CopyMagickString(keyword,token,MagickLocaleExtent);",
          "1221:       {",
          "1223:           Doctype element.",
          "",
          "[Removed Lines]",
          "1220:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "",
          "[Added Lines]",
          "1220:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1231:         continue;",
          "1232:       }",
          "1233:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "1236:           Comment element.",
          "1238:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "1239:         {",
          "1240:           GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "1234:       {",
          "",
          "[Added Lines]",
          "1234:       {",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1281:                     (void) CopyMagickString(path,token,MagickPathExtent);",
          "1282:                   else",
          "1283:                     (void) ConcatenateMagickString(path,token,MagickPathExtent);",
          "1285:                   if (file_xml != (char *) NULL)",
          "1286:                     {",
          "1288:                         depth+1,exception);",
          "1289:                       file_xml=DestroyString(file_xml);",
          "1290:                     }",
          "",
          "[Removed Lines]",
          "1284:                   file_xml=FileToXML(path,~0UL);",
          "1287:                       status&=LoadLocaleCache(locale_cache,file_xml,path,locale,",
          "",
          "[Added Lines]",
          "1284:                   file_xml=FileToXML(path,~0UL);",
          "1287:                       status&=LoadLocaleCache(locale_cache,file_xml,path,locale,",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "1306:             continue;",
          "1307:           GetMagickToken(q,&q,token);",
          "1308:         }",
          "1310:       }",
          "1311:     if (LocaleCompare(keyword,\"</locale>\") == 0)",
          "1313:         ChopLocaleComponents(tag,1);",
          "1314:         (void) ConcatenateMagickString(tag,\"/\",MagickLocaleExtent);",
          "1315:         continue;",
          "",
          "[Removed Lines]",
          "1309:         continue;",
          "1312:       {",
          "",
          "[Added Lines]",
          "1309:         continue;",
          "1312:       {",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "1368:         (void) ConcatenateMagickString(tag,\"/\",MagickLocaleExtent);",
          "1369:         continue;",
          "1370:       }",
          "1372:       {",
          "1374:           Subpath element.",
          "",
          "[Removed Lines]",
          "1371:     if (*keyword == '<')",
          "",
          "[Added Lines]",
          "1371:     if (*keyword == '<')",
          "",
          "---------------"
        ],
        "MagickCore/log.c||MagickCore/log.c": [
          "File: MagickCore/log.c -> MagickCore/log.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1450:   LogInfo",
          "1453:   MagickStatusType",
          "1454:     status;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1459:   if (xml == (const char *) NULL)",
          "1460:     return(MagickFalse);",
          "1462:   token=AcquireString((const char *) xml);",
          "1463:   for (q=(const char *) xml; *q != '\\0'; )",
          "1464:   {",
          "",
          "[Removed Lines]",
          "1461:   status=MagickTrue;",
          "",
          "[Added Lines]",
          "1461:   status=MagickTrue;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1468:     GetMagickToken(q,&q,token);",
          "1469:     if (*token == '\\0')",
          "1471:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "1472:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "1473:       {",
          "",
          "[Removed Lines]",
          "1470:       break;",
          "",
          "[Added Lines]",
          "1470:       break;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1478:           GetMagickToken(q,&q,token);",
          "1479:         continue;",
          "1480:       }",
          "1482:       {",
          "1486:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "1487:           GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "1481:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "1484:           Comment element.",
          "",
          "[Added Lines]",
          "1481:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "1484:           Comment element.",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1538:         log_info=(LogInfo *) AcquireMagickMemory(sizeof(*log_info));",
          "1539:         if (log_info == (LogInfo *) NULL)",
          "1540:           ThrowFatalException(ResourceLimitFatalError,\"MemoryAllocationFailed\");",
          "1542:         log_info->path=ConstantString(filename);",
          "1543:         GetTimerInfo((TimerInfo *) &log_info->timer);",
          "1546:       }",
          "1547:     if (log_info == (LogInfo *) NULL)",
          "1548:       continue;",
          "",
          "[Removed Lines]",
          "1541:         (void) ResetMagickMemory(log_info,0,sizeof(*log_info));",
          "1544:         log_info->signature=MagickCoreSignature;",
          "1545:         continue;",
          "",
          "[Added Lines]",
          "1541:         (void) ResetMagickMemory(log_info,0,sizeof(*log_info));",
          "1544:         log_info->signature=MagickCoreSignature;",
          "1545:         continue;",
          "",
          "---------------"
        ],
        "MagickCore/magic.c||MagickCore/magic.c": [
          "File: MagickCore/magic.c -> MagickCore/magic.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "857:     Load the magic map file.",
          "859:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "860:     \"Loading magic configure file \\\"%s\\\" ...\",filename);",
          "861:   if (xml == (char *) NULL)",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "865:   token=AcquireString(xml);",
          "866:   for (q=(char *) xml; *q != '\\0'; )",
          "867:   {",
          "869:       Interpret XML.",
          "871:     GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "874:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "875:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "876:       {",
          "878:           Doctype element.",
          "880:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "885:       {",
          "887:           Comment element.",
          "889:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "890:           GetMagickToken(q,&q,token);",
          "892:       }",
          "893:     if (LocaleCompare(keyword,\"<include\") == 0)",
          "894:       {",
          "",
          "[Removed Lines]",
          "891:         continue;",
          "",
          "[Added Lines]",
          "891:         continue;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "947:         magic_info->signature=MagickCoreSignature;",
          "948:         continue;",
          "949:       }",
          "951:       continue;",
          "952:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "955:           NULL,magic_info);",
          "956:         if (status == MagickFalse)",
          "957:           (void) ThrowMagickException(exception,GetMagickModule(),",
          "",
          "[Removed Lines]",
          "950:     if (magic_info == (MagicInfo *) NULL)",
          "953:       {",
          "954:         status=InsertValueInSortedLinkedList(magic_cache,CompareMagickInfoSize,",
          "",
          "[Added Lines]",
          "950:     if (magic_info == (MagicInfo *) NULL)",
          "953:       {",
          "954:         status=InsertValueInSortedLinkedList(magic_cache,CompareMagickInfoSize,",
          "",
          "---------------"
        ],
        "MagickCore/module.c||MagickCore/module.c": [
          "File: MagickCore/module.c -> MagickCore/module.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "793:     home=GetEnvironmentValue(\"XDG_CONFIG_HOME\");",
          "794:     if (home == (char *) NULL)",
          "796:     if (home == (char *) NULL)",
          "797:       home=GetEnvironmentValue(\"APPDATA\");",
          "798:     if (home == (char *) NULL)",
          "",
          "[Removed Lines]",
          "795:       home=GetEnvironmentValue(\"LOCALAPPDATA\");",
          "",
          "[Added Lines]",
          "795:       home=GetEnvironmentValue(\"LOCALAPPDATA\");",
          "",
          "---------------"
        ],
        "MagickCore/morphology.c||MagickCore/morphology.c": [
          "File: MagickCore/morphology.c -> MagickCore/morphology.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "299:       p=(const char *) kernel_string;",
          "300:       while ((isspace((int) ((unsigned char) *p)) != 0) || (*p == '\\''))",
          "302:       for (i=0; p < end; i++)",
          "304:         GetMagickToken(p,&p,token);",
          "305:         if (*token == ',')",
          "306:           GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "303:       {",
          "",
          "[Added Lines]",
          "303:       {",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "320:     return(DestroyKernelInfo(kernel));",
          "321:   kernel->minimum=MagickMaximumValue;",
          "322:   kernel->maximum=(-MagickMaximumValue);",
          "324:   for (i=0; (i < (ssize_t) (kernel->width*kernel->height)) && (p < end); i++)",
          "326:     GetMagickToken(p,&p,token);",
          "327:     if (*token == ',')",
          "328:       GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "323:   kernel->negative_range = kernel->positive_range = 0.0;",
          "325:   {",
          "",
          "[Added Lines]",
          "323:   kernel->negative_range = kernel->positive_range = 0.0;",
          "325:   {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "338:       Minimize(kernel->minimum, kernel->values[i]);",
          "339:       Maximize(kernel->maximum, kernel->values[i]);",
          "340:     }",
          "344:   GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "341:   }",
          "",
          "[Added Lines]",
          "341:   }",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "393:     flags;",
          "395:   ssize_t",
          "399:   GetMagickToken(kernel_string,&p,token);",
          "",
          "[Removed Lines]",
          "396:     type;",
          "",
          "[Added Lines]",
          "396:     type;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "509:       kernel_cache=FileToString(kernel_string+1,~0UL,exception);",
          "510:       if (kernel_cache == (char *) NULL)",
          "511:         return((KernelInfo *) NULL);",
          "513:     }",
          "514:   kernel=NULL;",
          "515:   while (GetMagickToken(p,NULL,token), *token != '\\0')",
          "",
          "[Removed Lines]",
          "512:       p=(const char *) kernel_cache;",
          "",
          "[Added Lines]",
          "512:       p=(const char *) kernel_cache;",
          "",
          "---------------"
        ],
        "MagickCore/option.c||MagickCore/option.c": [
          "File: MagickCore/option.c -> MagickCore/option.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2758: %  ParsePixelChannelOption() parses a string and returns an enumerated pixel",
          "2759: %  channel type(s).",
          "2760: %",
          "2762: %",
          "2763: %      ssize_t ParsePixelChannelOption(const char *channels)",
          "2764: %",
          "",
          "[Removed Lines]",
          "2761: %  The format of the ParsePixelChannelOption method is:",
          "",
          "[Added Lines]",
          "2761: %  The format of the ParsePixelChannelOption method is:",
          "",
          "---------------"
        ],
        "MagickCore/policy.c||MagickCore/policy.c": [
          "File: MagickCore/policy.c -> MagickCore/policy.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "768:   (void) LogMagickEvent(ConfigureEvent,GetMagickModule(),",
          "769:     \"Loading policy file \\\"%s\\\" ...\",filename);",
          "",
          "[Removed Lines]",
          "766:     Load the policy map file.",
          "",
          "[Added Lines]",
          "766:     Load the policy map file.",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "773:   policy_info=(PolicyInfo *) NULL;",
          "774:   token=AcquireString(xml);",
          "775:   for (q=(const char *) xml; *q != '\\0'; )",
          "778:       Interpret XML.",
          "",
          "[Removed Lines]",
          "776:   {",
          "",
          "[Added Lines]",
          "776:   {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "782:       break;",
          "783:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "784:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "787:           Docdomain element.",
          "",
          "[Removed Lines]",
          "785:       {",
          "",
          "[Added Lines]",
          "785:       {",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "793:     if (LocaleNCompare(keyword,\"<!--\",4) == 0)",
          "794:       {",
          "798:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "800:         continue;",
          "801:       }",
          "802:     if (LocaleCompare(keyword,\"<include\") == 0)",
          "",
          "[Removed Lines]",
          "796:           Comment element.",
          "799:           GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "796:           Comment element.",
          "799:           GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "854:         policy_info->path=ConstantString(filename);",
          "855:         policy_info->exempt=MagickFalse;",
          "856:         policy_info->signature=MagickCoreSignature;",
          "858:       }",
          "859:     if (policy_info == (PolicyInfo *) NULL)",
          "862:       {",
          "863:         status=AppendValueToLinkedList(policy_cache,policy_info);",
          "864:         if (status == MagickFalse)",
          "",
          "[Removed Lines]",
          "857:         continue;",
          "860:       continue;",
          "861:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "",
          "[Added Lines]",
          "857:         continue;",
          "860:       continue;",
          "861:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "",
          "---------------"
        ],
        "MagickCore/threshold.c||MagickCore/threshold.c": [
          "File: MagickCore/threshold.c -> MagickCore/threshold.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1346:       break;",
          "1347:     token[p-threshold_map]=(*p);",
          "1348:     p++;",
          "1350:   token[p-threshold_map]='\\0';",
          "1352:   if (map == (ThresholdMap *) NULL)",
          "1353:     {",
          "1354:       (void) ThrowMagickException(exception,GetMagickModule(),OptionError,",
          "",
          "[Removed Lines]",
          "1349:   }",
          "1351:   map=GetThresholdMap(token,exception);",
          "",
          "[Added Lines]",
          "1349:   }",
          "1351:   map=GetThresholdMap(token,exception);",
          "",
          "---------------"
        ],
        "MagickCore/token.c||MagickCore/token.c": [
          "File: MagickCore/token.c -> MagickCore/token.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "163: %      void GetMagickToken(const char *start,const char **end,char *token)",
          "164: %",
          "165: %  A description of each parameter follows:",
          "166: %",
          "167: %    o start: the start of the token sequence.",
          "168: %",
          "170: %",
          "171: %    o token: copy the token to this buffer.",
          "172: %",
          "",
          "[Removed Lines]",
          "169: %    o end: point to the end of the token sequence.",
          "",
          "[Added Lines]",
          "166: %",
          "167: %    o start: the start of the token sequence.",
          "171: %    o extent: maximum extent of the token.",
          "172: %",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "213:         if ((*p == '\\\\') && ((*(p+1) == escape) || (*(p+1) == '\\\\')))",
          "214:           p++;",
          "215:         else",
          "217:             {",
          "218:               p++;",
          "219:               break;",
          "220:             }",
          "221:         token[i++]=(*p);",
          "224:     }",
          "225:     case '/':",
          "226:     {",
          "227:       token[i++]=(*p++);",
          "",
          "[Removed Lines]",
          "216:           if (*p == escape)",
          "222:       }",
          "223:       break;",
          "",
          "[Added Lines]",
          "219:           if (*p == escape)",
          "220:             {",
          "226:       }",
          "228:     }",
          "229:     case '/':",
          "230:     {",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "234:       char",
          "238:       (void) value;",
          "240:         {",
          "241:           for ( ; (p < q) && (*p != ','); p++)",
          "242:             token[i++]=(*p);",
          "243:           if (*p == '%')",
          "244:             token[i++]=(*p++);",
          "246:         }",
          "247:       if ((*p != '\\0') && (isalpha((int) ((unsigned char) *p)) == 0) &&",
          "248:           (*p != *DirectorySeparator) && (*p != '#') && (*p != '<'))",
          "249:         {",
          "250:           token[i++]=(*p++);",
          "253:       for ( ; *p != '\\0'; p++)",
          "254:       {",
          "255:         if (((isspace((int) ((unsigned char) *p)) != 0) || (*p == '=') ||",
          "257:             (*(p-1) != '\\\\'))",
          "258:           break;",
          "259:         if ((i > 0) && (*p == '<'))",
          "260:           break;",
          "261:         token[i++]=(*p);",
          "263:           break;",
          "264:         if (*p == '(')",
          "265:           for (p++; *p != '\\0'; p++)",
          "",
          "[Removed Lines]",
          "237:       value=StringToDouble(p,&q);",
          "239:       if ((p != q) && (*p != ','))",
          "245:           break;",
          "251:           break;",
          "252:         }",
          "256:             (*p == ':') || (*p == ',') || (*p == '|') || (*p == ';')) &&",
          "262:         if (*p == '>')",
          "",
          "[Added Lines]",
          "243:       value=StringToDouble(p,&q);",
          "244:       (void) value;",
          "246:         {",
          "247:           for ( ; (p < q) && (*p != ','); p++)",
          "253:           break;",
          "254:         }",
          "260:           break;",
          "264:         if (((isspace((int) ((unsigned char) *p)) != 0) || (*p == '=') ||",
          "265:             (*p == ',') || (*p == ':') || (*p == ';')) && (*(p-1) != '\\\\'))",
          "271:         if (*p == '>')",
          "272:           break;",
          "",
          "---------------"
        ],
        "MagickCore/type.c||MagickCore/type.c": [
          "File: MagickCore/type.c -> MagickCore/type.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "1108:   status=MagickTrue;",
          "1109:   type_info=(TypeInfo *) NULL;",
          "1110:   token=AcquireString(xml);",
          "1113:     Determine the Ghostscript font path.",
          "",
          "[Removed Lines]",
          "1111: #if defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "",
          "[Added Lines]",
          "1111: #if defined(MAGICKCORE_WINDOWS_SUPPORT)",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "1118: #endif",
          "1119:   for (q=(char *) xml; *q != '\\0'; )",
          "1120:   {",
          "1122:       Interpret XML.",
          "1124:     GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1127:     (void) CopyMagickString(keyword,token,MagickPathExtent);",
          "1128:     if (LocaleNCompare(keyword,\"<!DOCTYPE\",9) == 0)",
          "1129:       {",
          "1131:           Doctype element.",
          "1133:         while ((LocaleNCompare(q,\"]>\",2) != 0) && (*q != '\\0'))",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1138:       {",
          "1140:           Comment element.",
          "1142:         while ((LocaleNCompare(q,\"->\",2) != 0) && (*q != '\\0'))",
          "1143:           GetMagickToken(q,&q,token);",
          "1145:       }",
          "1146:     if (LocaleCompare(keyword,\"<include\") == 0)",
          "1147:       {",
          "",
          "[Removed Lines]",
          "1144:         continue;",
          "",
          "[Added Lines]",
          "1144:         continue;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1203:         (void) ResetMagickMemory(type_info,0,sizeof(*type_info));",
          "1204:         type_info->path=ConstantString(filename);",
          "1205:         type_info->signature=MagickCoreSignature;",
          "1207:       }",
          "1208:     if (type_info == (TypeInfo *) NULL)",
          "1211:       {",
          "1212:         status=AddValueToSplayTree(type_cache,type_info->name,type_info);",
          "1213:         if (status == MagickFalse)",
          "",
          "[Removed Lines]",
          "1206:         continue;",
          "1209:       continue;",
          "1210:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "",
          "[Added Lines]",
          "1206:         continue;",
          "1209:       continue;",
          "1210:     if (LocaleCompare(keyword,\"/>\") == 0)",
          "",
          "---------------"
        ],
        "MagickCore/vision.c||MagickCore/vision.c": [
          "File: MagickCore/vision.c -> MagickCore/vision.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "682:           (void) fprintf(stdout,",
          "683:             \"Objects (id: bounding-box centroid area mean-color):\\n\");",
          "684:           for (i=0; i < (ssize_t) component_image->colors; i++)",
          "686:             char",
          "687:               mean_color[MaxTextExtent];",
          "",
          "[Removed Lines]",
          "685:           {",
          "",
          "[Added Lines]",
          "685:           {",
          "",
          "---------------"
        ],
        "MagickWand/convert.c||MagickWand/convert.c": [
          "File: MagickWand/convert.c -> MagickWand/convert.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2210:               op;",
          "2212:             i++;",
          "2214:               ThrowConvertException(OptionError,\"MissingArgument\",option);",
          "2215:             GetMagickToken(argv[i],NULL,token);",
          "2216:             op=ParseCommandOption(MagickMorphologyOptions,MagickFalse,token);",
          "",
          "[Removed Lines]",
          "2213:             if (i == (ssize_t) argc)",
          "",
          "[Added Lines]",
          "2213:             if (i == (ssize_t) argc)",
          "",
          "---------------"
        ],
        "MagickWand/drawing-wand.c||MagickWand/drawing-wand.c": [
          "File: MagickWand/drawing-wand.c -> MagickWand/drawing-wand.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "6379:   child=GetXMLTreeChild(xml_info,\"decorate\");",
          "6380:   if (child != (XMLTreeInfo *) NULL)",
          "6381:     {",
          "6383:       if (value != (const char *) NULL)",
          "6385:           MagickDecorateOptions,MagickFalse,value);",
          "6386:     }",
          "6388:   if (child != (XMLTreeInfo *) NULL)",
          "6390:   child=GetXMLTreeChild(xml_info,\"fill\");",
          "6391:   if (child != (XMLTreeInfo *) NULL)",
          "6392:     {",
          "",
          "[Removed Lines]",
          "6382:       value=GetXMLTreeContent(child);",
          "6384:         CurrentContext->decorate=(DecorationType) ParseCommandOption(",
          "6387:   child=GetXMLTreeChild(xml_info,\"encoding\");",
          "6389:     (void) CloneString(&CurrentContext->encoding,GetXMLTreeContent(child));",
          "",
          "[Added Lines]",
          "6382:       value=GetXMLTreeContent(child);",
          "6384:         CurrentContext->decorate=(DecorationType) ParseCommandOption(",
          "6387:   child=GetXMLTreeChild(xml_info,\"encoding\");",
          "6389:     (void) CloneString(&CurrentContext->encoding,GetXMLTreeContent(child));",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "6395:         (void) QueryColorCompliance(value,AllCompliance,&CurrentContext->fill,",
          "6396:           wand->exception);",
          "6397:     }",
          "6399:   if (child != (XMLTreeInfo *) NULL)",
          "6401:       value=GetXMLTreeContent(child);",
          "6402:       if (value != (const char *) NULL)",
          "6403:         CurrentContext->fill.alpha=(double) ClampToQuantum(QuantumRange*",
          "",
          "[Removed Lines]",
          "6398:   child=GetXMLTreeChild(xml_info,\"fill-opacity\");",
          "6400:     {",
          "",
          "[Added Lines]",
          "6398:   child=GetXMLTreeChild(xml_info,\"fill-opacity\");",
          "6400:     {",
          "",
          "---------------"
        ],
        "MagickWand/mogrify.c||MagickWand/mogrify.c": [
          "File: MagickWand/mogrify.c -> MagickWand/mogrify.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "491:     Read string, to determine number of arguments needed,",
          "493:   p=arguments;",
          "494:   x=0;",
          "495:   while( *p != '\\0' )",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "536:     return( (Image *) NULL);",
          "537:   }",
          "538:   (void) ResetMagickMemory(sparse_arguments,0,number_arguments*",
          "540:   p=arguments;",
          "541:   x=0;",
          "542:   while( *p != '\\0' && x < number_arguments ) {",
          "",
          "[Removed Lines]",
          "539:     sizeof(*sparse_arguments));",
          "",
          "[Added Lines]",
          "539:     sizeof(*sparse_arguments));",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "547:       (void) ThrowMagickException(exception,GetMagickModule(),",
          "548:             OptionError, \"InvalidArgument\", \"'%s': %s\", \"sparse-color\",",
          "549:             \"Color found, instead of X-coord\");",
          "551:       break;",
          "552:     }",
          "553:     sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "[Removed Lines]",
          "550:       error = MagickTrue;",
          "",
          "[Added Lines]",
          "550:       error = MagickTrue;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "567:     if ( (color_from_image ) {",
          "571:     else",
          "572: #endif",
          "573:     {",
          "",
          "[Removed Lines]",
          "570:     }",
          "",
          "[Added Lines]",
          "570:     }",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "590:             (image->alpha_trait != UndefinedPixelTrait))",
          "591:           sparse_arguments[x++] = QuantumScale*color.alpha;",
          "592:       }",
          "596:         if ((GetPixelRedTraits(image) & UpdatePixelTrait) != 0)",
          "",
          "[Removed Lines]",
          "593:       else {",
          "",
          "[Added Lines]",
          "593:       else {",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "598:           while ( token[0] == ',' ) GetMagickToken(p,&p,token);",
          "599:           if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "600:             break;",
          "603:         }",
          "604:         if ((GetPixelGreenTraits(image) & UpdatePixelTrait) != 0)",
          "",
          "[Removed Lines]",
          "601:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "601:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "606:           while ( token[0] == ',' ) GetMagickToken(p,&p,token);",
          "607:           if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "608:             break;",
          "611:         }",
          "612:         if ((GetPixelBlueTraits(image) & UpdatePixelTrait) != 0)",
          "",
          "[Removed Lines]",
          "609:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "609:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "615:           if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "616:             break;",
          "617:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "619:         }",
          "620:         if (((GetPixelBlackTraits(image) & UpdatePixelTrait) != 0) &&",
          "621:             (image->colorspace == CMYKColorspace))",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "624:           if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "625:             break;",
          "626:           sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "628:         }",
          "629:         if (((GetPixelAlphaTraits(image) & UpdatePixelTrait) != 0) &&",
          "630:             (image->alpha_trait != UndefinedPixelTrait))",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "1404:               }",
          "1405:             args=InterpretImageProperties(mogrify_info,*image,argv[i+2],",
          "1406:               exception);",
          "1408:               break;",
          "1410:             for (x=0; *p != '\\0'; x++)",
          "1411:             {",
          "1412:               GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "1407:             if (args == (char *) NULL)",
          "1409:             p=(char *) args;",
          "",
          "[Added Lines]",
          "1407:             if (args == (char *) NULL)",
          "1409:             p=(char *) args;",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "1419:             if (arguments == (double *) NULL)",
          "1420:               ThrowWandFatalException(ResourceLimitFatalError,",
          "1421:                 \"MemoryAllocationFailed\",(*image)->filename);",
          "1423:               sizeof(*arguments));",
          "1425:             for (x=0; (x < (ssize_t) number_arguments) && (*p != '\\0'); x++)",
          "1426:             {",
          "1427:               GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "1422:             (void) ResetMagickMemory(arguments,0,number_arguments*",
          "1424:             p=(char *) args;",
          "",
          "[Added Lines]",
          "1422:             (void) ResetMagickMemory(arguments,0,number_arguments*",
          "1424:             p=(char *) args;",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "1707:               MagickFalse,argv[i+1]);",
          "1708:             arguments=InterpretImageProperties(mogrify_info,*image,argv[i+2],",
          "1709:               exception);",
          "1711:               break;",
          "1713:             for (x=0; *p != '\\0'; x++)",
          "1714:             {",
          "1715:               GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "1710:             if (arguments == (char *) NULL)",
          "1712:             p=(char *) arguments;",
          "",
          "[Added Lines]",
          "1710:             if (arguments == (char *) NULL)",
          "1712:             p=(char *) arguments;",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "1722:             if (parameters == (double *) NULL)",
          "1723:               ThrowWandFatalException(ResourceLimitFatalError,",
          "1724:                 \"MemoryAllocationFailed\",(*image)->filename);",
          "1726:               sizeof(*parameters));",
          "1728:             for (x=0; (x < (ssize_t) number_parameters) && (*p != '\\0'); x++)",
          "1729:             {",
          "1730:               GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "1725:             (void) ResetMagickMemory(parameters,0,number_parameters*",
          "1727:             p=(char *) arguments;",
          "",
          "[Added Lines]",
          "1725:             (void) ResetMagickMemory(parameters,0,number_parameters*",
          "1727:             p=(char *) arguments;",
          "",
          "---------------",
          "--- Hunk 14 ---",
          "[Context before]",
          "2000:             if ((isalpha((int) *token) != 0) || ((*token == '#') != 0))",
          "2001:               (void) QueryColorCompliance(token,AllCompliance,",
          "2003:             else",
          "2004:               (void) QueryColorCompliance(\"#000000\",AllCompliance,",
          "2005:                 &black_point,exception);",
          "2006:             if (isalpha((int) token[0]) || (token[0] == '#'))",
          "2007:               GetMagickToken(p,&p,token);",
          "2008:             if (*token == '\\0')",
          "2010:             else",
          "2011:               {",
          "",
          "[Removed Lines]",
          "2002:                 &black_point,exception);",
          "",
          "[Added Lines]",
          "2002:                 &black_point,exception);",
          "",
          "---------------",
          "--- Hunk 15 ---",
          "[Context before]",
          "2237:             ssize_t",
          "2238:               iterations;",
          "2241:               Morphological Image Operation",
          "2243:             (void) SyncImageSettings(mogrify_info,*image,exception);",
          "2245:             GetMagickToken(p,&p,token);",
          "2247:               MagickMorphologyOptions,MagickFalse,token);",
          "2248:             iterations=1L;",
          "2249:             GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "2244:             p=argv[i+1];",
          "2246:             method=(MorphologyMethod) ParseCommandOption(",
          "",
          "[Added Lines]",
          "2244:             p=argv[i+1];",
          "2246:             method=(MorphologyMethod) ParseCommandOption(",
          "",
          "---------------",
          "--- Hunk 16 ---",
          "[Context before]",
          "5458:             KernelInfo",
          "5462:               op;",
          "5464:             i++;",
          "",
          "[Removed Lines]",
          "5461:             ssize_t",
          "",
          "[Added Lines]",
          "5461:             ssize_t",
          "",
          "---------------",
          "--- Hunk 17 ---",
          "[Context before]",
          "8549:               Polynomial image.",
          "8552:             args=InterpretImageProperties(mogrify_info,*images,argv[i+1],",
          "8554:             if (args == (char *) NULL)",
          "8555:               break;",
          "8556:             p=(char *) args;",
          "",
          "[Removed Lines]",
          "8551:             (void) SyncImageSettings(mogrify_info,*images,exception);",
          "8553:               exception);",
          "",
          "[Added Lines]",
          "8551:             (void) SyncImageSettings(mogrify_info,*images,exception);",
          "8553:               exception);",
          "",
          "---------------",
          "--- Hunk 18 ---",
          "[Context before]",
          "8563:             number_arguments=(size_t) x;",
          "8564:             arguments=(double *) AcquireQuantumMemory(number_arguments,",
          "8565:               sizeof(*arguments));",
          "8567:               ThrowWandFatalException(ResourceLimitFatalError,",
          "8569:             (void) ResetMagickMemory(arguments,0,number_arguments*",
          "8570:               sizeof(*arguments));",
          "8571:             p=(char *) args;",
          "",
          "[Removed Lines]",
          "8566:             if (arguments == (double *) NULL)",
          "8568:                 \"MemoryAllocationFailed\",(*images)->filename);",
          "",
          "[Added Lines]",
          "8566:             if (arguments == (double *) NULL)",
          "8568:                 \"MemoryAllocationFailed\",(*images)->filename);",
          "",
          "---------------"
        ],
        "MagickWand/operation.c||MagickWand/operation.c": [
          "File: MagickWand/operation.c -> MagickWand/operation.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "234:     Read string, to determine number of arguments needed,",
          "237:   x=0;",
          "238:   while( *p != '\\0' )",
          "239:   {",
          "",
          "[Removed Lines]",
          "236:   p=arguments;",
          "",
          "[Added Lines]",
          "236:   p=arguments;",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "265:   }",
          "266:   (void) ResetMagickMemory(sparse_arguments,0,number_arguments*",
          "267:     sizeof(*sparse_arguments));",
          "269:   x=0;",
          "270:   while( *p != '\\0' && x < number_arguments ) {",
          "",
          "[Removed Lines]",
          "268:   p=arguments;",
          "",
          "[Added Lines]",
          "268:   p=arguments;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "276:             OptionError, \"InvalidArgument\", \"'%s': %s\", \"sparse-color\",",
          "277:             \"Color found, instead of X-coord\");",
          "278:       error=MagickTrue;",
          "280:     }",
          "281:     sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "[Removed Lines]",
          "279:       break;",
          "",
          "[Added Lines]",
          "279:       break;",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "287:             OptionError, \"InvalidArgument\", \"'%s': %s\", \"sparse-color\",",
          "288:             \"Color found, instead of Y-coord\");",
          "289:       error=MagickTrue;",
          "291:     }",
          "292:     sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "",
          "[Removed Lines]",
          "290:       break;",
          "",
          "[Added Lines]",
          "290:       break;",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "311:         sparse_arguments[x++] = QuantumScale*color.alpha;",
          "312:     }",
          "313:     else {",
          "316:       if ((GetPixelRedTraits(image) & UpdatePixelTrait) != 0)",
          "317:         {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "319:         if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "320:           break;",
          "321:         sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "323:       }",
          "324:       if ((GetPixelGreenTraits(image) & UpdatePixelTrait) != 0)",
          "325:         {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "327:         if ( token[0] == '\\0' || isalpha((int)token[0]) || token[0] == '#' )",
          "328:           break;",
          "329:         sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "331:       }",
          "332:       if ((GetPixelBlueTraits(image) & UpdatePixelTrait) != 0)",
          "333:         {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "336:           break;",
          "337:         sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "340:       if (((GetPixelBlackTraits(image) & UpdatePixelTrait) != 0) &&",
          "341:           (image->colorspace == CMYKColorspace))",
          "342:         {",
          "",
          "[Removed Lines]",
          "339:       }",
          "",
          "[Added Lines]",
          "339:       }",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "345:           break;",
          "346:         sparse_arguments[x++]=StringToDouble(token,(char **) NULL);",
          "349:       if (((GetPixelAlphaTraits(image) & UpdatePixelTrait) != 0) &&",
          "350:           image->alpha_trait != UndefinedPixelTrait)",
          "351:         {",
          "",
          "[Removed Lines]",
          "348:       }",
          "",
          "[Added Lines]",
          "348:       }",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "2653:           p=(const char *) arg1;",
          "2655:           if ((isalpha((int) *token) != 0) || ((*token == '#') != 0))",
          "2657:                       &black_point,_exception);",
          "2658:           else",
          "2659:             (void) QueryColorCompliance(\"#000000\",AllCompliance,",
          "2660:                       &black_point,_exception);",
          "2661:           if (isalpha((int) token[0]) || (token[0] == '#'))",
          "2662:             GetMagickToken(p,&p,token);",
          "2663:           if (*token == '\\0')",
          "2665:           else",
          "",
          "[Removed Lines]",
          "2656:             (void) QueryColorCompliance(token,AllCompliance,",
          "",
          "[Added Lines]",
          "2656:             (void) QueryColorCompliance(token,AllCompliance,",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "2820:           KernelInfo",
          "2823:           ssize_t",
          "2824:             iterations;",
          "2826:           p=arg1;",
          "2828:           parse=ParseCommandOption(MagickMorphologyOptions,MagickFalse,token);",
          "2830:             CLIWandExceptArgBreak(OptionError,\"UnrecognizedFunction\",option,",
          "2831:               arg1);",
          "2832:           iterations=1L;",
          "",
          "[Removed Lines]",
          "2827:           GetMagickToken(p,&p,token);",
          "2829:           if ( parse < 0 )",
          "",
          "[Added Lines]",
          "2827:           GetMagickToken(p,&p,MagickPathExtent,token);",
          "2829:           if ( parse < 0 )",
          "",
          "---------------"
        ],
        "coders/pdf.c||coders/pdf.c": [
          "File: coders/pdf.c -> coders/pdf.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "2803:     Write Metadata object.",
          "2806:   info_id=object;",
          "2807:   (void) FormatLocaleString(buffer,MagickPathExtent,\"%.20g 0 obj\\n\",(double)",
          "2808:     object);",
          "2810:   (void) WriteBlobString(image,\"<<\\n\");",
          "2811:   utf16=ConvertUTF8ToUTF16((unsigned char *) basename,&length);",
          "2812:   if (utf16 != (wchar_t *) NULL)",
          "",
          "[Removed Lines]",
          "2805:   xref[object++]=TellBlob(image);",
          "2809:   (void) WriteBlobString(image,buffer);",
          "",
          "[Added Lines]",
          "2805:   xref[object++]=TellBlob(image);",
          "2809:   (void) WriteBlobString(image,buffer);",
          "",
          "---------------"
        ],
        "coders/svg.c||coders/svg.c": [
          "File: coders/svg.c -> coders/svg.c",
          "--- Hunk 1 ---",
          "[Context before]",
          "300:   double",
          "301:     value;",
          "303:   (void) LogMagickEvent(TraceEvent,GetMagickModule(),\"%s\",string);",
          "304:   assert(string != (const char *) NULL);",
          "305:   p=(const char *) string;",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 2 ---",
          "[Context before]",
          "323:             return(0.0);",
          "324:           return(svg_info->view_box.height*value/100.0);",
          "325:         }",
          "327:       beta=value-svg_info->view_box.height;",
          "328:       return(hypot(alpha,beta)/sqrt(2.0)/100.0);",
          "329:     }",
          "",
          "[Removed Lines]",
          "326:       alpha=value-svg_info->view_box.width;",
          "",
          "[Added Lines]",
          "326:       alpha=value-svg_info->view_box.width;",
          "",
          "---------------",
          "--- Hunk 3 ---",
          "[Context before]",
          "1307:                 {",
          "1308:                   case 'M':",
          "1309:                   case 'm':",
          "1311:                     if (LocaleCompare(keyword,\"matrix\") == 0)",
          "1313:                         p=(const char *) value;",
          "1315:                         affine.sx=StringToDouble(value,(char **) NULL);",
          "1317:                         if (*token == ',')",
          "1319:                         affine.rx=StringToDouble(token,(char **) NULL);",
          "1321:                         if (*token == ',')",
          "1323:                         affine.ry=StringToDouble(token,(char **) NULL);",
          "1325:                         if (*token == ',')",
          "1327:                         affine.sy=StringToDouble(token,(char **) NULL);",
          "1329:                         if (*token == ',')",
          "1331:                         affine.tx=StringToDouble(token,(char **) NULL);",
          "1332:                         GetMagickToken(p,&p,token);",
          "1333:                         if (*token == ',')",
          "",
          "[Removed Lines]",
          "1310:                   {",
          "1312:                       {",
          "1314:                         GetMagickToken(p,&p,token);",
          "1316:                         GetMagickToken(p,&p,token);",
          "1318:                           GetMagickToken(p,&p,token);",
          "1320:                         GetMagickToken(p,&p,token);",
          "1322:                           GetMagickToken(p,&p,token);",
          "1324:                         GetMagickToken(p,&p,token);",
          "1326:                           GetMagickToken(p,&p,token);",
          "1328:                         GetMagickToken(p,&p,token);",
          "1330:                           GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "1310:                   {",
          "1312:                       {",
          "1314:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1316:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1318:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1320:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1322:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1324:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1326:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1328:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1330:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 4 ---",
          "[Context before]",
          "1924:                 {",
          "1925:                   case 'M':",
          "1926:                   case 'm':",
          "1928:                     if (LocaleCompare(keyword,\"matrix\") == 0)",
          "1930:                         p=(const char *) value;",
          "1932:                         affine.sx=StringToDouble(value,(char **) NULL);",
          "1934:                         if (*token == ',')",
          "1936:                         affine.rx=StringToDouble(token,(char **) NULL);",
          "1938:                         if (*token == ',')",
          "1940:                         affine.ry=StringToDouble(token,(char **) NULL);",
          "1942:                         if (*token == ',')",
          "1944:                         affine.sy=StringToDouble(token,(char **) NULL);",
          "1946:                         if (*token == ',')",
          "1948:                         affine.tx=StringToDouble(token,(char **) NULL);",
          "1949:                         GetMagickToken(p,&p,token);",
          "1950:                         if (*token == ',')",
          "",
          "[Removed Lines]",
          "1927:                   {",
          "1929:                       {",
          "1931:                         GetMagickToken(p,&p,token);",
          "1933:                         GetMagickToken(p,&p,token);",
          "1935:                           GetMagickToken(p,&p,token);",
          "1937:                         GetMagickToken(p,&p,token);",
          "1939:                           GetMagickToken(p,&p,token);",
          "1941:                         GetMagickToken(p,&p,token);",
          "1943:                           GetMagickToken(p,&p,token);",
          "1945:                         GetMagickToken(p,&p,token);",
          "1947:                           GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "1927:                   {",
          "1929:                       {",
          "1931:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1933:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1935:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1937:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1939:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1941:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1943:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "1945:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1947:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 5 ---",
          "[Context before]",
          "1961:                       {",
          "1962:                         double",
          "1963:                           angle,",
          "1965:                           y;",
          "1967:                         p=(const char *) value;",
          "1969:                         angle=StringToDouble(value,(char **) NULL);",
          "1971:                         if (*token == ',')",
          "1973:                         x=StringToDouble(token,(char **) NULL);",
          "1974:                         GetMagickToken(p,&p,token);",
          "1975:                         if (*token == ',')",
          "",
          "[Removed Lines]",
          "1964:                           x,",
          "1968:                         GetMagickToken(p,&p,token);",
          "1970:                         GetMagickToken(p,&p,token);",
          "1972:                           GetMagickToken(p,&p,token);",
          "",
          "[Added Lines]",
          "1964:                           x,",
          "1968:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1970:                         GetMagickToken(p,&p,MagickPathExtent,token);",
          "1972:                           GetMagickToken(p,&p,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 6 ---",
          "[Context before]",
          "2071:             {",
          "2072:               (void) CloneString(&svg_info->vertices,value);",
          "2073:               break;",
          "2075:           if (LocaleCompare(keyword,\"viewBox\") == 0)",
          "2077:               p=(const char *) value;",
          "2079:               svg_info->view_box.x=StringToDouble(token,(char **) NULL);",
          "2081:               if (*token == ',')",
          "2083:               svg_info->view_box.y=StringToDouble(token,(char **) NULL);",
          "2084:               GetMagickToken(p,&p,token);",
          "2085:               if (*token == ',')",
          "2086:                 GetMagickToken(p,&p,token);",
          "2088:                 (char **) NULL);",
          "2090:                 svg_info->bounds.width=svg_info->view_box.width;",
          "2091:               GetMagickToken(p,&p,token);",
          "2092:               if (*token == ',')",
          "",
          "[Removed Lines]",
          "2074:             }",
          "2076:             {",
          "2078:               GetMagickToken(p,&p,token);",
          "2080:               GetMagickToken(p,&p,token);",
          "2082:                 GetMagickToken(p,&p,token);",
          "2087:               svg_info->view_box.width=StringToDouble(token,",
          "2089:               if (svg_info->bounds.width == 0)",
          "",
          "[Added Lines]",
          "2074:             }",
          "2076:             {",
          "2078:               GetMagickToken(p,&p,MagickPathExtent,token);",
          "2080:               GetMagickToken(p,&p,MagickPathExtent,token);",
          "2082:                 GetMagickToken(p,&p,MagickPathExtent,token);",
          "2087:               svg_info->view_box.width=StringToDouble(token,",
          "2089:               if (svg_info->bounds.width == 0)",
          "",
          "---------------",
          "--- Hunk 7 ---",
          "[Context before]",
          "3683:   GetAffineMatrix(&affine);",
          "3684:   token=AcquireString(value);",
          "3685:   active=MagickFalse;",
          "3687:   status=MagickTrue;",
          "3688:   for (q=(const char *) value; *q != '\\0'; )",
          "3689:   {",
          "",
          "[Removed Lines]",
          "3686:   n=0;",
          "",
          "[Added Lines]",
          "3686:   n=0;",
          "",
          "---------------",
          "--- Hunk 8 ---",
          "[Context before]",
          "3719:     primitive_type=UndefinedPrimitive;",
          "3720:     switch (*keyword)",
          "3721:     {",
          "3723:         break;",
          "3725:       case 'A':",
          "3727:         if (LocaleCompare(\"affine\",keyword) == 0)",
          "3729:             GetMagickToken(q,&q,token);",
          "3731:             GetMagickToken(q,&q,token);",
          "3733:               GetMagickToken(q,&q,token);",
          "3735:             GetMagickToken(q,&q,token);",
          "3737:               GetMagickToken(q,&q,token);",
          "3739:             GetMagickToken(q,&q,token);",
          "3741:               GetMagickToken(q,&q,token);",
          "3743:             GetMagickToken(q,&q,token);",
          "3744:             if (*token == ',')",
          "3745:               GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "3722:       case ';':",
          "3724:       case 'a':",
          "3726:       {",
          "3728:           {",
          "3730:             affine.sx=StringToDouble(token,(char **) NULL);",
          "3732:             if (*token == ',')",
          "3734:             affine.rx=StringToDouble(token,(char **) NULL);",
          "3736:             if (*token == ',')",
          "3738:             affine.ry=StringToDouble(token,(char **) NULL);",
          "3740:             if (*token == ',')",
          "3742:             affine.sy=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "3722:       case ';':",
          "3724:       case 'a':",
          "3726:       {",
          "3728:           {",
          "3730:             affine.sx=StringToDouble(token,(char **) NULL);",
          "3732:             if (*token == ',')",
          "3734:             affine.rx=StringToDouble(token,(char **) NULL);",
          "3736:             if (*token == ',')",
          "3738:             affine.ry=StringToDouble(token,(char **) NULL);",
          "3740:             if (*token == ',')",
          "3742:             affine.sy=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 9 ---",
          "[Context before]",
          "3750:             affine.ty=StringToDouble(token,(char **) NULL);",
          "3751:             break;",
          "3752:           }",
          "3754:           {",
          "3755:             primitive_type=AlphaPrimitive;",
          "3756:             break;",
          "",
          "[Removed Lines]",
          "3753:         if (LocaleCompare(\"alpha\",keyword) == 0)",
          "",
          "[Added Lines]",
          "3753:         if (LocaleCompare(\"alpha\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 10 ---",
          "[Context before]",
          "3779:             break;",
          "3780:           }",
          "3781:         status=MagickFalse;",
          "3783:       }",
          "3784:       case 'c':",
          "3785:       case 'C':",
          "",
          "[Removed Lines]",
          "3782:         break;",
          "",
          "[Added Lines]",
          "3782:         break;",
          "",
          "---------------",
          "--- Hunk 11 ---",
          "[Context before]",
          "3787:         if (LocaleCompare(\"clip-path\",keyword) == 0)",
          "3788:           {",
          "3789:             GetMagickToken(q,&q,token);",
          "3791:               \"clip-path:url(#%s);\",token);",
          "3792:             (void) WriteBlobString(image,message);",
          "3793:             break;",
          "",
          "[Removed Lines]",
          "3790:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3790:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 12 ---",
          "[Context before]",
          "3795:         if (LocaleCompare(\"clip-rule\",keyword) == 0)",
          "3796:           {",
          "3797:             GetMagickToken(q,&q,token);",
          "3799:               \"clip-rule:%s;\",token);",
          "3800:             (void) WriteBlobString(image,message);",
          "3801:             break;",
          "",
          "[Removed Lines]",
          "3798:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3798:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 13 ---",
          "[Context before]",
          "3819:             break;",
          "3820:           }",
          "3821:         status=MagickFalse;",
          "3823:       }",
          "3824:       case 'd':",
          "3825:       case 'D':",
          "",
          "[Removed Lines]",
          "3822:         break;",
          "",
          "[Added Lines]",
          "3822:         break;",
          "",
          "---------------",
          "--- Hunk 14 ---",
          "[Context before]",
          "3844:             break;",
          "3845:           }",
          "3846:         status=MagickFalse;",
          "3848:       }",
          "3849:       case 'f':",
          "3850:       case 'F':",
          "",
          "[Removed Lines]",
          "3847:         break;",
          "",
          "[Added Lines]",
          "3847:         break;",
          "",
          "---------------",
          "--- Hunk 15 ---",
          "[Context before]",
          "3852:         if (LocaleCompare(\"fill\",keyword) == 0)",
          "3853:           {",
          "3854:             GetMagickToken(q,&q,token);",
          "3856:               token);",
          "3857:             (void) WriteBlobString(image,message);",
          "3858:             break;",
          "",
          "[Removed Lines]",
          "3855:             (void) FormatLocaleString(message,MagickPathExtent,\"fill:%s;\",",
          "",
          "[Added Lines]",
          "3855:             (void) FormatLocaleString(message,MagickPathExtent,\"fill:%s;\",",
          "",
          "---------------",
          "--- Hunk 16 ---",
          "[Context before]",
          "3860:         if (LocaleCompare(\"fill-rule\",keyword) == 0)",
          "3861:           {",
          "3862:             GetMagickToken(q,&q,token);",
          "3864:               \"fill-rule:%s;\",token);",
          "3865:             (void) WriteBlobString(image,message);",
          "3866:             break;",
          "",
          "[Removed Lines]",
          "3863:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3863:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 17 ---",
          "[Context before]",
          "3868:         if (LocaleCompare(\"fill-alpha\",keyword) == 0)",
          "3869:           {",
          "3870:             GetMagickToken(q,&q,token);",
          "3872:               \"fill-alpha:%s;\",token);",
          "3873:             (void) WriteBlobString(image,message);",
          "3874:             break;",
          "",
          "[Removed Lines]",
          "3871:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3871:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 18 ---",
          "[Context before]",
          "3876:         if (LocaleCompare(\"font-family\",keyword) == 0)",
          "3877:           {",
          "3878:             GetMagickToken(q,&q,token);",
          "3880:               \"font-family:%s;\",token);",
          "3881:             (void) WriteBlobString(image,message);",
          "3882:             break;",
          "",
          "[Removed Lines]",
          "3879:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3879:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 19 ---",
          "[Context before]",
          "3884:         if (LocaleCompare(\"font-stretch\",keyword) == 0)",
          "3885:           {",
          "3886:             GetMagickToken(q,&q,token);",
          "3888:               \"font-stretch:%s;\",token);",
          "3889:             (void) WriteBlobString(image,message);",
          "3890:             break;",
          "",
          "[Removed Lines]",
          "3887:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3887:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 20 ---",
          "[Context before]",
          "3892:         if (LocaleCompare(\"font-style\",keyword) == 0)",
          "3893:           {",
          "3894:             GetMagickToken(q,&q,token);",
          "3896:               \"font-style:%s;\",token);",
          "3897:             (void) WriteBlobString(image,message);",
          "3898:             break;",
          "",
          "[Removed Lines]",
          "3895:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3895:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 21 ---",
          "[Context before]",
          "3900:         if (LocaleCompare(\"font-size\",keyword) == 0)",
          "3901:           {",
          "3902:             GetMagickToken(q,&q,token);",
          "3904:               \"font-size:%s;\",token);",
          "3905:             (void) WriteBlobString(image,message);",
          "3906:             break;",
          "",
          "[Removed Lines]",
          "3903:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3903:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 22 ---",
          "[Context before]",
          "3914:             break;",
          "3915:           }",
          "3916:         status=MagickFalse;",
          "3918:       }",
          "3919:       case 'g':",
          "3920:       case 'G':",
          "3921:       {",
          "3923:           {",
          "3924:             GetMagickToken(q,&q,token);",
          "3925:             break;",
          "",
          "[Removed Lines]",
          "3917:         break;",
          "3922:         if (LocaleCompare(\"gradient-units\",keyword) == 0)",
          "",
          "[Added Lines]",
          "3917:         break;",
          "3922:         if (LocaleCompare(\"gradient-units\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 23 ---",
          "[Context before]",
          "3927:         if (LocaleCompare(\"text-align\",keyword) == 0)",
          "3928:           {",
          "3929:             GetMagickToken(q,&q,token);",
          "3931:               \"text-align %s \",token);",
          "3932:             (void) WriteBlobString(image,message);",
          "3933:             break;",
          "",
          "[Removed Lines]",
          "3930:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "3930:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 24 ---",
          "[Context before]",
          "3941:             break;",
          "3942:           }",
          "3943:         status=MagickFalse;",
          "3945:       }",
          "3946:       case 'i':",
          "3947:       case 'I':",
          "",
          "[Removed Lines]",
          "3944:         break;",
          "",
          "[Added Lines]",
          "3944:         break;",
          "",
          "---------------",
          "--- Hunk 25 ---",
          "[Context before]",
          "3964:             break;",
          "3965:           }",
          "3966:         status=MagickFalse;",
          "3968:       }",
          "3969:       case 'o':",
          "3970:       case 'O':",
          "",
          "[Removed Lines]",
          "3967:         break;",
          "",
          "[Added Lines]",
          "3967:         break;",
          "",
          "---------------",
          "--- Hunk 26 ---",
          "[Context before]",
          "3998:             primitive_type=PolylinePrimitive;",
          "3999:             break;",
          "4000:           }",
          "4002:           {",
          "4003:             primitive_type=PolygonPrimitive;",
          "4004:             break;",
          "",
          "[Removed Lines]",
          "4001:         if (LocaleCompare(\"polygon\",keyword) == 0)",
          "",
          "[Added Lines]",
          "4001:         if (LocaleCompare(\"polygon\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 27 ---",
          "[Context before]",
          "4035:               {",
          "4036:                 (void) WriteBlobString(image,\"</pattern>\\n\");",
          "4037:                 break;",
          "4039:             if (LocaleCompare(\"defs\",token) == 0)",
          "4040:             (void) WriteBlobString(image,\"</g>\\n\");",
          "4042:           }",
          "4043:         if (LocaleCompare(\"push\",keyword) == 0)",
          "4044:           {",
          "",
          "[Removed Lines]",
          "4038:               }",
          "4041:             break;",
          "",
          "[Added Lines]",
          "4038:               }",
          "4041:             break;",
          "",
          "---------------",
          "--- Hunk 28 ---",
          "[Context before]",
          "4051:                 (void) WriteBlobString(image,message);",
          "4052:                 break;",
          "4053:               }",
          "4055:               {",
          "4057:                 break;",
          "4059:             if (LocaleCompare(\"gradient\",token) == 0)",
          "4060:               {",
          "4062:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "4064:                 (void) CopyMagickString(type,token,MagickPathExtent);",
          "4065:                 GetMagickToken(q,&q,token);",
          "4067:                 svg_info.element.cx=StringToDouble(token,(char **) NULL);",
          "4069:                 if (*token == ',')",
          "4070:                   GetMagickToken(q,&q,token);",
          "4071:                 svg_info.segment.y1=StringToDouble(token,(char **) NULL);",
          "4073:                 GetMagickToken(q,&q,token);",
          "4075:                   GetMagickToken(q,&q,token);",
          "4076:                 svg_info.segment.x2=StringToDouble(token,(char **) NULL);",
          "4077:                 svg_info.element.major=StringToDouble(token,",
          "",
          "[Removed Lines]",
          "4054:             if (LocaleCompare(\"defs\",token) == 0)",
          "4056:                 (void) WriteBlobString(image,\"<defs>\\n\");",
          "4058:               }",
          "4061:                 GetMagickToken(q,&q,token);",
          "4063:                 GetMagickToken(q,&q,token);",
          "4066:                 svg_info.segment.x1=StringToDouble(token,(char **) NULL);",
          "4068:                 GetMagickToken(q,&q,token);",
          "4072:                 svg_info.element.cy=StringToDouble(token,(char **) NULL);",
          "4074:                 if (*token == ',')",
          "",
          "[Added Lines]",
          "4054:             if (LocaleCompare(\"defs\",token) == 0)",
          "4056:                 (void) WriteBlobString(image,\"<defs>\\n\");",
          "4058:               }",
          "4061:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "4063:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "4066:                 svg_info.segment.x1=StringToDouble(token,(char **) NULL);",
          "4068:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "4072:                 svg_info.element.cy=StringToDouble(token,(char **) NULL);",
          "4074:                 if (*token == ',')",
          "",
          "---------------",
          "--- Hunk 29 ---",
          "[Context before]",
          "4081:                   GetMagickToken(q,&q,token);",
          "4082:                 svg_info.segment.y2=StringToDouble(token,(char **) NULL);",
          "4083:                 svg_info.element.minor=StringToDouble(token,",
          "4085:                 (void) FormatLocaleString(message,MagickPathExtent,",
          "4087:                   \"y2=\\\"%g\\\">\\n\",type,name,svg_info.segment.x1,",
          "4088:                   svg_info.segment.y1,svg_info.segment.x2,svg_info.segment.y2);",
          "4089:                 if (LocaleCompare(type,\"radial\") == 0)",
          "",
          "[Removed Lines]",
          "4084:                   (char **) NULL);",
          "4086:                   \"<%sGradient id=\\\"%s\\\" x1=\\\"%g\\\" y1=\\\"%g\\\" x2=\\\"%g\\\" \"",
          "",
          "[Added Lines]",
          "4084:                   (char **) NULL);",
          "4086:                   \"<%sGradient id=\\\"%s\\\" x1=\\\"%g\\\" y1=\\\"%g\\\" x2=\\\"%g\\\" \"",
          "",
          "---------------",
          "--- Hunk 30 ---",
          "[Context before]",
          "4109:                 if (active)",
          "4110:                   {",
          "4111:                     AffineToTransform(image,&affine);",
          "4113:                   }",
          "4115:                 active=MagickTrue;",
          "4117:             if (LocaleCompare(\"pattern\",token) == 0)",
          "4119:                 GetMagickToken(q,&q,token);",
          "4121:                 GetMagickToken(q,&q,token);",
          "4123:                 GetMagickToken(q,&q,token);",
          "4124:                 if (*token == ',')",
          "4126:                 svg_info.bounds.y=StringToDouble(token,(char **) NULL);",
          "4128:                 if (*token == ',')",
          "4129:                   GetMagickToken(q,&q,token);",
          "4130:                 svg_info.bounds.width=StringToDouble(token,",
          "",
          "[Removed Lines]",
          "4112:                     active=MagickFalse;",
          "4114:                 (void) WriteBlobString(image,\"<g style=\\\"\");",
          "4116:               }",
          "4118:               {",
          "4120:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "4122:                 svg_info.bounds.x=StringToDouble(token,(char **) NULL);",
          "4125:                   GetMagickToken(q,&q,token);",
          "4127:                 GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "4112:                     active=MagickFalse;",
          "4114:                 (void) WriteBlobString(image,\"<g style=\\\"\");",
          "4116:               }",
          "4118:               {",
          "4120:                 (void) CopyMagickString(name,token,MagickPathExtent);",
          "4122:                 svg_info.bounds.x=StringToDouble(token,(char **) NULL);",
          "4125:                   GetMagickToken(q,&q,MagickPathExtent,token);",
          "4127:                 GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 31 ---",
          "[Context before]",
          "4155:             primitive_type=RectanglePrimitive;",
          "4156:             break;",
          "4157:           }",
          "4159:           {",
          "4160:             primitive_type=RoundRectanglePrimitive;",
          "4161:             break;",
          "",
          "[Removed Lines]",
          "4158:         if (LocaleCompare(\"roundRectangle\",keyword) == 0)",
          "",
          "[Added Lines]",
          "4158:         if (LocaleCompare(\"roundRectangle\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 32 ---",
          "[Context before]",
          "4169:             break;",
          "4170:           }",
          "4171:         status=MagickFalse;",
          "4173:       }",
          "4175:       case 'S':",
          "4177:         if (LocaleCompare(\"scale\",keyword) == 0)",
          "4178:           {",
          "4179:             GetMagickToken(q,&q,token);",
          "4180:             affine.sx=StringToDouble(token,(char **) NULL);",
          "4181:             GetMagickToken(q,&q,token);",
          "4183:               GetMagickToken(q,&q,token);",
          "4184:             affine.sy=StringToDouble(token,(char **) NULL);",
          "4185:             break;",
          "",
          "[Removed Lines]",
          "4172:         break;",
          "4174:       case 's':",
          "4176:       {",
          "4182:             if (*token == ',')",
          "",
          "[Added Lines]",
          "4172:         break;",
          "4174:       case 's':",
          "4176:       {",
          "4182:             if (*token == ',')",
          "",
          "---------------",
          "--- Hunk 33 ---",
          "[Context before]",
          "4187:         if (LocaleCompare(\"skewX\",keyword) == 0)",
          "4188:           {",
          "4189:             GetMagickToken(q,&q,token);",
          "4191:               token);",
          "4192:             (void) WriteBlobString(image,message);",
          "4193:             break;",
          "",
          "[Removed Lines]",
          "4190:             (void) FormatLocaleString(message,MagickPathExtent,\"skewX(%s) \",",
          "",
          "[Added Lines]",
          "4190:             (void) FormatLocaleString(message,MagickPathExtent,\"skewX(%s) \",",
          "",
          "---------------",
          "--- Hunk 34 ---",
          "[Context before]",
          "4198:             (void) FormatLocaleString(message,MagickPathExtent,\"skewY(%s) \",",
          "4199:               token);",
          "4200:             (void) WriteBlobString(image,message);",
          "4202:           }",
          "4204:           {",
          "4205:             char",
          "4206:               color[MagickPathExtent];",
          "",
          "[Removed Lines]",
          "4201:             break;",
          "4203:         if (LocaleCompare(\"stop-color\",keyword) == 0)",
          "",
          "[Added Lines]",
          "4201:             break;",
          "4203:         if (LocaleCompare(\"stop-color\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 35 ---",
          "[Context before]",
          "4208:             GetMagickToken(q,&q,token);",
          "4209:             (void) CopyMagickString(color,token,MagickPathExtent);",
          "4210:             GetMagickToken(q,&q,token);",
          "4212:               \"  <stop offset=\\\"%s\\\" stop-color=\\\"%s\\\" />\\n\",token,color);",
          "4213:             (void) WriteBlobString(image,message);",
          "4214:             break;",
          "",
          "[Removed Lines]",
          "4211:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4211:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 36 ---",
          "[Context before]",
          "4216:         if (LocaleCompare(\"stroke\",keyword) == 0)",
          "4217:           {",
          "4218:             GetMagickToken(q,&q,token);",
          "4220:               token);",
          "4221:             (void) WriteBlobString(image,message);",
          "4222:             break;",
          "",
          "[Removed Lines]",
          "4219:             (void) FormatLocaleString(message,MagickPathExtent,\"stroke:%s;\",",
          "",
          "[Added Lines]",
          "4219:             (void) FormatLocaleString(message,MagickPathExtent,\"stroke:%s;\",",
          "",
          "---------------",
          "--- Hunk 37 ---",
          "[Context before]",
          "4230:             break;",
          "4231:           }",
          "4232:         if (LocaleCompare(\"stroke-dasharray\",keyword) == 0)",
          "4234:             if (IsPoint(q))",
          "4236:                 ssize_t",
          "4237:                   k;",
          "4240:                 GetMagickToken(p,&p,token);",
          "4241:                 for (k=0; IsPoint(token); k++)",
          "4242:                   GetMagickToken(p,&p,token);",
          "",
          "[Removed Lines]",
          "4233:           {",
          "4235:               {",
          "4239:                 p=q;",
          "",
          "[Added Lines]",
          "4233:           {",
          "4235:               {",
          "4239:                 p=q;",
          "",
          "---------------",
          "--- Hunk 38 ---",
          "[Context before]",
          "4244:                 for (j=0; j < k; j++)",
          "4245:                 {",
          "4246:                   GetMagickToken(q,&q,token);",
          "4248:                     token);",
          "4249:                   (void) WriteBlobString(image,message);",
          "4250:                 }",
          "",
          "[Removed Lines]",
          "4247:                   (void) FormatLocaleString(message,MagickPathExtent,\"%s \",",
          "",
          "[Added Lines]",
          "4247:                   (void) FormatLocaleString(message,MagickPathExtent,\"%s \",",
          "",
          "---------------",
          "--- Hunk 39 ---",
          "[Context before]",
          "4252:                 break;",
          "4253:               }",
          "4254:             GetMagickToken(q,&q,token);",
          "4256:               \"stroke-dasharray:%s;\",token);",
          "4257:             (void) WriteBlobString(image,message);",
          "4258:             break;",
          "",
          "[Removed Lines]",
          "4255:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4255:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 40 ---",
          "[Context before]",
          "4260:         if (LocaleCompare(\"stroke-dashoffset\",keyword) == 0)",
          "4261:           {",
          "4262:             GetMagickToken(q,&q,token);",
          "4264:               \"stroke-dashoffset:%s;\",token);",
          "4265:             (void) WriteBlobString(image,message);",
          "4266:             break;",
          "",
          "[Removed Lines]",
          "4263:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4263:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 41 ---",
          "[Context before]",
          "4268:         if (LocaleCompare(\"stroke-linecap\",keyword) == 0)",
          "4269:           {",
          "4270:             GetMagickToken(q,&q,token);",
          "4272:               \"stroke-linecap:%s;\",token);",
          "4273:             (void) WriteBlobString(image,message);",
          "4274:             break;",
          "",
          "[Removed Lines]",
          "4271:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4271:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 42 ---",
          "[Context before]",
          "4276:         if (LocaleCompare(\"stroke-linejoin\",keyword) == 0)",
          "4277:           {",
          "4278:             GetMagickToken(q,&q,token);",
          "4280:               \"stroke-linejoin:%s;\",token);",
          "4281:             (void) WriteBlobString(image,message);",
          "4282:             break;",
          "",
          "[Removed Lines]",
          "4279:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4279:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 43 ---",
          "[Context before]",
          "4284:         if (LocaleCompare(\"stroke-miterlimit\",keyword) == 0)",
          "4285:           {",
          "4286:             GetMagickToken(q,&q,token);",
          "4288:               \"stroke-miterlimit:%s;\",token);",
          "4289:             (void) WriteBlobString(image,message);",
          "4290:             break;",
          "",
          "[Removed Lines]",
          "4287:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4287:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 44 ---",
          "[Context before]",
          "4292:         if (LocaleCompare(\"stroke-opacity\",keyword) == 0)",
          "4293:           {",
          "4294:             GetMagickToken(q,&q,token);",
          "4296:               \"stroke-opacity:%s;\",token);",
          "4297:             (void) WriteBlobString(image,message);",
          "4298:             break;",
          "",
          "[Removed Lines]",
          "4295:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "[Added Lines]",
          "4295:             (void) FormatLocaleString(message,MagickPathExtent,",
          "",
          "---------------",
          "--- Hunk 45 ---",
          "[Context before]",
          "4311:       case 't':",
          "4312:       case 'T':",
          "4313:       {",
          "4315:           {",
          "4316:             primitive_type=TextPrimitive;",
          "4317:             break;",
          "",
          "[Removed Lines]",
          "4314:         if (LocaleCompare(\"text\",keyword) == 0)",
          "",
          "[Added Lines]",
          "4314:         if (LocaleCompare(\"text\",keyword) == 0)",
          "",
          "---------------",
          "--- Hunk 46 ---",
          "[Context before]",
          "4324:             (void) WriteBlobString(image,message);",
          "4325:             break;",
          "4326:           }",
          "4328:           {",
          "4330:             break;",
          "4332:         if (LocaleCompare(\"translate\",keyword) == 0)",
          "4333:           {",
          "4334:             GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "4327:         if (LocaleCompare(\"tspan\",keyword) == 0)",
          "4329:             primitive_type=TextPrimitive;",
          "4331:           }",
          "",
          "[Added Lines]",
          "4327:         if (LocaleCompare(\"tspan\",keyword) == 0)",
          "4329:             primitive_type=TextPrimitive;",
          "4331:           }",
          "",
          "---------------",
          "--- Hunk 47 ---",
          "[Context before]",
          "4340:             break;",
          "4341:           }",
          "4342:         status=MagickFalse;",
          "4344:       }",
          "4347:       {",
          "4350:             GetMagickToken(q,&q,token);",
          "4353:             GetMagickToken(q,&q,token);",
          "4354:             if (*token == ',')",
          "4355:               GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "4343:         break;",
          "4345:       case 'v':",
          "4346:       case 'V':",
          "4348:         if (LocaleCompare(\"viewbox\",keyword) == 0)",
          "4349:           {",
          "4351:             if (*token == ',')",
          "4352:               GetMagickToken(q,&q,token);",
          "",
          "[Added Lines]",
          "4343:         break;",
          "4345:       case 'v':",
          "4346:       case 'V':",
          "4348:         if (LocaleCompare(\"viewbox\",keyword) == 0)",
          "4349:           {",
          "4351:             if (*token == ',')",
          "4352:               GetMagickToken(q,&q,MagickPathExtent,token);",
          "",
          "---------------",
          "--- Hunk 48 ---",
          "[Context before]",
          "4378:     i=0;",
          "4379:     j=0;",
          "4381:     {",
          "4383:         Define points.",
          "4385:       if (IsPoint(q) == MagickFalse)",
          "4387:       GetMagickToken(q,&q,token);",
          "4389:       GetMagickToken(q,&q,token);",
          "4390:       if (*token == ',')",
          "4391:         GetMagickToken(q,&q,token);",
          "",
          "[Removed Lines]",
          "4380:     for (x=0; *q != '\\0'; x++)",
          "4386:         break;",
          "4388:       point.x=StringToDouble(token,(char **) NULL);",
          "",
          "[Added Lines]",
          "4380:     for (x=0; *q != '\\0'; x++)",
          "4386:         break;",
          "4388:       point.x=StringToDouble(token,(char **) NULL);",
          "",
          "---------------",
          "--- Hunk 49 ---",
          "[Context before]",
          "4582:             status=MagickFalse;",
          "4583:             break;",
          "4584:           }",
          "4586:       }",
          "4587:       case PathPrimitive:",
          "4588:       {",
          "",
          "[Removed Lines]",
          "4585:         break;",
          "",
          "[Added Lines]",
          "4585:         break;",
          "",
          "---------------",
          "--- Hunk 50 ---",
          "[Context before]",
          "4613:         break;",
          "4614:       }",
          "4615:       case AlphaPrimitive:",
          "4617:       {",
          "4618:         if (primitive_info[j].coordinates != 1)",
          "4619:           {",
          "",
          "[Removed Lines]",
          "4616:       case ColorPrimitive:",
          "",
          "[Added Lines]",
          "4616:       case ColorPrimitive:",
          "",
          "---------------",
          "--- Hunk 51 ---",
          "[Context before]",
          "4636:       case TextPrimitive:",
          "4637:       {",
          "4638:         register char",
          "4641:         if (primitive_info[j].coordinates != 1)",
          "4642:           {",
          "",
          "[Removed Lines]",
          "[None]",
          "",
          "[Added Lines]",
          "[None]",
          "",
          "---------------",
          "--- Hunk 52 ---",
          "[Context before]",
          "4659:         (void) WriteBlobString(image,\"</text>\\n\");",
          "4660:         break;",
          "4661:       }",
          "4663:       {",
          "4664:         if (primitive_info[j].coordinates != 2)",
          "4665:           {",
          "",
          "[Removed Lines]",
          "4662:       case ImagePrimitive:",
          "",
          "[Added Lines]",
          "4662:       case ImagePrimitive:",
          "",
          "---------------"
        ]
      }
    }
  ]
}